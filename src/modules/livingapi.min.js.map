{"version":3,"sources":["livingapi.js"],"names":[],"mappings":"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","file":"livingapi.min.js","sourcesContent":["(function(root){\n\nlet amd = (typeof define === 'function' && define.amd);\nlet commonjs = (typeof module === 'object' && module.exports);\n\nlet la = {};\n\nlet ul4;\n\nif (commonjs)\n{\n\tul4 = require('./ul4.js');\n\tmodule.exports = la;\n}\nelse\n{\n\tul4 = root.ul4;\n\troot.livingapi = la;\n}\n\nla.Base = class Base extends ul4.Proto\n{\n\tconstructor()\n\t{\n\t\tsuper();\n\t}\n\n\tul4ondump(encoder)\n\t{\n\t\tfor (let i = 0; i < this._ul4onattrs.length; ++i)\n\t\t\tencoder.dump(this._dumpUL4ONAttr(this._ul4onattrs[i]));\n\t}\n\n\t_dumpUL4ONAttr(name)\n\t{\n\t\treturn this[name];\n\t}\n\n\tul4onload(decoder)\n\t{\n\t\tlet i = 0;\n\t\tfor (let iter = decoder.loadcontent(); ; ++i)\n\t\t{\n\t\t\tlet iteritem = iter.next();\n\t\t\tif (iteritem.done)\n\t\t\t\tbreak;\n\t\t\tif (i < this._ul4onattrs.length)\n\t\t\t\tthis._loadUL4ONAttr(this._ul4onattrs[i], iteritem.value);\n\t\t}\n\t\tfor (; i < this._ul4onattrs.length; ++i)\n\t\t\tthis._setDefaultUL4ONAttr(this._ul4onattrs[i]);\n\t}\n\n\t_loadUL4ONAttr(name, value)\n\t{\n\t\tthis[name] = value;\n\t}\n\n\t_setDefaultUL4ONAttr(name)\n\t{\n\t\tthis[name] = null;\n\t}\n};\n\nla.Handler = class Handler\n{\n\tinsert(app, values)\n\t{\n\t}\n\n\tupdate(record, values)\n\t{\n\t}\n\n\tdelete(record)\n\t{\n\t}\n\n\t__repr__()\n\t{\n\t\treturn \"<la.Handler>\";\n\t}\n};\n\nla.Globals = class Globals extends la.Base\n{\n\tconstructor()\n\t{\n\t\tsuper();\n\t\tthis.version = null;\n\t\tthis.platform = null;\n\t\tthis.user = null;\n\t\tthis.maxdbactions = null;\n\t\tthis.maxtemplateruntime = null;\n\t\tthis.flashmessages = null;\n\t\tthis.handler = new la.Handler();\n\t}\n\n\t__repr__()\n\t{\n\t\treturn \"<la.Globals version=\" + ul4._repr(this.version) + \">\";\n\t}\n\n\t// distance between two geo coordinates (see https://de.wikipedia.org/wiki/Orthodrome#Genauere_Formel_zur_Abstandsberechnung_auf_der_Erde)\n\tstatic geodist(geo1, geo2)\n\t{\n\t\tlet sqsin = function sqsin(x) {x = Math.sin(x); return x*x};\n\t\tlet sqcos = function sqsos(x) {x = Math.cos(x); return x*x};\n\t\tconst deg2rad = Math.PI/180; // Conversion factor degree -> radians\n\t\tconst radius = 6378.137; // Equatorial radius of earth in km\n\t\tconst flat = 1/298.257223563; // Earth flattening\n\n\t\tconst lat1 = geo1.lat * deg2rad;\n\t\tconst long1 = geo1.long * deg2rad;\n\t\tconst lat2 = geo2.lat * deg2rad;\n\t\tconst long2 = geo2.long * deg2rad;\n\t\tconst F = (lat1 + lat2)/2;\n\t\tconst G = (lat1 - lat2)/2;\n\t\tconst l = (long1 - long2)/2;\n\t\tconst S = sqsin(G) * sqcos(l) + sqcos(F) * sqsin(l);\n\t\tconst C = sqcos(G) * sqcos(l) + sqsin(F) * sqsin(l);\n\t\tconst w = Math.atan(Math.sqrt(S/C));\n\t\tconst D = 2 * w * radius;\n\t\tconst T = Math.sqrt(S*C)/w;\n\t\tconst H1 = (3*T-1)/(2*C);\n\t\tconst H2 = (3*T+1)/(2*S);\n\t\tconst s = D * (1 + flat * H1 * sqsin(F) * sqcos(G) - flat * H2 * sqcos(F) * sqsin(G));\n\t\treturn s;\n\t}\n};\n\nla.Globals.prototype._ul4onattrs = [\"version\", \"platform\", \"user\", \"maxdbactions\", \"maxtemplateruntime\", \"flashmessages\"];\n\nla.FlashMessage = class FlashMessage extends la.Base\n{\n\t__repr__()\n\t{\n\t\treturn \"<la.FlashMessage type=\" + ul4._repr(this.type) + \" title=\" + ul4._repr(this.title) + \">\";\n\t}\n};\n\nla.FlashMessage.prototype._ul4onattrs = [\"timestamp\", \"type\", \"title\", \"message\"];\n\nla.App = class App extends la.Base\n{\n\t__repr__()\n\t{\n\t\treturn \"<la.App id=\" + ul4._repr(this.id) + \" name=\" + ul4._repr(this.name) + \">\";\n\t}\n\n\tinsert(values)\n\t{\n\t\treturn this.globals.handler.insert(this, values);\n\t}\n};\n\nla.App.prototype._ul4onattrs = [\"id\", \"globals\", \"name\", \"description\", \"language\", \"startlink\", \"iconlarge\", \"iconsmall\", \"owner\", \"controls\", \"records\", \"recordcount\", \"installation\", \"categories\", \"params\", \"views\", \"datamanagement_identifier\"];\n\nla.View = class View extends la.Base\n{\n\t__repr__()\n\t{\n\t\treturn \"<la.View id=\" + ul4._repr(this.id) + \" name=\" + ul4._repr(this.name) + \">\";\n\t}\n};\n\nla.View.prototype._ul4onattrs = [\"id\", \"name\", \"app\", \"order\", \"width\", \"height\", \"start\", \"end\"];\n\nla.DataSource = class DataSource extends la.Base\n{\n\n\t__repr__()\n\t{\n\t\treturn \"<la.DataSource id=\" + ul4._repr(this.id) + \" identifier=\" + ul4._repr(this.identifier) + \">\";\n\t}\n};\n\nla.DataSource.prototype._ul4onattrs = [\"id\", \"identifier\", \"app\", \"apps\"];\n\nla.Record = class Record extends la.Base\n{\n\t__repr__()\n\t{\n\t\tlet v = [\"<la.Record id=\", ul4._repr(this.id)];\n\t\tfor (let field of this.fields.values())\n\t\t{\n\t\t\tif (field.control.priority)\n\t\t\t{\n\t\t\t\tv.push(\" \");\n\t\t\t\tv.push(field.control.identifier);\n\t\t\t\tv.push(\"=\");\n\t\t\t\tv.push(ul4._repr(field.value)); // FIXME: This might lead to infinite recursions\n\t\t\t}\n\t\t}\n\t\tv.push(\">\")\n\t\treturn v.join(\"\");\n\t}\n\n\tdelete()\n\t{\n\t\treturn this.app.globals.handler.delete(this);\n\t}\n\n\tupdate(values)\n\t{\n\t\treturn this.app.globals.handler.update(this, values);\n\t}\n\n\tsearch(search)\n\t{\n\t\tfor (let identifier in search)\n\t\t{\n\t\t\tlet fieldsearch = search[identifier];\n\t\t\tif (ul4._bool(fieldsearch))\n\t\t\t{\n\t\t\t\tif (!this.fields.get(identifier).search(fieldsearch))\n\t\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t}\n\n\t_dumpUL4ONAttr(name)\n\t{\n\t\tif (name === \"values\")\n\t\t\treturn this._sparsevalues;\n\t\telse\n\t\t\treturn this[name];\n\t}\n\n\t_loadUL4ONAttr(name, value)\n\t{\n\t\tif (name === \"values\")\n\t\t{\n\t\t\tthis._sparsevalues = value;\n\t\t\tthis._values = null;\n\t\t\tthis._fields = null;\n\t\t}\n\t\telse\n\t\t\tthis[name] = value;\n\t}\n};\n\nla.Record.prototype._ul4onattrs = [\"id\", \"app\", \"createdat\", \"createdby\", \"updatedat\", \"updatedby\", \"updatecount\", \"values\", \"attachments\", \"children\"];\n\nObject.defineProperty(la.Record.prototype, \"values\", {\n\tget: function()\n\t{\n\t\tif (this._values === null)\n\t\t{\n\t\t\tthis._values = ul4._havemap ? new Map() : {};\n\t\t\tfor (let [identifier, control] of this.app.controls.entries())\n\t\t\t{\n\t\t\t\tlet fieldvalue = self._sparsevalues.get(identifier);\n\t\t\t\tif (typeof(fieldvalue) === \"undefined\")\n\t\t\t\t\tfieldvalue = null;\n\t\t\t\tthis._values.set(identifier, fieldvalue);\n\t\t\t}\n\t\t}\n\t\treturn this._values;\n\t}\n});\n\nObject.defineProperty(la.Record.prototype, \"fields\", {\n\tget: function()\n\t{\n\t\tif (this._fields === null)\n\t\t{\n\t\t\tthis._fields = ul4._havemap ? new Map() : {};\n\t\t\tfor (let [identifier, value] of this.values.entries())\n\t\t\t{\n\t\t\t\tlet field = new la.Field(this.app.controls.get(identifier), this, value);\n\t\t\t\tthis._fields.set(identifier, field);\n\t\t\t}\n\t\t}\n\t\treturn this._fields;\n\t}\n});\n\nla.Control = class Control extends la.Base\n{\n\t__repr__()\n\t{\n\t\treturn \"<la.\" + this.__type__ + \" id=\" + ul4._repr(this.id) + \" identifier=\" + ul4._repr(this.identifier) + \">\";\n\t}\n\n\t_logsearch(value, search)\n\t{\n\t\t//console.log(\"Searching for \" + ul4._repr(search.value) + \" in \" + ul4._repr(this) + \" with operator \" + search.operator + \" in value \" + ul4._repr(value));\n\t}\n\n\t// base implemntation, always returns ``false`` (i.e. \"not found\")\n\t// ``value`` is the value of the field\n\t// ``search`` is an object with information what we're searching for\n\t// keys in ``search`` are: ``operator`` (and ``value`` (if required by the operator))\n\tsearch(value, search)\n\t{\n\t\treturn false;\n\t}\n};\n\nla.Control.prototype.type = null;\nla.Control.prototype.subtype = null;\nla.Control.prototype._ul4onattrs = [\"id\", \"identifier\", \"field\", \"app\", \"label\", \"priority\", \"order\", \"default\", \"ininsertprocedure\", \"inupdateprocedure\"];\n\nla.BoolControl = class BoolControl extends la.Control\n{\n\t// ``search`` must by ``null``, ``false`` or ``true``\n\tsearch(value, search)\n\t{\n\t\tthis._logsearch(value, search);\n\t\tif (search.operator === \"equals\")\n\t\t\treturn search.value === value;\n\t\telse\n\t\t\treturn false;\n\t}\n};\n\nla.BoolControl.prototype.type = \"bool\";\n\nla.IntControl = class IntControl extends la.Control\n{\n\t// ``search.value`` must by ``null`` or an integer\n\tsearch(value, search)\n\t{\n\t\tthis._logsearch(value, search);\n\t\tif (search.operator === \"equals\")\n\t\t\treturn search.value === value;\n\t\telse\n\t\t\treturn false;\n\t}\n};\n\nla.IntControl.prototype.type = \"int\";\n\nla.NumberControl = class NumberControl extends la.Control\n{\n\t// ``search.value`` must by ``null`` or an integer\n\tsearch(value, search)\n\t{\n\t\tthis._logsearch(value, search);\n\t\tif (search.operator === \"equals\")\n\t\t\treturn search.value === value;\n\t\telse if (search.operator === \"range\")\n\t\t{\n\t\t\tif (value === null)\n\t\t\t\treturn false;\n\t\t\treturn (search.minvalue === null || search.minvalue <= value) && (search.maxvalue === null || value < search.maxvalue);\n\t\t}\n\t\telse\n\t\t\treturn false;\n\t}\n};\n\nla.NumberControl.prototype.type = \"number\";\n\nla.StringControl = class StringControl extends la.Control\n{\n\tsearch(value, search)\n\t{\n\t\tthis._logsearch(value, search);\n\t\tif (search.operator === \"equals\")\n\t\t\treturn search.value === value;\n\t\telse if (search.operator === \"contains\")\n\t\t{\n\t\t\tif (search.value === null || value === null)\n\t\t\t\treturn search.value === value;\n\t\t\telse\n\t\t\t\treturn value.toLowerCase().indexOf(search.value.toLowerCase()) >= 0;\n\t\t}\n\t}\n};\n\nla.StringControl.prototype.type = \"string\";\n\nla.TextControl = class TextControl extends la.StringControl\n{\n};\n\nla.TextControl.prototype.subtype = \"text\";\n\nla.EmailControl = class EmailControl extends la.StringControl\n{\n};\n\nla.EmailControl.prototype.subtype = \"email\";\n\nla.URLControl = class URLControl extends la.StringControl\n{\n};\n\nla.URLControl.prototype.subtype = \"url\";\n\nla.TelControl = class TelControl extends la.StringControl\n{\n};\n\nla.TelControl.prototype.subtype = \"tel\";\n\nla.PasswordControl = class PasswordControl extends la.StringControl\n{\n};\n\nla.PasswordControl.prototype.subtype = \"password\";\n\nla.TextAreaControl = class TextAreaControl extends la.StringControl\n{\n};\n\nla.TextAreaControl.prototype.subtype = \"textarea\";\nla.TextAreaControl.prototype._ul4onattrs = la.StringControl.prototype._ul4onattrs.concat([\"encrypted\"]);\n\nla.DateControl = class DateControl extends la.Control\n{\n\tformatstring(language)\n\t{\n\t\tlanguage = language || this.app.language;\n\n\t\tif (language === \"de\")\n\t\t\treturn \"%d.%m.%Y\";\n\t\telse\n\t\t\treturn \"%m/%d/%Y\";\n\t}\n\n\t// searchvalue must be ``null``, a ``Date`` object or a string\n\tsearch(value, search)\n\t{\n\t\tthis._logsearch(value, search);\n\n\t\tlet searchvalue = search.value;\n\t\tif (Object.prototype.toString.call(searchvalue) == \"[object Date]\")\n\t\t\tsearchvalue = ul4._format(searchvalue, this.formatstring(), this.app.language);\n\t\tif (value !== null)\n\t\t\tvalue = ul4._format(value, this.formatstring(), this.app.language);\n\n\t\tif (search.operator === \"equals\")\n\t\t\treturn searchvalue === value;\n\t\telse if (search.operator === \"contains\")\n\t\t{\n\t\t\tif (searchvalue === null || value === null)\n\t\t\t\treturn searchvalue === value;\n\t\t\telse\n\t\t\t\treturn value.toLowerCase().indexOf(searchvalue.toLowerCase()) >= 0;\n\t\t}\n\t\telse\n\t\t\treturn false;\n\t}\n};\n\nla.DateControl.prototype.type = \"date\";\nla.DateControl.prototype.subtype = \"date\";\n\nla.DatetimeMinuteControl = class DatetimeMinuteControl extends la.DateControl\n{\n\tformatstring(language)\n\t{\n\t\tlanguage = language || this.app.language;\n\n\t\tif (language === \"de\")\n\t\t\treturn \"%d.%m.%Y %H:%M\";\n\t\telse\n\t\t\treturn \"%m/%d/%Y %H:%M\";\n\t}\n};\n\nla.DatetimeMinuteControl.prototype.subtype = \"datetimeminute\";\n\nla.DatetimeSecondControl = class DatetimeSecondControl extends la.DateControl\n{\n\tformatstring(language)\n\t{\n\t\tlanguage = language || this.app.language;\n\n\t\tif (language === \"de\")\n\t\t\treturn \"%d.%m.%Y %H:%M:%S\";\n\t\telse\n\t\t\treturn \"%m/%d/%Y %H:%M:%S\";\n\t}\n};\n\nla.DatetimeSecondControl.prototype.subtype = \"datetimesecond\";\n\nla.LookupControl = class LookupControl extends la.Control\n{\n\t// ``search.value`` must be ``null`` or a ``LookupItem`` key\n\tsearch(value, search)\n\t{\n\t\tif (search.operator === \"equals\")\n\t\t{\n\t\t\tif (value === null)\n\t\t\t\treturn search.value === null;\n\t\t\telse\n\t\t\t\treturn value.key === search.value;\n\t\t}\n\t\telse\n\t\t\treturn false;\n\t}\n};\n\nla.LookupControl.prototype.type = \"lookup\";\nla.LookupControl.prototype._ul4onattrs = la.Control.prototype._ul4onattrs.concat([\"lookupdata\"]);\n\nla.LookupSelectControl = class LookupSelectControl extends la.LookupControl\n{\n};\n\nla.LookupSelectControl.prototype.subtype = \"select\";\n\nla.LookupRadioControl = class LookupRadioControl extends la.LookupControl\n{\n};\n\nla.LookupRadioControl.prototype.subtype = \"radio\";\n\nla.LookupChoiceControl = class LookupChoiceControl extends la.LookupControl\n{\n};\n\nla.LookupChoiceControl.prototype.subtype = \"choice\";\n\nla.AppLookupControl = class AppLookupControl extends la.Control\n{\n\t// ``search.value`` must be an object containing the search criteria for the referenced record\n\tsearch(value, search)\n\t{\n\t\tif (value === null || search.value === null)\n\t\t\treturn value === search.value;\n\t\telse\n\t\t\treturn value.search(search);\n\t}\n};\n\nla.AppLookupControl.prototype.type = \"applookup\";\nla.AppLookupControl.prototype._ul4onattrs = la.Control.prototype._ul4onattrs.concat([\"lookupapp\", \"lookupcontrols\"]);\n\nla.AppLookupSelectControl = class AppLookupSelectControl extends la.AppLookupControl\n{\n};\n\nla.AppLookupSelectControl.prototype.subtype = \"select\";\n\nla.AppLookupRadioControl = class AppLookupRadioControl extends la.AppLookupControl\n{\n};\n\nla.AppLookupRadioControl.prototype.subtype = \"radio\";\n\nla.AppLookupChoiceControl = class AppLookupChoiceControl extends la.AppLookupControl\n{\n};\n\nla.AppLookupChoiceControl.prototype.subtype = \"choice\";\n\nla.MultipleLookupControl = class MultipleLookupControl extends la.LookupControl\n{\n\t// search.value must be ``null`` or a ``LookupItem`` key\n\tsearch(value, search)\n\t{\n\t\tif (search.operator === \"equals\")\n\t\t{\n\t\t\tfor (let item of value)\n\t\t\t{\n\t\t\t\tif (item.key === search.value)\n\t\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\t\telse\n\t\t\treturn false;\n\t}\n};\n\nla.MultipleLookupControl.prototype.subtype = \"multiplelookup\";\n\nla.MultipleLookupSelectControl = class MultipleLookupSelectControl extends la.MultipleLookupControl\n{\n};\n\nla.MultipleLookupSelectControl.prototype.subtype = \"select\";\n\nla.MultipleLookupCheckboxControl = class MultipleLookupCheckboxControl extends la.MultipleLookupControl\n{\n};\n\nla.MultipleLookupCheckboxControl.prototype.subtype = \"checkbox\";\n\nla.MultipleAppLookupControl = class MultipleAppLookupControl extends la.AppLookupControl\n{\n\t// ``search.value`` must be an object containing the search criteria for the referenced record\n\tsearch(value, search)\n\t{\n\t\tif (search.operator === \"equals\")\n\t\t{\n\t\t\tif (search.value === null)\n\t\t\t\treturn value.length === 0;\n\t\t\telse\n\t\t\t{\n\t\t\t\tfor (let item of value)\n\t\t\t\t{\n\t\t\t\t\tif (item.search(search.value))\n\t\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\telse\n\t\t\treturn false;\n\t}\n};\n\nla.MultipleAppLookupControl.prototype.type = \"multipleapplookup\";\n\nla.MultipleAppLookupSelectControl = class MultipleAppLookupSelectControl extends la.MultipleAppLookupControl\n{\n};\n\nla.MultipleAppLookupSelectControl.prototype.subtype = \"select\";\n\nla.MultipleAppLookupCheckboxControl = class MultipleAppLookupCheckboxControl extends la.MultipleAppLookupControl\n{\n};\n\nla.MultipleAppLookupCheckboxControl.prototype.subtype = \"checkbox\";\n\nla.MultipleAppLookupChoiceControl = class MultipleAppLookupChoiceControl extends la.MultipleAppLookupControl\n{\n};\n\nla.MultipleAppLookupChoiceControl.prototype.subtype = \"choice\";\n\nla.GeoControl = class GeoControl extends la.Control\n{\n};\n\nla.GeoControl.prototype.type = \"geo\";\n\nla.FileControl = class FileControl extends la.Control\n{\n};\n\nla.FileControl.prototype.type = \"file\";\n\nla.ButtonControl = class ButtonControl extends la.Control\n{\n};\n\nla.ButtonControl.prototype.type = \"button\";\n\nla.Field = class Field extends la.Base\n{\n\tconstructor(control, record, value)\n\t{\n\t\tsuper();\n\t\tthis.control = control;\n\t\tthis.record = record;\n\t\tthis.value = value;\n\t}\n\n\tsearch(searchvalue)\n\t{\n\t\treturn this.control.search(this.value, searchvalue);\n\t}\n\n\t__repr__()\n\t{\n\t\treturn \"<la.Field>\";\n\t}\n};\n\nla.LookupItem = class LookupItem extends la.Base\n{\n\t__repr__()\n\t{\n\t\treturn \"<la.LookupItem key=\" + ul4._repr(this.key) + \" label=\" + ul4._repr(this.label) + \">\";\n\t}\n};\n\nla.LookupItem.prototype._ul4onattrs = [\"key\", \"label\"];\n\nla.User = class User extends la.Base\n{\n\t__repr__()\n\t{\n\t\treturn \"<la.User id=\" + ul4._repr(this.id) + \" firstname=\" + ul4._repr(this.firstname) + \" surname=\" + ul4._repr(this.surname) + \" email=\" + ul4._repr(this.email) + \">\";\n\t}\n};\n\nla.User.prototype._ul4onattrs = [\"_id\", \"id\", \"gender\", \"firstname\", \"surname\", \"initials\", \"email\", \"language\", \"avatarsmall\", \"avatarlarge\", \"keyviews\"];\n\nla.File = class File extends la.Base\n{\n\t__repr__()\n\t{\n\t\treturn \"<la.File id=\" + ul4._repr(this.id) + \" url=\" + ul4._repr(this.url) + \" filename=\" + ul4._repr(this.filename) + \">\";\n\t}\n};\n\nla.File.prototype._ul4onattrs = [\"id\", \"url\", \"filename\", \"mimetype\", \"width\", \"height\"];\n\nla.Geo = class Geo extends la.Base\n{\n\tconstructor(lat, long, info)\n\t{\n\t\tsuper();\n\t\tthis.lat = lat;\n\t\tthis.long = long;\n\t\tthis.info = info;\n\t}\n\n\t__repr__()\n\t{\n\t\treturn \"<la.Geo lat=\" + ul4._repr(this.lat) + \" long=\" + ul4._repr(this.long) + \" info=\" + ul4._repr(this.info) + \">\";\n\t}\n};\n\nla.Geo.prototype._ul4onattrs = [\"lat\", \"long\", \"info\"];\n\nla.Attachment = class Attachment extends la.Base\n{\n\t__repr__()\n\t{\n\t\treturn \"<la.\" + this.__type__ + \" id=\" + ul4._repr(this.id) + \" label=\" + ul4._repr(this.label) + \">\";\n\t}\n};\n\nla.Attachment.prototype._ul4onattrs = [\"id\", \"record\", \"label\", \"active\"];\n\nla.NoteAttachment = class NoteAttachment extends la.Attachment\n{\n};\n\nla.NoteAttachment.prototype.type = \"noteattachment\";\nla.NoteAttachment.prototype._ul4onattrs = la.Attachment.prototype._ul4onattrs.concat([\"value\"]);\n\nla.URLAttachment = class URLAttachment extends la.Attachment\n{\n};\n\nla.URLAttachment.prototype.type = \"urlattachment\";\nla.URLAttachment.prototype._ul4onattrs = la.Attachment.prototype._ul4onattrs.concat([\"value\"]);\n\nla.FileAttachment = class FileAttachment extends la.Attachment\n{\n};\n\nla.FileAttachment.prototype.type = \"fileattachment\";\nla.FileAttachment.prototype._ul4onattrs = la.Attachment.prototype._ul4onattrs.concat([\"value\"]);\n\nla.ImageAttachment = class ImageAttachment extends la.Attachment\n{\n};\n\nla.ImageAttachment.prototype.type = \"imageattachment\";\nla.ImageAttachment.prototype._ul4onattrs = la.Attachment.prototype._ul4onattrs.concat([\"original\", \"thumb\", \"small\", \"medium\", \"large\"]);\n\nla.JSONAttachment = class JSONAttachment extends la.Attachment\n{\n\t_dumpUL4ONAttr(name)\n\t{\n\t\tif (name === \"value\")\n\t\t\treturn ul4._asjson(this.value);\n\t\telse\n\t\t\treturn this[name];\n\t}\n\n\t_loadUL4ONAttr(name, value)\n\t{\n\t\tif (name === \"value\")\n\t\t\tthis.value = ul4._fromjson(value);\n\t\telse\n\t\t\tthis[name] = value\n\t}\n};\n\nla.JSONAttachment.prototype.type = \"jsonattachment\";\nla.JSONAttachment.prototype._ul4onattrs = la.Attachment.prototype._ul4onattrs.concat([\"value\"]);\n\nla.Installation = class Installation extends la.Base\n{\n\t__repr__()\n\t{\n\t\treturn \"<la.Installation id=\" + ul4._repr(this.id) + \" name=\" + ul4._repr(this.name) + \">\";\n\t}\n};\n\nla.Installation.prototype._ul4onattrs = [\"id\", \"name\"];\n\nla.Category = class Category extends la.Base\n{\n\t__repr__()\n\t{\n\t\tlet v = [];\n\t\tlet category = this;\n\t\twhile (category !== null)\n\t\t{\n\t\t\tv.splice(0, 0, category.identifier);\n\t\t\tcategory = category.parent;\n\t\t}\n\t\treturn \"<la.Category id=\" + ul4._repr(this.id) + \" identifierpath=\" + ul4._repr(v.join(\"/\")) +  + \" name=\" + ul4._repr(this.name) + \">\";\n\t}\n};\n\nla.Category.prototype._ul4onattrs = [\"id\", \"identifier\", \"name\", \"order\", \"parent\", \"children\", \"apps\"];\n\nla.KeyView = class KeyView extends la.Base\n{\n\t__repr__()\n\t{\n\t\treturn \"<la.KeyView id=\" + ul4._repr(this.id) + \" identifier=\" + ul4._repr(this.identifier) + \">\";\n\t}\n};\n\nla.KeyView.prototype._ul4onattrs = [\"id\", \"identifier\", \"name\", \"key\", \"user\"];\n\nla.AppParameter = class AppParameter extends la.Base\n{\n\t__repr__()\n\t{\n\t\treturn \"<la.AppParameter id=\" + ul4._repr(this.id) + \" identifier=\" + ul4._repr(this.identifier) + \">\";\n\t}\n};\n\nla.AppParameter.prototype._ul4onattrs = [\"id\", \"app\", \"identifier\", \"description\", \"value\"];\n\nvar classes = [\n\t\"Globals\",\n\t\"App\",\n\t\"View\",\n\t\"DataSource\",\n\t\"Record\",\n\t\"BoolControl\",\n\t\"IntControl\",\n\t\"NumberControl\",\n\t\"TextControl\",\n\t\"EmailControl\",\n\t\"URLControl\",\n\t\"TelControl\",\n\t\"PasswordControl\",\n\t\"TextAreaControl\",\n\t\"DateControl\",\n\t\"DatetimeMinuteControl\",\n\t\"DatetimeSecondControl\",\n\t\"LookupControl\",\n\t\"LookupSelectControl\",\n\t\"LookupRadioControl\",\n\t\"LookupChoiceControl\",\n\t\"AppLookupControl\",\n\t\"AppLookupSelectControl\",\n\t\"AppLookupRadioControl\",\n\t\"AppLookupChoiceControl\",\n\t\"MultipleLookupControl\",\n\t\"MultipleLookupSelectControl\",\n\t\"MultipleLookupCheckboxControl\",\n\t\"MultipleAppLookupControl\",\n\t\"MultipleAppLookupSelectControl\",\n\t\"MultipleAppLookupCheckboxControl\",\n\t\"MultipleAppLookupChoiceControl\",\n\t\"GeoControl\",\n\t\"FileControl\",\n\t\"ButtonControl\",\n\t\"Field\",\n\t\"LookupItem\",\n\t\"User\",\n\t\"File\",\n\t\"Geo\",\n\t\"NoteAttachment\",\n\t\"URLAttachment\",\n\t\"FileAttachment\",\n\t\"ImageAttachment\",\n\t\"JSONAttachment\",\n\t\"Installation\",\n\t\"Category\",\n\t\"KeyView\",\n\t\"AppParameter\"\n];\n\nfor (var i = 0; i < classes.length; ++i)\n{\n\tvar name = classes[i];\n\tvar constructor = la[name];\n\tul4.register(\"de.livingapps.livingapi.\" + name.toLowerCase(), constructor);\n}\n\n})(this);\n"]}