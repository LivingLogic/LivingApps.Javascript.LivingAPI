{"version":3,"sources":["../src/livingapi.js"],"names":["root","la","ul4","isamd","define","amd","iscommon","module","exports","require","Base","encoder","i","_ul4onattrs","length","dump","_dumpUL4ONAttr","name","decoder","iter","loadcontent","iteritem","next","done","_loadUL4ONAttr","value","_setDefaultUL4ONAttr","_ul4attrs","has","realvalue","bind","_ul4_name","_ul4_signature","_ul4_needsobject","_ul4_needscontext","AttributeError","constructor","Proto","Handler","Globals","version","platform","user","maxdbactions","maxtemplateruntime","flashmessages","handler","_repr","geo1","geo2","sqsin","x","Math","sin","sqcos","sqsos","cos","deg2rad","PI","flat","lat1","lat","long1","long","lat2","long2","F","G","l","S","C","w","atan","sqrt","T","s","prototype","_makeset","FlashMessage","type","title","App","id","values","record","__call__","globals","save","Record","_ismap","entries","key","fields","ArgumentError","get","_isobject","TypeError","startsWith","controls","substr","expose","insert","View","DataSource","identifier","app","createdat","createdby","updatedat","updatedby","updatecount","_sparsevalues","Map","_values","_fields","children","attachments","errors","_is_deleted","v","field","control","priority","push","join","is_dirty","has_errors","delete","search","fieldsearch","_bool","_havemap","fieldvalue","set","Field","update","Control","__type__","subtype","BoolControl","_logsearch","operator","IntControl","NumberControl","minvalue","maxvalue","StringControl","toLowerCase","indexOf","TextControl","EmailControl","URLControl","TelControl","PasswordControl","TextAreaControl","concat","DateControl","language","searchvalue","Object","toString","call","_format","formatstring","DatetimeMinuteControl","DatetimeSecondControl","LookupControl","LookupSelectControl","LookupRadioControl","LookupChoiceControl","AppLookupControl","AppLookupSelectControl","AppLookupRadioControl","AppLookupChoiceControl","MultipleLookupControl","item","MultipleLookupSelectControl","MultipleLookupCheckboxControl","MultipleLookupChoiceControl","MultipleAppLookupControl","MultipleAppLookupSelectControl","MultipleAppLookupCheckboxControl","MultipleAppLookupChoiceControl","GeoControl","FileControl","ButtonControl","_value","_dirty","_islist","oldvalue","_ne","LookupItem","label","User","firstname","surname","email","File","url","filename","Geo","info","Attachment","NoteAttachment","URLAttachment","FileAttachment","ImageAttachment","JSONAttachment","_asjson","_fromjson","Installation","Category","category","splice","parent","KeyView","AppParameter","classes","register"],"mappings":"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","file":"livingapi.js","sourcesContent":[";(function(){\nlet root = this, la = {}, ul4;\n\nlet isamd = typeof(define) === \"function\" && define.amd;\nlet iscommon = typeof(module) === \"object\" && module.exports;\n\nif (isamd)\n{\n\t// AMD\n\tdefine([], function()\n\t{\n\t\treturn la;\n\t});\n}\nelse if (iscommon)\n{\n\t// COMMONJS\n\tul4 = require('./ul4.js');\n\tmodule.exports.la = la;\n}\nelse\n{\n\t// DEFAULT\n\tul4 = root.ul4;\n\troot.la = la;\n}\n\nla.Base = class Base extends ul4.Proto\n{\n\tconstructor()\n\t{\n\t\tsuper();\n\t}\n\n\tul4ondump(encoder)\n\t{\n\t\tfor (let i = 0; i < this._ul4onattrs.length; ++i)\n\t\t\tencoder.dump(this._dumpUL4ONAttr(this._ul4onattrs[i]));\n\t}\n\n\t_dumpUL4ONAttr(name)\n\t{\n\t\treturn this[name];\n\t}\n\n\tul4onload(decoder)\n\t{\n\t\tlet i = 0;\n\t\tfor (let iter = decoder.loadcontent(); ; ++i)\n\t\t{\n\t\t\tlet iteritem = iter.next();\n\t\t\tif (iteritem.done)\n\t\t\t\tbreak;\n\t\t\tif (i < this._ul4onattrs.length)\n\t\t\t\tthis._loadUL4ONAttr(this._ul4onattrs[i], iteritem.value);\n\t\t}\n\t\tfor (; i < this._ul4onattrs.length; ++i)\n\t\t\tthis._setDefaultUL4ONAttr(this._ul4onattrs[i]);\n\t}\n\n\t_loadUL4ONAttr(name, value)\n\t{\n\t\tthis[name] = value;\n\t}\n\n\t_setDefaultUL4ONAttr(name)\n\t{\n\t\tthis[name] = null;\n\t}\n\n\t__getattr__(name)\n\t{\n\t\tif (this._ul4attrs.has(name))\n\t\t{\n\t\t\tlet value = this[name];\n\t\t\tif (typeof(value) === \"function\")\n\t\t\t{\n\t\t\t\tlet realvalue = value.bind(this);\n\t\t\t\trealvalue._ul4_name = value._ul4_name || value.name;\n\t\t\t\trealvalue._ul4_signature = value._ul4_signature;\n\t\t\t\trealvalue._ul4_needsobject = value._ul4_needsobject;\n\t\t\t\trealvalue._ul4_needscontext = value._ul4_needscontext;\n\t\t\t\treturn realvalue;\n\t\t\t}\n\t\t\treturn value;\n\t\t}\n\t\tthrow new ul4.AttributeError(this, name);\n\t}\n\n\t__repr__()\n\t{\n\t\treturn \"<la.\" + this.constructor.name + \">\";\n\t}\n};\n\nla.Handler = class Handler\n{\n\tsave(record)\n\t{\n\t}\n\n\tdelete(record)\n\t{\n\t}\n};\n\nla.Globals = class Globals extends la.Base\n{\n\tconstructor()\n\t{\n\t\tsuper();\n\t\tthis.version = null;\n\t\tthis.platform = null;\n\t\tthis.user = null;\n\t\tthis.maxdbactions = null;\n\t\tthis.maxtemplateruntime = null;\n\t\tthis.flashmessages = null;\n\t\tthis.handler = new la.Handler();\n\t}\n\n\t// distance between two geo coordinates (see https://de.wikipedia.org/wiki/Orthodrome#Genauere_Formel_zur_Abstandsberechnung_auf_der_Erde)\n\tstatic geodist(geo1, geo2)\n\t{\n\t\tlet sqsin = function sqsin(x) {x = Math.sin(x); return x*x};\n\t\tlet sqcos = function sqsos(x) {x = Math.cos(x); return x*x};\n\t\tconst deg2rad = Math.PI/180; // Conversion factor degree -> radians\n\t\tconst radius = 6378.137; // Equatorial radius of earth in km\n\t\tconst flat = 1/298.257223563; // Earth flattening\n\n\t\tconst lat1 = geo1.lat * deg2rad;\n\t\tconst long1 = geo1.long * deg2rad;\n\t\tconst lat2 = geo2.lat * deg2rad;\n\t\tconst long2 = geo2.long * deg2rad;\n\t\tconst F = (lat1 + lat2)/2;\n\t\tconst G = (lat1 - lat2)/2;\n\t\tconst l = (long1 - long2)/2;\n\t\tconst S = sqsin(G) * sqcos(l) + sqcos(F) * sqsin(l);\n\t\tconst C = sqcos(G) * sqcos(l) + sqsin(F) * sqsin(l);\n\t\tconst w = Math.atan(Math.sqrt(S/C));\n\t\tconst D = 2 * w * radius;\n\t\tconst T = Math.sqrt(S*C)/w;\n\t\tconst H1 = (3*T-1)/(2*C);\n\t\tconst H2 = (3*T+1)/(2*S);\n\t\tconst s = D * (1 + flat * H1 * sqsin(F) * sqcos(G) - flat * H2 * sqcos(F) * sqsin(G));\n\t\treturn s;\n\t}\n\n\t__repr__()\n\t{\n\t\treturn \"<la.Globals version=\" + ul4._repr(this.version) + \">\";\n\t}\n};\n\nla.Globals.prototype._ul4onattrs = [\"version\", \"platform\", \"user\", \"maxdbactions\", \"maxtemplateruntime\", \"flashmessages\"];\nla.Globals.prototype._ul4attrs = ul4._makeset(\"version\", \"platform\", \"user\", \"maxdbactions\", \"maxtemplateruntime\", \"flashmessages\");\n\nla.FlashMessage = class FlashMessage extends la.Base\n{\n\t__repr__()\n\t{\n\t\treturn \"<la.FlashMessage type=\" + ul4._repr(this.type) + \" title=\" + ul4._repr(this.title) + \">\";\n\t}\n};\n\nla.FlashMessage.prototype._ul4onattrs = [\"timestamp\", \"type\", \"title\", \"message\"];\nla.FlashMessage.prototype._ul4attrs = ul4._makeset(\"timestamp\", \"type\", \"title\", \"message\");\n\nla.App = class App extends la.Base\n{\n\t__repr__()\n\t{\n\t\treturn \"<la.App id=\" + ul4._repr(this.id) + \" name=\" + ul4._repr(this.name) + \">\";\n\t}\n\n\tinsert(values={})\n\t{\n\t\tlet record = this.__call__(values);\n\t\tthis.globals.handler.save(this);\n\t\treturn record;\n\t}\n\n\t__call__(values={})\n\t{\n\t\tlet record = new la.Record(this);\n\t\tif (ul4._ismap(values))\n\t\t{\n\t\t\tfor (let [key, value] of values.entries())\n\t\t\t{\n\t\t\t\tif (!record.fields.has(key))\n\t\t\t\t\tthrow new ul4.ArgumentError(\"update() get an unexpected keyword argument \" + ul4._repr(key));\n\t\t\t\trecord.fields.get(key).value = value;\n\t\t\t}\n\t\t}\n\t\telse if (ul4._isobject(values))\n\t\t{\n\t\t\tfor (let key in values)\n\t\t\t{\n\t\t\t\tif (!record.fields.has(key))\n\t\t\t\t\tthrow new ul4.ArgumentError(\"update() get an unexpected keyword argument \" + ul4._repr(key));\n\t\t\t\trecord.fields.get(key).value = values[key];\n\t\t\t}\n\t\t}\n\t\telse\n\t\t\tthrow new ul4.TypeError(\"values must be an object or a Map\");\n\t\treturn record;\n\t}\n\n\t__getattr__(name)\n\t{\n\t\tif (name.startsWith(\"c_\"))\n\t\t{\n\t\t\tif (!this.controls.has(name.substr(2)))\n\t\t\t\tthrow new ul4.AttributeError(this, name);\n\t\t\treturn this.controls.get(name.substr(2));\n\t\t}\n\t\telse\n\t\t\treturn super.__getattr__(name);\n\t}\n};\n\nla.App.prototype._ul4onattrs = [\"id\", \"globals\", \"name\", \"description\", \"language\", \"startlink\", \"iconlarge\", \"iconsmall\", \"owner\", \"controls\", \"records\", \"recordcount\", \"installation\", \"categories\", \"params\", \"views\", \"datamanagement_identifier\"];\nla.App.prototype._ul4attrs = ul4._makeset(\"id\", \"globals\", \"name\", \"description\", \"language\", \"startlink\", \"iconlarge\", \"iconsmall\", \"owner\", \"controls\", \"records\", \"recordcount\", \"installation\", \"categories\", \"params\", \"views\", \"datamanagement_identifier\", \"insert\");\nul4.expose(la.App.prototype.__call__, [\"**values\"], {\"needsobject\": true});\nul4.expose(la.App.prototype.insert, [\"**values\"], {\"needsobject\": true});\n\nla.View = class View extends la.Base\n{\n\t__repr__()\n\t{\n\t\treturn \"<la.View id=\" + ul4._repr(this.id) + \" name=\" + ul4._repr(this.name) + \">\";\n\t}\n};\n\nla.View.prototype._ul4onattrs = [\"id\", \"name\", \"app\", \"order\", \"width\", \"height\", \"start\", \"end\"];\nla.View.prototype._ul4attrs = ul4._makeset(\"id\", \"name\", \"app\", \"order\", \"width\", \"height\", \"start\", \"end\");\n\nla.DataSource = class DataSource extends la.Base\n{\n\t__repr__()\n\t{\n\t\treturn \"<la.DataSource id=\" + ul4._repr(this.id) + \" identifier=\" + ul4._repr(this.identifier) + \">\";\n\t}\n};\n\nla.DataSource.prototype._ul4onattrs = [\"id\", \"identifier\", \"app\", \"apps\"];\nla.DataSource.prototype._ul4attrs = ul4._makeset(\"id\", \"identifier\", \"app\", \"apps\");\n\nla.Record = class Record extends la.Base\n{\n\tconstructor(app)\n\t{\n\t\tsuper();\n\t\tthis.id = null;\n\t\tthis.app = app;\n\t\tthis.createdat = null;\n\t\tthis.createdby = null;\n\t\tthis.updatedat = null;\n\t\tthis.updatedby = null;\n\t\tthis.updatecount = 0;\n\t\tthis._sparsevalues = new Map();\n\t\tthis._values = null;\n\t\tthis._fields = null;\n\t\tthis.children = new Map();\n\t\tthis.attachments = null;\n\t\tthis.errors = [];\n\t\tthis._is_deleted = false;\n\t}\n\n\t__repr__()\n\t{\n\t\tlet v = [\"<la.Record id=\", ul4._repr(this.id)];\n\t\tfor (let field of this.fields.values())\n\t\t{\n\t\t\tif (field.control.priority)\n\t\t\t{\n\t\t\t\tv.push(\" v_\");\n\t\t\t\tv.push(field.control.identifier);\n\t\t\t\tv.push(\"=\");\n\t\t\t\tv.push(ul4._repr(field.value)); // FIXME: This might lead to infinite recursions\n\t\t\t}\n\t\t}\n\t\tv.push(\">\")\n\t\treturn v.join(\"\");\n\t}\n\n\tget values()\n\t{\n\t\tif (this._values === null)\n\t\t{\n\t\t\tthis._values = ul4._havemap ? new Map() : {};\n\t\t\tfor (let [identifier, control] of this.app.controls.entries())\n\t\t\t{\n\t\t\t\tlet fieldvalue = this._sparsevalues.get(identifier);\n\t\t\t\tif (typeof(fieldvalue) === \"undefined\")\n\t\t\t\t\tfieldvalue = null;\n\t\t\t\tthis._values.set(identifier, fieldvalue);\n\t\t\t}\n\t\t}\n\t\treturn this._values;\n\t}\n\n\tget fields()\n\t{\n\t\tif (this._fields === null)\n\t\t{\n\t\t\tthis._fields = ul4._havemap ? new Map() : {};\n\t\t\tfor (let [identifier, value] of this.values.entries())\n\t\t\t{\n\t\t\t\tlet field = new la.Field(this.app.controls.get(identifier), this, value);\n\t\t\t\tthis._fields.set(identifier, field);\n\t\t\t}\n\t\t}\n\t\treturn this._fields;\n\t}\n\n\tis_dirty()\n\t{\n\t\tif (this.id === null)\n\t\t\treturn true;\n\t\tfor (let field of this.fields.values())\n\t\t{\n\t\t\tif (field.is_dirty())\n\t\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\thas_errors()\n\t{\n\t\tif (this.errors.length !== 0)\n\t\t\treturn true;\n\t\tfor (let field of this.fields.values())\n\t\t{\n\t\t\tif (field.has_errors())\n\t\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tdelete()\n\t{\n\t\treturn this.app.globals.handler.delete(this);\n\t}\n\n\tsave()\n\t{\n\t\tthis.app.globals.handler.save(this);\n\t}\n\n\tupdate(values={})\n\t{\n\t\tif (ul4._ismap(values))\n\t\t{\n\t\t\tfor (let [key, value] of values.entries())\n\t\t\t{\n\t\t\t\tif (!record.fields.has(key))\n\t\t\t\t\tthrow new ul4.ArgumentError(\"update() get an unexpected keyword argument \" + ul4._repr(key));\n\t\t\t\tfields.get(key).value = value;\n\t\t\t}\n\t\t}\n\t\telse if (ul4._isobject(values))\n\t\t{\n\t\t\tfor (let key in values)\n\t\t\t{\n\t\t\t\tif (!record.fields.has(key))\n\t\t\t\t\tthrow new ul4.ArgumentError(\"update() get an unexpected keyword argument \" + ul4._repr(key));\n\t\t\t\trecord.fields.get(key).value = values[key];\n\t\t\t}\n\t\t}\n\t\telse\n\t\t\tthrow new ul4.TypeError(\"values must be an object or a Map\");\n\n\t\tthis.app.globals.handler.save(this);\n\t}\n\n\tsearch(search)\n\t{\n\t\tfor (let identifier in search)\n\t\t{\n\t\t\tlet fieldsearch = search[identifier];\n\t\t\tif (ul4._bool(fieldsearch))\n\t\t\t{\n\t\t\t\tif (!this.fields.get(identifier).search(fieldsearch))\n\t\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t}\n\n\t_dumpUL4ONAttr(name)\n\t{\n\t\tif (name === \"values\")\n\t\t\treturn this._sparsevalues;\n\t\telse\n\t\t\treturn this[name];\n\t}\n\n\t_loadUL4ONAttr(name, value)\n\t{\n\t\tif (name === \"values\")\n\t\t{\n\t\t\tthis._sparsevalues = value;\n\t\t\tthis._values = null;\n\t\t\tthis._fields = null;\n\t\t}\n\t\telse\n\t\t\tthis[name] = value;\n\t}\n\n\t__getattr__(name)\n\t{\n\t\tif (name.startsWith(\"c_\"))\n\t\t\treturn this.children.get(name.substr(2))\n\t\telse if (name.startsWith(\"f_\"))\n\t\t\treturn this.fields.get(name.substr(2))\n\t\telse if (name.startsWith(\"v_\"))\n\t\t\treturn this.values.get(name.substr(2))\n\t\telse\n\t\t\treturn this[name];\n\t}\n\n\t__setattr__(name, value)\n\t{\n\t\tif (name.startsWith(\"c_\"))\n\t\t\tthis.children[name.substr(2)] = value;\n\t\telse if (name.startsWith(\"v_\"))\n\t\t\tthis.fields.get(name.substr(2)).value = value;\n\t\telse\n\t\t\tthrow new ul4.AttributeError(this, name);\n\t}\n};\n\nla.Record.prototype._ul4onattrs = [\"id\", \"app\", \"createdat\", \"createdby\", \"updatedat\", \"updatedby\", \"updatecount\", \"values\", \"attachments\", \"children\"];\nla.Record.prototype._ul4attrs = ul4._makeset(\"id\", \"app\", \"createdat\", \"createdby\", \"updatedat\", \"updatedby\", \"updatecount\", \"values\", \"attachments\", \"children\");\nul4.expose(la.Record.prototype.is_dirty, []);\nul4.expose(la.Record.prototype.has_errors, []);\nul4.expose(la.Record.prototype.delete, []);\nul4.expose(la.Record.prototype.save, []);\nul4.expose(la.Record.prototype.update, [\"**values\"], {\"needsobject\": true});\n\nla.Control = class Control extends la.Base\n{\n\t__repr__()\n\t{\n\t\treturn \"<la.\" + this.__type__ + \" id=\" + ul4._repr(this.id) + \" identifier=\" + ul4._repr(this.identifier) + \">\";\n\t}\n\n\t_logsearch(value, search)\n\t{\n\t\t//console.log(\"Searching for \" + ul4._repr(search.value) + \" in \" + ul4._repr(this) + \" with operator \" + search.operator + \" in value \" + ul4._repr(value));\n\t}\n\n\t// base implemntation, always returns ``false`` (i.e. \"not found\")\n\t// ``value`` is the value of the field\n\t// ``search`` is an object with information what we're searching for\n\t// keys in ``search`` are: ``operator`` (and ``value`` (if required by the operator))\n\tsearch(value, search)\n\t{\n\t\treturn false;\n\t}\n};\n\nla.Control.prototype.type = null;\nla.Control.prototype.subtype = null;\nla.Control.prototype._ul4onattrs = [\"id\", \"identifier\", \"field\", \"app\", \"label\", \"priority\", \"order\", \"default\", \"ininsertprocedure\", \"inupdateprocedure\"];\nla.Control.prototype._ul4attrs = ul4._makeset(\"id\", \"identifier\", \"field\", \"app\", \"label\", \"priority\", \"order\", \"default\", \"ininsertprocedure\", \"inupdateprocedure\");\n\nla.BoolControl = class BoolControl extends la.Control\n{\n\t// ``search`` must by ``null``, ``false`` or ``true``\n\tsearch(value, search)\n\t{\n\t\tthis._logsearch(value, search);\n\t\tif (search.operator === \"equals\")\n\t\t\treturn search.value === value;\n\t\telse\n\t\t\treturn false;\n\t}\n};\n\nla.BoolControl.prototype.type = \"bool\";\n\nla.IntControl = class IntControl extends la.Control\n{\n\t// ``search.value`` must by ``null`` or an integer\n\tsearch(value, search)\n\t{\n\t\tthis._logsearch(value, search);\n\t\tif (search.operator === \"equals\")\n\t\t\treturn search.value === value;\n\t\telse\n\t\t\treturn false;\n\t}\n};\n\nla.IntControl.prototype.type = \"int\";\n\nla.NumberControl = class NumberControl extends la.Control\n{\n\t// ``search.value`` must by ``null`` or an integer\n\tsearch(value, search)\n\t{\n\t\tthis._logsearch(value, search);\n\t\tif (search.operator === \"equals\")\n\t\t\treturn search.value === value;\n\t\telse if (search.operator === \"range\")\n\t\t{\n\t\t\tif (value === null)\n\t\t\t\treturn false;\n\t\t\treturn (search.minvalue === null || search.minvalue <= value) && (search.maxvalue === null || value < search.maxvalue);\n\t\t}\n\t\telse\n\t\t\treturn false;\n\t}\n};\n\nla.NumberControl.prototype.type = \"number\";\n\nla.StringControl = class StringControl extends la.Control\n{\n\tsearch(value, search)\n\t{\n\t\tthis._logsearch(value, search);\n\t\tif (search.operator === \"equals\")\n\t\t\treturn search.value === value;\n\t\telse if (search.operator === \"contains\")\n\t\t{\n\t\t\tif (search.value === null || value === null)\n\t\t\t\treturn search.value === value;\n\t\t\telse\n\t\t\t\treturn value.toLowerCase().indexOf(search.value.toLowerCase()) >= 0;\n\t\t}\n\t}\n};\n\nla.StringControl.prototype.type = \"string\";\n\nla.TextControl = class TextControl extends la.StringControl\n{\n};\n\nla.TextControl.prototype.subtype = \"text\";\n\nla.EmailControl = class EmailControl extends la.StringControl\n{\n};\n\nla.EmailControl.prototype.subtype = \"email\";\n\nla.URLControl = class URLControl extends la.StringControl\n{\n};\n\nla.URLControl.prototype.subtype = \"url\";\n\nla.TelControl = class TelControl extends la.StringControl\n{\n};\n\nla.TelControl.prototype.subtype = \"tel\";\n\nla.PasswordControl = class PasswordControl extends la.StringControl\n{\n};\n\nla.PasswordControl.prototype.subtype = \"password\";\n\nla.TextAreaControl = class TextAreaControl extends la.StringControl\n{\n};\n\nla.TextAreaControl.prototype.subtype = \"textarea\";\nla.TextAreaControl.prototype._ul4onattrs = la.StringControl.prototype._ul4onattrs.concat([\"encrypted\"]);\nla.TextAreaControl.prototype._ul4attrs = ul4._makeset(...la.StringControl.prototype._ul4attrs, \"encrypted\");\n\nla.DateControl = class DateControl extends la.Control\n{\n\tformatstring(language)\n\t{\n\t\tlanguage = language || this.app.language;\n\n\t\tif (language === \"de\")\n\t\t\treturn \"%d.%m.%Y\";\n\t\telse\n\t\t\treturn \"%m/%d/%Y\";\n\t}\n\n\t// searchvalue must be ``null``, a ``Date`` object or a string\n\tsearch(value, search)\n\t{\n\t\tthis._logsearch(value, search);\n\n\t\tlet searchvalue = search.value;\n\t\tif (Object.prototype.toString.call(searchvalue) == \"[object Date]\")\n\t\t\tsearchvalue = ul4._format(searchvalue, this.formatstring(), this.app.language);\n\t\tif (value !== null)\n\t\t\tvalue = ul4._format(value, this.formatstring(), this.app.language);\n\n\t\tif (search.operator === \"equals\")\n\t\t\treturn searchvalue === value;\n\t\telse if (search.operator === \"contains\")\n\t\t{\n\t\t\tif (searchvalue === null || value === null)\n\t\t\t\treturn searchvalue === value;\n\t\t\telse\n\t\t\t\treturn value.toLowerCase().indexOf(searchvalue.toLowerCase()) >= 0;\n\t\t}\n\t\telse\n\t\t\treturn false;\n\t}\n};\n\nla.DateControl.prototype.type = \"date\";\nla.DateControl.prototype.subtype = \"date\";\n\nla.DatetimeMinuteControl = class DatetimeMinuteControl extends la.DateControl\n{\n\tformatstring(language)\n\t{\n\t\tlanguage = language || this.app.language;\n\n\t\tif (language === \"de\")\n\t\t\treturn \"%d.%m.%Y %H:%M\";\n\t\telse\n\t\t\treturn \"%m/%d/%Y %H:%M\";\n\t}\n};\n\nla.DatetimeMinuteControl.prototype.subtype = \"datetimeminute\";\n\nla.DatetimeSecondControl = class DatetimeSecondControl extends la.DateControl\n{\n\tformatstring(language)\n\t{\n\t\tlanguage = language || this.app.language;\n\n\t\tif (language === \"de\")\n\t\t\treturn \"%d.%m.%Y %H:%M:%S\";\n\t\telse\n\t\t\treturn \"%m/%d/%Y %H:%M:%S\";\n\t}\n};\n\nla.DatetimeSecondControl.prototype.subtype = \"datetimesecond\";\n\nla.LookupControl = class LookupControl extends la.Control\n{\n\t// ``search.value`` must be ``null`` or a ``LookupItem`` key\n\tsearch(value, search)\n\t{\n\t\tif (search.operator === \"equals\")\n\t\t{\n\t\t\tif (value === null)\n\t\t\t\treturn search.value === null;\n\t\t\telse\n\t\t\t\treturn value.key === search.value;\n\t\t}\n\t\telse\n\t\t\treturn false;\n\t}\n};\n\nla.LookupControl.prototype.type = \"lookup\";\nla.LookupControl.prototype._ul4onattrs = la.Control.prototype._ul4onattrs.concat([\"lookupdata\"]);\nla.LookupControl.prototype._ul4attrs = ul4._makeset(...la.Control.prototype._ul4attrs, \"lookupdata\");\n\nla.LookupSelectControl = class LookupSelectControl extends la.LookupControl\n{\n};\n\nla.LookupSelectControl.prototype.subtype = \"select\";\n\nla.LookupRadioControl = class LookupRadioControl extends la.LookupControl\n{\n};\n\nla.LookupRadioControl.prototype.subtype = \"radio\";\n\nla.LookupChoiceControl = class LookupChoiceControl extends la.LookupControl\n{\n};\n\nla.LookupChoiceControl.prototype.subtype = \"choice\";\n\nla.AppLookupControl = class AppLookupControl extends la.Control\n{\n\t// ``search.value`` must be an object containing the search criteria for the referenced record\n\tsearch(value, search)\n\t{\n\t\tif (value === null || search.value === null)\n\t\t\treturn value === search.value;\n\t\telse\n\t\t\treturn value.search(search);\n\t}\n};\n\nla.AppLookupControl.prototype.type = \"applookup\";\nla.AppLookupControl.prototype._ul4onattrs = la.Control.prototype._ul4onattrs.concat([\"lookupapp\", \"lookupcontrols\"]);\nla.AppLookupControl.prototype._ul4attrs = ul4._makeset(...la.Control.prototype._ul4attrs, \"lookupapp\", \"lookupcontrols\");\n\nla.AppLookupSelectControl = class AppLookupSelectControl extends la.AppLookupControl\n{\n};\n\nla.AppLookupSelectControl.prototype.subtype = \"select\";\n\nla.AppLookupRadioControl = class AppLookupRadioControl extends la.AppLookupControl\n{\n};\n\nla.AppLookupRadioControl.prototype.subtype = \"radio\";\n\nla.AppLookupChoiceControl = class AppLookupChoiceControl extends la.AppLookupControl\n{\n};\n\nla.AppLookupChoiceControl.prototype.subtype = \"choice\";\n\nla.MultipleLookupControl = class MultipleLookupControl extends la.LookupControl\n{\n\t// search.value must be ``null`` or a ``LookupItem`` key\n\tsearch(value, search)\n\t{\n\t\tif (search.operator === \"equals\")\n\t\t{\n\t\t\tfor (let item of value)\n\t\t\t{\n\t\t\t\tif (item.key === search.value)\n\t\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\t\telse\n\t\t\treturn false;\n\t}\n};\n\nla.MultipleLookupControl.prototype.subtype = \"multiplelookup\";\n\nla.MultipleLookupSelectControl = class MultipleLookupSelectControl extends la.MultipleLookupControl\n{\n};\n\nla.MultipleLookupSelectControl.prototype.subtype = \"select\";\n\nla.MultipleLookupCheckboxControl = class MultipleLookupCheckboxControl extends la.MultipleLookupControl\n{\n};\n\nla.MultipleLookupCheckboxControl.prototype.subtype = \"checkbox\";\n\nla.MultipleLookupChoiceControl = class MultipleLookupChoiceControl extends la.MultipleLookupControl\n{\n};\n\nla.MultipleLookupChoiceControl.prototype.subtype = \"choice\";\n\nla.MultipleAppLookupControl = class MultipleAppLookupControl extends la.AppLookupControl\n{\n\t// ``search.value`` must be an object containing the search criteria for the referenced record\n\tsearch(value, search)\n\t{\n\t\tif (search.operator === \"equals\")\n\t\t{\n\t\t\tif (search.value === null)\n\t\t\t\treturn value.length === 0;\n\t\t\telse\n\t\t\t{\n\t\t\t\tfor (let item of value)\n\t\t\t\t{\n\t\t\t\t\tif (item.search(search.value))\n\t\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\telse\n\t\t\treturn false;\n\t}\n};\n\nla.MultipleAppLookupControl.prototype.type = \"multipleapplookup\";\n\nla.MultipleAppLookupSelectControl = class MultipleAppLookupSelectControl extends la.MultipleAppLookupControl\n{\n};\n\nla.MultipleAppLookupSelectControl.prototype.subtype = \"select\";\n\nla.MultipleAppLookupCheckboxControl = class MultipleAppLookupCheckboxControl extends la.MultipleAppLookupControl\n{\n};\n\nla.MultipleAppLookupCheckboxControl.prototype.subtype = \"checkbox\";\n\nla.MultipleAppLookupChoiceControl = class MultipleAppLookupChoiceControl extends la.MultipleAppLookupControl\n{\n};\n\nla.MultipleAppLookupChoiceControl.prototype.subtype = \"choice\";\n\nla.GeoControl = class GeoControl extends la.Control\n{\n};\n\nla.GeoControl.prototype.type = \"geo\";\n\nla.FileControl = class FileControl extends la.Control\n{\n};\n\nla.FileControl.prototype.type = \"file\";\n\nla.ButtonControl = class ButtonControl extends la.Control\n{\n};\n\nla.ButtonControl.prototype.type = \"button\";\n\nla.Field = class Field extends la.Base\n{\n\tconstructor(control, record, value)\n\t{\n\t\tsuper();\n\t\tthis.control = control;\n\t\tthis.record = record;\n\t\tthis._value = value;\n\t\tthis._dirty = false;\n\t\tthis.errors = [];\n\t}\n\n\tget value()\n\t{\n\t\treturn this._value;\n\t}\n\n\tset value(value)\n\t{\n\t\tlet oldvalue = this._value;\n\n\t\tif (ul4._ne(oldvalue, value))\n\t\t{\n\t\t\tthis.record.values.set(this.control.identifier, value);\n\t\t\tthis._value = value;\n\t\t\tthis._dirty = true;\n\t\t}\n\t}\n\n\tis_empty()\n\t{\n\t\treturn this._value === null || (ul4._islist(this._value) && this._value.length === 0);\n\t}\n\n\tis_dirty()\n\t{\n\t\treturn this._dirty;\n\t}\n\n\thas_errors()\n\t{\n\t\treturn this.errors.length !== 0;\n\t}\n\n\tsearch(searchvalue)\n\t{\n\t\treturn this.control.search(this.value, searchvalue);\n\t}\n\n\t__repr__()\n\t{\n\t\tlet s = \"<la.Field identifier=\";\n\t\ts += ul4._repr(this.control.identifier)\n\t\tif (this._dirty)\n\t\t\ts += \" is_dirty()=True\";\n\t\tif (this.errors.length !== 0)\n\t\t\ts += \" has_errors()=True\";\n\t\ts += \">\"\n\t\treturn s;\n\t}\n};\n\nla.LookupItem = class LookupItem extends la.Base\n{\n\t__repr__()\n\t{\n\t\treturn \"<la.LookupItem key=\" + ul4._repr(this.key) + \" label=\" + ul4._repr(this.label) + \">\";\n\t}\n};\n\nla.LookupItem.prototype._ul4onattrs = [\"key\", \"label\"];\nla.LookupItem.prototype._ul4attrs = ul4._makeset(\"key\", \"label\");\n\nla.User = class User extends la.Base\n{\n\t__repr__()\n\t{\n\t\treturn \"<la.User id=\" + ul4._repr(this.id) + \" firstname=\" + ul4._repr(this.firstname) + \" surname=\" + ul4._repr(this.surname) + \" email=\" + ul4._repr(this.email) + \">\";\n\t}\n};\n\nla.User.prototype._ul4onattrs = [\"_id\", \"id\", \"gender\", \"firstname\", \"surname\", \"initials\", \"email\", \"language\", \"avatarsmall\", \"avatarlarge\", \"keyviews\"];\nla.User.prototype._ul4attrs = ul4._makeset(\"_id\", \"id\", \"gender\", \"firstname\", \"surname\", \"initials\", \"email\", \"language\", \"avatarsmall\", \"avatarlarge\", \"keyviews\");\n\nla.File = class File extends la.Base\n{\n\t__repr__()\n\t{\n\t\treturn \"<la.File id=\" + ul4._repr(this.id) + \" url=\" + ul4._repr(this.url) + \" filename=\" + ul4._repr(this.filename) + \">\";\n\t}\n};\n\nla.File.prototype._ul4onattrs = [\"id\", \"url\", \"filename\", \"mimetype\", \"width\", \"height\"];\nla.File.prototype._ul4attrs = ul4._makeset(\"id\", \"url\", \"filename\", \"mimetype\", \"width\", \"height\");\n\nla.Geo = class Geo extends la.Base\n{\n\tconstructor(lat, long, info)\n\t{\n\t\tsuper();\n\t\tthis.lat = lat;\n\t\tthis.long = long;\n\t\tthis.info = info;\n\t}\n\n\t__repr__()\n\t{\n\t\treturn \"<la.Geo lat=\" + ul4._repr(this.lat) + \" long=\" + ul4._repr(this.long) + \" info=\" + ul4._repr(this.info) + \">\";\n\t}\n};\n\nla.Geo.prototype._ul4onattrs = [\"lat\", \"long\", \"info\"];\nla.Geo.prototype._ul4attrs = ul4._makeset(\"lat\", \"long\", \"info\");\n\nla.Attachment = class Attachment extends la.Base\n{\n\t__repr__()\n\t{\n\t\treturn \"<la.\" + this.__type__ + \" id=\" + ul4._repr(this.id) + \" label=\" + ul4._repr(this.label) + \">\";\n\t}\n};\n\nla.Attachment.prototype._ul4onattrs = [\"id\", \"record\", \"label\", \"active\"];\nla.Attachment.prototype._ul4attrs = ul4._makeset(\"id\", \"record\", \"label\", \"active\");\n\nla.NoteAttachment = class NoteAttachment extends la.Attachment\n{\n};\n\nla.NoteAttachment.prototype.type = \"noteattachment\";\nla.NoteAttachment.prototype._ul4onattrs = la.Attachment.prototype._ul4onattrs.concat([\"value\"]);\nla.NoteAttachment.prototype._ul4attrs = ul4._makeset(...la.Attachment.prototype._ul4onattrs, \"value\");\n\nla.URLAttachment = class URLAttachment extends la.Attachment\n{\n};\n\nla.URLAttachment.prototype.type = \"urlattachment\";\nla.URLAttachment.prototype._ul4onattrs = la.Attachment.prototype._ul4onattrs.concat([\"value\"]);\nla.URLAttachment.prototype._ul4attrs = ul4._makeset(...la.Attachment.prototype._ul4onattrs, \"value\");\n\nla.FileAttachment = class FileAttachment extends la.Attachment\n{\n};\n\nla.FileAttachment.prototype.type = \"fileattachment\";\nla.FileAttachment.prototype._ul4onattrs = la.Attachment.prototype._ul4onattrs.concat([\"value\"]);\nla.FileAttachment.prototype._ul4attrs = ul4._makeset(...la.Attachment.prototype._ul4onattrs, \"value\");\n\nla.ImageAttachment = class ImageAttachment extends la.Attachment\n{\n};\n\nla.ImageAttachment.prototype.type = \"imageattachment\";\nla.ImageAttachment.prototype._ul4onattrs = la.Attachment.prototype._ul4onattrs.concat([\"original\", \"thumb\", \"small\", \"medium\", \"large\"]);\nla.ImageAttachment.prototype._ul4attrs = ul4._makeset(...la.Attachment.prototype._ul4onattrs, \"original\", \"thumb\", \"small\", \"medium\", \"large\");\n\nla.JSONAttachment = class JSONAttachment extends la.Attachment\n{\n\t_dumpUL4ONAttr(name)\n\t{\n\t\tif (name === \"value\")\n\t\t\treturn ul4._asjson(this.value);\n\t\telse\n\t\t\treturn this[name];\n\t}\n\n\t_loadUL4ONAttr(name, value)\n\t{\n\t\tif (name === \"value\")\n\t\t\tthis.value = ul4._fromjson(value);\n\t\telse\n\t\t\tthis[name] = value\n\t}\n};\n\nla.JSONAttachment.prototype.type = \"jsonattachment\";\nla.JSONAttachment.prototype._ul4onattrs = la.Attachment.prototype._ul4onattrs.concat([\"value\"]);\nla.JSONAttachment.prototype._ul4attrs = ul4._makeset(...la.Attachment.prototype._ul4onattrs, \"value\");\n\nla.Installation = class Installation extends la.Base\n{\n\t__repr__()\n\t{\n\t\treturn \"<la.Installation id=\" + ul4._repr(this.id) + \" name=\" + ul4._repr(this.name) + \">\";\n\t}\n};\n\nla.Installation.prototype._ul4onattrs = [\"id\", \"name\"];\nla.Installation.prototype._ul4attrs = ul4._makeset(\"id\", \"name\");\n\nla.Category = class Category extends la.Base\n{\n\t__repr__()\n\t{\n\t\tlet v = [];\n\t\tlet category = this;\n\t\twhile (category !== null)\n\t\t{\n\t\t\tv.splice(0, 0, category.identifier);\n\t\t\tcategory = category.parent;\n\t\t}\n\t\treturn \"<la.Category id=\" + ul4._repr(this.id) + \" identifierpath=\" + ul4._repr(v.join(\"/\")) +  + \" name=\" + ul4._repr(this.name) + \">\";\n\t}\n};\n\nla.Category.prototype._ul4onattrs = [\"id\", \"identifier\", \"name\", \"order\", \"parent\", \"children\", \"apps\"];\nla.Category.prototype._ul4attrs = ul4._makeset(\"id\", \"identifier\", \"name\", \"order\", \"parent\", \"children\", \"apps\");\n\nla.KeyView = class KeyView extends la.Base\n{\n\t__repr__()\n\t{\n\t\treturn \"<la.KeyView id=\" + ul4._repr(this.id) + \" identifier=\" + ul4._repr(this.identifier) + \">\";\n\t}\n};\n\nla.KeyView.prototype._ul4onattrs = [\"id\", \"identifier\", \"name\", \"key\", \"user\"];\nla.KeyView.prototype._ul4attrs = ul4._makeset(\"id\", \"identifier\", \"name\", \"key\", \"user\");\n\nla.AppParameter = class AppParameter extends la.Base\n{\n\t__repr__()\n\t{\n\t\treturn \"<la.AppParameter id=\" + ul4._repr(this.id) + \" identifier=\" + ul4._repr(this.identifier) + \">\";\n\t}\n};\n\nla.AppParameter.prototype._ul4onattrs = [\"id\", \"app\", \"identifier\", \"description\", \"value\"];\nla.AppParameter.prototype._ul4attrs = ul4._makeset(\"id\", \"app\", \"identifier\", \"description\", \"value\");\n\nlet classes = [\n\tla.Globals,\n\tla.App,\n\tla.View,\n\tla.DataSource,\n\tla.Record,\n\tla.BoolControl,\n\tla.IntControl,\n\tla.NumberControl,\n\tla.TextControl,\n\tla.EmailControl,\n\tla.URLControl,\n\tla.TelControl,\n\tla.PasswordControl,\n\tla.TextAreaControl,\n\tla.DateControl,\n\tla.DatetimeMinuteControl,\n\tla.DatetimeSecondControl,\n\tla.LookupControl,\n\tla.LookupSelectControl,\n\tla.LookupRadioControl,\n\tla.LookupChoiceControl,\n\tla.AppLookupControl,\n\tla.AppLookupSelectControl,\n\tla.AppLookupRadioControl,\n\tla.AppLookupChoiceControl,\n\tla.MultipleLookupControl,\n\tla.MultipleLookupSelectControl,\n\tla.MultipleLookupCheckboxControl,\n\tla.MultipleAppLookupControl,\n\tla.MultipleAppLookupSelectControl,\n\tla.MultipleAppLookupCheckboxControl,\n\tla.MultipleAppLookupChoiceControl,\n\tla.GeoControl,\n\tla.FileControl,\n\tla.ButtonControl,\n\tla.Field,\n\tla.LookupItem,\n\tla.User,\n\tla.File,\n\tla.Geo,\n\tla.NoteAttachment,\n\tla.URLAttachment,\n\tla.FileAttachment,\n\tla.ImageAttachment,\n\tla.JSONAttachment,\n\tla.Installation,\n\tla.Category,\n\tla.KeyView,\n\tla.AppParameter\n];\n\nfor (let constructor of classes)\n{\n\t// Register under the old name\n\tul4.register(\"de.livingapps.appdd.\" + constructor.name.toLowerCase(), constructor);\n\t// Register under the new name\n\tul4.register(\"de.livinglogic.livingapi.\" + constructor.name.toLowerCase(), constructor);\n}\n\n})();\n"]}