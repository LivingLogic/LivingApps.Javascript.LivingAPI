{"version":3,"file":"livingapi.js","sources":["../../src/livingapi.js"],"sourcesContent":["// Version of this Javascipt package\nimport { version } from '../package.json';\n\nexport { version };\n\nimport * as ul4 from '@livinglogic/ul4';\n\nexport class Base extends ul4.Proto\n{\n\tconstructor()\n\t{\n\t\tsuper();\n\t}\n\n\tul4ondump(encoder)\n\t{\n\t\tfor (let i = 0; i < this._ul4onattrs.length; ++i)\n\t\t\tencoder.dump(this._dumpUL4ONAttr(this._ul4onattrs[i]));\n\t}\n\n\t_dumpUL4ONAttr(name)\n\t{\n\t\treturn this[name];\n\t}\n\n\tul4onload(decoder)\n\t{\n\t\tlet i = 0;\n\t\tfor (let iter = decoder.loadcontent(); ; ++i)\n\t\t{\n\t\t\tlet iteritem = iter.next();\n\t\t\tif (iteritem.done)\n\t\t\t\tbreak;\n\t\t\tif (i < this._ul4onattrs.length)\n\t\t\t\tthis._loadUL4ONAttr(this._ul4onattrs[i], iteritem.value);\n\t\t}\n\t\tfor (; i < this._ul4onattrs.length; ++i)\n\t\t\tthis._setDefaultUL4ONAttr(this._ul4onattrs[i]);\n\t}\n\n\t_loadUL4ONAttr(name, value)\n\t{\n\t\tthis[name] = value;\n\t}\n\n\t_setDefaultUL4ONAttr(name)\n\t{\n\t\tthis[name] = null;\n\t}\n\n\t__getattr__(name)\n\t{\n\t\tif (this._ul4attrs.has(name))\n\t\t{\n\t\t\tlet value = this[name];\n\t\t\tif (typeof(value) === \"function\")\n\t\t\t{\n\t\t\t\tlet realvalue = value.bind(this);\n\t\t\t\trealvalue._ul4_name = value._ul4_name || value.name;\n\t\t\t\trealvalue._ul4_signature = value._ul4_signature;\n\t\t\t\trealvalue._ul4_needsobject = value._ul4_needsobject;\n\t\t\t\trealvalue._ul4_needscontext = value._ul4_needscontext;\n\t\t\t\treturn realvalue;\n\t\t\t}\n\t\t\treturn value;\n\t\t}\n\t\tthrow new ul4.AttributeError(this, name);\n\t}\n\n\t__repr__()\n\t{\n\t\treturn \"<\" + this.constructor.name + \">\";\n\t}\n};\n\nexport class Handler\n{\n\tsave(record)\n\t{\n\t}\n\n\tdelete(record)\n\t{\n\t}\n};\n\nexport class Globals extends Base\n{\n\tconstructor()\n\t{\n\t\tsuper();\n\t\tthis.version = null;\n\t\tthis.platform = null;\n\t\tthis.user = null;\n\t\tthis.maxdbactions = null;\n\t\tthis.maxtemplateruntime = null;\n\t\tthis.flashmessages = null;\n\t\tthis.handler = new Handler();\n\t}\n\n\t// distance between two geo coordinates (see https://de.wikipedia.org/wiki/Orthodrome#Genauere_Formel_zur_Abstandsberechnung_auf_der_Erde)\n\tstatic geodist(geo1, geo2)\n\t{\n\t\tlet sqsin = function sqsin(x) {x = Math.sin(x); return x*x};\n\t\tlet sqcos = function sqsos(x) {x = Math.cos(x); return x*x};\n\t\tconst deg2rad = Math.PI/180; // Conversion factor degree -> radians\n\t\tconst radius = 6378.137; // Equatorial radius of earth in km\n\t\tconst flat = 1/298.257223563; // Earth flattening\n\n\t\tconst lat1 = geo1.lat * deg2rad;\n\t\tconst long1 = geo1.long * deg2rad;\n\t\tconst lat2 = geo2.lat * deg2rad;\n\t\tconst long2 = geo2.long * deg2rad;\n\t\tconst F = (lat1 + lat2)/2;\n\t\tconst G = (lat1 - lat2)/2;\n\t\tconst l = (long1 - long2)/2;\n\t\tconst S = sqsin(G) * sqcos(l) + sqcos(F) * sqsin(l);\n\t\tconst C = sqcos(G) * sqcos(l) + sqsin(F) * sqsin(l);\n\t\tconst w = Math.atan(Math.sqrt(S/C));\n\t\tconst D = 2 * w * radius;\n\t\tconst T = Math.sqrt(S*C)/w;\n\t\tconst H1 = (3*T-1)/(2*C);\n\t\tconst H2 = (3*T+1)/(2*S);\n\t\tconst s = D * (1 + flat * H1 * sqsin(F) * sqcos(G) - flat * H2 * sqcos(F) * sqsin(G));\n\t\treturn s;\n\t}\n\n\t__repr__()\n\t{\n\t\treturn \"<Globals version=\" + ul4._repr(this.version) + \">\";\n\t}\n};\n\nGlobals.prototype._ul4onattrs = [\"version\", \"platform\", \"user\", \"maxdbactions\", \"maxtemplateruntime\", \"flashmessages\"];\nGlobals.prototype._ul4attrs = ul4._makeset(\"version\", \"platform\", \"user\", \"maxdbactions\", \"maxtemplateruntime\", \"flashmessages\");\n\nexport class FlashMessage extends Base\n{\n\t__repr__()\n\t{\n\t\treturn \"<FlashMessage type=\" + ul4._repr(this.type) + \" title=\" + ul4._repr(this.title) + \">\";\n\t}\n};\n\nFlashMessage.prototype._ul4onattrs = [\"timestamp\", \"type\", \"title\", \"message\"];\nFlashMessage.prototype._ul4attrs = ul4._makeset(\"timestamp\", \"type\", \"title\", \"message\");\n\nexport class App extends Base\n{\n\t__repr__()\n\t{\n\t\treturn \"<App id=\" + ul4._repr(this.id) + \" name=\" + ul4._repr(this.name) + \">\";\n\t}\n\n\tinsert(values={})\n\t{\n\t\tlet record = this.__call__(values);\n\t\tthis.globals.handler.save(this);\n\t\treturn record;\n\t}\n\n\t__call__(values={})\n\t{\n\t\tlet record = new Record(this);\n\t\tif (ul4._ismap(values))\n\t\t{\n\t\t\tfor (let [key, value] of values.entries())\n\t\t\t{\n\t\t\t\tif (!record.fields.has(key))\n\t\t\t\t\tthrow new ul4.ArgumentError(\"update() get an unexpected keyword argument \" + ul4._repr(key));\n\t\t\t\trecord.fields.get(key).value = value;\n\t\t\t}\n\t\t}\n\t\telse if (ul4._isobject(values))\n\t\t{\n\t\t\tfor (let key in values)\n\t\t\t{\n\t\t\t\tif (!record.fields.has(key))\n\t\t\t\t\tthrow new ul4.ArgumentError(\"update() get an unexpected keyword argument \" + ul4._repr(key));\n\t\t\t\trecord.fields.get(key).value = values[key];\n\t\t\t}\n\t\t}\n\t\telse\n\t\t\tthrow new ul4.TypeError(\"values must be an object or a Map\");\n\t\treturn record;\n\t}\n\n\t__getattr__(name)\n\t{\n\t\tif (name.startsWith(\"c_\"))\n\t\t{\n\t\t\tif (!this.controls.has(name.substr(2)))\n\t\t\t\tthrow new ul4.AttributeError(this, name);\n\t\t\treturn this.controls.get(name.substr(2));\n\t\t}\n\t\telse\n\t\t\treturn super.__getattr__(name);\n\t}\n};\n\nApp.prototype._ul4onattrs = [\"id\", \"globals\", \"name\", \"description\", \"language\", \"startlink\", \"iconlarge\", \"iconsmall\", \"createdby\", \"controls\", \"records\", \"recordcount\", \"installation\", \"categories\", \"params\", \"views\", \"datamanagement_identifier\", \"basetable\", \"primarykey\", \"insertprocedure\", \"updateprocedure\", \"deleteprocedure\", \"templates\", \"createdat\", \"updatedat\", \"updatedby\"];\nApp.prototype._ul4attrs = ul4._makeset(\"id\", \"globals\", \"name\", \"description\", \"language\", \"startlink\", \"iconlarge\", \"iconsmall\", \"createdat\", \"createdby\", \"updatedat\", \"updatedby\", \"controls\", \"records\", \"recordcount\", \"installation\", \"categories\", \"params\", \"views\", \"datamanagement_identifier\", \"insert\");\nul4.expose(App.prototype.__call__, [\"**values\"], {\"needsobject\": true});\nul4.expose(App.prototype.insert, [\"**values\"], {\"needsobject\": true});\n\nexport class View extends Base\n{\n\t__repr__()\n\t{\n\t\treturn \"<View id=\" + ul4._repr(this.id) + \" name=\" + ul4._repr(this.name) + \">\";\n\t}\n};\n\nView.prototype._ul4onattrs = [\"id\", \"name\", \"app\", \"order\", \"width\", \"height\", \"start\", \"end\"];\nView.prototype._ul4attrs = ul4._makeset(\"id\", \"name\", \"app\", \"order\", \"width\", \"height\", \"start\", \"end\");\n\nexport class DataSourceData extends Base\n{\n\t__repr__()\n\t{\n\t\treturn \"<DataSource.Data id=\" + ul4._repr(this.id) + \" identifier=\" + ul4._repr(this.identifier) + \">\";\n\t}\n};\n\nDataSourceData.prototype._ul4onattrs = [\"id\", \"identifier\", \"app\", \"apps\"];\nDataSourceData.prototype._ul4attrs = ul4._makeset(\"id\", \"identifier\", \"app\", \"apps\");\n\nexport class Record extends Base\n{\n\tconstructor(app)\n\t{\n\t\tsuper();\n\t\tthis.id = null;\n\t\tthis.app = app;\n\t\tthis.createdat = null;\n\t\tthis.createdby = null;\n\t\tthis.updatedat = null;\n\t\tthis.updatedby = null;\n\t\tthis.updatecount = 0;\n\t\tthis._sparsevalues = new Map();\n\t\tthis._values = null;\n\t\tthis._fields = null;\n\t\tthis.children = new Map();\n\t\tthis.attachments = null;\n\t\tthis.errors = [];\n\t\tthis._is_deleted = false;\n\t}\n\n\t__repr__()\n\t{\n\t\tlet v = [\"<Record id=\", ul4._repr(this.id)];\n\t\tfor (let field of this.fields.values())\n\t\t{\n\t\t\tif (field.control.priority)\n\t\t\t{\n\t\t\t\tv.push(\" v_\");\n\t\t\t\tv.push(field.control.identifier);\n\t\t\t\tv.push(\"=\");\n\t\t\t\tv.push(ul4._repr(field.value)); // FIXME: This might lead to infinite recursions\n\t\t\t}\n\t\t}\n\t\tv.push(\">\")\n\t\treturn v.join(\"\");\n\t}\n\n\tget values()\n\t{\n\t\tif (this._values === null)\n\t\t{\n\t\t\tthis._values = ul4._havemap ? new Map() : {};\n\t\t\tfor (let [identifier, control] of this.app.controls.entries())\n\t\t\t{\n\t\t\t\tlet fieldvalue = this._sparsevalues.get(identifier);\n\t\t\t\tif (typeof(fieldvalue) === \"undefined\")\n\t\t\t\t\tfieldvalue = null;\n\t\t\t\tthis._values.set(identifier, fieldvalue);\n\t\t\t}\n\t\t}\n\t\treturn this._values;\n\t}\n\n\tget fields()\n\t{\n\t\tif (this._fields === null)\n\t\t{\n\t\t\tthis._fields = ul4._havemap ? new Map() : {};\n\t\t\tfor (let [identifier, value] of this.values.entries())\n\t\t\t{\n\t\t\t\tlet field = new Field(this.app.controls.get(identifier), this, value);\n\t\t\t\tthis._fields.set(identifier, field);\n\t\t\t}\n\t\t}\n\t\treturn this._fields;\n\t}\n\n\tis_dirty()\n\t{\n\t\tif (this.id === null)\n\t\t\treturn true;\n\t\tfor (let field of this.fields.values())\n\t\t{\n\t\t\tif (field.is_dirty())\n\t\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\thas_errors()\n\t{\n\t\tif (this.errors.length !== 0)\n\t\t\treturn true;\n\t\tfor (let field of this.fields.values())\n\t\t{\n\t\t\tif (field.has_errors())\n\t\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tdelete()\n\t{\n\t\treturn this.app.globals.handler.delete(this);\n\t}\n\n\tsave()\n\t{\n\t\tthis.app.globals.handler.save(this);\n\t}\n\n\tupdate(values={})\n\t{\n\t\tif (ul4._ismap(values))\n\t\t{\n\t\t\tfor (let [key, value] of values.entries())\n\t\t\t{\n\t\t\t\tif (!this.fields.has(key))\n\t\t\t\t\tthrow new ul4.ArgumentError(\"update() get an unexpected keyword argument \" + ul4._repr(key));\n\t\t\t\tfields.get(key).value = value;\n\t\t\t}\n\t\t}\n\t\telse if (ul4._isobject(values))\n\t\t{\n\t\t\tfor (let key in values)\n\t\t\t{\n\t\t\t\tif (!this.fields.has(key))\n\t\t\t\t\tthrow new ul4.ArgumentError(\"update() get an unexpected keyword argument \" + ul4._repr(key));\n\t\t\t\trecord.fields.get(key).value = values[key];\n\t\t\t}\n\t\t}\n\t\telse\n\t\t\tthrow new ul4.TypeError(\"values must be an object or a Map\");\n\n\t\tthis.app.globals.handler.save(this);\n\t}\n\n\tsearch(search)\n\t{\n\t\tfor (let identifier in search)\n\t\t{\n\t\t\tlet fieldsearch = search[identifier];\n\t\t\tif (ul4._bool(fieldsearch))\n\t\t\t{\n\t\t\t\tif (!this.fields.get(identifier).search(fieldsearch))\n\t\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t}\n\n\t_dumpUL4ONAttr(name)\n\t{\n\t\tif (name === \"values\")\n\t\t\treturn this._sparsevalues;\n\t\telse\n\t\t\treturn this[name];\n\t}\n\n\t_loadUL4ONAttr(name, value)\n\t{\n\t\tif (name === \"values\")\n\t\t{\n\t\t\tthis._sparsevalues = value;\n\t\t\tthis._values = null;\n\t\t\tthis._fields = null;\n\t\t}\n\t\telse\n\t\t\tthis[name] = value;\n\t}\n\n\t__getattr__(name)\n\t{\n\t\tif (name.startsWith(\"c_\"))\n\t\t\treturn this.children.get(name.substr(2))\n\t\telse if (name.startsWith(\"f_\"))\n\t\t\treturn this.fields.get(name.substr(2))\n\t\telse if (name.startsWith(\"v_\"))\n\t\t\treturn this.values.get(name.substr(2))\n\t\telse\n\t\t\treturn this[name];\n\t}\n\n\t__setattr__(name, value)\n\t{\n\t\tif (name.startsWith(\"c_\"))\n\t\t\tthis.children[name.substr(2)] = value;\n\t\telse if (name.startsWith(\"v_\"))\n\t\t\tthis.fields.get(name.substr(2)).value = value;\n\t\telse\n\t\t\tthrow new ul4.AttributeError(this, name);\n\t}\n};\n\nRecord.prototype._ul4onattrs = [\"id\", \"app\", \"createdat\", \"createdby\", \"updatedat\", \"updatedby\", \"updatecount\", \"values\", \"attachments\", \"children\"];\nRecord.prototype._ul4attrs = ul4._makeset(\"id\", \"app\", \"createdat\", \"createdby\", \"updatedat\", \"updatedby\", \"updatecount\", \"values\", \"attachments\", \"children\");\nul4.expose(Record.prototype.is_dirty, []);\nul4.expose(Record.prototype.has_errors, []);\nul4.expose(Record.prototype.delete, []);\nul4.expose(Record.prototype.save, []);\nul4.expose(Record.prototype.update, [\"**values\"], {\"needsobject\": true});\n\nexport class Control extends Base\n{\n\t__repr__()\n\t{\n\t\treturn \"<\" + this.__type__ + \" id=\" + ul4._repr(this.id) + \" identifier=\" + ul4._repr(this.identifier) + \">\";\n\t}\n\n\t_logsearch(value, search)\n\t{\n\t\t//console.log(\"Searching for \" + ul4._repr(search.value) + \" in \" + ul4._repr(this) + \" with operator \" + search.operator + \" in value \" + ul4._repr(value));\n\t}\n\n\t// base implemntation, always returns ``false`` (i.e. \"not found\")\n\t// ``value`` is the value of the field\n\t// ``search`` is an object with information what we're searching for\n\t// keys in ``search`` are: ``operator`` (and ``value`` (if required by the operator))\n\tsearch(value, search)\n\t{\n\t\treturn false;\n\t}\n};\n\nControl.prototype.type = null;\nControl.prototype.subtype = null;\nControl.prototype._ul4onattrs = [\"id\", \"identifier\", \"field\", \"app\", \"label\", \"priority\", \"order\", \"default\", \"ininsertprocedure\", \"inupdateprocedure\"];\nControl.prototype._ul4attrs = ul4._makeset(\"id\", \"identifier\", \"field\", \"app\", \"label\", \"priority\", \"order\", \"default\", \"ininsertprocedure\", \"inupdateprocedure\");\n\nexport class BoolControl extends Control\n{\n\t// ``search`` must by ``null``, ``false`` or ``true``\n\tsearch(value, search)\n\t{\n\t\tthis._logsearch(value, search);\n\t\tif (search.operator === \"equals\")\n\t\t\treturn search.value === value;\n\t\telse\n\t\t\treturn false;\n\t}\n};\n\nBoolControl.prototype.type = \"bool\";\n\nexport class IntControl extends Control\n{\n\t// ``search.value`` must by ``null`` or an integer\n\tsearch(value, search)\n\t{\n\t\tthis._logsearch(value, search);\n\t\tif (search.operator === \"equals\")\n\t\t\treturn search.value === value;\n\t\telse\n\t\t\treturn false;\n\t}\n};\n\nIntControl.prototype.type = \"int\";\n\nexport class NumberControl extends Control\n{\n\t// ``search.value`` must by ``null`` or an integer\n\tsearch(value, search)\n\t{\n\t\tthis._logsearch(value, search);\n\t\tif (search.operator === \"equals\")\n\t\t\treturn search.value === value;\n\t\telse if (search.operator === \"range\")\n\t\t{\n\t\t\tif (value === null)\n\t\t\t\treturn false;\n\t\t\treturn (search.minvalue === null || search.minvalue <= value) && (search.maxvalue === null || value < search.maxvalue);\n\t\t}\n\t\telse\n\t\t\treturn false;\n\t}\n};\n\nNumberControl.prototype.type = \"number\";\n\nexport class StringControl extends Control\n{\n\tsearch(value, search)\n\t{\n\t\tthis._logsearch(value, search);\n\t\tif (search.operator === \"equals\")\n\t\t\treturn search.value === value;\n\t\telse if (search.operator === \"contains\")\n\t\t{\n\t\t\tif (search.value === null || value === null)\n\t\t\t\treturn search.value === value;\n\t\t\telse\n\t\t\t\treturn value.toLowerCase().indexOf(search.value.toLowerCase()) >= 0;\n\t\t}\n\t}\n};\n\nStringControl.prototype.type = \"string\";\n\nexport class TextControl extends StringControl\n{\n};\n\nTextControl.prototype.subtype = \"text\";\n\nexport class EmailControl extends StringControl\n{\n};\n\nEmailControl.prototype.subtype = \"email\";\n\nexport class URLControl extends StringControl\n{\n};\n\nURLControl.prototype.subtype = \"url\";\n\nexport class TelControl extends StringControl\n{\n};\n\nTelControl.prototype.subtype = \"tel\";\n\nexport class PasswordControl extends StringControl\n{\n};\n\nPasswordControl.prototype.subtype = \"password\";\n\nexport class TextAreaControl extends StringControl\n{\n};\n\nTextAreaControl.prototype.subtype = \"textarea\";\nTextAreaControl.prototype._ul4onattrs = StringControl.prototype._ul4onattrs.concat([\"encrypted\"]);\nTextAreaControl.prototype._ul4attrs = ul4._makeset(...StringControl.prototype._ul4attrs, \"encrypted\");\n\nexport class DateControl extends Control\n{\n\tformatstring(language)\n\t{\n\t\tlanguage = language || this.app.language;\n\n\t\tif (language === \"de\")\n\t\t\treturn \"%d.%m.%Y\";\n\t\telse\n\t\t\treturn \"%m/%d/%Y\";\n\t}\n\n\t// searchvalue must be ``null``, a ``Date`` object or a string\n\tsearch(value, search)\n\t{\n\t\tthis._logsearch(value, search);\n\n\t\tlet searchvalue = search.value;\n\t\tif (Object.prototype.toString.call(searchvalue) == \"[object Date]\")\n\t\t\tsearchvalue = ul4._format(searchvalue, this.formatstring(), this.app.language);\n\t\tif (value !== null)\n\t\t\tvalue = ul4._format(value, this.formatstring(), this.app.language);\n\n\t\tif (search.operator === \"equals\")\n\t\t\treturn searchvalue === value;\n\t\telse if (search.operator === \"contains\")\n\t\t{\n\t\t\tif (searchvalue === null || value === null)\n\t\t\t\treturn searchvalue === value;\n\t\t\telse\n\t\t\t\treturn value.toLowerCase().indexOf(searchvalue.toLowerCase()) >= 0;\n\t\t}\n\t\telse\n\t\t\treturn false;\n\t}\n};\n\nDateControl.prototype.type = \"date\";\nDateControl.prototype.subtype = \"date\";\n\nexport class DatetimeMinuteControl extends DateControl\n{\n\tformatstring(language)\n\t{\n\t\tlanguage = language || this.app.language;\n\n\t\tif (language === \"de\")\n\t\t\treturn \"%d.%m.%Y %H:%M\";\n\t\telse\n\t\t\treturn \"%m/%d/%Y %H:%M\";\n\t}\n};\n\nDatetimeMinuteControl.prototype.subtype = \"datetimeminute\";\n\nexport class DatetimeSecondControl extends DateControl\n{\n\tformatstring(language)\n\t{\n\t\tlanguage = language || this.app.language;\n\n\t\tif (language === \"de\")\n\t\t\treturn \"%d.%m.%Y %H:%M:%S\";\n\t\telse\n\t\t\treturn \"%m/%d/%Y %H:%M:%S\";\n\t}\n};\n\nDatetimeSecondControl.prototype.subtype = \"datetimesecond\";\n\nexport class LookupControl extends Control\n{\n\t// ``search.value`` must be ``null`` or a ``LookupItem`` key\n\tsearch(value, search)\n\t{\n\t\tif (search.operator === \"equals\")\n\t\t{\n\t\t\tif (value === null)\n\t\t\t\treturn search.value === null;\n\t\t\telse\n\t\t\t\treturn value.key === search.value;\n\t\t}\n\t\telse\n\t\t\treturn false;\n\t}\n};\n\nLookupControl.prototype.type = \"lookup\";\nLookupControl.prototype._ul4onattrs = Control.prototype._ul4onattrs.concat([\"lookupdata\"]);\nLookupControl.prototype._ul4attrs = ul4._makeset(...Control.prototype._ul4attrs, \"lookupdata\");\n\nexport class LookupSelectControl extends LookupControl\n{\n};\n\nLookupSelectControl.prototype.subtype = \"select\";\n\nexport class LookupRadioControl extends LookupControl\n{\n};\n\nLookupRadioControl.prototype.subtype = \"radio\";\n\nexport class LookupChoiceControl extends LookupControl\n{\n};\n\nLookupChoiceControl.prototype.subtype = \"choice\";\n\nexport class AppLookupControl extends Control\n{\n\t// ``search.value`` must be an object containing the search criteria for the referenced record\n\tsearch(value, search)\n\t{\n\t\tif (value === null || search.value === null)\n\t\t\treturn value === search.value;\n\t\telse\n\t\t\treturn value.search(search);\n\t}\n};\n\nAppLookupControl.prototype.type = \"applookup\";\nAppLookupControl.prototype._ul4onattrs = Control.prototype._ul4onattrs.concat([\"lookupapp\", \"lookupcontrols\"]);\nAppLookupControl.prototype._ul4attrs = ul4._makeset(...Control.prototype._ul4attrs, \"lookupapp\", \"lookupcontrols\");\n\nexport class AppLookupSelectControl extends AppLookupControl\n{\n};\n\nAppLookupSelectControl.prototype.subtype = \"select\";\n\nexport class AppLookupRadioControl extends AppLookupControl\n{\n};\n\nAppLookupRadioControl.prototype.subtype = \"radio\";\n\nexport class AppLookupChoiceControl extends AppLookupControl\n{\n};\n\nAppLookupChoiceControl.prototype.subtype = \"choice\";\n\nexport class MultipleLookupControl extends LookupControl\n{\n\t// search.value must be ``null`` or a ``LookupItem`` key\n\tsearch(value, search)\n\t{\n\t\tif (search.operator === \"equals\")\n\t\t{\n\t\t\tfor (let item of value)\n\t\t\t{\n\t\t\t\tif (item.key === search.value)\n\t\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\t\telse\n\t\t\treturn false;\n\t}\n};\n\nMultipleLookupControl.prototype.subtype = \"multiplelookup\";\n\nexport class MultipleLookupSelectControl extends MultipleLookupControl\n{\n};\n\nMultipleLookupSelectControl.prototype.subtype = \"select\";\n\nexport class MultipleLookupCheckboxControl extends MultipleLookupControl\n{\n};\n\nMultipleLookupCheckboxControl.prototype.subtype = \"checkbox\";\n\nexport class MultipleLookupChoiceControl extends MultipleLookupControl\n{\n};\n\nMultipleLookupChoiceControl.prototype.subtype = \"choice\";\n\nexport class MultipleAppLookupControl extends AppLookupControl\n{\n\t// ``search.value`` must be an object containing the search criteria for the referenced record\n\tsearch(value, search)\n\t{\n\t\tif (search.operator === \"equals\")\n\t\t{\n\t\t\tif (search.value === null)\n\t\t\t\treturn value.length === 0;\n\t\t\telse\n\t\t\t{\n\t\t\t\tfor (let item of value)\n\t\t\t\t{\n\t\t\t\t\tif (item.search(search.value))\n\t\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\telse\n\t\t\treturn false;\n\t}\n};\n\nMultipleAppLookupControl.prototype.type = \"multipleapplookup\";\n\nexport class MultipleAppLookupSelectControl extends MultipleAppLookupControl\n{\n};\n\nMultipleAppLookupSelectControl.prototype.subtype = \"select\";\n\nexport class MultipleAppLookupCheckboxControl extends MultipleAppLookupControl\n{\n};\n\nMultipleAppLookupCheckboxControl.prototype.subtype = \"checkbox\";\n\nexport class MultipleAppLookupChoiceControl extends MultipleAppLookupControl\n{\n};\n\nMultipleAppLookupChoiceControl.prototype.subtype = \"choice\";\n\nexport class GeoControl extends Control\n{\n};\n\nGeoControl.prototype.type = \"geo\";\n\nexport class FileControl extends Control\n{\n};\n\nFileControl.prototype.type = \"file\";\n\nexport class ButtonControl extends Control\n{\n};\n\nButtonControl.prototype.type = \"button\";\n\nexport class Field extends Base\n{\n\tconstructor(control, record, value)\n\t{\n\t\tsuper();\n\t\tthis.control = control;\n\t\tthis.record = record;\n\t\tthis._value = value;\n\t\tthis._dirty = false;\n\t\tthis.errors = [];\n\t}\n\n\tget value()\n\t{\n\t\treturn this._value;\n\t}\n\n\tset value(value)\n\t{\n\t\tlet oldvalue = this._value;\n\n\t\tif (ul4._ne(oldvalue, value))\n\t\t{\n\t\t\tthis.record.values.set(this.control.identifier, value);\n\t\t\tthis._value = value;\n\t\t\tthis._dirty = true;\n\t\t}\n\t}\n\n\tis_empty()\n\t{\n\t\treturn this._value === null || (ul4._islist(this._value) && this._value.length === 0);\n\t}\n\n\tis_dirty()\n\t{\n\t\treturn this._dirty;\n\t}\n\n\thas_errors()\n\t{\n\t\treturn this.errors.length !== 0;\n\t}\n\n\tsearch(searchvalue)\n\t{\n\t\treturn this.control.search(this.value, searchvalue);\n\t}\n\n\t__repr__()\n\t{\n\t\tlet s = \"<Field identifier=\";\n\t\ts += ul4._repr(this.control.identifier)\n\t\tif (this._dirty)\n\t\t\ts += \" is_dirty()=True\";\n\t\tif (this.errors.length !== 0)\n\t\t\ts += \" has_errors()=True\";\n\t\ts += \">\"\n\t\treturn s;\n\t}\n};\n\nexport class LookupItem extends Base\n{\n\t__repr__()\n\t{\n\t\treturn \"<LookupItem key=\" + ul4._repr(this.key) + \" label=\" + ul4._repr(this.label) + \">\";\n\t}\n};\n\nLookupItem.prototype._ul4onattrs = [\"key\", \"label\"];\nLookupItem.prototype._ul4attrs = ul4._makeset(\"key\", \"label\");\n\nexport class User extends Base\n{\n\t__repr__()\n\t{\n\t\treturn \"<User id=\" + ul4._repr(this.id) + \" firstname=\" + ul4._repr(this.firstname) + \" surname=\" + ul4._repr(this.surname) + \" email=\" + ul4._repr(this.email) + \">\";\n\t}\n};\n\nUser.prototype._ul4onattrs = [\"_id\", \"id\", \"gender\", \"firstname\", \"surname\", \"initials\", \"email\", \"language\", \"avatarsmall\", \"avatarlarge\", \"keyviews\"];\nUser.prototype._ul4attrs = ul4._makeset(\"_id\", \"id\", \"gender\", \"firstname\", \"surname\", \"initials\", \"email\", \"language\", \"avatarsmall\", \"avatarlarge\", \"keyviews\");\n\nexport class File extends Base\n{\n\t__repr__()\n\t{\n\t\treturn \"<File id=\" + ul4._repr(this.id) + \" url=\" + ul4._repr(this.url) + \" filename=\" + ul4._repr(this.filename) + \">\";\n\t}\n};\n\nFile.prototype._ul4onattrs = [\"id\", \"url\", \"filename\", \"mimetype\", \"width\", \"height\", \"internalid\", \"createdat\", \"size\"];\nFile.prototype._ul4attrs = ul4._makeset(\"id\", \"url\", \"filename\", \"mimetype\", \"width\", \"height\", \"size\", \"createdat\");\n\nexport class Geo extends Base\n{\n\tconstructor(lat, long, info)\n\t{\n\t\tsuper();\n\t\tthis.lat = lat;\n\t\tthis.long = long;\n\t\tthis.info = info;\n\t}\n\n\t__repr__()\n\t{\n\t\treturn \"<Geo lat=\" + ul4._repr(this.lat) + \" long=\" + ul4._repr(this.long) + \" info=\" + ul4._repr(this.info) + \">\";\n\t}\n};\n\nGeo.prototype._ul4onattrs = [\"lat\", \"long\", \"info\"];\nGeo.prototype._ul4attrs = ul4._makeset(\"lat\", \"long\", \"info\");\n\nexport class Attachment extends Base\n{\n\t__repr__()\n\t{\n\t\treturn \"<\" + this.__type__ + \" id=\" + ul4._repr(this.id) + \" label=\" + ul4._repr(this.label) + \">\";\n\t}\n};\n\nAttachment.prototype._ul4onattrs = [\"id\", \"record\", \"label\", \"active\"];\nAttachment.prototype._ul4attrs = ul4._makeset(\"id\", \"record\", \"label\", \"active\");\n\nexport class NoteAttachment extends Attachment\n{\n};\n\nNoteAttachment.prototype.type = \"noteattachment\";\nNoteAttachment.prototype._ul4onattrs = Attachment.prototype._ul4onattrs.concat([\"value\"]);\nNoteAttachment.prototype._ul4attrs = ul4._makeset(...Attachment.prototype._ul4onattrs, \"value\");\n\nexport class URLAttachment extends Attachment\n{\n};\n\nURLAttachment.prototype.type = \"urlattachment\";\nURLAttachment.prototype._ul4onattrs = Attachment.prototype._ul4onattrs.concat([\"value\"]);\nURLAttachment.prototype._ul4attrs = ul4._makeset(...Attachment.prototype._ul4onattrs, \"value\");\n\nexport class FileAttachment extends Attachment\n{\n};\n\nFileAttachment.prototype.type = \"fileattachment\";\nFileAttachment.prototype._ul4onattrs = Attachment.prototype._ul4onattrs.concat([\"value\"]);\nFileAttachment.prototype._ul4attrs = ul4._makeset(...Attachment.prototype._ul4onattrs, \"value\");\n\nexport class ImageAttachment extends Attachment\n{\n};\n\nImageAttachment.prototype.type = \"imageattachment\";\nImageAttachment.prototype._ul4onattrs = Attachment.prototype._ul4onattrs.concat([\"original\", \"thumb\", \"small\", \"medium\", \"large\"]);\nImageAttachment.prototype._ul4attrs = ul4._makeset(...Attachment.prototype._ul4onattrs, \"original\", \"thumb\", \"small\", \"medium\", \"large\");\n\nexport class JSONAttachment extends Attachment\n{\n\t_dumpUL4ONAttr(name)\n\t{\n\t\tif (name === \"value\")\n\t\t\treturn ul4._asjson(this.value);\n\t\telse\n\t\t\treturn this[name];\n\t}\n\n\t_loadUL4ONAttr(name, value)\n\t{\n\t\tif (name === \"value\")\n\t\t\tthis.value = ul4._fromjson(value);\n\t\telse\n\t\t\tthis[name] = value\n\t}\n};\n\nJSONAttachment.prototype.type = \"jsonattachment\";\nJSONAttachment.prototype._ul4onattrs = Attachment.prototype._ul4onattrs.concat([\"value\"]);\nJSONAttachment.prototype._ul4attrs = ul4._makeset(...Attachment.prototype._ul4onattrs, \"value\");\n\nexport class Installation extends Base\n{\n\t__repr__()\n\t{\n\t\treturn \"<Installation id=\" + ul4._repr(this.id) + \" name=\" + ul4._repr(this.name) + \">\";\n\t}\n};\n\nInstallation.prototype._ul4onattrs = [\"id\", \"name\"];\nInstallation.prototype._ul4attrs = ul4._makeset(\"id\", \"name\");\n\nexport class Category extends Base\n{\n\t__repr__()\n\t{\n\t\tlet v = [];\n\t\tlet category = this;\n\t\twhile (category !== null)\n\t\t{\n\t\t\tv.splice(0, 0, category.identifier);\n\t\t\tcategory = category.parent;\n\t\t}\n\t\treturn \"<Category id=\" + ul4._repr(this.id) + \" identifierpath=\" + ul4._repr(v.join(\"/\")) +  + \" name=\" + ul4._repr(this.name) + \">\";\n\t}\n};\n\nCategory.prototype._ul4onattrs = [\"id\", \"identifier\", \"name\", \"order\", \"parent\", \"children\", \"apps\"];\nCategory.prototype._ul4attrs = ul4._makeset(\"id\", \"identifier\", \"name\", \"order\", \"parent\", \"children\", \"apps\");\n\nexport class KeyView extends Base\n{\n\t__repr__()\n\t{\n\t\treturn \"<KeyView id=\" + ul4._repr(this.id) + \" identifier=\" + ul4._repr(this.identifier) + \">\";\n\t}\n};\n\nKeyView.prototype._ul4onattrs = [\"id\", \"identifier\", \"name\", \"key\", \"user\"];\nKeyView.prototype._ul4attrs = ul4._makeset(\"id\", \"identifier\", \"name\", \"key\", \"user\");\n\nexport class AppParameter extends Base\n{\n\t__repr__()\n\t{\n\t\treturn \"<AppParameter id=\" + ul4._repr(this.id) + \" identifier=\" + ul4._repr(this.identifier) + \">\";\n\t}\n};\n\nAppParameter.prototype._ul4onattrs = [\"id\", \"app\", \"identifier\", \"description\", \"value\"];\nAppParameter.prototype._ul4attrs = ul4._makeset(\"id\", \"app\", \"identifier\", \"description\", \"value\");\n\nlet classes = [\n\tGlobals,\n\tFlashMessage,\n\tApp,\n\tView,\n\tDataSourceData,\n\tRecord,\n\tBoolControl,\n\tIntControl,\n\tNumberControl,\n\tTextControl,\n\tEmailControl,\n\tURLControl,\n\tTelControl,\n\tPasswordControl,\n\tTextAreaControl,\n\tDateControl,\n\tDatetimeMinuteControl,\n\tDatetimeSecondControl,\n\tLookupControl,\n\tLookupSelectControl,\n\tLookupRadioControl,\n\tLookupChoiceControl,\n\tAppLookupControl,\n\tAppLookupSelectControl,\n\tAppLookupRadioControl,\n\tAppLookupChoiceControl,\n\tMultipleLookupControl,\n\tMultipleLookupSelectControl,\n\tMultipleLookupCheckboxControl,\n\tMultipleLookupChoiceControl,\n\tMultipleAppLookupControl,\n\tMultipleAppLookupSelectControl,\n\tMultipleAppLookupCheckboxControl,\n\tMultipleAppLookupChoiceControl,\n\tGeoControl,\n\tFileControl,\n\tButtonControl,\n\tField,\n\tLookupItem,\n\tUser,\n\tFile,\n\tGeo,\n\tNoteAttachment,\n\tURLAttachment,\n\tFileAttachment,\n\tImageAttachment,\n\tJSONAttachment,\n\tInstallation,\n\tCategory,\n\tKeyView,\n\tAppParameter\n];\n\nfor (let constructor of classes)\n{\n\tul4.register(\"de.livinglogic.livingapi.\" + constructor.name.toLowerCase(), constructor);\n}\n"],"names":["Base","encoder","i","_ul4onattrs","length","dump","_dumpUL4ONAttr","name","decoder","iter","loadcontent","iteritem","next","done","_loadUL4ONAttr","value","_setDefaultUL4ONAttr","_ul4attrs","has","realvalue","bind","_ul4_name","_ul4_signature","_ul4_needsobject","_ul4_needscontext","ul4","constructor","Handler","record","Globals","version","platform","user","maxdbactions","maxtemplateruntime","flashmessages","handler","geo1","geo2","sqsin","x","Math","sin","sqcos","sqsos","cos","deg2rad","PI","radius","flat","lat1","lat","long1","lat2","long2","F","G","l","S","C","w","atan","sqrt","D","T","H1","H2","s","prototype","FlashMessage","type","title","App","id","values","__call__","globals","save","Record","entries","key","fields","get","startsWith","controls","substr","insert","View","DataSourceData","identifier","app","createdat","createdby","updatedat","updatedby","updatecount","_sparsevalues","Map","_values","_fields","children","attachments","errors","_is_deleted","v","field","control","priority","push","join","is_dirty","has_errors","search","fieldsearch","fieldvalue","set","Field","update","Control","__type__","subtype","BoolControl","_logsearch","operator","IntControl","NumberControl","minvalue","maxvalue","StringControl","toLowerCase","indexOf","TextControl","EmailControl","URLControl","TelControl","PasswordControl","TextAreaControl","concat","DateControl","language","searchvalue","Object","toString","call","formatstring","DatetimeMinuteControl","DatetimeSecondControl","LookupControl","LookupSelectControl","LookupRadioControl","LookupChoiceControl","AppLookupControl","AppLookupSelectControl","AppLookupRadioControl","AppLookupChoiceControl","MultipleLookupControl","item","MultipleLookupSelectControl","MultipleLookupCheckboxControl","MultipleLookupChoiceControl","MultipleAppLookupControl","MultipleAppLookupSelectControl","MultipleAppLookupCheckboxControl","MultipleAppLookupChoiceControl","GeoControl","FileControl","ButtonControl","_value","_dirty","oldvalue","LookupItem","label","User","firstname","surname","email","File","url","filename","Geo","long","info","Attachment","NoteAttachment","URLAttachment","FileAttachment","ImageAttachment","JSONAttachment","Installation","Category","category","splice","parent","KeyView","AppParameter","classes"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAOaA,IAAb;;AAAA;;;kBAGC;;;;;;;;8BAIUC,OAPX,EAQC;WACM,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKC,WAAL,CAAiBC,MAArC,EAA6C,EAAEF,CAA/C;QACCD,OAAO,CAACI,IAAR,CAAa,KAAKC,cAAL,CAAoB,KAAKH,WAAL,CAAiBD,CAAjB,CAApB,CAAb;;;;;mCAGaK,IAbhB,EAcC;aACQ,KAAKA,IAAL,CAAP;;;;8BAGSC,OAlBX,EAmBC;UACKN,CAAC,GAAG,CAAR;;WACK,IAAIO,IAAI,GAAGD,OAAO,CAACE,WAAR,EAAhB,GAAyC,EAAER,CAA3C,EACA;YACKS,QAAQ,GAAGF,IAAI,CAACG,IAAL,EAAf;YACID,QAAQ,CAACE,IAAb,EACC;YACGX,CAAC,GAAG,KAAKC,WAAL,CAAiBC,MAAzB,EACC,KAAKU,cAAL,CAAoB,KAAKX,WAAL,CAAiBD,CAAjB,CAApB,EAAyCS,QAAQ,CAACI,KAAlD;;;aAEKb,CAAC,GAAG,KAAKC,WAAL,CAAiBC,MAA5B,EAAoC,EAAEF,CAAtC;aACMc,oBAAL,CAA0B,KAAKb,WAAL,CAAiBD,CAAjB,CAA1B;;;;;mCAGaK,IAjChB,EAiCsBQ,KAjCtB,EAkCC;WACMR,IAAL,IAAaQ,KAAb;;;;yCAGoBR,IAtCtB,EAuCC;WACMA,IAAL,IAAa,IAAb;;;;gCAGWA,IA3Cb,EA4CC;UACK,KAAKU,SAAL,CAAeC,GAAf,CAAmBX,IAAnB,CAAJ,EACA;YACKQ,KAAK,GAAG,KAAKR,IAAL,CAAZ;;YACI,OAAOQ,KAAP,KAAkB,UAAtB,EACA;cACKI,SAAS,GAAGJ,KAAK,CAACK,IAAN,CAAW,IAAX,CAAhB;UACAD,SAAS,CAACE,SAAV,GAAsBN,KAAK,CAACM,SAAN,IAAmBN,KAAK,CAACR,IAA/C;UACAY,SAAS,CAACG,cAAV,GAA2BP,KAAK,CAACO,cAAjC;UACAH,SAAS,CAACI,gBAAV,GAA6BR,KAAK,CAACQ,gBAAnC;UACAJ,SAAS,CAACK,iBAAV,GAA8BT,KAAK,CAACS,iBAApC;iBACOL,SAAP;;;eAEMJ,KAAP;;;YAEK,IAAIU,cAAJ,CAAuB,IAAvB,EAA6BlB,IAA7B,CAAN;;;;+BAID;aACQ,MAAM,KAAKmB,WAAL,CAAiBnB,IAAvB,GAA8B,GAArC;;;;;EAhEwBkB,KAA1B;AAkEC,IAEYE,OAAb;;AAAA;;;;;;;yBAEMC,MAFN,EAGC;;;4BAGOA,MANR,EAOC;;;;;AAEA,IAEYC,OAAb;;AAAA;;;qBAGC;;;;;;UAEMC,OAAL,GAAe,IAAf;UACKC,QAAL,GAAgB,IAAhB;UACKC,IAAL,GAAY,IAAZ;UACKC,YAAL,GAAoB,IAApB;UACKC,kBAAL,GAA0B,IAA1B;UACKC,aAAL,GAAqB,IAArB;UACKC,OAAL,GAAe,IAAIT,OAAJ,EAAf;;GAXF;;;;;+BA0CC;aACQ,sBAAsBF,KAAA,CAAU,KAAKK,OAAf,CAAtB,GAAgD,GAAvD;;;;4BA5BcO,IAfhB,EAesBC,IAftB,EAgBC;UACKC,KAAK,GAAG,SAASA,KAAT,CAAeC,CAAf,EAAkB;QAACA,CAAC,GAAGC,IAAI,CAACC,GAAL,CAASF,CAAT,CAAJ;eAAwBA,CAAC,GAACA,CAAT;OAAhD;;UACIG,KAAK,GAAG,SAASC,KAAT,CAAeJ,CAAf,EAAkB;QAACA,CAAC,GAAGC,IAAI,CAACI,GAAL,CAASL,CAAT,CAAJ;eAAwBA,CAAC,GAACA,CAAT;OAAhD;;UACMM,OAAO,GAAGL,IAAI,CAACM,EAAL,GAAQ,GAAxB,CAHD;;UAIOC,MAAM,GAAG,QAAf,CAJD;;UAKOC,IAAI,GAAG,IAAE,aAAf,CALD;;UAOOC,IAAI,GAAGb,IAAI,CAACc,GAAL,GAAWL,OAAxB;UACMM,KAAK,GAAGf,IAAI,QAAJ,GAAYS,OAA1B;UACMO,IAAI,GAAGf,IAAI,CAACa,GAAL,GAAWL,OAAxB;UACMQ,KAAK,GAAGhB,IAAI,QAAJ,GAAYQ,OAA1B;UACMS,CAAC,GAAG,CAACL,IAAI,GAAGG,IAAR,IAAc,CAAxB;UACMG,CAAC,GAAG,CAACN,IAAI,GAAGG,IAAR,IAAc,CAAxB;UACMI,CAAC,GAAG,CAACL,KAAK,GAAGE,KAAT,IAAgB,CAA1B;UACMI,CAAC,GAAGnB,KAAK,CAACiB,CAAD,CAAL,GAAWb,KAAK,CAACc,CAAD,CAAhB,GAAsBd,KAAK,CAACY,CAAD,CAAL,GAAWhB,KAAK,CAACkB,CAAD,CAAhD;UACME,CAAC,GAAGhB,KAAK,CAACa,CAAD,CAAL,GAAWb,KAAK,CAACc,CAAD,CAAhB,GAAsBlB,KAAK,CAACgB,CAAD,CAAL,GAAWhB,KAAK,CAACkB,CAAD,CAAhD;UACMG,CAAC,GAAGnB,IAAI,CAACoB,IAAL,CAAUpB,IAAI,CAACqB,IAAL,CAAUJ,CAAC,GAACC,CAAZ,CAAV,CAAV;UACMI,CAAC,GAAG,IAAIH,CAAJ,GAAQZ,MAAlB;UACMgB,CAAC,GAAGvB,IAAI,CAACqB,IAAL,CAAUJ,CAAC,GAACC,CAAZ,IAAeC,CAAzB;UACMK,EAAE,GAAG,CAAC,IAAED,CAAF,GAAI,CAAL,KAAS,IAAEL,CAAX,CAAX;UACMO,EAAE,GAAG,CAAC,IAAEF,CAAF,GAAI,CAAL,KAAS,IAAEN,CAAX,CAAX;UACMS,CAAC,GAAGJ,CAAC,IAAI,IAAId,IAAI,GAAGgB,EAAP,GAAY1B,KAAK,CAACgB,CAAD,CAAjB,GAAuBZ,KAAK,CAACa,CAAD,CAAhC,GAAsCP,IAAI,GAAGiB,EAAP,GAAYvB,KAAK,CAACY,CAAD,CAAjB,GAAuBhB,KAAK,CAACiB,CAAD,CAAtE,CAAX;aACOW,CAAP;;;;;EAtC2BnE,IAA7B;AA6CC,AAED6B,OAAO,CAACuC,SAAR,CAAkBjE,WAAlB,GAAgC,CAAC,SAAD,EAAY,UAAZ,EAAwB,MAAxB,EAAgC,cAAhC,EAAgD,oBAAhD,EAAsE,eAAtE,CAAhC;AACA0B,OAAO,CAACuC,SAAR,CAAkBnD,SAAlB,GAA8BQ,QAAA,CAAa,SAAb,EAAwB,UAAxB,EAAoC,MAApC,EAA4C,cAA5C,EAA4D,oBAA5D,EAAkF,eAAlF,CAA9B;AAEA,IAAa4C,YAAb;;AAAA;;;;;;;;;;;+BAGC;aACQ,wBAAwB5C,KAAA,CAAU,KAAK6C,IAAf,CAAxB,GAA+C,SAA/C,GAA2D7C,KAAA,CAAU,KAAK8C,KAAf,CAA3D,GAAmF,GAA1F;;;;;EAJgCvE,IAAlC;AAMC,AAEDqE,YAAY,CAACD,SAAb,CAAuBjE,WAAvB,GAAqC,CAAC,WAAD,EAAc,MAAd,EAAsB,OAAtB,EAA+B,SAA/B,CAArC;AACAkE,YAAY,CAACD,SAAb,CAAuBnD,SAAvB,GAAmCQ,QAAA,CAAa,WAAb,EAA0B,MAA1B,EAAkC,OAAlC,EAA2C,SAA3C,CAAnC;AAEA,IAAa+C,GAAb;;AAAA;;;;;;;;;;;+BAGC;aACQ,aAAa/C,KAAA,CAAU,KAAKgD,EAAf,CAAb,GAAkC,QAAlC,GAA6ChD,KAAA,CAAU,KAAKlB,IAAf,CAA7C,GAAoE,GAA3E;;;;6BAID;UADOmE,MACP,uEADc,EACd;;UACK9C,MAAM,GAAG,KAAK+C,QAAL,CAAcD,MAAd,CAAb;;WACKE,OAAL,CAAaxC,OAAb,CAAqByC,IAArB,CAA0B,IAA1B;aACOjD,MAAP;;;;+BAID;UADS8C,MACT,uEADgB,EAChB;UACK9C,MAAM,GAAG,IAAIkD,MAAJ,CAAW,IAAX,CAAb;;UACIrD,MAAA,CAAWiD,MAAX,CAAJ,EACA;;;;;;+BAC0BA,MAAM,CAACK,OAAP,EAAzB,8HACA;;gBADUC,GACV;gBADejE,KACf;;gBACK,CAACa,MAAM,CAACqD,MAAP,CAAc/D,GAAd,CAAkB8D,GAAlB,CAAL,EACC,MAAM,IAAIvD,aAAJ,CAAsB,iDAAiDA,KAAA,CAAUuD,GAAV,CAAvE,CAAN;YACDpD,MAAM,CAACqD,MAAP,CAAcC,GAAd,CAAkBF,GAAlB,EAAuBjE,KAAvB,GAA+BA,KAA/B;;;;;;;;;;;;;;;;OANF,MASK,IAAIU,SAAA,CAAciD,MAAd,CAAJ,EACL;aACM,IAAIM,GAAT,IAAgBN,MAAhB,EACA;cACK,CAAC9C,MAAM,CAACqD,MAAP,CAAc/D,GAAd,CAAkB8D,GAAlB,CAAL,EACC,MAAM,IAAIvD,aAAJ,CAAsB,iDAAiDA,KAAA,CAAUuD,GAAV,CAAvE,CAAN;UACDpD,MAAM,CAACqD,MAAP,CAAcC,GAAd,CAAkBF,GAAlB,EAAuBjE,KAAvB,GAA+B2D,MAAM,CAACM,GAAD,CAArC;;OANG,MAUJ,MAAM,IAAIvD,WAAJ,CAAkB,mCAAlB,CAAN;;aACMG,MAAP;;;;gCAGWrB,IAxCb,EAyCC;UACKA,IAAI,CAAC4E,UAAL,CAAgB,IAAhB,CAAJ,EACA;YACK,CAAC,KAAKC,QAAL,CAAclE,GAAd,CAAkBX,IAAI,CAAC8E,MAAL,CAAY,CAAZ,CAAlB,CAAL,EACC,MAAM,IAAI5D,cAAJ,CAAuB,IAAvB,EAA6BlB,IAA7B,CAAN;eACM,KAAK6E,QAAL,CAAcF,GAAd,CAAkB3E,IAAI,CAAC8E,MAAL,CAAY,CAAZ,CAAlB,CAAP;OAJD,MAOC,4EAAyB9E,IAAzB;;;;;EAjDsBP,IAAzB;AAmDC,AAEDwE,GAAG,CAACJ,SAAJ,CAAcjE,WAAd,GAA4B,CAAC,IAAD,EAAO,SAAP,EAAkB,MAAlB,EAA0B,aAA1B,EAAyC,UAAzC,EAAqD,WAArD,EAAkE,WAAlE,EAA+E,WAA/E,EAA4F,WAA5F,EAAyG,UAAzG,EAAqH,SAArH,EAAgI,aAAhI,EAA+I,cAA/I,EAA+J,YAA/J,EAA6K,QAA7K,EAAuL,OAAvL,EAAgM,2BAAhM,EAA6N,WAA7N,EAA0O,YAA1O,EAAwP,iBAAxP,EAA2Q,iBAA3Q,EAA8R,iBAA9R,EAAiT,WAAjT,EAA8T,WAA9T,EAA2U,WAA3U,EAAwV,WAAxV,CAA5B;AACAqE,GAAG,CAACJ,SAAJ,CAAcnD,SAAd,GAA0BQ,QAAA,CAAa,IAAb,EAAmB,SAAnB,EAA8B,MAA9B,EAAsC,aAAtC,EAAqD,UAArD,EAAiE,WAAjE,EAA8E,WAA9E,EAA2F,WAA3F,EAAwG,WAAxG,EAAqH,WAArH,EAAkI,WAAlI,EAA+I,WAA/I,EAA4J,UAA5J,EAAwK,SAAxK,EAAmL,aAAnL,EAAkM,cAAlM,EAAkN,YAAlN,EAAgO,QAAhO,EAA0O,OAA1O,EAAmP,2BAAnP,EAAgR,QAAhR,CAA1B;AACAA,MAAA,CAAW+C,GAAG,CAACJ,SAAJ,CAAcO,QAAzB,EAAmC,CAAC,UAAD,CAAnC,EAAiD;iBAAgB;CAAjE;AACAlD,MAAA,CAAW+C,GAAG,CAACJ,SAAJ,CAAckB,MAAzB,EAAiC,CAAC,UAAD,CAAjC,EAA+C;iBAAgB;CAA/D;AAEA,IAAaC,IAAb;;AAAA;;;;;;;;;;;+BAGC;aACQ,cAAc9D,KAAA,CAAU,KAAKgD,EAAf,CAAd,GAAmC,QAAnC,GAA8ChD,KAAA,CAAU,KAAKlB,IAAf,CAA9C,GAAqE,GAA5E;;;;;EAJwBP,IAA1B;AAMC,AAEDuF,IAAI,CAACnB,SAAL,CAAejE,WAAf,GAA6B,CAAC,IAAD,EAAO,MAAP,EAAe,KAAf,EAAsB,OAAtB,EAA+B,OAA/B,EAAwC,QAAxC,EAAkD,OAAlD,EAA2D,KAA3D,CAA7B;AACAoF,IAAI,CAACnB,SAAL,CAAenD,SAAf,GAA2BQ,QAAA,CAAa,IAAb,EAAmB,MAAnB,EAA2B,KAA3B,EAAkC,OAAlC,EAA2C,OAA3C,EAAoD,QAApD,EAA8D,OAA9D,EAAuE,KAAvE,CAA3B;AAEA,IAAa+D,cAAb;;AAAA;;;;;;;;;;;+BAGC;aACQ,yBAAyB/D,KAAA,CAAU,KAAKgD,EAAf,CAAzB,GAA8C,cAA9C,GAA+DhD,KAAA,CAAU,KAAKgE,UAAf,CAA/D,GAA4F,GAAnG;;;;;EAJkCzF,IAApC;AAMC,AAEDwF,cAAc,CAACpB,SAAf,CAAyBjE,WAAzB,GAAuC,CAAC,IAAD,EAAO,YAAP,EAAqB,KAArB,EAA4B,MAA5B,CAAvC;AACAqF,cAAc,CAACpB,SAAf,CAAyBnD,SAAzB,GAAqCQ,QAAA,CAAa,IAAb,EAAmB,YAAnB,EAAiC,KAAjC,EAAwC,MAAxC,CAArC;AAEA,IAAaqD,MAAb;;AAAA;;;kBAEaY,GAAZ,EACA;;;;;;WAEMjB,EAAL,GAAU,IAAV;WACKiB,GAAL,GAAWA,GAAX;WACKC,SAAL,GAAiB,IAAjB;WACKC,SAAL,GAAiB,IAAjB;WACKC,SAAL,GAAiB,IAAjB;WACKC,SAAL,GAAiB,IAAjB;WACKC,WAAL,GAAmB,CAAnB;WACKC,aAAL,GAAqB,IAAIC,GAAJ,EAArB;WACKC,OAAL,GAAe,IAAf;WACKC,OAAL,GAAe,IAAf;WACKC,QAAL,GAAgB,IAAIH,GAAJ,EAAhB;WACKI,WAAL,GAAmB,IAAnB;WACKC,MAAL,GAAc,EAAd;WACKC,WAAL,GAAmB,KAAnB;;;;;;+BAID;UACKC,CAAC,GAAG,CAAC,aAAD,EAAgB/E,KAAA,CAAU,KAAKgD,EAAf,CAAhB,CAAR;;;;;;8BACkB,KAAKQ,MAAL,CAAYP,MAAZ,EAAlB,mIACA;cADS+B,KACT;;cACKA,KAAK,CAACC,OAAN,CAAcC,QAAlB,EACA;YACCH,CAAC,CAACI,IAAF,CAAO,KAAP;YACAJ,CAAC,CAACI,IAAF,CAAOH,KAAK,CAACC,OAAN,CAAcjB,UAArB;YACAe,CAAC,CAACI,IAAF,CAAO,GAAP;YACAJ,CAAC,CAACI,IAAF,CAAOnF,KAAA,CAAUgF,KAAK,CAAC1F,KAAhB,CAAP,EAJD;;;;;;;;;;;;;;;;;;MAODyF,CAAC,CAACI,IAAF,CAAO,GAAP;aACOJ,CAAC,CAACK,IAAF,CAAO,EAAP,CAAP;;;;+BAkCD;UACK,KAAKpC,EAAL,KAAY,IAAhB,EACC,OAAO,IAAP;;;;;;8BACiB,KAAKQ,MAAL,CAAYP,MAAZ,EAAlB,mIACA;cADS+B,KACT;cACKA,KAAK,CAACK,QAAN,EAAJ,EACC,OAAO,IAAP;;;;;;;;;;;;;;;;;aAEK,KAAP;;;;iCAID;UACK,KAAKR,MAAL,CAAYlG,MAAZ,KAAuB,CAA3B,EACC,OAAO,IAAP;;;;;;8BACiB,KAAK6E,MAAL,CAAYP,MAAZ,EAAlB,mIACA;cADS+B,KACT;cACKA,KAAK,CAACM,UAAN,EAAJ,EACC,OAAO,IAAP;;;;;;;;;;;;;;;;;aAEK,KAAP;;;;8BAID;aACQ,KAAKrB,GAAL,CAASd,OAAT,CAAiBxC,OAAjB,WAAgC,IAAhC,CAAP;;;;2BAID;WACMsD,GAAL,CAASd,OAAT,CAAiBxC,OAAjB,CAAyByC,IAAzB,CAA8B,IAA9B;;;;6BAID;UADOH,MACP,uEADc,EACd;;UACKjD,MAAA,CAAWiD,MAAX,CAAJ,EACA;;;;;;gCAC0BA,MAAM,CAACK,OAAP,EAAzB,mIACA;;gBADUC,GACV;gBADejE,KACf;;gBACK,CAAC,KAAKkE,MAAL,CAAY/D,GAAZ,CAAgB8D,GAAhB,CAAL,EACC,MAAM,IAAIvD,aAAJ,CAAsB,iDAAiDA,KAAA,CAAUuD,GAAV,CAAvE,CAAN;YACDC,MAAM,CAACC,GAAP,CAAWF,GAAX,EAAgBjE,KAAhB,GAAwBA,KAAxB;;;;;;;;;;;;;;;;OANF,MASK,IAAIU,SAAA,CAAciD,MAAd,CAAJ,EACL;aACM,IAAIM,GAAT,IAAgBN,MAAhB,EACA;cACK,CAAC,KAAKO,MAAL,CAAY/D,GAAZ,CAAgB8D,GAAhB,CAAL,EACC,MAAM,IAAIvD,aAAJ,CAAsB,iDAAiDA,KAAA,CAAUuD,GAAV,CAAvE,CAAN;UACDpD,MAAM,CAACqD,MAAP,CAAcC,GAAd,CAAkBF,GAAlB,EAAuBjE,KAAvB,GAA+B2D,MAAM,CAACM,GAAD,CAArC;;OANG,MAUJ,MAAM,IAAIvD,WAAJ,CAAkB,mCAAlB,CAAN;;WAEIiE,GAAL,CAASd,OAAT,CAAiBxC,OAAjB,CAAyByC,IAAzB,CAA8B,IAA9B;;;;2BAGMmC,OAhIR,EAiIC;WACM,IAAIvB,UAAT,IAAuBuB,OAAvB,EACA;YACKC,WAAW,GAAGD,OAAM,CAACvB,UAAD,CAAxB;;YACIhE,KAAA,CAAUwF,WAAV,CAAJ,EACA;cACK,CAAC,KAAKhC,MAAL,CAAYC,GAAZ,CAAgBO,UAAhB,EAA4BuB,MAA5B,CAAmCC,WAAnC,CAAL,EACC,OAAO,KAAP;;;;aAGI,IAAP;;;;mCAGc1G,IA9IhB,EA+IC;UACKA,IAAI,KAAK,QAAb,EACC,OAAO,KAAKyF,aAAZ,CADD,KAGC,OAAO,KAAKzF,IAAL,CAAP;;;;mCAGaA,IAtJhB,EAsJsBQ,KAtJtB,EAuJC;UACKR,IAAI,KAAK,QAAb,EACA;aACMyF,aAAL,GAAqBjF,KAArB;aACKmF,OAAL,GAAe,IAAf;aACKC,OAAL,GAAe,IAAf;OAJD,MAOC,KAAK5F,IAAL,IAAaQ,KAAb;;;;gCAGUR,IAlKb,EAmKC;UACKA,IAAI,CAAC4E,UAAL,CAAgB,IAAhB,CAAJ,EACC,OAAO,KAAKiB,QAAL,CAAclB,GAAd,CAAkB3E,IAAI,CAAC8E,MAAL,CAAY,CAAZ,CAAlB,CAAP,CADD,KAEK,IAAI9E,IAAI,CAAC4E,UAAL,CAAgB,IAAhB,CAAJ,EACJ,OAAO,KAAKF,MAAL,CAAYC,GAAZ,CAAgB3E,IAAI,CAAC8E,MAAL,CAAY,CAAZ,CAAhB,CAAP,CADI,KAEA,IAAI9E,IAAI,CAAC4E,UAAL,CAAgB,IAAhB,CAAJ,EACJ,OAAO,KAAKT,MAAL,CAAYQ,GAAZ,CAAgB3E,IAAI,CAAC8E,MAAL,CAAY,CAAZ,CAAhB,CAAP,CADI,KAGJ,OAAO,KAAK9E,IAAL,CAAP;;;;gCAGUA,IA9Kb,EA8KmBQ,KA9KnB,EA+KC;UACKR,IAAI,CAAC4E,UAAL,CAAgB,IAAhB,CAAJ,EACC,KAAKiB,QAAL,CAAc7F,IAAI,CAAC8E,MAAL,CAAY,CAAZ,CAAd,IAAgCtE,KAAhC,CADD,KAEK,IAAIR,IAAI,CAAC4E,UAAL,CAAgB,IAAhB,CAAJ,EACJ,KAAKF,MAAL,CAAYC,GAAZ,CAAgB3E,IAAI,CAAC8E,MAAL,CAAY,CAAZ,CAAhB,EAAgCtE,KAAhC,GAAwCA,KAAxC,CADI,KAGJ,MAAM,IAAIU,cAAJ,CAAuB,IAAvB,EAA6BlB,IAA7B,CAAN;;;;wBA9IF;UACK,KAAK2F,OAAL,KAAiB,IAArB,EACA;aACMA,OAAL,GAAezE,QAAA,GAAe,IAAIwE,GAAJ,EAAf,GAA2B,EAA1C;;;;;;gCACkC,KAAKP,GAAL,CAASN,QAAT,CAAkBL,OAAlB,EAAlC,mIACA;;gBADUU,UACV;gBADsBiB,OACtB;;gBACKQ,UAAU,GAAG,KAAKlB,aAAL,CAAmBd,GAAnB,CAAuBO,UAAvB,CAAjB;;gBACI,OAAOyB,UAAP,KAAuB,WAA3B,EACCA,UAAU,GAAG,IAAb;;iBACIhB,OAAL,CAAaiB,GAAb,CAAiB1B,UAAjB,EAA6ByB,UAA7B;;;;;;;;;;;;;;;;;;aAGK,KAAKhB,OAAZ;;;;wBAID;UACK,KAAKC,OAAL,KAAiB,IAArB,EACA;aACMA,OAAL,GAAe1E,QAAA,GAAe,IAAIwE,GAAJ,EAAf,GAA2B,EAA1C;;;;;;gCACgC,KAAKvB,MAAL,CAAYK,OAAZ,EAAhC,mIACA;;gBADUU,UACV;gBADsB1E,KACtB;;gBACK0F,KAAK,GAAG,IAAIW,KAAJ,CAAU,KAAK1B,GAAL,CAASN,QAAT,CAAkBF,GAAlB,CAAsBO,UAAtB,CAAV,EAA6C,IAA7C,EAAmD1E,KAAnD,CAAZ;;iBACKoF,OAAL,CAAagB,GAAb,CAAiB1B,UAAjB,EAA6BgB,KAA7B;;;;;;;;;;;;;;;;;;aAGK,KAAKN,OAAZ;;;;;EAjE0BnG,IAA5B;AAuLC,AAED8E,MAAM,CAACV,SAAP,CAAiBjE,WAAjB,GAA+B,CAAC,IAAD,EAAO,KAAP,EAAc,WAAd,EAA2B,WAA3B,EAAwC,WAAxC,EAAqD,WAArD,EAAkE,aAAlE,EAAiF,QAAjF,EAA2F,aAA3F,EAA0G,UAA1G,CAA/B;AACA2E,MAAM,CAACV,SAAP,CAAiBnD,SAAjB,GAA6BQ,QAAA,CAAa,IAAb,EAAmB,KAAnB,EAA0B,WAA1B,EAAuC,WAAvC,EAAoD,WAApD,EAAiE,WAAjE,EAA8E,aAA9E,EAA6F,QAA7F,EAAuG,aAAvG,EAAsH,UAAtH,CAA7B;AACAA,MAAA,CAAWqD,MAAM,CAACV,SAAP,CAAiB0C,QAA5B,EAAsC,EAAtC;AACArF,MAAA,CAAWqD,MAAM,CAACV,SAAP,CAAiB2C,UAA5B,EAAwC,EAAxC;AACAtF,MAAA,CAAWqD,MAAM,CAACV,SAAP,UAAX,EAAoC,EAApC;AACA3C,MAAA,CAAWqD,MAAM,CAACV,SAAP,CAAiBS,IAA5B,EAAkC,EAAlC;AACApD,MAAA,CAAWqD,MAAM,CAACV,SAAP,CAAiBiD,MAA5B,EAAoC,CAAC,UAAD,CAApC,EAAkD;iBAAgB;CAAlE;AAEA,IAAaC,OAAb;;AAAA;;;;;;;;;;;+BAGC;aACQ,MAAM,KAAKC,QAAX,GAAsB,MAAtB,GAA+B9F,KAAA,CAAU,KAAKgD,EAAf,CAA/B,GAAoD,cAApD,GAAqEhD,KAAA,CAAU,KAAKgE,UAAf,CAArE,GAAkG,GAAzG;;;;+BAGU1E,KAPZ,EAOmBiG,MAPnB,EAQC,EARD;;;;;;;;2BAgBQjG,KAhBR,EAgBeiG,QAhBf,EAiBC;aACQ,KAAP;;;;;EAlB2BhH,IAA7B;AAoBC,AAEDsH,OAAO,CAAClD,SAAR,CAAkBE,IAAlB,GAAyB,IAAzB;AACAgD,OAAO,CAAClD,SAAR,CAAkBoD,OAAlB,GAA4B,IAA5B;AACAF,OAAO,CAAClD,SAAR,CAAkBjE,WAAlB,GAAgC,CAAC,IAAD,EAAO,YAAP,EAAqB,OAArB,EAA8B,KAA9B,EAAqC,OAArC,EAA8C,UAA9C,EAA0D,OAA1D,EAAmE,SAAnE,EAA8E,mBAA9E,EAAmG,mBAAnG,CAAhC;AACAmH,OAAO,CAAClD,SAAR,CAAkBnD,SAAlB,GAA8BQ,QAAA,CAAa,IAAb,EAAmB,YAAnB,EAAiC,OAAjC,EAA0C,KAA1C,EAAiD,OAAjD,EAA0D,UAA1D,EAAsE,OAAtE,EAA+E,SAA/E,EAA0F,mBAA1F,EAA+G,mBAA/G,CAA9B;AAEA,IAAagG,WAAb;;AAAA;;;;;;;;;;;;2BAGQ1G,KAHR,EAGeiG,QAHf,EAIC;WACMU,UAAL,CAAgB3G,KAAhB,EAAuBiG,QAAvB;;UACIA,QAAM,CAACW,QAAP,KAAoB,QAAxB,EACC,OAAOX,QAAM,CAACjG,KAAP,KAAiBA,KAAxB,CADD,KAGC,OAAO,KAAP;;;;;EAT8BuG,OAAjC;AAWC,AAEDG,WAAW,CAACrD,SAAZ,CAAsBE,IAAtB,GAA6B,MAA7B;AAEA,IAAasD,UAAb;;AAAA;;;;;;;;;;;;2BAGQ7G,KAHR,EAGeiG,QAHf,EAIC;WACMU,UAAL,CAAgB3G,KAAhB,EAAuBiG,QAAvB;;UACIA,QAAM,CAACW,QAAP,KAAoB,QAAxB,EACC,OAAOX,QAAM,CAACjG,KAAP,KAAiBA,KAAxB,CADD,KAGC,OAAO,KAAP;;;;;EAT6BuG,OAAhC;AAWC,AAEDM,UAAU,CAACxD,SAAX,CAAqBE,IAArB,GAA4B,KAA5B;AAEA,IAAauD,aAAb;;AAAA;;;;;;;;;;;;2BAGQ9G,KAHR,EAGeiG,QAHf,EAIC;WACMU,UAAL,CAAgB3G,KAAhB,EAAuBiG,QAAvB;;UACIA,QAAM,CAACW,QAAP,KAAoB,QAAxB,EACC,OAAOX,QAAM,CAACjG,KAAP,KAAiBA,KAAxB,CADD,KAEK,IAAIiG,QAAM,CAACW,QAAP,KAAoB,OAAxB,EACL;YACK5G,KAAK,KAAK,IAAd,EACC,OAAO,KAAP;eACM,CAACiG,QAAM,CAACc,QAAP,KAAoB,IAApB,IAA4Bd,QAAM,CAACc,QAAP,IAAmB/G,KAAhD,MAA2DiG,QAAM,CAACe,QAAP,KAAoB,IAApB,IAA4BhH,KAAK,GAAGiG,QAAM,CAACe,QAAtG,CAAP;OAJI,MAOJ,OAAO,KAAP;;;;;EAfgCT,OAAnC;AAiBC,AAEDO,aAAa,CAACzD,SAAd,CAAwBE,IAAxB,GAA+B,QAA/B;AAEA,IAAa0D,aAAb;;AAAA;;;;;;;;;;;2BAEQjH,KAFR,EAEeiG,QAFf,EAGC;WACMU,UAAL,CAAgB3G,KAAhB,EAAuBiG,QAAvB;;UACIA,QAAM,CAACW,QAAP,KAAoB,QAAxB,EACC,OAAOX,QAAM,CAACjG,KAAP,KAAiBA,KAAxB,CADD,KAEK,IAAIiG,QAAM,CAACW,QAAP,KAAoB,UAAxB,EACL;YACKX,QAAM,CAACjG,KAAP,KAAiB,IAAjB,IAAyBA,KAAK,KAAK,IAAvC,EACC,OAAOiG,QAAM,CAACjG,KAAP,KAAiBA,KAAxB,CADD,KAGC,OAAOA,KAAK,CAACkH,WAAN,GAAoBC,OAApB,CAA4BlB,QAAM,CAACjG,KAAP,CAAakH,WAAb,EAA5B,KAA2D,CAAlE;;;;;;EAZ+BX,OAAnC;AAeC,AAEDU,aAAa,CAAC5D,SAAd,CAAwBE,IAAxB,GAA+B,QAA/B;AAEA,IAAa6D,WAAb;;AAAA;;;;;;;;;;EAAiCH,aAAjC;AAEC,AAEDG,WAAW,CAAC/D,SAAZ,CAAsBoD,OAAtB,GAAgC,MAAhC;AAEA,IAAaY,YAAb;;AAAA;;;;;;;;;;EAAkCJ,aAAlC;AAEC,AAEDI,YAAY,CAAChE,SAAb,CAAuBoD,OAAvB,GAAiC,OAAjC;AAEA,IAAaa,UAAb;;AAAA;;;;;;;;;;EAAgCL,aAAhC;AAEC,AAEDK,UAAU,CAACjE,SAAX,CAAqBoD,OAArB,GAA+B,KAA/B;AAEA,IAAac,UAAb;;AAAA;;;;;;;;;;EAAgCN,aAAhC;AAEC,AAEDM,UAAU,CAAClE,SAAX,CAAqBoD,OAArB,GAA+B,KAA/B;AAEA,IAAae,eAAb;;AAAA;;;;;;;;;;EAAqCP,aAArC;AAEC,AAEDO,eAAe,CAACnE,SAAhB,CAA0BoD,OAA1B,GAAoC,UAApC;AAEA,IAAagB,eAAb;;AAAA;;;;;;;;;;EAAqCR,aAArC;AAEC,AAEDQ,eAAe,CAACpE,SAAhB,CAA0BoD,OAA1B,GAAoC,UAApC;AACAgB,eAAe,CAACpE,SAAhB,CAA0BjE,WAA1B,GAAwC6H,aAAa,CAAC5D,SAAd,CAAwBjE,WAAxB,CAAoCsI,MAApC,CAA2C,CAAC,WAAD,CAA3C,CAAxC;AACAD,eAAe,CAACpE,SAAhB,CAA0BnD,SAA1B,GAAsCQ,QAAA,OAAAA,GAAG,qBAAauG,aAAa,CAAC5D,SAAd,CAAwBnD,SAArC,UAAgD,WAAhD,GAAzC;AAEA,IAAayH,WAAb;;AAAA;;;;;;;;;;;iCAEcC,QAFd,EAGC;MACCA,QAAQ,GAAGA,QAAQ,IAAI,KAAKjD,GAAL,CAASiD,QAAhC;UAEIA,QAAQ,KAAK,IAAjB,EACC,OAAO,UAAP,CADD,KAGC,OAAO,UAAP;KATH;;;;2BAaQ5H,KAbR,EAaeiG,QAbf,EAcC;WACMU,UAAL,CAAgB3G,KAAhB,EAAuBiG,QAAvB;;UAEI4B,WAAW,GAAG5B,QAAM,CAACjG,KAAzB;UACI8H,MAAM,CAACzE,SAAP,CAAiB0E,QAAjB,CAA0BC,IAA1B,CAA+BH,WAA/B,KAA+C,eAAnD,EACCA,WAAW,GAAGnH,OAAA,CAAYmH,WAAZ,EAAyB,KAAKI,YAAL,EAAzB,EAA8C,KAAKtD,GAAL,CAASiD,QAAvD,CAAd;UACG5H,KAAK,KAAK,IAAd,EACCA,KAAK,GAAGU,OAAA,CAAYV,KAAZ,EAAmB,KAAKiI,YAAL,EAAnB,EAAwC,KAAKtD,GAAL,CAASiD,QAAjD,CAAR;UAEG3B,QAAM,CAACW,QAAP,KAAoB,QAAxB,EACC,OAAOiB,WAAW,KAAK7H,KAAvB,CADD,KAEK,IAAIiG,QAAM,CAACW,QAAP,KAAoB,UAAxB,EACL;YACKiB,WAAW,KAAK,IAAhB,IAAwB7H,KAAK,KAAK,IAAtC,EACC,OAAO6H,WAAW,KAAK7H,KAAvB,CADD,KAGC,OAAOA,KAAK,CAACkH,WAAN,GAAoBC,OAApB,CAA4BU,WAAW,CAACX,WAAZ,EAA5B,KAA0D,CAAjE;OALG,MAQJ,OAAO,KAAP;;;;;EAjC8BX,OAAjC;AAmCC,AAEDoB,WAAW,CAACtE,SAAZ,CAAsBE,IAAtB,GAA6B,MAA7B;AACAoE,WAAW,CAACtE,SAAZ,CAAsBoD,OAAtB,GAAgC,MAAhC;AAEA,IAAayB,qBAAb;;AAAA;;;;;;;;;;;iCAEcN,QAFd,EAGC;MACCA,QAAQ,GAAGA,QAAQ,IAAI,KAAKjD,GAAL,CAASiD,QAAhC;UAEIA,QAAQ,KAAK,IAAjB,EACC,OAAO,gBAAP,CADD,KAGC,OAAO,gBAAP;;;;;EATwCD,WAA3C;AAWC,AAEDO,qBAAqB,CAAC7E,SAAtB,CAAgCoD,OAAhC,GAA0C,gBAA1C;AAEA,IAAa0B,qBAAb;;AAAA;;;;;;;;;;;iCAEcP,QAFd,EAGC;MACCA,QAAQ,GAAGA,QAAQ,IAAI,KAAKjD,GAAL,CAASiD,QAAhC;UAEIA,QAAQ,KAAK,IAAjB,EACC,OAAO,mBAAP,CADD,KAGC,OAAO,mBAAP;;;;;EATwCD,WAA3C;AAWC,AAEDQ,qBAAqB,CAAC9E,SAAtB,CAAgCoD,OAAhC,GAA0C,gBAA1C;AAEA,IAAa2B,aAAb;;AAAA;;;;;;;;;;;;2BAGQpI,KAHR,EAGeiG,QAHf,EAIC;UACKA,QAAM,CAACW,QAAP,KAAoB,QAAxB,EACA;YACK5G,KAAK,KAAK,IAAd,EACC,OAAOiG,QAAM,CAACjG,KAAP,KAAiB,IAAxB,CADD,KAGC,OAAOA,KAAK,CAACiE,GAAN,KAAcgC,QAAM,CAACjG,KAA5B;OALF,MAQC,OAAO,KAAP;;;;;EAbgCuG,OAAnC;AAeC,AAED6B,aAAa,CAAC/E,SAAd,CAAwBE,IAAxB,GAA+B,QAA/B;AACA6E,aAAa,CAAC/E,SAAd,CAAwBjE,WAAxB,GAAsCmH,OAAO,CAAClD,SAAR,CAAkBjE,WAAlB,CAA8BsI,MAA9B,CAAqC,CAAC,YAAD,CAArC,CAAtC;AACAU,aAAa,CAAC/E,SAAd,CAAwBnD,SAAxB,GAAoCQ,QAAA,OAAAA,GAAG,qBAAa6F,OAAO,CAAClD,SAAR,CAAkBnD,SAA/B,UAA0C,YAA1C,GAAvC;AAEA,IAAamI,mBAAb;;AAAA;;;;;;;;;;EAAyCD,aAAzC;AAEC,AAEDC,mBAAmB,CAAChF,SAApB,CAA8BoD,OAA9B,GAAwC,QAAxC;AAEA,IAAa6B,kBAAb;;AAAA;;;;;;;;;;EAAwCF,aAAxC;AAEC,AAEDE,kBAAkB,CAACjF,SAAnB,CAA6BoD,OAA7B,GAAuC,OAAvC;AAEA,IAAa8B,mBAAb;;AAAA;;;;;;;;;;EAAyCH,aAAzC;AAEC,AAEDG,mBAAmB,CAAClF,SAApB,CAA8BoD,OAA9B,GAAwC,QAAxC;AAEA,IAAa+B,gBAAb;;AAAA;;;;;;;;;;;;2BAGQxI,KAHR,EAGeiG,QAHf,EAIC;UACKjG,KAAK,KAAK,IAAV,IAAkBiG,QAAM,CAACjG,KAAP,KAAiB,IAAvC,EACC,OAAOA,KAAK,KAAKiG,QAAM,CAACjG,KAAxB,CADD,KAGC,OAAOA,KAAK,CAACiG,MAAN,CAAaA,QAAb,CAAP;;;;;EARmCM,OAAtC;AAUC,AAEDiC,gBAAgB,CAACnF,SAAjB,CAA2BE,IAA3B,GAAkC,WAAlC;AACAiF,gBAAgB,CAACnF,SAAjB,CAA2BjE,WAA3B,GAAyCmH,OAAO,CAAClD,SAAR,CAAkBjE,WAAlB,CAA8BsI,MAA9B,CAAqC,CAAC,WAAD,EAAc,gBAAd,CAArC,CAAzC;AACAc,gBAAgB,CAACnF,SAAjB,CAA2BnD,SAA3B,GAAuCQ,QAAA,OAAAA,GAAG,qBAAa6F,OAAO,CAAClD,SAAR,CAAkBnD,SAA/B,UAA0C,WAA1C,EAAuD,gBAAvD,GAA1C;AAEA,IAAauI,sBAAb;;AAAA;;;;;;;;;;EAA4CD,gBAA5C;AAEC,AAEDC,sBAAsB,CAACpF,SAAvB,CAAiCoD,OAAjC,GAA2C,QAA3C;AAEA,IAAaiC,qBAAb;;AAAA;;;;;;;;;;EAA2CF,gBAA3C;AAEC,AAEDE,qBAAqB,CAACrF,SAAtB,CAAgCoD,OAAhC,GAA0C,OAA1C;AAEA,IAAakC,sBAAb;;AAAA;;;;;;;;;;EAA4CH,gBAA5C;AAEC,AAEDG,sBAAsB,CAACtF,SAAvB,CAAiCoD,OAAjC,GAA2C,QAA3C;AAEA,IAAamC,qBAAb;;AAAA;;;;;;;;;;;;2BAGQ5I,KAHR,EAGeiG,SAHf,EAIC;UACKA,SAAM,CAACW,QAAP,KAAoB,QAAxB,EACA;;;;;;gCACkB5G,KAAjB,mIACA;gBADS6I,IACT;gBACKA,IAAI,CAAC5E,GAAL,KAAagC,SAAM,CAACjG,KAAxB,EACC,OAAO,IAAP;;;;;;;;;;;;;;;;;eAEK,KAAP;OAPD,MAUC,OAAO,KAAP;;;;;EAfwCoI,aAA3C;AAiBC,AAEDQ,qBAAqB,CAACvF,SAAtB,CAAgCoD,OAAhC,GAA0C,gBAA1C;AAEA,IAAaqC,2BAAb;;AAAA;;;;;;;;;;EAAiDF,qBAAjD;AAEC,AAEDE,2BAA2B,CAACzF,SAA5B,CAAsCoD,OAAtC,GAAgD,QAAhD;AAEA,IAAasC,6BAAb;;AAAA;;;;;;;;;;EAAmDH,qBAAnD;AAEC,AAEDG,6BAA6B,CAAC1F,SAA9B,CAAwCoD,OAAxC,GAAkD,UAAlD;AAEA,IAAauC,2BAAb;;AAAA;;;;;;;;;;EAAiDJ,qBAAjD;AAEC,AAEDI,2BAA2B,CAAC3F,SAA5B,CAAsCoD,OAAtC,GAAgD,QAAhD;AAEA,IAAawC,wBAAb;;AAAA;;;;;;;;;;;;2BAGQjJ,KAHR,EAGeiG,SAHf,EAIC;UACKA,SAAM,CAACW,QAAP,KAAoB,QAAxB,EACA;YACKX,SAAM,CAACjG,KAAP,KAAiB,IAArB,EACC,OAAOA,KAAK,CAACX,MAAN,KAAiB,CAAxB,CADD,KAGA;;;;;;kCACkBW,KAAjB,mIACA;kBADS6I,IACT;kBACKA,IAAI,CAAC5C,MAAL,CAAYA,SAAM,CAACjG,KAAnB,CAAJ,EACC,OAAO,IAAP;;;;;;;;;;;;;;;;;iBAEK,KAAP;;OAXF,MAeC,OAAO,KAAP;;;;;EApB2CwI,gBAA9C;AAsBC,AAEDS,wBAAwB,CAAC5F,SAAzB,CAAmCE,IAAnC,GAA0C,mBAA1C;AAEA,IAAa2F,8BAAb;;AAAA;;;;;;;;;;EAAoDD,wBAApD;AAEC,AAEDC,8BAA8B,CAAC7F,SAA/B,CAAyCoD,OAAzC,GAAmD,QAAnD;AAEA,IAAa0C,gCAAb;;AAAA;;;;;;;;;;EAAsDF,wBAAtD;AAEC,AAEDE,gCAAgC,CAAC9F,SAAjC,CAA2CoD,OAA3C,GAAqD,UAArD;AAEA,IAAa2C,8BAAb;;AAAA;;;;;;;;;;EAAoDH,wBAApD;AAEC,AAEDG,8BAA8B,CAAC/F,SAA/B,CAAyCoD,OAAzC,GAAmD,QAAnD;AAEA,IAAa4C,UAAb;;AAAA;;;;;;;;;;EAAgC9C,OAAhC;AAEC,AAED8C,UAAU,CAAChG,SAAX,CAAqBE,IAArB,GAA4B,KAA5B;AAEA,IAAa+F,WAAb;;AAAA;;;;;;;;;;EAAiC/C,OAAjC;AAEC,AAED+C,WAAW,CAACjG,SAAZ,CAAsBE,IAAtB,GAA6B,MAA7B;AAEA,IAAagG,aAAb;;AAAA;;;;;;;;;;EAAmChD,OAAnC;AAEC,AAEDgD,aAAa,CAAClG,SAAd,CAAwBE,IAAxB,GAA+B,QAA/B;AAEA,IAAa8C,KAAb;;AAAA;;;iBAEaV,OAAZ,EAAqB9E,MAArB,EAA6Bb,KAA7B,EACA;;;;;;WAEM2F,OAAL,GAAeA,OAAf;WACK9E,MAAL,GAAcA,MAAd;WACK2I,MAAL,GAAcxJ,KAAd;WACKyJ,MAAL,GAAc,KAAd;WACKlE,MAAL,GAAc,EAAd;;;;;;+BAqBD;aACQ,KAAKiE,MAAL,KAAgB,IAAhB,IAAyB9I,OAAA,CAAY,KAAK8I,MAAjB,KAA4B,KAAKA,MAAL,CAAYnK,MAAZ,KAAuB,CAAnF;;;;+BAID;aACQ,KAAKoK,MAAZ;;;;iCAID;aACQ,KAAKlE,MAAL,CAAYlG,MAAZ,KAAuB,CAA9B;;;;2BAGMwI,WA5CR,EA6CC;aACQ,KAAKlC,OAAL,CAAaM,MAAb,CAAoB,KAAKjG,KAAzB,EAAgC6H,WAAhC,CAAP;;;;+BAID;UACKzE,CAAC,GAAG,oBAAR;MACAA,CAAC,IAAI1C,KAAA,CAAU,KAAKiF,OAAL,CAAajB,UAAvB,CAAL;UACI,KAAK+E,MAAT,EACCrG,CAAC,IAAI,kBAAL;UACG,KAAKmC,MAAL,CAAYlG,MAAZ,KAAuB,CAA3B,EACC+D,CAAC,IAAI,oBAAL;MACDA,CAAC,IAAI,GAAL;aACOA,CAAP;;;;wBA7CD;aACQ,KAAKoG,MAAZ;KAdF;sBAiBWxJ,KAjBX,EAkBC;UACK0J,QAAQ,GAAG,KAAKF,MAApB;;UAEI9I,GAAA,CAAQgJ,QAAR,EAAkB1J,KAAlB,CAAJ,EACA;aACMa,MAAL,CAAY8C,MAAZ,CAAmByC,GAAnB,CAAuB,KAAKT,OAAL,CAAajB,UAApC,EAAgD1E,KAAhD;aACKwJ,MAAL,GAAcxJ,KAAd;aACKyJ,MAAL,GAAc,IAAd;;;;;;EAzBwBxK,IAA3B;AA4DC,IAEY0K,UAAb;;AAAA;;;;;;;;;;;+BAGC;aACQ,qBAAqBjJ,KAAA,CAAU,KAAKuD,GAAf,CAArB,GAA2C,SAA3C,GAAuDvD,KAAA,CAAU,KAAKkJ,KAAf,CAAvD,GAA+E,GAAtF;;;;;EAJ8B3K,IAAhC;AAMC,AAED0K,UAAU,CAACtG,SAAX,CAAqBjE,WAArB,GAAmC,CAAC,KAAD,EAAQ,OAAR,CAAnC;AACAuK,UAAU,CAACtG,SAAX,CAAqBnD,SAArB,GAAiCQ,QAAA,CAAa,KAAb,EAAoB,OAApB,CAAjC;AAEA,IAAamJ,IAAb;;AAAA;;;;;;;;;;;+BAGC;aACQ,cAAcnJ,KAAA,CAAU,KAAKgD,EAAf,CAAd,GAAmC,aAAnC,GAAmDhD,KAAA,CAAU,KAAKoJ,SAAf,CAAnD,GAA+E,WAA/E,GAA6FpJ,KAAA,CAAU,KAAKqJ,OAAf,CAA7F,GAAuH,SAAvH,GAAmIrJ,KAAA,CAAU,KAAKsJ,KAAf,CAAnI,GAA2J,GAAlK;;;;;EAJwB/K,IAA1B;AAMC,AAED4K,IAAI,CAACxG,SAAL,CAAejE,WAAf,GAA6B,CAAC,KAAD,EAAQ,IAAR,EAAc,QAAd,EAAwB,WAAxB,EAAqC,SAArC,EAAgD,UAAhD,EAA4D,OAA5D,EAAqE,UAArE,EAAiF,aAAjF,EAAgG,aAAhG,EAA+G,UAA/G,CAA7B;AACAyK,IAAI,CAACxG,SAAL,CAAenD,SAAf,GAA2BQ,QAAA,CAAa,KAAb,EAAoB,IAApB,EAA0B,QAA1B,EAAoC,WAApC,EAAiD,SAAjD,EAA4D,UAA5D,EAAwE,OAAxE,EAAiF,UAAjF,EAA6F,aAA7F,EAA4G,aAA5G,EAA2H,UAA3H,CAA3B;AAEA,IAAauJ,IAAb;;AAAA;;;;;;;;;;;+BAGC;aACQ,cAAcvJ,KAAA,CAAU,KAAKgD,EAAf,CAAd,GAAmC,OAAnC,GAA6ChD,KAAA,CAAU,KAAKwJ,GAAf,CAA7C,GAAmE,YAAnE,GAAkFxJ,KAAA,CAAU,KAAKyJ,QAAf,CAAlF,GAA6G,GAApH;;;;;EAJwBlL,IAA1B;AAMC,AAEDgL,IAAI,CAAC5G,SAAL,CAAejE,WAAf,GAA6B,CAAC,IAAD,EAAO,KAAP,EAAc,UAAd,EAA0B,UAA1B,EAAsC,OAAtC,EAA+C,QAA/C,EAAyD,YAAzD,EAAuE,WAAvE,EAAoF,MAApF,CAA7B;AACA6K,IAAI,CAAC5G,SAAL,CAAenD,SAAf,GAA2BQ,QAAA,CAAa,IAAb,EAAmB,KAAnB,EAA0B,UAA1B,EAAsC,UAAtC,EAAkD,OAAlD,EAA2D,QAA3D,EAAqE,MAArE,EAA6E,WAA7E,CAA3B;AAEA,IAAa0J,GAAb;;AAAA;;;eAEahI,GAAZ,EAAiBiI,KAAjB,EAAuBC,IAAvB,EACA;;;;;;WAEMlI,GAAL,GAAWA,GAAX;qBACYiI,KAAZ;WACKC,IAAL,GAAYA,IAAZ;;;;;;+BAID;aACQ,cAAc5J,KAAA,CAAU,KAAK0B,GAAf,CAAd,GAAoC,QAApC,GAA+C1B,KAAA,CAAU,YAAV,CAA/C,GAAsE,QAAtE,GAAiFA,KAAA,CAAU,KAAK4J,IAAf,CAAjF,GAAwG,GAA/G;;;;;EAZuBrL,IAAzB;AAcC,AAEDmL,GAAG,CAAC/G,SAAJ,CAAcjE,WAAd,GAA4B,CAAC,KAAD,EAAQ,MAAR,EAAgB,MAAhB,CAA5B;AACAgL,GAAG,CAAC/G,SAAJ,CAAcnD,SAAd,GAA0BQ,QAAA,CAAa,KAAb,EAAoB,MAApB,EAA4B,MAA5B,CAA1B;AAEA,IAAa6J,UAAb;;AAAA;;;;;;;;;;;+BAGC;aACQ,MAAM,KAAK/D,QAAX,GAAsB,MAAtB,GAA+B9F,KAAA,CAAU,KAAKgD,EAAf,CAA/B,GAAoD,SAApD,GAAgEhD,KAAA,CAAU,KAAKkJ,KAAf,CAAhE,GAAwF,GAA/F;;;;;EAJ8B3K,IAAhC;AAMC,AAEDsL,UAAU,CAAClH,SAAX,CAAqBjE,WAArB,GAAmC,CAAC,IAAD,EAAO,QAAP,EAAiB,OAAjB,EAA0B,QAA1B,CAAnC;AACAmL,UAAU,CAAClH,SAAX,CAAqBnD,SAArB,GAAiCQ,QAAA,CAAa,IAAb,EAAmB,QAAnB,EAA6B,OAA7B,EAAsC,QAAtC,CAAjC;AAEA,IAAa8J,cAAb;;AAAA;;;;;;;;;;EAAoCD,UAApC;AAEC,AAEDC,cAAc,CAACnH,SAAf,CAAyBE,IAAzB,GAAgC,gBAAhC;AACAiH,cAAc,CAACnH,SAAf,CAAyBjE,WAAzB,GAAuCmL,UAAU,CAAClH,SAAX,CAAqBjE,WAArB,CAAiCsI,MAAjC,CAAwC,CAAC,OAAD,CAAxC,CAAvC;AACA8C,cAAc,CAACnH,SAAf,CAAyBnD,SAAzB,GAAqCQ,QAAA,OAAAA,GAAG,qBAAa6J,UAAU,CAAClH,SAAX,CAAqBjE,WAAlC,UAA+C,OAA/C,GAAxC;AAEA,IAAaqL,aAAb;;AAAA;;;;;;;;;;EAAmCF,UAAnC;AAEC,AAEDE,aAAa,CAACpH,SAAd,CAAwBE,IAAxB,GAA+B,eAA/B;AACAkH,aAAa,CAACpH,SAAd,CAAwBjE,WAAxB,GAAsCmL,UAAU,CAAClH,SAAX,CAAqBjE,WAArB,CAAiCsI,MAAjC,CAAwC,CAAC,OAAD,CAAxC,CAAtC;AACA+C,aAAa,CAACpH,SAAd,CAAwBnD,SAAxB,GAAoCQ,QAAA,OAAAA,GAAG,qBAAa6J,UAAU,CAAClH,SAAX,CAAqBjE,WAAlC,UAA+C,OAA/C,GAAvC;AAEA,IAAasL,cAAb;;AAAA;;;;;;;;;;EAAoCH,UAApC;AAEC,AAEDG,cAAc,CAACrH,SAAf,CAAyBE,IAAzB,GAAgC,gBAAhC;AACAmH,cAAc,CAACrH,SAAf,CAAyBjE,WAAzB,GAAuCmL,UAAU,CAAClH,SAAX,CAAqBjE,WAArB,CAAiCsI,MAAjC,CAAwC,CAAC,OAAD,CAAxC,CAAvC;AACAgD,cAAc,CAACrH,SAAf,CAAyBnD,SAAzB,GAAqCQ,QAAA,OAAAA,GAAG,qBAAa6J,UAAU,CAAClH,SAAX,CAAqBjE,WAAlC,UAA+C,OAA/C,GAAxC;AAEA,IAAauL,eAAb;;AAAA;;;;;;;;;;EAAqCJ,UAArC;AAEC,AAEDI,eAAe,CAACtH,SAAhB,CAA0BE,IAA1B,GAAiC,iBAAjC;AACAoH,eAAe,CAACtH,SAAhB,CAA0BjE,WAA1B,GAAwCmL,UAAU,CAAClH,SAAX,CAAqBjE,WAArB,CAAiCsI,MAAjC,CAAwC,CAAC,UAAD,EAAa,OAAb,EAAsB,OAAtB,EAA+B,QAA/B,EAAyC,OAAzC,CAAxC,CAAxC;AACAiD,eAAe,CAACtH,SAAhB,CAA0BnD,SAA1B,GAAsCQ,QAAA,OAAAA,GAAG,qBAAa6J,UAAU,CAAClH,SAAX,CAAqBjE,WAAlC,UAA+C,UAA/C,EAA2D,OAA3D,EAAoE,OAApE,EAA6E,QAA7E,EAAuF,OAAvF,GAAzC;AAEA,IAAawL,cAAb;;AAAA;;;;;;;;;;;mCAEgBpL,IAFhB,EAGC;UACKA,IAAI,KAAK,OAAb,EACC,OAAOkB,OAAA,CAAY,KAAKV,KAAjB,CAAP,CADD,KAGC,OAAO,KAAKR,IAAL,CAAP;;;;mCAGaA,IAVhB,EAUsBQ,KAVtB,EAWC;UACKR,IAAI,KAAK,OAAb,EACC,KAAKQ,KAAL,GAAaU,SAAA,CAAcV,KAAd,CAAb,CADD,KAGC,KAAKR,IAAL,IAAaQ,KAAb;;;;;EAfiCuK,UAApC;AAiBC,AAEDK,cAAc,CAACvH,SAAf,CAAyBE,IAAzB,GAAgC,gBAAhC;AACAqH,cAAc,CAACvH,SAAf,CAAyBjE,WAAzB,GAAuCmL,UAAU,CAAClH,SAAX,CAAqBjE,WAArB,CAAiCsI,MAAjC,CAAwC,CAAC,OAAD,CAAxC,CAAvC;AACAkD,cAAc,CAACvH,SAAf,CAAyBnD,SAAzB,GAAqCQ,QAAA,OAAAA,GAAG,qBAAa6J,UAAU,CAAClH,SAAX,CAAqBjE,WAAlC,UAA+C,OAA/C,GAAxC;AAEA,IAAayL,YAAb;;AAAA;;;;;;;;;;;+BAGC;aACQ,sBAAsBnK,KAAA,CAAU,KAAKgD,EAAf,CAAtB,GAA2C,QAA3C,GAAsDhD,KAAA,CAAU,KAAKlB,IAAf,CAAtD,GAA6E,GAApF;;;;;EAJgCP,IAAlC;AAMC,AAED4L,YAAY,CAACxH,SAAb,CAAuBjE,WAAvB,GAAqC,CAAC,IAAD,EAAO,MAAP,CAArC;AACAyL,YAAY,CAACxH,SAAb,CAAuBnD,SAAvB,GAAmCQ,QAAA,CAAa,IAAb,EAAmB,MAAnB,CAAnC;AAEA,IAAaoK,QAAb;;AAAA;;;;;;;;;;;+BAGC;UACKrF,CAAC,GAAG,EAAR;UACIsF,QAAQ,GAAG,IAAf;;aACOA,QAAQ,KAAK,IAApB,EACA;QACCtF,CAAC,CAACuF,MAAF,CAAS,CAAT,EAAY,CAAZ,EAAeD,QAAQ,CAACrG,UAAxB;QACAqG,QAAQ,GAAGA,QAAQ,CAACE,MAApB;;;aAEM,kBAAkBvK,KAAA,CAAU,KAAKgD,EAAf,CAAlB,GAAuC,kBAAvC,GAA4DhD,KAAA,CAAU+E,CAAC,CAACK,IAAF,CAAO,GAAP,CAAV,CAA5D,GAAsF,CAAE,QAAxF,GAAmGpF,KAAA,CAAU,KAAKlB,IAAf,CAAnG,GAA0H,GAAjI;;;;;EAX4BP,IAA9B;AAaC,AAED6L,QAAQ,CAACzH,SAAT,CAAmBjE,WAAnB,GAAiC,CAAC,IAAD,EAAO,YAAP,EAAqB,MAArB,EAA6B,OAA7B,EAAsC,QAAtC,EAAgD,UAAhD,EAA4D,MAA5D,CAAjC;AACA0L,QAAQ,CAACzH,SAAT,CAAmBnD,SAAnB,GAA+BQ,QAAA,CAAa,IAAb,EAAmB,YAAnB,EAAiC,MAAjC,EAAyC,OAAzC,EAAkD,QAAlD,EAA4D,UAA5D,EAAwE,MAAxE,CAA/B;AAEA,IAAawK,OAAb;;AAAA;;;;;;;;;;;+BAGC;aACQ,iBAAiBxK,KAAA,CAAU,KAAKgD,EAAf,CAAjB,GAAsC,cAAtC,GAAuDhD,KAAA,CAAU,KAAKgE,UAAf,CAAvD,GAAoF,GAA3F;;;;;EAJ2BzF,IAA7B;AAMC,AAEDiM,OAAO,CAAC7H,SAAR,CAAkBjE,WAAlB,GAAgC,CAAC,IAAD,EAAO,YAAP,EAAqB,MAArB,EAA6B,KAA7B,EAAoC,MAApC,CAAhC;AACA8L,OAAO,CAAC7H,SAAR,CAAkBnD,SAAlB,GAA8BQ,QAAA,CAAa,IAAb,EAAmB,YAAnB,EAAiC,MAAjC,EAAyC,KAAzC,EAAgD,MAAhD,CAA9B;AAEA,IAAayK,YAAb;;AAAA;;;;;;;;;;;+BAGC;aACQ,sBAAsBzK,KAAA,CAAU,KAAKgD,EAAf,CAAtB,GAA2C,cAA3C,GAA4DhD,KAAA,CAAU,KAAKgE,UAAf,CAA5D,GAAyF,GAAhG;;;;;EAJgCzF,IAAlC;AAMC,AAEDkM,YAAY,CAAC9H,SAAb,CAAuBjE,WAAvB,GAAqC,CAAC,IAAD,EAAO,KAAP,EAAc,YAAd,EAA4B,aAA5B,EAA2C,OAA3C,CAArC;AACA+L,YAAY,CAAC9H,SAAb,CAAuBnD,SAAvB,GAAmCQ,QAAA,CAAa,IAAb,EAAmB,KAAnB,EAA0B,YAA1B,EAAwC,aAAxC,EAAuD,OAAvD,CAAnC;AAEA,IAAI0K,OAAO,GAAG,CACbtK,OADa,EAEbwC,YAFa,EAGbG,GAHa,EAIbe,IAJa,EAKbC,cALa,EAMbV,MANa,EAOb2C,WAPa,EAQbG,UARa,EASbC,aATa,EAUbM,WAVa,EAWbC,YAXa,EAYbC,UAZa,EAabC,UAba,EAcbC,eAda,EAebC,eAfa,EAgBbE,WAhBa,EAiBbO,qBAjBa,EAkBbC,qBAlBa,EAmBbC,aAnBa,EAoBbC,mBApBa,EAqBbC,kBArBa,EAsBbC,mBAtBa,EAuBbC,gBAvBa,EAwBbC,sBAxBa,EAyBbC,qBAzBa,EA0BbC,sBA1Ba,EA2BbC,qBA3Ba,EA4BbE,2BA5Ba,EA6BbC,6BA7Ba,EA8BbC,2BA9Ba,EA+BbC,wBA/Ba,EAgCbC,8BAhCa,EAiCbC,gCAjCa,EAkCbC,8BAlCa,EAmCbC,UAnCa,EAoCbC,WApCa,EAqCbC,aArCa,EAsCblD,KAtCa,EAuCbsD,UAvCa,EAwCbE,IAxCa,EAyCbI,IAzCa,EA0CbG,GA1Ca,EA2CbI,cA3Ca,EA4CbC,aA5Ca,EA6CbC,cA7Ca,EA8CbC,eA9Ca,EA+CbC,cA/Ca,EAgDbC,YAhDa,EAiDbC,QAjDa,EAkDbI,OAlDa,EAmDbC,YAnDa,CAAd;;AAsDA,4BAAwBC,OAAxB,8BACA;MADSzK,YAAW,eAAf;EAEJD,QAAA,CAAa,8BAA8BC,YAAW,CAACnB,IAAZ,CAAiB0H,WAAjB,EAA3C,EAA2EvG,YAA3E;;;;;"}