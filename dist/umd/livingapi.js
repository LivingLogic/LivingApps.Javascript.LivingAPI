!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@livinglogic/ul4")):"function"==typeof define&&define.amd?define(["exports","@livinglogic/ul4"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).la={},e.ul4)}(this,(function(e,t){"use strict";function _interopNamespace(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(r){if("default"!==r){var o=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,o.get?o:{enumerable:!0,get:function(){return e[r]}})}})),t.default=e,Object.freeze(t)}var r=_interopNamespace(t);function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}function _possibleConstructorReturn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _createSuper(e){var t=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,o=_getPrototypeOf(e);if(t){var n=_getPrototypeOf(this).constructor;r=Reflect.construct(o,arguments,n)}else r=o.apply(this,arguments);return _possibleConstructorReturn(this,r)}}function _get(e,t,r){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(e,t,r){var o=function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf(e)););return e}(e,t);if(o){var n=Object.getOwnPropertyDescriptor(o,t);return n.get?n.get.call(r):n.value}})(e,t,r||e)}function _slicedToArray(e,t){return function _arrayWithHoles(e){if(Array.isArray(e))return e}(e)||function _iterableToArrayLimit(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var o,n,a=[],l=!0,i=!1;try{for(r=r.call(e);!(l=(o=r.next()).done)&&(a.push(o.value),!t||a.length!==t);l=!0);}catch(e){i=!0,n=e}finally{try{l||null==r.return||r.return()}finally{if(i)throw n}}return a}(e,t)||_unsupportedIterableToArray(e,t)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _toConsumableArray(e){return function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}(e)||function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||_unsupportedIterableToArray(e)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}function _createForOfIteratorHelper(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var o=0,F=function(){};return{s:F,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,a=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){l=!0,n=e},f:function(){try{a||null==r.return||r.return()}finally{if(l)throw n}}}}var o=function(e){_inherits(Base,e);var t=_createSuper(Base);function Base(){return _classCallCheck(this,Base),t.call(this)}return _createClass(Base,[{key:"ul4ondump",value:function ul4ondump(e){for(var t=0;t<this._ul4onattrs.length;++t)e.dump(this._dumpUL4ONAttr(this._ul4onattrs[t]))}},{key:"_dumpUL4ONAttr",value:function _dumpUL4ONAttr(e){return this[e]}},{key:"ul4onload",value:function ul4onload(e){for(var t=0,r=e.loadcontent();;++t){var o=r.next();if(o.done)break;t<this._ul4onattrs.length&&this._loadUL4ONAttr(this._ul4onattrs[t],o.value)}for(;t<this._ul4onattrs.length;++t)this._setDefaultUL4ONAttr(this._ul4onattrs[t])}},{key:"_loadUL4ONAttr",value:function _loadUL4ONAttr(e,t){this[e]=t}},{key:"_setDefaultUL4ONAttr",value:function _setDefaultUL4ONAttr(e){this[e]=null}},{key:"__getattr__",value:function __getattr__(e){if(this._ul4attrs.has(e)){var t=this[e];if("function"==typeof t){var o=t.bind(this);return o._ul4_name=t._ul4_name||t.name,o._ul4_signature=t._ul4_signature,o._ul4_needsobject=t._ul4_needsobject,o._ul4_needscontext=t._ul4_needscontext,o}return t}throw new r.AttributeError(this,e)}},{key:"__repr__",value:function __repr__(){return"<"+this.constructor.name+">"}}]),Base}(r.Proto),n=function(){function Handler(){_classCallCheck(this,Handler)}return _createClass(Handler,[{key:"save",value:function save(e){}},{key:"delete",value:function _delete(e){}}]),Handler}(),a=function(e){_inherits(Globals,e);var t=_createSuper(Globals);function Globals(){var e;return _classCallCheck(this,Globals),(e=t.call(this)).version=null,e.hostname=null,e.platform=null,e.user=null,e.lang=null,e.app=null,e.record=null,e.maxdbactions=null,e.maxtemplateruntime=null,e.flashmessages=null,e.handler=new n,e}return _createClass(Globals,[{key:"__repr__",value:function __repr__(){return"<Globals version="+r._repr(this.version)+">"}}],[{key:"geodist",value:function geodist(e,t){var r=function sqsin(e){return(e=Math.sin(e))*e},o=function sqsos(e){return(e=Math.cos(e))*e},n=Math.PI/180,a=1/298.257223563,l=e.lat*n,i=e.long*n,p=t.lat*n,s=(l+p)/2,u=(l-p)/2,c=(i-t.long*n)/2,_=r(u)*o(c)+o(s)*r(c),h=o(u)*o(c)+r(s)*r(c),f=Math.atan(Math.sqrt(_/h)),d=2*f*6378.137,y=Math.sqrt(_*h)/f,C=(3*y+1)/(2*_);return d*(1+a*((3*y-1)/(2*h))*r(s)*o(u)-a*C*o(s)*r(u))}}]),Globals}(o);_defineProperty(a,"classdoc","Global information"),a.prototype._ul4onattrs=["version","platform","user","maxdbactions","maxtemplateruntime","flashmessages","lang","datasources","hostname","app","record"],a.prototype._ul4attrs=r._makeset("version","hostname","platform","user","lang","app","record","maxdbactions","maxtemplateruntime","flashmessages");var l=function(e){_inherits(FlashMessage,e);var t=_createSuper(FlashMessage);function FlashMessage(){return _classCallCheck(this,FlashMessage),t.apply(this,arguments)}return _createClass(FlashMessage,[{key:"__repr__",value:function __repr__(){return"<FlashMessage type="+r._repr(this.type)+" title="+r._repr(this.title)+">"}}]),FlashMessage}(o);_defineProperty(l,"classdoc","A flash message in a web page"),l.prototype._ul4onattrs=["timestamp","type","title","message"],l.prototype._ul4attrs=r._makeset("timestamp","type","title","message");var i=function(e){_inherits(App,e);var t=_createSuper(App);function App(){return _classCallCheck(this,App),t.apply(this,arguments)}return _createClass(App,[{key:"__repr__",value:function __repr__(){return"<App id="+r._repr(this.id)+" name="+r._repr(this.name)+">"}},{key:"insert",value:function insert(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.__call__(e);return this.globals.handler.save(this),t}},{key:"__call__",value:function __call__(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new u(this);if(r._ismap(e)){var o,n=_createForOfIteratorHelper(e.entries());try{for(n.s();!(o=n.n()).done;){var a=_slicedToArray(o.value,2),l=a[0],i=a[1];if(!t.fields.has(l))throw new r.ArgumentError("update() get an unexpected keyword argument "+r._repr(l));t.fields.get(l).value=i}}catch(e){n.e(e)}finally{n.f()}}else{if(!r._isobject(e))throw new r.TypeError("values must be an object or a Map");for(var p in e){if(!t.fields.has(p))throw new r.ArgumentError("update() get an unexpected keyword argument "+r._repr(p));t.fields.get(p).value=e[p]}}return t}},{key:"__getattr__",value:function __getattr__(e){if(e.startsWith("c_")){if(!this.controls.has(e.substr(2)))throw new r.AttributeError(this,e);return this.controls.get(e.substr(2))}return _get(_getPrototypeOf(App.prototype),"__getattr__",this).call(this,e)}}]),App}(o);_defineProperty(i,"classdoc","A LivingApps application"),i.prototype._ul4onattrs=["id","globals","name","description","lang","startlink","iconlarge","iconsmall","createdby","controls","records","recordcount","installation","categories","params","views","datamanagement_identifier","basetable","primarykey","insertprocedure","updateprocedure","deleteprocedure","templates","createdat","updatedat","updatedby","superid","favorite"],i.prototype._ul4attrs=r._makeset("id","globals","name","description","lang","startlink","iconlarge","iconsmall","createdat","createdby","updatedat","updatedby","controls","records","recordcount","installation","categories","params","views","datamanagement_identifier","insert","favorite"),r.expose(i.prototype.__call__,["**values"],{needsobject:!0}),r.expose(i.prototype.insert,["**values"],{needsobject:!0});var p=function(e){_inherits(View,e);var t=_createSuper(View);function View(){return _classCallCheck(this,View),t.apply(this,arguments)}return _createClass(View,[{key:"__repr__",value:function __repr__(){return"<View id="+r._repr(this.id)+" name="+r._repr(this.name)+">"}}]),View}(o);_defineProperty(p,"classdoc","An input form for a LivingApps application"),p.prototype._ul4onattrs=["id","name","app","order","width","height","start","end"],p.prototype._ul4attrs=r._makeset("id","name","app","order","width","height","start","end");var s=function(e){_inherits(DataSourceData,e);var t=_createSuper(DataSourceData);function DataSourceData(){return _classCallCheck(this,DataSourceData),t.apply(this,arguments)}return _createClass(DataSourceData,[{key:"__repr__",value:function __repr__(){return"<DataSource.Data id="+r._repr(this.id)+" identifier="+r._repr(this.identifier)+">"}}]),DataSourceData}(o);_defineProperty(s,"classdoc","The data resulting from a data source configuration"),s.prototype._ul4onattrs=["id","identifier","app","apps"],s.prototype._ul4attrs=r._makeset("id","identifier","app","apps");var u=function(e){_inherits(Record,e);var t=_createSuper(Record);function Record(e){var r;return _classCallCheck(this,Record),(r=t.call(this)).id=null,r.app=e,r.createdat=null,r.createdby=null,r.updatedat=null,r.updatedby=null,r.updatecount=0,r._sparsevalues=new Map,r._values=null,r._fields=null,r.children=new Map,r.attachments=null,r.errors=[],r._is_deleted=!1,r}return _createClass(Record,[{key:"__repr__",value:function __repr__(){var e,t=["<Record id=",r._repr(this.id)],o=_createForOfIteratorHelper(this.fields.values());try{for(o.s();!(e=o.n()).done;){var n=e.value;n.control.priority&&(t.push(" v_"),t.push(n.control.identifier),t.push("="),t.push(r._repr(n.value)))}}catch(e){o.e(e)}finally{o.f()}return t.push(">"),t.join("")}},{key:"values",get:function get(){if(null===this._values){this._values=r._havemap?new Map:{};var e,t=_createForOfIteratorHelper(this.app.controls.entries());try{for(t.s();!(e=t.n()).done;){var o=_slicedToArray(e.value,2),n=o[0],a=(o[1],this._sparsevalues.get(n));void 0===a&&(a=null),this._values.set(n,a)}}catch(e){t.e(e)}finally{t.f()}}return this._values}},{key:"fields",get:function get(){if(null===this._fields){this._fields=r._havemap?new Map:{};var e,t=_createForOfIteratorHelper(this.values.entries());try{for(t.s();!(e=t.n()).done;){var o=_slicedToArray(e.value,2),n=o[0],a=o[1],l=new W(this.app.controls.get(n),this,a);this._fields.set(n,l)}}catch(e){t.e(e)}finally{t.f()}}return this._fields}},{key:"is_dirty",value:function is_dirty(){if(null===this.id)return!0;var e,t=_createForOfIteratorHelper(this.fields.values());try{for(t.s();!(e=t.n()).done;){if(e.value.is_dirty())return!0}}catch(e){t.e(e)}finally{t.f()}return!1}},{key:"has_errors",value:function has_errors(){if(0!==this.errors.length)return!0;var e,t=_createForOfIteratorHelper(this.fields.values());try{for(t.s();!(e=t.n()).done;){if(e.value.has_errors())return!0}}catch(e){t.e(e)}finally{t.f()}return!1}},{key:"delete",value:function _delete(){return this.app.globals.handler.delete(this)}},{key:"save",value:function save(){this.app.globals.handler.save(this)}},{key:"update",value:function update(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(r._ismap(e)){var t,o=_createForOfIteratorHelper(e.entries());try{for(o.s();!(t=o.n()).done;){var n=_slicedToArray(t.value,2),a=n[0],l=n[1];if(!this.fields.has(a))throw new r.ArgumentError("update() get an unexpected keyword argument "+r._repr(a));fields.get(a).value=l}}catch(e){o.e(e)}finally{o.f()}}else{if(!r._isobject(e))throw new r.TypeError("values must be an object or a Map");for(var i in e){if(!this.fields.has(i))throw new r.ArgumentError("update() get an unexpected keyword argument "+r._repr(i));record.fields.get(i).value=e[i]}}this.app.globals.handler.save(this)}},{key:"search",value:function search(e){for(var t in e){var o=e[t];if(r._bool(o)&&!this.fields.get(t).search(o))return!1}return!0}},{key:"_dumpUL4ONAttr",value:function _dumpUL4ONAttr(e){return"values"===e?this._sparsevalues:this[e]}},{key:"_loadUL4ONAttr",value:function _loadUL4ONAttr(e,t){"values"===e?(this._sparsevalues=t,this._values=null,this._fields=null):this[e]=t}},{key:"__getattr__",value:function __getattr__(e){return e.startsWith("c_")?this.children.get(e.substr(2)):e.startsWith("f_")?this.fields.get(e.substr(2)):e.startsWith("v_")?this.values.get(e.substr(2)):this[e]}},{key:"__setattr__",value:function __setattr__(e,t){if(e.startsWith("c_"))this.children[e.substr(2)]=t;else{if(!e.startsWith("v_"))throw new r.AttributeError(this,e);this.fields.get(e.substr(2)).value=t}}}]),Record}(o);_defineProperty(u,"classdoc","A record of a LivingApp application"),u.prototype._ul4onattrs=["id","app","createdat","createdby","updatedat","updatedby","updatecount","values","attachments","children"],u.prototype._ul4attrs=r._makeset("id","app","createdat","createdby","updatedat","updatedby","updatecount","values","attachments","children"),r.expose(u.prototype.is_dirty,[]),r.expose(u.prototype.has_errors,[]),r.expose(u.prototype.delete,[]),r.expose(u.prototype.save,[]),r.expose(u.prototype.update,["**values"],{needsobject:!0});var c=function(e){_inherits(Control,e);var t=_createSuper(Control);function Control(){return _classCallCheck(this,Control),t.apply(this,arguments)}return _createClass(Control,[{key:"__repr__",value:function __repr__(){return"<"+this.constructor.name+" id="+r._repr(this.id)+" identifier="+r._repr(this.identifier)+">"}},{key:"_logsearch",value:function _logsearch(e,t){}},{key:"search",value:function search(e,t){return!1}}]),Control}(o);c.prototype.type=null,c.prototype.subtype=null,c.prototype._ul4onattrs=["id","identifier","field","app","label","priority","order","default","ininsertprocedure","inupdateprocedure"],c.prototype._ul4attrs=r._makeset("id","identifier","field","app","label","priority","order","default","ininsertprocedure","inupdateprocedure");var _=function(e){_inherits(BoolControl,e);var t=_createSuper(BoolControl);function BoolControl(){return _classCallCheck(this,BoolControl),t.apply(this,arguments)}return _createClass(BoolControl,[{key:"search",value:function search(e,t){return this._logsearch(e,t),"equals"===t.operator&&t.value===e}}]),BoolControl}(c);_defineProperty(_,"classdoc","A LivingApps boolean field (type 'bool')"),_.prototype.type="bool";var h=function(e){_inherits(IntControl,e);var t=_createSuper(IntControl);function IntControl(){return _classCallCheck(this,IntControl),t.apply(this,arguments)}return _createClass(IntControl,[{key:"search",value:function search(e,t){return this._logsearch(e,t),"equals"===t.operator&&t.value===e}}]),IntControl}(c);_defineProperty(h,"classdoc","A LivingApps integer field (type 'int')"),h.prototype.type="int";var f=function(e){_inherits(NumberControl,e);var t=_createSuper(NumberControl);function NumberControl(){return _classCallCheck(this,NumberControl),t.apply(this,arguments)}return _createClass(NumberControl,[{key:"search",value:function search(e,t){return this._logsearch(e,t),"equals"===t.operator?t.value===e:"range"===t.operator&&(null!==e&&((null===t.minvalue||t.minvalue<=e)&&(null===t.maxvalue||e<t.maxvalue)))}}]),NumberControl}(c);_defineProperty(f,"classdoc","A LivingApps number field (type 'number')"),f.prototype.type="number";var d=function(e){_inherits(StringControl,e);var t=_createSuper(StringControl);function StringControl(){return _classCallCheck(this,StringControl),t.apply(this,arguments)}return _createClass(StringControl,[{key:"search",value:function search(e,t){return this._logsearch(e,t),"equals"===t.operator?t.value===e:"contains"===t.operator?null===t.value||null===e?t.value===e:e.toLowerCase().indexOf(t.value.toLowerCase())>=0:void 0}}]),StringControl}(c);d.prototype.type="string";var y=function(e){_inherits(TextControl,e);var t=_createSuper(TextControl);function TextControl(){return _classCallCheck(this,TextControl),t.apply(this,arguments)}return TextControl}(d);_defineProperty(y,"classdoc","A LivingApps text field (type 'string/text')"),y.prototype.subtype="text";var C=function(e){_inherits(EmailControl,e);var t=_createSuper(EmailControl);function EmailControl(){return _classCallCheck(this,EmailControl),t.apply(this,arguments)}return EmailControl}(d);_defineProperty(C,"classdoc","A LivingApps email field (type 'string/email')"),C.prototype.subtype="email";var v=function(e){_inherits(URLControl,e);var t=_createSuper(URLControl);function URLControl(){return _classCallCheck(this,URLControl),t.apply(this,arguments)}return URLControl}(d);_defineProperty(v,"classdoc","A LivingApps URL field (type 'string/url')"),v.prototype.subtype="url";var m=function(e){_inherits(TelControl,e);var t=_createSuper(TelControl);function TelControl(){return _classCallCheck(this,TelControl),t.apply(this,arguments)}return TelControl}(d);_defineProperty(m,"classdoc","A LivingApps phone number field (type 'string/tel')"),m.prototype.subtype="tel";var k=function(e){_inherits(PasswordControl,e);var t=_createSuper(PasswordControl);function PasswordControl(){return _classCallCheck(this,PasswordControl),t.apply(this,arguments)}return PasswordControl}(d);_defineProperty(k,"classdoc","A LivingApps email field (type 'string/email')"),k.prototype.subtype="password";var g=function(e){_inherits(TextAreaControl,e);var t=_createSuper(TextAreaControl);function TextAreaControl(){return _classCallCheck(this,TextAreaControl),t.apply(this,arguments)}return TextAreaControl}(d);_defineProperty(g,"classdoc","A LivingApps textarea field (type 'string/textarea')"),g.prototype.subtype="textarea",g.prototype._ul4onattrs=d.prototype._ul4onattrs.concat(["encrypted"]),g.prototype._ul4attrs=r._makeset.apply(r,_toConsumableArray(d.prototype._ul4attrs).concat(["encrypted"]));var A=function(e){_inherits(HTMLControl,e);var t=_createSuper(HTMLControl);function HTMLControl(){return _classCallCheck(this,HTMLControl),t.apply(this,arguments)}return HTMLControl}(d);_defineProperty(A,"classdoc","A LivingApps HTML field (type 'string/html')"),A.prototype.subtype="html";var b=function(e){_inherits(DateControl,e);var t=_createSuper(DateControl);function DateControl(){return _classCallCheck(this,DateControl),t.apply(this,arguments)}return _createClass(DateControl,[{key:"formatstring",value:function formatstring(e){return"de"===(e=e||this.app.language)?"%d.%m.%Y":"%m/%d/%Y"}},{key:"search",value:function search(e,t){this._logsearch(e,t);var o=t.value;return"[object Date]"==Object.prototype.toString.call(o)&&(o=r._format(o,this.formatstring(),this.app.language)),null!==e&&(e=r._format(e,this.formatstring(),this.app.language)),"equals"===t.operator?o===e:"contains"===t.operator&&(null===o||null===e?o===e:e.toLowerCase().indexOf(o.toLowerCase())>=0)}}]),DateControl}(c);_defineProperty(b,"classdoc","A LivingApps date field (type 'date/date')"),b.prototype.type="date",b.prototype.subtype="date";var L=function(e){_inherits(DatetimeMinuteControl,e);var t=_createSuper(DatetimeMinuteControl);function DatetimeMinuteControl(){return _classCallCheck(this,DatetimeMinuteControl),t.apply(this,arguments)}return _createClass(DatetimeMinuteControl,[{key:"formatstring",value:function formatstring(e){return"de"===(e=e||this.app.language)?"%d.%m.%Y %H:%M":"%m/%d/%Y %H:%M"}}]),DatetimeMinuteControl}(b);_defineProperty(L,"classdoc","A LivingApps date field (type 'date/datetimeminute')"),L.prototype.subtype="datetimeminute";var S=function(e){_inherits(DatetimeSecondControl,e);var t=_createSuper(DatetimeSecondControl);function DatetimeSecondControl(){return _classCallCheck(this,DatetimeSecondControl),t.apply(this,arguments)}return _createClass(DatetimeSecondControl,[{key:"formatstring",value:function formatstring(e){return"de"===(e=e||this.app.language)?"%d.%m.%Y %H:%M:%S":"%m/%d/%Y %H:%M:%S"}}]),DatetimeSecondControl}(b);_defineProperty(S,"classdoc","A LivingApps date field (type 'date/datetimesecond')"),S.prototype.subtype="datetimesecond";var M=function(e){_inherits(LookupControl,e);var t=_createSuper(LookupControl);function LookupControl(){return _classCallCheck(this,LookupControl),t.apply(this,arguments)}return _createClass(LookupControl,[{key:"search",value:function search(e,t){return"equals"===t.operator&&(null===e?null===t.value:e.key===t.value)}}]),LookupControl}(c);M.prototype.type="lookup",M.prototype._ul4onattrs=c.prototype._ul4onattrs.concat(["lookupdata"]),M.prototype._ul4attrs=r._makeset.apply(r,_toConsumableArray(c.prototype._ul4attrs).concat(["lookupdata"]));var P=function(e){_inherits(LookupSelectControl,e);var t=_createSuper(LookupSelectControl);function LookupSelectControl(){return _classCallCheck(this,LookupSelectControl),t.apply(this,arguments)}return LookupSelectControl}(M);_defineProperty(P,"classdoc","A LivingApps lookup field (type 'lookup/select')"),P.prototype.subtype="select";var w=function(e){_inherits(LookupRadioControl,e);var t=_createSuper(LookupRadioControl);function LookupRadioControl(){return _classCallCheck(this,LookupRadioControl),t.apply(this,arguments)}return LookupRadioControl}(M);_defineProperty(w,"classdoc","A LivingApps lookup field (type 'lookup/radio')"),w.prototype.subtype="radio";var O=function(e){_inherits(LookupChoiceControl,e);var t=_createSuper(LookupChoiceControl);function LookupChoiceControl(){return _classCallCheck(this,LookupChoiceControl),t.apply(this,arguments)}return LookupChoiceControl}(M);_defineProperty(O,"classdoc","A LivingApps lookup field (type 'lookup/choice')"),O.prototype.subtype="choice";var x=function(e){_inherits(AppLookupControl,e);var t=_createSuper(AppLookupControl);function AppLookupControl(){return _classCallCheck(this,AppLookupControl),t.apply(this,arguments)}return _createClass(AppLookupControl,[{key:"search",value:function search(e,t){return null===e||null===t.value?e===t.value:e.search(t)}}]),AppLookupControl}(c);x.prototype.type="applookup",x.prototype._ul4onattrs=c.prototype._ul4onattrs.concat(["lookup_app","lookup_controls","local_master_control","local_detail_controls","remote_master_control"]),x.prototype._ul4attrs=r._makeset.apply(r,_toConsumableArray(c.prototype._ul4attrs).concat(["lookup_app","lookup_controls","local_master_control","local_detail_controls","remote_master_control"]));var I=function(e){_inherits(AppLookupSelectControl,e);var t=_createSuper(AppLookupSelectControl);function AppLookupSelectControl(){return _classCallCheck(this,AppLookupSelectControl),t.apply(this,arguments)}return AppLookupSelectControl}(x);_defineProperty(I,"classdoc","A LivingApps applookup field (type 'applookup/select')"),I.prototype.subtype="select";var T=function(e){_inherits(AppLookupRadioControl,e);var t=_createSuper(AppLookupRadioControl);function AppLookupRadioControl(){return _classCallCheck(this,AppLookupRadioControl),t.apply(this,arguments)}return AppLookupRadioControl}(x);_defineProperty(T,"classdoc","A LivingApps applookup field (type 'applookup/radio')"),T.prototype.subtype="radio";var R=function(e){_inherits(AppLookupChoiceControl,e);var t=_createSuper(AppLookupChoiceControl);function AppLookupChoiceControl(){return _classCallCheck(this,AppLookupChoiceControl),t.apply(this,arguments)}return AppLookupChoiceControl}(x);_defineProperty(R,"classdoc","A LivingApps applookup field (type 'applookup/choice')"),R.prototype.subtype="choice";var D=function(e){_inherits(MultipleLookupControl,e);var t=_createSuper(MultipleLookupControl);function MultipleLookupControl(){return _classCallCheck(this,MultipleLookupControl),t.apply(this,arguments)}return _createClass(MultipleLookupControl,[{key:"search",value:function search(e,t){if("equals"===t.operator){var r,o=_createForOfIteratorHelper(e);try{for(o.s();!(r=o.n()).done;){if(r.value.key===t.value)return!0}}catch(e){o.e(e)}finally{o.f()}return!1}return!1}}]),MultipleLookupControl}(M);D.prototype.subtype="multiplelookup";var N=function(e){_inherits(MultipleLookupSelectControl,e);var t=_createSuper(MultipleLookupSelectControl);function MultipleLookupSelectControl(){return _classCallCheck(this,MultipleLookupSelectControl),t.apply(this,arguments)}return MultipleLookupSelectControl}(D);_defineProperty(N,"classdoc","A LivingApps multiplelookup field (type 'multiplelookup/select')"),N.prototype.subtype="select";var U=function(e){_inherits(MultipleLookupCheckboxControl,e);var t=_createSuper(MultipleLookupCheckboxControl);function MultipleLookupCheckboxControl(){return _classCallCheck(this,MultipleLookupCheckboxControl),t.apply(this,arguments)}return MultipleLookupCheckboxControl}(D);_defineProperty(U,"classdoc","A LivingApps multiplelookup field (type 'multiplelookup/checkbox')"),U.prototype.subtype="checkbox";var j=function(e){_inherits(MultipleLookupChoiceControl,e);var t=_createSuper(MultipleLookupChoiceControl);function MultipleLookupChoiceControl(){return _classCallCheck(this,MultipleLookupChoiceControl),t.apply(this,arguments)}return MultipleLookupChoiceControl}(D);_defineProperty(j,"classdoc","A LivingApps multiplelookup field (type 'multiplelookup/choice')"),j.prototype.subtype="choice";var H=function(e){_inherits(MultipleAppLookupControl,e);var t=_createSuper(MultipleAppLookupControl);function MultipleAppLookupControl(){return _classCallCheck(this,MultipleAppLookupControl),t.apply(this,arguments)}return _createClass(MultipleAppLookupControl,[{key:"search",value:function search(e,t){if("equals"===t.operator){if(null===t.value)return 0===e.length;var r,o=_createForOfIteratorHelper(e);try{for(o.s();!(r=o.n()).done;){if(r.value.search(t.value))return!0}}catch(e){o.e(e)}finally{o.f()}return!1}return!1}}]),MultipleAppLookupControl}(x);H.prototype.type="multipleapplookup";var G=function(e){_inherits(MultipleAppLookupSelectControl,e);var t=_createSuper(MultipleAppLookupSelectControl);function MultipleAppLookupSelectControl(){return _classCallCheck(this,MultipleAppLookupSelectControl),t.apply(this,arguments)}return MultipleAppLookupSelectControl}(H);_defineProperty(G,"classdoc","A LivingApps multiple applookup field (type 'multipleapplookup/select')"),G.prototype.subtype="select";var B=function(e){_inherits(MultipleAppLookupCheckboxControl,e);var t=_createSuper(MultipleAppLookupCheckboxControl);function MultipleAppLookupCheckboxControl(){return _classCallCheck(this,MultipleAppLookupCheckboxControl),t.apply(this,arguments)}return MultipleAppLookupCheckboxControl}(H);_defineProperty(B,"classdoc","A LivingApps multiple applookup field (type 'multipleapplookup/checkbox')"),B.prototype.subtype="checkbox";var E=function(e){_inherits(MultipleAppLookupChoiceControl,e);var t=_createSuper(MultipleAppLookupChoiceControl);function MultipleAppLookupChoiceControl(){return _classCallCheck(this,MultipleAppLookupChoiceControl),t.apply(this,arguments)}return MultipleAppLookupChoiceControl}(H);_defineProperty(E,"classdoc","A LivingApps multiple applookup field (type 'multipleapplookup/choice')"),E.prototype.subtype="choice";var V=function(e){_inherits(GeoControl,e);var t=_createSuper(GeoControl);function GeoControl(){return _classCallCheck(this,GeoControl),t.apply(this,arguments)}return GeoControl}(c);_defineProperty(V,"classdoc","A LivingApps geo field (type 'geo')"),V.prototype.type="geo";var q=function(e){_inherits(FileControl,e);var t=_createSuper(FileControl);function FileControl(){return _classCallCheck(this,FileControl),t.apply(this,arguments)}return FileControl}(c);_defineProperty(q,"classdoc","A LivingApps upload field (type 'file')"),q.prototype.type="file";var J=function(e){_inherits(FileSignatureControl,e);var t=_createSuper(FileSignatureControl);function FileSignatureControl(){return _classCallCheck(this,FileSignatureControl),t.apply(this,arguments)}return FileSignatureControl}(q);_defineProperty(J,"classdoc","A LivingApps signature image field (type 'file/signature')"),J.prototype.subtype="signature";var K=function(e){_inherits(ButtonControl,e);var t=_createSuper(ButtonControl);function ButtonControl(){return _classCallCheck(this,ButtonControl),t.apply(this,arguments)}return ButtonControl}(c);K.prototype.type="button";var W=function(e){_inherits(Field,e);var t=_createSuper(Field);function Field(e,r,o){var n;return _classCallCheck(this,Field),(n=t.call(this)).control=e,n.record=r,n._value=o,n._dirty=!1,n.errors=[],n}return _createClass(Field,[{key:"value",get:function get(){return this._value},set:function set(e){var t=this._value;r._ne(t,e)&&(this.record.values.set(this.control.identifier,e),this._value=e,this._dirty=!0)}},{key:"is_empty",value:function is_empty(){return null===this._value||r._islist(this._value)&&0===this._value.length}},{key:"is_dirty",value:function is_dirty(){return this._dirty}},{key:"has_errors",value:function has_errors(){return 0!==this.errors.length}},{key:"search",value:function search(e){return this.control.search(this.value,e)}},{key:"__repr__",value:function __repr__(){var e="<Field identifier=";return e+=r._repr(this.control.identifier),this._dirty&&(e+=" is_dirty()=True"),0!==this.errors.length&&(e+=" has_errors()=True"),e+=">"}}]),Field}(o),Y=function(e){_inherits(LookupItem,e);var t=_createSuper(LookupItem);function LookupItem(){return _classCallCheck(this,LookupItem),t.apply(this,arguments)}return _createClass(LookupItem,[{key:"__repr__",value:function __repr__(){return"<LookupItem key="+r._repr(this.key)+" label="+r._repr(this.label)+">"}}]),LookupItem}(o);_defineProperty(Y,"classdoc","An option in a lookup control/field"),Y.prototype._ul4onattrs=["id","key","label"],Y.prototype._ul4attrs=r._makeset("id","key","label");var z=function(e){_inherits(User,e);var t=_createSuper(User);function User(){return _classCallCheck(this,User),t.apply(this,arguments)}return _createClass(User,[{key:"__repr__",value:function __repr__(){return"<User id="+r._repr(this.id)+" firstname="+r._repr(this.firstname)+" surname="+r._repr(this.surname)+" email="+r._repr(this.email)+">"}}]),User}(o);_defineProperty(z,"classdoc","A LivingApps user/account"),z.prototype._ul4onattrs=["_id","id","gender","firstname","surname","initials","email","language","avatarsmall","avatarlarge","keyviews"],z.prototype._ul4attrs=r._makeset("_id","id","gender","firstname","surname","initials","email","language","avatarsmall","avatarlarge","keyviews");var $=function(e){_inherits(File,e);var t=_createSuper(File);function File(){return _classCallCheck(this,File),t.apply(this,arguments)}return _createClass(File,[{key:"__repr__",value:function __repr__(){return"<File id="+r._repr(this.id)+" url="+r._repr(this.url)+" filename="+r._repr(this.filename)+">"}}]),File}(o);_defineProperty($,"classdoc","An uploaded file"),$.prototype._ul4onattrs=["id","url","filename","mimetype","width","height","internalid","createdat","size"],$.prototype._ul4attrs=r._makeset("id","url","filename","mimetype","width","height","size","createdat");var Q=function(e){_inherits(Geo,e);var t=_createSuper(Geo);function Geo(e,r,o){var n;return _classCallCheck(this,Geo),(n=t.call(this)).lat=e,n.long=r,n.info=o,n}return _createClass(Geo,[{key:"__repr__",value:function __repr__(){return"<Geo lat="+r._repr(this.lat)+" long="+r._repr(this.long)+" info="+r._repr(this.info)+">"}}]),Geo}(o);_defineProperty(Q,"classdoc","Geographical coordinates and location information"),Q.prototype._ul4onattrs=["lat","long","info"],Q.prototype._ul4attrs=r._makeset("lat","long","info");var X=function(e){_inherits(Attachment,e);var t=_createSuper(Attachment);function Attachment(){return _classCallCheck(this,Attachment),t.apply(this,arguments)}return _createClass(Attachment,[{key:"__repr__",value:function __repr__(){return"<"+this.__type__+" id="+r._repr(this.id)+" label="+r._repr(this.label)+">"}}]),Attachment}(o);X.prototype._ul4onattrs=["id","record","label","active"],X.prototype._ul4attrs=r._makeset("id","record","label","active");var Z=function(e){_inherits(NoteAttachment,e);var t=_createSuper(NoteAttachment);function NoteAttachment(){return _classCallCheck(this,NoteAttachment),t.apply(this,arguments)}return NoteAttachment}(X);_defineProperty(Z,"classdoc","A note attachment of a record"),Z.prototype.type="noteattachment",Z.prototype._ul4onattrs=X.prototype._ul4onattrs.concat(["value"]),Z.prototype._ul4attrs=r._makeset.apply(r,_toConsumableArray(X.prototype._ul4onattrs).concat(["value"]));var ee=function(e){_inherits(URLAttachment,e);var t=_createSuper(URLAttachment);function URLAttachment(){return _classCallCheck(this,URLAttachment),t.apply(this,arguments)}return URLAttachment}(X);_defineProperty(ee,"classdoc","A URL attachment of a record"),ee.prototype.type="urlattachment",ee.prototype._ul4onattrs=X.prototype._ul4onattrs.concat(["value"]),ee.prototype._ul4attrs=r._makeset.apply(r,_toConsumableArray(X.prototype._ul4onattrs).concat(["value"]));var te=function(e){_inherits(FileAttachment,e);var t=_createSuper(FileAttachment);function FileAttachment(){return _classCallCheck(this,FileAttachment),t.apply(this,arguments)}return FileAttachment}(X);_defineProperty(te,"classdoc","A file attachment of a record"),te.prototype.type="fileattachment",te.prototype._ul4onattrs=X.prototype._ul4onattrs.concat(["value"]),te.prototype._ul4attrs=r._makeset.apply(r,_toConsumableArray(X.prototype._ul4onattrs).concat(["value"]));var re=function(e){_inherits(ImageAttachment,e);var t=_createSuper(ImageAttachment);function ImageAttachment(){return _classCallCheck(this,ImageAttachment),t.apply(this,arguments)}return ImageAttachment}(X);_defineProperty(re,"classdoc","An image attachment of a record"),re.prototype.type="imageattachment",re.prototype._ul4onattrs=X.prototype._ul4onattrs.concat(["original","thumb","small","medium","large"]),re.prototype._ul4attrs=r._makeset.apply(r,_toConsumableArray(X.prototype._ul4onattrs).concat(["original","thumb","small","medium","large"]));var oe=function(e){_inherits(JSONAttachment,e);var t=_createSuper(JSONAttachment);function JSONAttachment(){return _classCallCheck(this,JSONAttachment),t.apply(this,arguments)}return _createClass(JSONAttachment,[{key:"_dumpUL4ONAttr",value:function _dumpUL4ONAttr(e){return"value"===e?r._asjson(this.value):this[e]}},{key:"_loadUL4ONAttr",value:function _loadUL4ONAttr(e,t){"value"===e?this.value=r._fromjson(t):this[e]=t}}]),JSONAttachment}(X);_defineProperty(oe,"classdoc","A JSON attachment of a record"),oe.prototype.type="jsonattachment",oe.prototype._ul4onattrs=X.prototype._ul4onattrs.concat(["value"]),oe.prototype._ul4attrs=r._makeset.apply(r,_toConsumableArray(X.prototype._ul4onattrs).concat(["value"]));var ne=function(e){_inherits(Installation,e);var t=_createSuper(Installation);function Installation(){return _classCallCheck(this,Installation),t.apply(this,arguments)}return _createClass(Installation,[{key:"__repr__",value:function __repr__(){return"<Installation id="+r._repr(this.id)+" name="+r._repr(this.name)+">"}}]),Installation}(o);_defineProperty(ne,"classdoc","The installation that created an app"),ne.prototype._ul4onattrs=["id","name"],ne.prototype._ul4attrs=r._makeset("id","name");var ae=function(e){_inherits(Category,e);var t=_createSuper(Category);function Category(){return _classCallCheck(this,Category),t.apply(this,arguments)}return _createClass(Category,[{key:"__repr__",value:function __repr__(){for(var e=[],t=this;null!==t;)e.splice(0,0,t.identifier),t=t.parent;return"<Category id="+r._repr(this.id)+" identifierpath="+r._repr(e.join("/"))+NaN+r._repr(this.name)+">"}}]),Category}(o);_defineProperty(ae,"classdoc","A navigation category"),ae.prototype._ul4onattrs=["id","identifier","name","order","parent","children","apps"],ae.prototype._ul4attrs=r._makeset("id","identifier","name","order","parent","children","apps");var le=function(e){_inherits(KeyView,e);var t=_createSuper(KeyView);function KeyView(){return _classCallCheck(this,KeyView),t.apply(this,arguments)}return _createClass(KeyView,[{key:"__repr__",value:function __repr__(){return"<KeyView id="+r._repr(this.id)+" identifier="+r._repr(this.identifier)+">"}}]),KeyView}(o);_defineProperty(le,"classdoc","Object granting access to a view template"),le.prototype._ul4onattrs=["id","identifier","name","key","user"],le.prototype._ul4attrs=r._makeset("id","identifier","name","key","user");var ie=function(e){_inherits(AppParameter,e);var t=_createSuper(AppParameter);function AppParameter(){return _classCallCheck(this,AppParameter),t.apply(this,arguments)}return _createClass(AppParameter,[{key:"__repr__",value:function __repr__(){return"<AppParameter id="+r._repr(this.id)+" identifier="+r._repr(this.identifier)+">"}}]),AppParameter}(o);_defineProperty(ie,"classdoc","A parameter of a LivingApps application"),ie.prototype._ul4onattrs=["id","app","identifier","description","value"],ie.prototype._ul4attrs=r._makeset("id","app","identifier","description","value");for(var pe=0,se=[a,l,i,p,s,u,_,h,f,y,C,v,m,k,g,b,L,S,M,P,w,O,x,I,T,R,D,N,U,j,H,G,B,E,V,q,K,W,Y,z,$,Q,Z,ee,te,re,oe,ne,ae,le,ie];pe<se.length;pe++){var ue=se[pe];r.register("de.livinglogic.livingapi."+ue.name.toLowerCase(),ue)}e.App=i,e.AppLookupChoiceControl=R,e.AppLookupControl=x,e.AppLookupRadioControl=T,e.AppLookupSelectControl=I,e.AppParameter=ie,e.Attachment=X,e.Base=o,e.BoolControl=_,e.ButtonControl=K,e.Category=ae,e.Control=c,e.DataSourceData=s,e.DateControl=b,e.DatetimeMinuteControl=L,e.DatetimeSecondControl=S,e.EmailControl=C,e.Field=W,e.File=$,e.FileAttachment=te,e.FileControl=q,e.FileSignatureControl=J,e.FlashMessage=l,e.Geo=Q,e.GeoControl=V,e.Globals=a,e.HTMLControl=A,e.Handler=n,e.ImageAttachment=re,e.Installation=ne,e.IntControl=h,e.JSONAttachment=oe,e.KeyView=le,e.LookupChoiceControl=O,e.LookupControl=M,e.LookupItem=Y,e.LookupRadioControl=w,e.LookupSelectControl=P,e.MultipleAppLookupCheckboxControl=B,e.MultipleAppLookupChoiceControl=E,e.MultipleAppLookupControl=H,e.MultipleAppLookupSelectControl=G,e.MultipleLookupCheckboxControl=U,e.MultipleLookupChoiceControl=j,e.MultipleLookupControl=D,e.MultipleLookupSelectControl=N,e.NoteAttachment=Z,e.NumberControl=f,e.PasswordControl=k,e.Record=u,e.StringControl=d,e.TelControl=m,e.TextAreaControl=g,e.TextControl=y,e.URLAttachment=ee,e.URLControl=v,e.User=z,e.View=p,e.version="0.13.0",Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=livingapi.js.map
