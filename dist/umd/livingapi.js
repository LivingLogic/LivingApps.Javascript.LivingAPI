!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@livinglogic/ul4")):"function"==typeof define&&define.amd?define(["exports","@livinglogic/ul4"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).la={},e.ul4)}(this,(function(e,t){"use strict";function _interopNamespace(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(o){if("default"!==o){var r=Object.getOwnPropertyDescriptor(e,o);Object.defineProperty(t,o,r.get?r:{enumerable:!0,get:function(){return e[o]}})}})),t.default=e,Object.freeze(t)}var o=_interopNamespace(t);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,o){return t&&_defineProperties(e.prototype,t),o&&_defineProperties(e,o),e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}function _possibleConstructorReturn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _createSuper(e){var t=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var o,r=_getPrototypeOf(e);if(t){var n=_getPrototypeOf(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return _possibleConstructorReturn(this,o)}}function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf(e)););return e}function _get(e,t,o){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(e,t,o){var r=_superPropBase(e,t);if(r){var n=Object.getOwnPropertyDescriptor(r,t);return n.get?n.get.call(o):n.value}})(e,t,o||e)}function set(e,t,o,r){return(set="undefined"!=typeof Reflect&&Reflect.set?Reflect.set:function set(e,t,o,r){var n,l=_superPropBase(e,t);if(l){if((n=Object.getOwnPropertyDescriptor(l,t)).set)return n.set.call(r,o),!0;if(!n.writable)return!1}if(n=Object.getOwnPropertyDescriptor(r,t)){if(!n.writable)return!1;n.value=o,Object.defineProperty(r,t,n)}else!function _defineProperty(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}(r,t,o);return!0})(e,t,o,r)}function _set(e,t,o,r,n){if(!set(e,t,o,r||e)&&n)throw new Error("failed to set property");return o}function _slicedToArray(e,t){return function _arrayWithHoles(e){if(Array.isArray(e))return e}(e)||function _iterableToArrayLimit(e,t){var o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==o)return;var r,n,l=[],a=!0,i=!1;try{for(o=o.call(e);!(a=(r=o.next()).done)&&(l.push(r.value),!t||l.length!==t);a=!0);}catch(e){i=!0,n=e}finally{try{a||null==o.return||o.return()}finally{if(i)throw n}}return l}(e,t)||_unsupportedIterableToArray(e,t)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _toConsumableArray(e){return function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}(e)||function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||_unsupportedIterableToArray(e)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,r=new Array(t);o<t;o++)r[o]=e[o];return r}function _createForOfIteratorHelper(e,t){var o="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!o){if(Array.isArray(e)||(o=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){o&&(e=o);var r=0,F=function(){};return{s:F,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,l=!0,a=!1;return{s:function(){o=o.call(e)},n:function(){var e=o.next();return l=e.done,e},e:function(e){a=!0,n=e},f:function(){try{l||null==o.return||o.return()}finally{if(a)throw n}}}}
/*! @license DOMPurify 3.0.9 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.0.9/LICENSE */
const{entries:r,setPrototypeOf:n,isFrozen:l,getPrototypeOf:a,getOwnPropertyDescriptor:i}=Object;let{freeze:u,seal:s,create:p}=Object,{apply:c,construct:_}="undefined"!=typeof Reflect&&Reflect;u||(u=function freeze(e){return e}),s||(s=function seal(e){return e}),c||(c=function apply(e,t,o){return e.apply(t,o)}),_||(_=function construct(e,t){return new e(...t)});const h=unapply(Array.prototype.forEach),y=unapply(Array.prototype.pop),d=unapply(Array.prototype.push),f=unapply(String.prototype.toLowerCase),v=unapply(String.prototype.toString),k=unapply(String.prototype.match),m=unapply(String.prototype.replace),C=unapply(String.prototype.indexOf),g=unapply(String.prototype.trim),b=unapply(Object.prototype.hasOwnProperty),T=unapply(RegExp.prototype.test),L=function unconstruct(e){return function(){for(var t=arguments.length,o=new Array(t),r=0;r<t;r++)o[r]=arguments[r];return _(e,o)}}(TypeError);function unapply(e){return function(t){for(var o=arguments.length,r=new Array(o>1?o-1:0),n=1;n<o;n++)r[n-1]=arguments[n];return c(e,t,r)}}function addToSet(e,t){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:f;n&&n(e,null);let r=t.length;for(;r--;){let n=t[r];if("string"==typeof n){const e=o(n);e!==n&&(l(t)||(t[r]=e),n=e)}e[n]=!0}return e}function cleanArray(e){for(let t=0;t<e.length;t++){b(e,t)||(e[t]=null)}return e}function clone(e){const t=p(null);for(const[o,n]of r(e)){b(e,o)&&(Array.isArray(n)?t[o]=cleanArray(n):n&&"object"==typeof n&&n.constructor===Object?t[o]=clone(n):t[o]=n)}return t}function lookupGetter(e,t){for(;null!==e;){const o=i(e,t);if(o){if(o.get)return unapply(o.get);if("function"==typeof o.value)return unapply(o.value)}e=a(e)}return function fallbackValue(){return null}}const A=u(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),S=u(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),w=u(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),M=u(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),x=u(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),I=u(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),R=u(["#text"]),O=u(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),D=u(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),N=u(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),E=u(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),P=s(/\{\{[\w\W]*|[\w\W]*\}\}/gm),H=s(/<%[\w\W]*|[\w\W]*%>/gm),B=s(/\${[\w\W]*}/gm),U=s(/^data-[\-\w.\u00B7-\uFFFF]/),G=s(/^aria-[\-\w]+$/),j=s(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),V=s(/^(?:\w+script|data):/i),z=s(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),q=s(/^html$/i);var W=Object.freeze({__proto__:null,MUSTACHE_EXPR:P,ERB_EXPR:H,TMPLIT_EXPR:B,DATA_ATTR:U,ARIA_ATTR:G,IS_ALLOWED_URI:j,IS_SCRIPT_OR_DATA:V,ATTR_WHITESPACE:z,DOCTYPE_NAME:q});const Y=function getGlobal(){return"undefined"==typeof window?null:window},K=function _createTrustedTypesPolicy(e,t){if("object"!=typeof e||"function"!=typeof e.createPolicy)return null;let o=null;const r="data-tt-policy-suffix";t&&t.hasAttribute(r)&&(o=t.getAttribute(r));const n="dompurify"+(o?"#"+o:"");try{return e.createPolicy(n,{createHTML:e=>e,createScriptURL:e=>e})}catch(e){return console.warn("TrustedTypes policy "+n+" could not be created."),null}};var J=function createDOMPurify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y();const DOMPurify=e=>createDOMPurify(e);if(DOMPurify.version="3.0.9",DOMPurify.removed=[],!e||!e.document||9!==e.document.nodeType)return DOMPurify.isSupported=!1,DOMPurify;let{document:t}=e;const o=t,n=o.currentScript,{DocumentFragment:l,HTMLTemplateElement:a,Node:i,Element:s,NodeFilter:c,NamedNodeMap:_=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:P,DOMParser:H,trustedTypes:B}=e,U=s.prototype,G=lookupGetter(U,"cloneNode"),V=lookupGetter(U,"nextSibling"),z=lookupGetter(U,"childNodes"),J=lookupGetter(U,"parentNode");if("function"==typeof a){const e=t.createElement("template");e.content&&e.content.ownerDocument&&(t=e.content.ownerDocument)}let X,$="";const{implementation:Z,createNodeIterator:Q,createDocumentFragment:ee,getElementsByTagName:te}=t,{importNode:oe}=o;let re={};DOMPurify.isSupported="function"==typeof r&&"function"==typeof J&&Z&&void 0!==Z.createHTMLDocument;const{MUSTACHE_EXPR:ne,ERB_EXPR:le,TMPLIT_EXPR:ae,DATA_ATTR:ie,ARIA_ATTR:ue,IS_SCRIPT_OR_DATA:se,ATTR_WHITESPACE:pe}=W;let{IS_ALLOWED_URI:ce}=W,_e=null;const he=addToSet({},[...A,...S,...w,...x,...R]);let ye=null;const de=addToSet({},[...O,...D,...N,...E]);let fe=Object.seal(p(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),ve=null,ke=null,me=!0,Ce=!0,ge=!1,be=!0,Te=!1,Le=!1,Ae=!1,Fe=!1,Se=!1,we=!1,Me=!1,xe=!0,Ie=!1;const Re="user-content-";let Oe=!0,De=!1,Ne={},Ee=null;const Pe=addToSet({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let He=null;const Be=addToSet({},["audio","video","img","source","image","track"]);let Ue=null;const Ge=addToSet({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),je="http://www.w3.org/1998/Math/MathML",Ve="http://www.w3.org/2000/svg",ze="http://www.w3.org/1999/xhtml";let qe=ze,We=!1,Ye=null;const Ke=addToSet({},[je,Ve,ze],v);let Je=null;const Xe=["application/xhtml+xml","text/html"],$e="text/html";let Ze=null,Qe=null;const et=t.createElement("form"),tt=function isRegexOrFunction(e){return e instanceof RegExp||e instanceof Function},ot=function _parseConfig(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!Qe||Qe!==e){if(e&&"object"==typeof e||(e={}),e=clone(e),Je=-1===Xe.indexOf(e.PARSER_MEDIA_TYPE)?$e:e.PARSER_MEDIA_TYPE,Ze="application/xhtml+xml"===Je?v:f,_e=b(e,"ALLOWED_TAGS")?addToSet({},e.ALLOWED_TAGS,Ze):he,ye=b(e,"ALLOWED_ATTR")?addToSet({},e.ALLOWED_ATTR,Ze):de,Ye=b(e,"ALLOWED_NAMESPACES")?addToSet({},e.ALLOWED_NAMESPACES,v):Ke,Ue=b(e,"ADD_URI_SAFE_ATTR")?addToSet(clone(Ge),e.ADD_URI_SAFE_ATTR,Ze):Ge,He=b(e,"ADD_DATA_URI_TAGS")?addToSet(clone(Be),e.ADD_DATA_URI_TAGS,Ze):Be,Ee=b(e,"FORBID_CONTENTS")?addToSet({},e.FORBID_CONTENTS,Ze):Pe,ve=b(e,"FORBID_TAGS")?addToSet({},e.FORBID_TAGS,Ze):{},ke=b(e,"FORBID_ATTR")?addToSet({},e.FORBID_ATTR,Ze):{},Ne=!!b(e,"USE_PROFILES")&&e.USE_PROFILES,me=!1!==e.ALLOW_ARIA_ATTR,Ce=!1!==e.ALLOW_DATA_ATTR,ge=e.ALLOW_UNKNOWN_PROTOCOLS||!1,be=!1!==e.ALLOW_SELF_CLOSE_IN_ATTR,Te=e.SAFE_FOR_TEMPLATES||!1,Le=e.WHOLE_DOCUMENT||!1,Se=e.RETURN_DOM||!1,we=e.RETURN_DOM_FRAGMENT||!1,Me=e.RETURN_TRUSTED_TYPE||!1,Fe=e.FORCE_BODY||!1,xe=!1!==e.SANITIZE_DOM,Ie=e.SANITIZE_NAMED_PROPS||!1,Oe=!1!==e.KEEP_CONTENT,De=e.IN_PLACE||!1,ce=e.ALLOWED_URI_REGEXP||j,qe=e.NAMESPACE||ze,fe=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&tt(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(fe.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&tt(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(fe.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(fe.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Te&&(Ce=!1),we&&(Se=!0),Ne&&(_e=addToSet({},R),ye=[],!0===Ne.html&&(addToSet(_e,A),addToSet(ye,O)),!0===Ne.svg&&(addToSet(_e,S),addToSet(ye,D),addToSet(ye,E)),!0===Ne.svgFilters&&(addToSet(_e,w),addToSet(ye,D),addToSet(ye,E)),!0===Ne.mathMl&&(addToSet(_e,x),addToSet(ye,N),addToSet(ye,E))),e.ADD_TAGS&&(_e===he&&(_e=clone(_e)),addToSet(_e,e.ADD_TAGS,Ze)),e.ADD_ATTR&&(ye===de&&(ye=clone(ye)),addToSet(ye,e.ADD_ATTR,Ze)),e.ADD_URI_SAFE_ATTR&&addToSet(Ue,e.ADD_URI_SAFE_ATTR,Ze),e.FORBID_CONTENTS&&(Ee===Pe&&(Ee=clone(Ee)),addToSet(Ee,e.FORBID_CONTENTS,Ze)),Oe&&(_e["#text"]=!0),Le&&addToSet(_e,["html","head","body"]),_e.table&&(addToSet(_e,["tbody"]),delete ve.tbody),e.TRUSTED_TYPES_POLICY){if("function"!=typeof e.TRUSTED_TYPES_POLICY.createHTML)throw L('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!=typeof e.TRUSTED_TYPES_POLICY.createScriptURL)throw L('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');X=e.TRUSTED_TYPES_POLICY,$=X.createHTML("")}else void 0===X&&(X=K(B,n)),null!==X&&"string"==typeof $&&($=X.createHTML(""));u&&u(e),Qe=e}},rt=addToSet({},["mi","mo","mn","ms","mtext"]),nt=addToSet({},["foreignobject","desc","title","annotation-xml"]),lt=addToSet({},["title","style","font","a","script"]),at=addToSet({},[...S,...w,...M]),it=addToSet({},[...x,...I]),ut=function _checkValidNamespace(e){let t=J(e);t&&t.tagName||(t={namespaceURI:qe,tagName:"template"});const o=f(e.tagName),r=f(t.tagName);return!!Ye[e.namespaceURI]&&(e.namespaceURI===Ve?t.namespaceURI===ze?"svg"===o:t.namespaceURI===je?"svg"===o&&("annotation-xml"===r||rt[r]):Boolean(at[o]):e.namespaceURI===je?t.namespaceURI===ze?"math"===o:t.namespaceURI===Ve?"math"===o&&nt[r]:Boolean(it[o]):e.namespaceURI===ze?!(t.namespaceURI===Ve&&!nt[r])&&(!(t.namespaceURI===je&&!rt[r])&&(!it[o]&&(lt[o]||!at[o]))):!("application/xhtml+xml"!==Je||!Ye[e.namespaceURI]))},st=function _forceRemove(e){d(DOMPurify.removed,{element:e});try{e.parentNode.removeChild(e)}catch(t){e.remove()}},pt=function _removeAttribute(e,t){try{d(DOMPurify.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){d(DOMPurify.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e&&!ye[e])if(Se||we)try{st(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}},ct=function _initDocument(e){let o=null,r=null;if(Fe)e="<remove></remove>"+e;else{const t=k(e,/^[\r\n\t ]+/);r=t&&t[0]}"application/xhtml+xml"===Je&&qe===ze&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");const n=X?X.createHTML(e):e;if(qe===ze)try{o=(new H).parseFromString(n,Je)}catch(e){}if(!o||!o.documentElement){o=Z.createDocument(qe,"template",null);try{o.documentElement.innerHTML=We?$:n}catch(e){}}const l=o.body||o.documentElement;return e&&r&&l.insertBefore(t.createTextNode(r),l.childNodes[0]||null),qe===ze?te.call(o,Le?"html":"body")[0]:Le?o.documentElement:l},_t=function _createNodeIterator(e){return Q.call(e.ownerDocument||e,e,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT,null)},ht=function _isClobbered(e){return e instanceof P&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof _)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore||"function"!=typeof e.hasChildNodes)},yt=function _isNode(e){return"function"==typeof i&&e instanceof i},dt=function _executeHook(e,t,o){re[e]&&h(re[e],(e=>{e.call(DOMPurify,t,o,Qe)}))},ft=function _sanitizeElements(e){let t=null;if(dt("beforeSanitizeElements",e,null),ht(e))return st(e),!0;const o=Ze(e.nodeName);if(dt("uponSanitizeElement",e,{tagName:o,allowedTags:_e}),e.hasChildNodes()&&!yt(e.firstElementChild)&&T(/<[/\w]/g,e.innerHTML)&&T(/<[/\w]/g,e.textContent))return st(e),!0;if(!_e[o]||ve[o]){if(!ve[o]&&kt(o)){if(fe.tagNameCheck instanceof RegExp&&T(fe.tagNameCheck,o))return!1;if(fe.tagNameCheck instanceof Function&&fe.tagNameCheck(o))return!1}if(Oe&&!Ee[o]){const t=J(e)||e.parentNode,o=z(e)||e.childNodes;if(o&&t){for(let r=o.length-1;r>=0;--r)t.insertBefore(G(o[r],!0),V(e))}}return st(e),!0}return e instanceof s&&!ut(e)?(st(e),!0):"noscript"!==o&&"noembed"!==o&&"noframes"!==o||!T(/<\/no(script|embed|frames)/i,e.innerHTML)?(Te&&3===e.nodeType&&(t=e.textContent,h([ne,le,ae],(e=>{t=m(t,e," ")})),e.textContent!==t&&(d(DOMPurify.removed,{element:e.cloneNode()}),e.textContent=t)),dt("afterSanitizeElements",e,null),!1):(st(e),!0)},vt=function _isValidAttribute(e,o,r){if(xe&&("id"===o||"name"===o)&&(r in t||r in et))return!1;if(Ce&&!ke[o]&&T(ie,o));else if(me&&T(ue,o));else if(!ye[o]||ke[o]){if(!(kt(e)&&(fe.tagNameCheck instanceof RegExp&&T(fe.tagNameCheck,e)||fe.tagNameCheck instanceof Function&&fe.tagNameCheck(e))&&(fe.attributeNameCheck instanceof RegExp&&T(fe.attributeNameCheck,o)||fe.attributeNameCheck instanceof Function&&fe.attributeNameCheck(o))||"is"===o&&fe.allowCustomizedBuiltInElements&&(fe.tagNameCheck instanceof RegExp&&T(fe.tagNameCheck,r)||fe.tagNameCheck instanceof Function&&fe.tagNameCheck(r))))return!1}else if(Ue[o]);else if(T(ce,m(r,pe,"")));else if("src"!==o&&"xlink:href"!==o&&"href"!==o||"script"===e||0!==C(r,"data:")||!He[e]){if(ge&&!T(se,m(r,pe,"")));else if(r)return!1}else;return!0},kt=function _isBasicCustomElement(e){return"annotation-xml"!==e&&e.indexOf("-")>0},mt=function _sanitizeAttributes(e){dt("beforeSanitizeAttributes",e,null);const{attributes:t}=e;if(!t)return;const o={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ye};let r=t.length;for(;r--;){const n=t[r],{name:l,namespaceURI:a,value:i}=n,u=Ze(l);let s="value"===l?i:g(i);if(o.attrName=u,o.attrValue=s,o.keepAttr=!0,o.forceKeepAttr=void 0,dt("uponSanitizeAttribute",e,o),s=o.attrValue,o.forceKeepAttr)continue;if(pt(l,e),!o.keepAttr)continue;if(!be&&T(/\/>/i,s)){pt(l,e);continue}Te&&h([ne,le,ae],(e=>{s=m(s,e," ")}));const p=Ze(e.nodeName);if(vt(p,u,s)){if(!Ie||"id"!==u&&"name"!==u||(pt(l,e),s=Re+s),X&&"object"==typeof B&&"function"==typeof B.getAttributeType)if(a);else switch(B.getAttributeType(p,u)){case"TrustedHTML":s=X.createHTML(s);break;case"TrustedScriptURL":s=X.createScriptURL(s)}try{a?e.setAttributeNS(a,l,s):e.setAttribute(l,s),y(DOMPurify.removed)}catch(e){}}}dt("afterSanitizeAttributes",e,null)},Ct=function _sanitizeShadowDOM(e){let t=null;const o=_t(e);for(dt("beforeSanitizeShadowDOM",e,null);t=o.nextNode();)dt("uponSanitizeShadowNode",t,null),ft(t)||(t.content instanceof l&&_sanitizeShadowDOM(t.content),mt(t));dt("afterSanitizeShadowDOM",e,null)};return DOMPurify.sanitize=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=null,n=null,a=null,u=null;if(We=!e,We&&(e="\x3c!--\x3e"),"string"!=typeof e&&!yt(e)){if("function"!=typeof e.toString)throw L("toString is not a function");if("string"!=typeof(e=e.toString()))throw L("dirty is not a string, aborting")}if(!DOMPurify.isSupported)return e;if(Ae||ot(t),DOMPurify.removed=[],"string"==typeof e&&(De=!1),De){if(e.nodeName){const t=Ze(e.nodeName);if(!_e[t]||ve[t])throw L("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof i)r=ct("\x3c!----\x3e"),n=r.ownerDocument.importNode(e,!0),1===n.nodeType&&"BODY"===n.nodeName||"HTML"===n.nodeName?r=n:r.appendChild(n);else{if(!Se&&!Te&&!Le&&-1===e.indexOf("<"))return X&&Me?X.createHTML(e):e;if(r=ct(e),!r)return Se?null:Me?$:""}r&&Fe&&st(r.firstChild);const s=_t(De?e:r);for(;a=s.nextNode();)ft(a)||(a.content instanceof l&&Ct(a.content),mt(a));if(De)return e;if(Se){if(we)for(u=ee.call(r.ownerDocument);r.firstChild;)u.appendChild(r.firstChild);else u=r;return(ye.shadowroot||ye.shadowrootmode)&&(u=oe.call(o,u,!0)),u}let p=Le?r.outerHTML:r.innerHTML;return Le&&_e["!doctype"]&&r.ownerDocument&&r.ownerDocument.doctype&&r.ownerDocument.doctype.name&&T(q,r.ownerDocument.doctype.name)&&(p="<!DOCTYPE "+r.ownerDocument.doctype.name+">\n"+p),Te&&h([ne,le,ae],(e=>{p=m(p,e," ")})),X&&Me?X.createHTML(p):p},DOMPurify.setConfig=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};ot(e),Ae=!0},DOMPurify.clearConfig=function(){Qe=null,Ae=!1},DOMPurify.isValidAttribute=function(e,t,o){Qe||ot({});const r=Ze(e),n=Ze(t);return vt(r,n,o)},DOMPurify.addHook=function(e,t){"function"==typeof t&&(re[e]=re[e]||[],d(re[e],t))},DOMPurify.removeHook=function(e){if(re[e])return y(re[e])},DOMPurify.removeHooks=function(e){re[e]&&(re[e]=[])},DOMPurify.removeAllHooks=function(){re={}},DOMPurify}();function element(e){for(var t=document.createElement(e),r=arguments.length,n=new Array(r>1?r-1:0),l=1;l<r;l++)n[l-1]=arguments[l];for(var a=0,i=n;a<i.length;a++){var u=i[a];"string"==typeof u&&t.appendChild(document.createTextNode(u));var s=u instanceof Map,p=o._isobject(u);if(s||p){p&&(u=Object.entries(u));var c,_=_createForOfIteratorHelper(u);try{for(_.s();!(c=_.n()).done;){var h=_slicedToArray(c.value,2),y=h[0],d=h[1];null!==d&&t.setAttribute(y,d)}}catch(e){_.e(e)}finally{_.f()}}}return t}function _append_param_to_url(e,t,r){if(o._islist(r)){var n,l=_createForOfIteratorHelper(r);try{for(l.s();!(n=l.n()).done;){_append_param_to_url(e,t,n.value)}}catch(e){l.e(e)}finally{l.f()}}else"string"==typeof r?e.append(t,r):null!==r&&e.append(t,o._str(r))}function url_with_params(e){for(var t=new URLSearchParams,r=arguments.length,n=new Array(r>1?r-1:0),l=1;l<r;l++)n[l-1]=arguments[l];for(var a=0,i=n;a<i.length;a++){var u=i[a];if(o._islist(u)&&2==u.length)_append_param_to_url.apply(void 0,[t].concat(_toConsumableArray(u)));else if("[object Object]"!==Object.prototype.toString.call(u)||u instanceof o.Proto){if(null!==u&&"object"===_typeof(u)&&"object"===_typeof(u.__proto__)&&u.__proto__===Map.prototype){var s,p=_createForOfIteratorHelper(u);try{for(p.s();!(s=p.n()).done;){var c=_slicedToArray(s.value,2),_=c[0],h=c[1];_append_param_to_url(t,_,h)}}catch(e){p.e(e)}finally{p.f()}}}else for(var y in u)_append_param_to_url(t,y,u[y])}return(t=t.toString().replace("+","%20")).length>0&&(e+="?"+t),e}var X=function(e){_inherits(Base,e);var t=_createSuper(Base);function Base(e){var o;return _classCallCheck(this,Base),(o=t.call(this)).id=e,o}return _createClass(Base,[{key:"ul4onid",get:function get(){return this.id}},{key:"ul4ondump",value:function ul4ondump(e){for(var t=0;t<this._ul4onattrs.length;++t)e.dump(this._dumpUL4ONAttr(this._ul4onattrs[t]))}},{key:"_dumpUL4ONAttr",value:function _dumpUL4ONAttr(e){return this[e]}},{key:"ul4onload",value:function ul4onload(e){for(var t=0,o=e.loadcontent();;++t){var r=o.next();if(r.done)break;t<this._ul4onattrs.length&&this._loadUL4ONAttr(this._ul4onattrs[t],r.value)}for(;t<this._ul4onattrs.length;++t)this._setDefaultUL4ONAttr(this._ul4onattrs[t])}},{key:"_loadUL4ONAttr",value:function _loadUL4ONAttr(e,t){this[e]=t}},{key:"_setDefaultUL4ONAttr",value:function _setDefaultUL4ONAttr(e){this[e]=null}},{key:o.symbols.getattr,value:function value(e){if(this._ul4attrs.has(e)){var value=this[e];if("function"==typeof value){var t=value.bind(this);return t._ul4_name=value._ul4_name||value.name,t._ul4_signature=value._ul4_signature,t._ul4_needsobject=value._ul4_needsobject,t._ul4_needscontext=value._ul4_needscontext,t}return value}if(e.startsWith("x_"))return this.hasOwnProperty(e)?this[e]:null;throw new o.AttributeError(this,e)}},{key:o.symbols.setattr,value:function value(e,t){if(!e.startsWith("x_"))throw new o.AttributeError(this,e);this[e]=t}},{key:o.symbols.repr,value:function value(){return"<"+this.constructor.name+">"}},{key:"toString",value:function toString(){return this[o.symbols.repr]()}}]),Base}(o.Proto),$=function(){function Handler(){_classCallCheck(this,Handler)}return _createClass(Handler,[{key:"save",value:function save(e){}},{key:"delete",value:function _delete(e){}}]),Handler}(),Z=new(function(e){_inherits(GlobalsType,e);var t=_createSuper(GlobalsType);function GlobalsType(){return _classCallCheck(this,GlobalsType),t.apply(this,arguments)}return _createClass(GlobalsType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof Q}}]),GlobalsType}(o.Type))("la","Globals","Global information"),Q=function(e){_inherits(Globals,e);var t=_createSuper(Globals);function Globals(e){var o;return _classCallCheck(this,Globals),(o=t.call(this,e)).version=null,o.hostname=null,o.platform=null,o.user=null,o.lang=null,o.datasources=null,o.app=null,o.record=null,o.mode=null,o.maxdbactions=null,o.maxtemplateruntime=null,o.flashmessages=null,o.view_template_id=null,o.email_template_id=null,o.handler=new $,o._log_stack=[],o._current_geo=null,o}return _createClass(Globals,[{key:o.symbols.type,value:function value(){return Z}},{key:"dist",value:function dist(e,t){var o=function sqsin(e){return(e=Math.sin(e))*e},r=function sqsos(e){return(e=Math.cos(e))*e},n=Math.PI/180,l=1/298.257223563,a=e.lat*n,i=e.long*n,u=t.lat*n,s=(a+u)/2,p=(a-u)/2,c=(i-t.long*n)/2,_=o(p)*r(c)+r(s)*o(c),h=r(p)*r(c)+o(s)*o(c),y=Math.atan(Math.sqrt(_/h)),d=2*y*6378.137;if(0===d)return d;var f=Math.sqrt(_*h)/y,v=(3*f+1)/(2*_);return d*(1+l*((3*f-1)/(2*h))*o(s)*r(p)-l*v*r(s)*o(p))}},{key:"scaled_url",value:function scaled_url(e,t,o){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"fill",n=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"sm",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,i=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,u=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,s=arguments.length>9&&void 0!==arguments[9]?arguments[9]:null,p=arguments.length>10&&void 0!==arguments[10]?arguments[10]:null,c=!(arguments.length>11&&void 0!==arguments[11])||arguments[11],_=null;e instanceof Rr&&(e="https://"+this.hostname+e.archive_url,(_=encodeURIComponent(e.filename))!=e.filename&&(_=null));var h="";return h+=c?"/imgproxycache/insecure":"/imgproxy/insecure","fit"!==r&&(h+="/rt:"+r),null!=t&&(h+="/w:"+t),null!=o&&(h+="/h:"+o),n&&(h+="/el:1"),null!=l&&(h+="/g:"+l),null!=a&&(h+="/q:"+a),null!==i&&i%360!=0&&(h+="/rot:"+rotatet),null!=u&&(h+="/bl:"+u),null!=s&&(h+="/sh:"+s),null!=p&&(h+="/f:"+p),null!=_&&(h+="/fn:"+_),h+="/plain/"+encodeURIComponent(e)}},{key:o.symbols.repr,value:function value(){return"<Globals version="+o._repr(this.version)+" mode="+o._repr(this.mode)+">"}},{key:"current_geo",value:function current_geo(){return this._current_geo}},{key:"set_current_geo",value:function set_current_geo(e){this._current_geo=new Dr(this,e.coords.latitude,e.coords.longitude)}},{key:"_in_form",value:function _in_form(){return null!==this.mode&&this.mode.startsWith("form/")}},{key:"msg_bool",value:function msg_bool(e){switch(e){case!0:return this.msg_bool_true();case!1:return this.msg_bool_false();default:return null}}},{key:"msg_bool_true",value:function msg_bool_true(e){switch(this.lang){case"de":return"Ja";default:return"Yes"}}},{key:"msg_bool_false",value:function msg_bool_false(e){switch(this.lang){case"de":return"Nein";default:return"No"}}},{key:"msg_no_fields",value:function msg_no_fields(){switch(this.lang){case"de":return"(Keine Felder gefunden)";default:return"(No fields found)"}}},{key:"msg_nothing_selected",value:function msg_nothing_selected(){switch(this.lang){case"de":return"(Nichts ausgewählt)";default:return"(Nothing selected)"}}},{key:"_make_log_message",value:function _make_log_message(e){return e.map((function(e){return"string"!=typeof e?o._repr(e):e})).join(" ")}},{key:"begin_logging",value:function begin_logging(e){this._log_stack.push({header:e,output:!1})}},{key:"end_logging",value:function end_logging(){this._log_stack&&(this._log_stack[this._log_stack.length-1].output&&console&&console.groupEnd&&console.groupEnd(),this._log_stack.pop())}},{key:"group_logging",value:function group_logging(e,t){this.begin_logging(e);try{t()}finally{this.end_logging()}}},{key:"_start_log_message",value:function _start_log_message(){var e,t=_createForOfIteratorHelper(this._log_stack);try{for(t.s();!(e=t.n()).done;){var o=e.value;o.output||(console&&console.group&&console.group(o.header),o.output=!0)}}catch(e){t.e(e)}finally{t.f()}}},{key:"log_debug",value:function log_debug(){this._start_log_message();for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];console&&console.debug&&console.debug(this._make_log_message(t))}},{key:"log_info",value:function log_info(){this._start_log_message();for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];console&&console.info&&console.info(this._make_log_message(t))}},{key:"log_warning",value:function log_warning(){this._start_log_message();for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];console&&console.warn&&console.warn(this._make_log_message(t))}},{key:"log_error",value:function log_error(){this._start_log_message();for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];console&&console.error&&console.error(this._make_log_message(t))}},{key:"my_apps_url",value:function my_apps_url(){return"/apps.htm"}},{key:"my_tasks_url",value:function my_tasks_url(){return"/xist4c/web/aufgaben_id_393_.htm"}},{key:"catalog_url",value:function catalog_url(){return"/katalog/home.htm"}},{key:"chats_url",value:function chats_url(){return"/chats.htm"}},{key:"profile_url",value:function profile_url(){return"/profil/index.htm"}},{key:"account_url",value:function account_url(){return"/account.htm"}},{key:"logout_url",value:function logout_url(){return"/login.htm?logout=standardCug"}}]),Globals}(X);Q.prototype._ul4onattrs=["version","platform","user","maxdbactions","maxtemplateruntime","lang","datasources","hostname","app","record","mode","view_template_id","email_template_id","view_id"],Q.prototype._ul4attrs=new Set(["version","hostname","platform","user","lang","datasources","app","record","maxdbactions","maxtemplateruntime","flashmessages","mode","scaled_url","dist","current_geo","log_debug","log_info","log_warning","log_error","my_apps_url","my_tasks_url","catalog_url","chats_url","profile_url","account_url","logout_url"]),o.expose(Q.prototype.log_debug,["message","*"]),o.expose(Q.prototype.log_info,["message","*"]),o.expose(Q.prototype.log_warning,["message","*"]),o.expose(Q.prototype.log_error,["message","*"]),o.expose(Q.prototype.dist,["geo1","pk","geo2","pk"]),o.expose(Q.prototype.current_geo,[]),o.expose(Q.prototype.scaled_url,["image","p","width","p","height","p","type","k=","fill","enlarge","k=",!0,"gravity","k=","sm","quality","k=",null,"rotate","k=",null,"blur","k=",null,"sharpen","k=",null,"format","k=",null,"cache","k=",!0]);var ee=new(function(e){_inherits(FlashMessageType,e);var t=_createSuper(FlashMessageType);function FlashMessageType(){return _classCallCheck(this,FlashMessageType),t.apply(this,arguments)}return _createClass(FlashMessageType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof te}}]),FlashMessageType}(o.Type))("la","FlashMessage","A flash message in a web page"),te=function(e){_inherits(FlashMessage,e);var t=_createSuper(FlashMessage);function FlashMessage(){return _classCallCheck(this,FlashMessage),t.apply(this,arguments)}return _createClass(FlashMessage,[{key:o.symbols.type,value:function value(){return ee}},{key:o.symbols.repr,value:function value(){return"<FlashMessage type="+o._repr(this.type)+" title="+o._repr(this.title)+">"}}]),FlashMessage}(X);te.prototype._ul4onattrs=["timestamp","type","title","message"],te.prototype._ul4attrs=new Set(["timestamp","type","title","message"]);var oe=new(function(e){_inherits(AppType,e);var t=_createSuper(AppType);function AppType(){return _classCallCheck(this,AppType),t.apply(this,arguments)}return _createClass(AppType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof re}}]),AppType}(o.Type))("la","App","A LivingApps application"),re=function(e){_inherits(App,e);var t=_createSuper(App);function App(){return _classCallCheck(this,App),t.apply(this,arguments)}return _createClass(App,[{key:o.symbols.type,value:function value(){return oe}},{key:o.symbols.repr,value:function value(){return"<App id="+o._repr(this.id)+" name="+o._repr(this.name)+">"}},{key:"insert",value:function insert(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this[o.symbols.call](e);return this.globals.handler.save(this),t}},{key:"template_url",value:function template_url(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=arguments.length>2?arguments[2]:void 0,r="/gateway/apps/"+this.id;return null!==t&&(r+="/"+t.id),url_with_params(r,["template",e],o)}},{key:"new_embedded_url",value:function new_embedded_url(e){return url_with_params("/dateneingabe/"+this.id+"/new",e)}},{key:"new_standalone_url",value:function new_standalone_url(e){return url_with_params("/gateway/apps/"+this.id+"/new",e)}},{key:"home_url",value:function home_url(){return"/apps/"+this.id+".htm"}},{key:"datamanagement_url",value:function datamanagement_url(){return"/_id_36_.htm?uuid="+this.id+"&dId="+this.id+"&resetInfo=true&templateIdentifier=created_"+this.id}},{key:"import_url",value:function import_url(){return"/import-export/"+this.id+".htm"}},{key:"tasks_url",value:function tasks_url(){return"/_id_1073_.htm?uuid="+this.id+"&dId="+this.id+"&p_tpl_uuid="+this.id+"&resetInfo=true&templateIdentifier=created_task_"+this.id}},{key:"datamanagement_config_url",value:function datamanagement_config_url(){return"/datenmanagement-konfigurieren/"+this.id+".htm"}},{key:"permissions_url",value:function permissions_url(){return"/_id_833_.htm?uuid="+this.id+"&dId="+this.id+"&resetInfo=true"}},{key:"datamanageview_url",value:function datamanageview_url(e){return"/_id_36_.htm?uuid="+this.id+"&dId="+this.id+"&resetInfo=true&templateIdentifier=created_"+this.id+"_datamanage_master_"+e}},{key:"layout_controls",get:function get(){return null===this.active_view?new Map:this.active_view.layout_controls}},{key:o.symbols.call,value:function value(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new se(null,this);if(o._ismap(e)){var r,n=_createForOfIteratorHelper(e.keys());try{for(n.s();!(r=n.n()).done;){var l=r.value;if(!t.fields.has(l))throw new o.ArgumentError(o._repr(this)+"() get an unexpected keyword argument "+o._repr(l))}}catch(e){n.e(e)}finally{n.f()}t._make_fields(!0,e,null,null)}else{if(!o._isobject(e))throw new o.TypeError("values must be an object or a Map");for(var a in e)if(!t.fields.has(a))throw new o.ArgumentError(o._repr(this)+"() get an unexpected keyword argument "+o._repr(a));t._make_fields(!0,new Map(o._list(o.dicttype.items(e))),null,null)}return t}},{key:o.symbols.getattr,value:function value(e){if(e.startsWith("c_")){if(!this.controls.has(e.substr(2)))throw new o.AttributeError(this,e);return this.controls.get(e.substr(2))}if(e.startsWith("lc_")){if(null===this.layout_controls||!this.layout_controls.has(e.substr(3)))throw new o.AttributeError(this,e);return this.layout_controls.get(e.substr(3))}if(e.startsWith("p_")&&null!==this.params){if(!this.params.has(e.substr(2)))throw new o.AttributeError(this,e);return this.params.get(e.substr(2))}if(e.startsWith("pv_")&&null!==this.params){if(!this.params.has(e.substr(3)))throw new o.AttributeError(this,e);return this.params.get(e.substr(3)).value}return _get(_getPrototypeOf(App.prototype),o.symbols.getattr,this).call(this,e)}},{key:"active_view",get:function get(){return this._active_view}},{key:"active_view",set:function set(e){if(null===e);else if("string"==typeof e){if(null===this.views||!this.views.has(e))throw new o.ValueError("View "+o._repr(e)+" not found!");e=this.views.get(e)}else{if(!(e instanceof le))throw new o.TypeError(o._repr(e)+" is not a view!");if(e.app!==this)throw new o.ValueError("View "+o._repr(e)+" belongs to the wrong app!")}this._active_view=e}},{key:"layout_controls",get:function get(){return null===this.active_views?new Map:this.active_view.layout_controls}}]),App}(X);re.prototype._ul4onattrs=["globals","name","description","lang","startlink","image","createdby","controls","records","recordcount","installation","categories","params","views","datamanagement_identifier","basetable","primarykey","insertprocedure","updateprocedure","deleteprocedure","templates","createdat","updatedat","updatedby","superid","favorite","_active_view","datasource","menus","panels"],re.prototype._ul4attrs=new Set(["id","globals","name","description","lang","startlink","image","createdat","createdby","updatedat","updatedby","controls","layout_controls","records","recordcount","installation","categories","params","views","menus","panels","datasource","datamanagement_identifier","insert","favorite","_active_view","template_url","new_embedded_url","new_standalone_url","home_url","datamanagement_url","import_url","tasks_url","datamanagement_config_url","permissions_url","datamanageview_url"]),o.expose(re.prototype[o.symbols.call],["values","**"],{needsobject:!0}),o.expose(re.prototype.insert,["values","**"],{needsobject:!0}),o.expose(re.prototype.template_url,["identifier","p","record","p=",null,"params","**"]),o.expose(re.prototype.new_embedded_url,["params","**"]),o.expose(re.prototype.new_standalone_url,["params","**"]);var ne=new(function(e){_inherits(ViewType,e);var t=_createSuper(ViewType);function ViewType(){return _classCallCheck(this,ViewType),t.apply(this,arguments)}return _createClass(ViewType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof le}}]),ViewType}(o.Type))("la","View","An input form for a LivingViews application"),le=function(e){_inherits(View,e);var t=_createSuper(View);function View(){return _classCallCheck(this,View),t.apply(this,arguments)}return _createClass(View,[{key:"globals",get:function get(){return this.app.globals}},{key:o.symbols.type,value:function value(){return ne}},{key:o.symbols.repr,value:function value(){return"<View id="+o._repr(this.id)+" name="+o._repr(this.name)+">"}}]),View}(X);le.prototype._ul4onattrs=["name","combined_type","app","order","width","height","start","end","controls","layout_controls","lang","login_required","result_page","use_geo"],le.prototype._ul4attrs=new Set(["id","name","combined_type","app","order","width","height","start","end","controls","layout_controls","lang","login_required","result_page","use_geo"]);var ae=new(function(e){_inherits(DataSourceType,e);var t=_createSuper(DataSourceType);function DataSourceType(){return _classCallCheck(this,DataSourceType),t.apply(this,arguments)}return _createClass(DataSourceType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof ie}}]),DataSourceType}(o.Type))("la","DataSource","The data resulting from a data source configuration"),ie=function(e){_inherits(DataSource,e);var t=_createSuper(DataSource);function DataSource(){return _classCallCheck(this,DataSource),t.apply(this,arguments)}return _createClass(DataSource,[{key:o.symbols.type,value:function value(){return ae}},{key:o.symbols.repr,value:function value(){return"<DataSource id="+o._repr(this.id)+" identifier="+o._repr(this.identifier)+">"}}]),DataSource}(X);ie.prototype._ul4onattrs=["identifier","app","apps"],ie.prototype._ul4attrs=new Set(["id","identifier","app","apps"]);var ue=new(function(e){_inherits(RecordType,e);var t=_createSuper(RecordType);function RecordType(){return _classCallCheck(this,RecordType),t.apply(this,arguments)}return _createClass(RecordType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof se}}]),RecordType}(o.Type))("la","Record","A record of a LivingApp application"),se=function(e){_inherits(Record,e);var t=_createSuper(Record);function Record(e,o){var r;return _classCallCheck(this,Record),(r=t.call(this,e)).app=o,r.createdat=null,r.createdby=null,r.updatedat=null,r.updatedby=null,r.updatecount=0,r._sparsevalues=new Map,r._values=null,r._fields=null,r.children=new Map,r.attachments=null,r.errors=[],r._sparsefielderrors=null,r._sparsefieldlookupdata=null,r._is_deleted=!1,r._is_new=!0,r}return _createClass(Record,[{key:o.symbols.type,value:function value(){return ue}},{key:"as_text",value:function as_text(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(0==e)return"...";var o,r=[],n=_createForOfIteratorHelper(t||this.app.controls);try{for(n.s();!(o=n.n()).done;){var l=_slicedToArray(o.value,2),a=l[0],i=l[1];if(null!==t||i.priority){var u=this.fields.get(a).value_as_text(e-1);null!==u&&r.push([i.label,u])}}}catch(e){n.e(e)}finally{n.f()}if(0===r.length)return this.globals.msg_no_fields();if(1===r.length)return r[0][1];for(var s=[],p=0,c=r;p<c.length;p++){var _=_slicedToArray(c[p],2),h=_[0],y=_[1];s.push(h+": "+y)}return s.join(", ")}},{key:"_make_fields",value:function _make_fields(e,t,o,r){var n,l=new Map,a=_createForOfIteratorHelper(this.app.controls.values());try{for(a.s();!(n=a.n()).done;){var i=n.value,u=i.identifier,s=null;null!==t&&(e&&!t.has(u)?s=i.default:t.has(u)&&(s=t.get(u)));var p=new i.fieldtype(i,this,s);l.set(u,p),null!==o&&o.has(u)&&(p.errors=o.get(u)),null!==r&&r.has(u)&&(p.lookupdata=r.get(u))}}catch(e){a.e(e)}finally{a.f()}this._fields=l,this._sparsevalues=null,this._sparsefielderrors=null,this._sparselookupdata=null}},{key:"_in_form",value:function _in_form(){var e=this.app.globals;return e._in_form()&&this===e.record}},{key:o.symbols.repr,value:function value(){var e,t=["<Record id=",o._repr(this.id)],r=_createForOfIteratorHelper(this.fields.values());try{for(r.s();!(e=r.n()).done;){var n=e.value;n.control.priority&&!n.is_empty()&&(t.push(" v_"),t.push(n.control.identifier),t.push("="),t.push(o._repr(n.value)))}}catch(e){r.e(e)}finally{r.f()}return t.push(" state="),t.push(o._repr(this.state)),t.push(">"),t.join("")}},{key:"state",get:function get(){return this._is_deleted?"deleted":this._is_new?"new":this.is_dirty()?"dirty":"saved"}},{key:"values",get:function get(){if(null===this._values){this._values=new Map;var e,t=_createForOfIteratorHelper(this.fields.values());try{for(t.s();!(e=t.n()).done;){var o=e.value;this._values.set(o.control.identifier,o.value)}}catch(e){t.e(e)}finally{t.f()}}return this._values}},{key:"fields",get:function get(){return null===this._fields&&this._make_fields(!1,this._sparsevalues,this._sparsefielderrors,this._sparsefieldlookupdata),this._fields}},{key:"is_dirty",value:function is_dirty(){if(null===this.id)return!0;var e,t=_createForOfIteratorHelper(this.fields.values());try{for(t.s();!(e=t.n()).done;){if(e.value.is_dirty())return!0}}catch(e){t.e(e)}finally{t.f()}return!1}},{key:"has_errors",value:function has_errors(){if(0!==this.errors.length)return!0;var e,t=_createForOfIteratorHelper(this.fields.values());try{for(t.s();!(e=t.n()).done;){if(e.value.has_errors())return!0}}catch(e){t.e(e)}finally{t.f()}return!1}},{key:"delete",value:function _delete(){var e=this.app.globals.handler.delete(this);return this._is_deleted=!0,e}},{key:"save",value:function save(){this.app.globals.handler.save(this)}},{key:"update",value:function update(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(o._ismap(e)){var t,r=_createForOfIteratorHelper(e.entries());try{for(r.s();!(t=r.n()).done;){var n=_slicedToArray(t.value,2),l=n[0],a=n[1];if(!this.fields.has(l))throw new o.ArgumentError("update() get an unexpected keyword argument "+o._repr(l));fields.get(l).value=a}}catch(e){r.e(e)}finally{r.f()}}else{if(!o._isobject(e))throw new o.TypeError("values must be an object or a Map");for(var i in e){if(!this.fields.has(i))throw new o.ArgumentError("update() get an unexpected keyword argument "+o._repr(i));record.fields.get(i).value=e[i]}}this.app.globals.handler.save(this)}},{key:"template_url",value:function template_url(e,t){return url_with_params("/gateway/apps/"+this.app.id+"/"+this.id,["template",e],t)}},{key:"edit_embedded_url",value:function edit_embedded_url(e){return url_with_params("/dateneingabe/"+this.app.id+"/"+this.id+"/edit",e)}},{key:"edit_standalone_url",value:function edit_standalone_url(e){return url_with_params("/gateway/apps/"+this.app.id+"/"+this.id+"/edit",e)}},{key:"search",value:function search(e){for(var t in e){var r=e[t];if(o._bool(r)&&!this.fields.get(t).search(r))return!1}return!0}},{key:"ul4onload",value:function ul4onload(e){_get(_getPrototypeOf(Record.prototype),"ul4onload",this).call(this,e),this._is_new=!1}},{key:"_dumpUL4ONAttr",value:function _dumpUL4ONAttr(e){return"values"===e?this._sparsevalues:this[e]}},{key:"_loadUL4ONAttr",value:function _loadUL4ONAttr(e,t){"values"===e?(this._sparsevalues=t,this._values=null,this._fields=null):this[e]=t}},{key:o.symbols.getattr,value:function value(e){return e.startsWith("c_")?this.children.get(e.substr(2)):e.startsWith("f_")?this.fields.get(e.substr(2)):e.startsWith("v_")?this.fields.get(e.substr(2)).value:_get(_getPrototypeOf(Record.prototype),o.symbols.getattr,this).call(this,e)}},{key:o.symbols.setattr,value:function value(e,t){e.startsWith("c_")?this.children[e.substr(2)]=t:e.startsWith("v_")?this.fields.get(e.substr(2)).value=t:_get(_getPrototypeOf(Record.prototype),o.symbols.setattr,this).call(this,e,t)}}]),Record}(X);se.prototype._ul4onattrs=["app","createdat","createdby","updatedat","updatedby","updatecount","_sparsevalues","attachments","children","errors","_sparsefielderrors","_sparsefieldlookupdata"],se.prototype._ul4attrs=new Set(["id","app","createdat","createdby","updatedat","updatedby","updatecount","values","fields","attachments","children","errors","template_url","edit_embedded_url","edit_standalone_url"]),o.expose(se.prototype.is_dirty,[]),o.expose(se.prototype.has_errors,[]),o.expose(se.prototype.delete,[]),o.expose(se.prototype.save,[]),o.expose(se.prototype.update,["values","**"],{needsobject:!0}),o.expose(se.prototype.template_url,["identifier","p","params","**"]),o.expose(se.prototype.edit_embedded_url,["params","**"]),o.expose(se.prototype.edit_standalone_url,["params","**"]);var pe=function(e){_inherits(FieldType,e);var t=_createSuper(FieldType);function FieldType(){return _classCallCheck(this,FieldType),t.apply(this,arguments)}return _createClass(FieldType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof _e}}]),FieldType}(o.Type),ce=new pe("la","Field","Holds the value of a field of a record (and related information)"),_e=function(e){_inherits(Field,e);var t=_createSuper(Field);function Field(e,o,r){var n;return _classCallCheck(this,Field),(n=t.call(this,null)).control=e,n.record=o,n._label=null,n._lookupdata=null,n.errors=[],n._value=null,n._in_form()||(n.value=r),n._dirty=!1,n._enabled=!0,n._writable=!0,n._visible=!0,n}return _createClass(Field,[{key:o.symbols.type,value:function value(){return ce}},{key:"value",get:function get(){return this._in_form()?this._get_dom_value():this._value}},{key:"value",set:function set(e){var t=this._value,r={value:e,errors:[]};this._validate(r),o._ne(t,r.value)&&(null!==this.record._values&&this.record._values.set(this.control.identifier,r.value),this._value=r.value,this._dirty=!0),this.errors=r.errors,this._in_form()&&this._set_dom_value(this._value)}},{key:"value_as_text",value:function value_as_text(){return null}},{key:"_validate",value:function _validate(e){}},{key:"_set_dom_label",value:function _set_dom_label(){this._in_form()&&(this._dom_label.textContent=this.label)}},{key:"label",get:function get(){var e;return null!==(e=this._label)&&void 0!==e?e:this.control.label}},{key:"label",set:function set(e){this._label=e,this._set_dom_label()}},{key:"globals",get:function get(){return this.control.globals}},{key:"is_empty",value:function is_empty(){return null===this._value}},{key:"is_dirty",value:function is_dirty(){return this._dirty}},{key:"has_errors",value:function has_errors(){return 0!==this.errors.length}},{key:"add_error",value:function add_error(e){this.errors.push(e)}},{key:"set_error",value:function set_error(e){this.errors=null!==e?[e]:[]}},{key:"search",value:function search(e){return this.control.search(this.value,e)}},{key:"msg_field_required",value:function msg_field_required(e){switch(this.globals.lang){case"de":return'"'.concat(this.label,'" wird benötigt!');default:return'"'.concat(this.label,'" is required!')}}},{key:"msg_field_wrong_type",value:function msg_field_wrong_type(e){return'"'.concat(this.label,"\" doesn't support the type ").concat(o._type(e).name,"!")}},{key:"msg_bool_truerequired",value:function msg_bool_truerequired(e){return'"'.concat(this.label,'" only accepts "Yes"!')}},{key:"msg_string_tooshort",value:function msg_string_tooshort(e){return'"'.concat(this.label,'" is too short. You must use at least ').concat(this.control.minlength," characters!")}},{key:"msg_string_toolong",value:function msg_string_toolong(e){return'"'.concat(this.label,'" is too long. You may use at most ').concat(this.control.maxlength," characters!")}},{key:"msg_email_format",value:function msg_email_format(e){return'"'.concat(this.label,'" must be a valid email address!')}},{key:"msg_url_format",value:function msg_url_format(e){return'"'.concat(this.label,'" must be a valid URL!')}},{key:"msg_tel_format",value:function msg_tel_format(e){return'"'.concat(this.label,'" must be a valid phone number!')}},{key:"msg_date_format",value:function msg_date_format(e){return'"'.concat(this.label,"\" doesn't support this date format!")}},{key:"msg_number_format",value:function msg_number_format(e){return'"'.concat(this.label,"\" doesn't support this number format!")}},{key:"msg_lookup_wrongitem",value:function msg_lookup_wrongitem(e){return"The option ".concat(o._repr(e),' for "').concat(this.label,"\" doesn't belong to this lookup!")}},{key:"msg_lookup_unknownkey",value:function msg_lookup_unknownkey(e){return"The option ".concat(o._repr(e),' for "').concat(this.label,'" is unknown!')}},{key:"msg_applookup_wrongrecord",value:function msg_applookup_wrongrecord(e){return"The record ".concat(o._repr(e),' for "').concat(this.label,"\" doesn't belong to the correct app!")}},{key:"msg_applookup_unknownkey",value:function msg_applookup_unknownkey(e){return"The record ".concat(o._repr(e),' for "').concat(this.label,"\" can't be found!")}},{key:"_in_form",value:function _in_form(){return this.record._in_form()}},{key:"_sel_root",get:function get(){return"#livingapps-form ."+this.control._cssclass_root+".llft-id-"+this.control.identifier}},{key:"_sel_label",get:function get(){return this._sel_root+" label span"}},{key:"_sel_control",get:function get(){return this._sel_root+" "+this.control._cssclass_control}},{key:"_dom_root",get:function get(){return document.querySelector(this._sel_root)}},{key:"_dom_label",get:function get(){return document.querySelector(this._sel_label)}},{key:"_dom_control",get:function get(){return document.querySelector(this._sel_control)}},{key:"_dom_controls",get:function get(){return document.querySelectorAll(this._sel_control)}},{key:"_get_dom_value",value:function _get_dom_value(){return this._dom_control.value}},{key:"_set_dom_value",value:function _set_dom_value(e){this._dom_control.value=null!==e?e:""}},{key:"visible",get:function get(){return this._visible}},{key:"visible",set:function set(e){this._in_form()&&(this._dom_root.hidden=!e),this._visible=e}},{key:"enabled",get:function get(){return this._in_form()?!this._dom_root.classList.contains("llft-control-readonly"):this._enabled}},{key:"enabled",set:function set(e){if(this._in_form()){var t,o=!e,r=_createForOfIteratorHelper(this._dom_controls);try{for(r.s();!(t=r.n()).done;){t.value.disabled=o}}catch(e){r.e(e)}finally{r.f()}this._dom_root.classList.toggle("llft-control-readonly",o)}this._enabled=e}},{key:"writable",get:function get(){return this._writable}},{key:"writable",set:function set(e){this._writable=e}},{key:o.symbols.repr,value:function value(){var e="<"+this.constructor.name+" identifier=";return e+=o._repr(this.control.identifier),this._dirty&&(e+=" is_dirty()=True"),this.errors.length>0&&(e+=" has_errors()=True"),e+=">"}},{key:o.symbols.setattr,value:function value(e,t){"value"===e?this.value=t:"visible"===e?this.visible=o._bool(t):"enabled"===e?this.enabled=o._bool(t):"writable"===e?this.writable=o._bool(t):_get(_getPrototypeOf(Field.prototype),o.symbols.setattr,this).call(this,e,t)}}]),Field}(X);_e.prototype._ul4onattrs=["control","record","label","value","errors","_visible","_enabled","_writable"],_e.prototype._ul4attrs=new Set(["control","record","label","value","errors","visible","enabled","writable"]),_e.prototype._inputevent="input";var he=new(function(e){_inherits(BoolFieldType,e);var t=_createSuper(BoolFieldType);function BoolFieldType(){return _classCallCheck(this,BoolFieldType),t.apply(this,arguments)}return _createClass(BoolFieldType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof ye}}]),BoolFieldType}(pe))("la","BoolField","Holds the value of a bool field of a record (and related information)"),ye=function(e){_inherits(BoolField,e);var t=_createSuper(BoolField);function BoolField(){return _classCallCheck(this,BoolField),t.apply(this,arguments)}return _createClass(BoolField,[{key:o.symbols.type,value:function value(){return he}},{key:"_validate",value:function _validate(e){null===e.value?this.control.required&&e.errors.push(this.msg_field_required(e.value)):"boolean"==typeof e.value?this.control.required&&!e.value&&e.errors.push(this.msg_bool_truerequired(e.value)):(e.errors.push(this.msg_field_wrong_type(e.value)),e.value=null)}},{key:"_get_dom_value",value:function _get_dom_value(){return this._dom_control.checked}},{key:"_set_dom_value",value:function _set_dom_value(e){this._dom_control.checked=e}},{key:"value_as_text",value:function value_as_text(){return this.globals.msg_bool(this.value)}}]),BoolField}(_e),de=new(function(e){_inherits(IntFieldType,e);var t=_createSuper(IntFieldType);function IntFieldType(){return _classCallCheck(this,IntFieldType),t.apply(this,arguments)}return _createClass(IntFieldType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof fe}}]),IntFieldType}(pe))("la","IntField","Holds the value of an int field of a record (and related information)"),fe=function(e){_inherits(IntField,e);var t=_createSuper(IntField);function IntField(){return _classCallCheck(this,IntField),t.apply(this,arguments)}return _createClass(IntField,[{key:o.symbols.type,value:function value(){return de}},{key:"_parse",value:function _parse(e){return/^\s*[-+]?\d+\s*$/.test(e)?parseInt(e):null}},{key:"_validate",value:function _validate(e){if(null===e.value)this.control.required&&e.errors.push(this.msg_field_required(e.value));else if("string"==typeof e.value){var t=this._parse(e.value);null!==t?e.value=t:e.errors.push(this.msg_number_format(e.value))}else"number"==typeof e.value?Math.round(e.value)!==e.value&&e.errors.push(this.msg_field_wrong_type(e.value)):(e.errors.push(this.msg_field_wrong_type(e.value)),e.value=null)}},{key:"_get_dom_value",value:function _get_dom_value(){var e=_get(_getPrototypeOf(IntField.prototype),"_get_dom_value",this).call(this);if(e){var t=this._parse(e);null!==t&&(e=t)}return e}},{key:"_set_dom_value",value:function _set_dom_value(e){_get(_getPrototypeOf(IntField.prototype),"_set_dom_value",this).call(this,null!==e?e+"":"")}},{key:"value_as_text",value:function value_as_text(){var e=this.value;return null!=e?e+"":null}},{key:"writable",get:function get(){return this._writable}},{key:"writable",set:function set(e){if(this._in_form()){var t,o=!e,r=_createForOfIteratorHelper(this._dom_controls);try{for(r.s();!(t=r.n()).done;){t.value.readOnly=o}}catch(e){r.e(e)}finally{r.f()}}_set(_getPrototypeOf(IntField.prototype),"writable",e,this,!0)}}]),IntField}(_e),ve=new(function(e){_inherits(NumberFieldType,e);var t=_createSuper(NumberFieldType);function NumberFieldType(){return _classCallCheck(this,NumberFieldType),t.apply(this,arguments)}return _createClass(NumberFieldType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof ke}}]),NumberFieldType}(pe))("la","NumberField","Holds the value of a number field of a record (and related information)"),ke=function(e){_inherits(NumberField,e);var t=_createSuper(NumberField);function NumberField(){return _classCallCheck(this,NumberField),t.apply(this,arguments)}return _createClass(NumberField,[{key:o.symbols.type,value:function value(){return ve}},{key:"_parse",value:function _parse(e){if(null===e)return null;for(var t=e,o="",r=0,n=0,l=0;l<e.length;++l){var a=e[l];","==a?(r++,o+=a):"."==a&&(n++,o+=a)}var i=null;if(0==r)n<=1||(i="de");else if(1==r)i=1==n?".,"==o?"de":"en":"de";else{if(!(n<=1))return null;i="en"}"de"===i?t=t.replace(/\./g,"").replace(/,/g,"."):"en"===i&&(t=t.replace(/,/g,""));var u=parseFloat(t);return isNaN(u)?e:u}},{key:"_validate",value:function _validate(e){if(null===e.value||""===e.value)this.control.required&&e.errors.push(this.msg_field_required(e.value)),e.value=null;else if("string"==typeof e.value){var t=this._parse(e.value);null!==t?(t=this._bound_value(t),null!==this.control.precision&&(t=o._round(t,this.control.precision)),e.value=t):e.errors.push(this.msg_number_format(e.value))}else if("number"==typeof e.value){var r=this._bound_value(e.value);null!==this.control.precision&&(r=o._round(r,this.control.precision)),e.value=r}else e.errors.push(this.msg_field_wrong_type(e.value)),e.value=null}},{key:"_bound_value",value:function _bound_value(e){return null!==this.control.minimum&&e<this.control.minimum&&(e=this.control.minimum),null!==this.control.maximum&&e>this.control.maximum&&(e=this.control.maximum),e}},{key:"_get_dom_value",value:function _get_dom_value(){var e=_get(_getPrototypeOf(NumberField.prototype),"_get_dom_value",this).call(this);if(e){if("string"==typeof e){var t=this._parse(e);null!==t&&(e=t)}"number"==typeof e&&(null!==this.control.precision&&(e=o._round(e,this.control.precision)),e=this._bound_value(e))}else e=null;return e}},{key:"_set_dom_value",value:function _set_dom_value(e){"number"==typeof e?(e=this._bound_value(e),null!==this.control.precision&&(e=e.toFixed(this.control.precision))):null===e&&(e=""),e+="","de"==this.globals.lang&&null===this.control.precision&&(e=e.replace(".",",")),_get(_getPrototypeOf(NumberField.prototype),"_set_dom_value",this).call(this,e)}},{key:"value_as_text",value:function value_as_text(){var e=this.value;return null===e?null:null!==this.control.precision?e.toFixed(this.control.precision):e.toString()}},{key:"writable",get:function get(){return this._writable}},{key:"writable",set:function set(e){if(this._in_form()){var t,o=!e,r=_createForOfIteratorHelper(this._dom_controls);try{for(r.s();!(t=r.n()).done;){t.value.readOnly=o}}catch(e){r.e(e)}finally{r.f()}}_set(_getPrototypeOf(NumberField.prototype),"writable",e,this,!0)}}]),NumberField}(_e),me=function(e){_inherits(StringFieldType,e);var t=_createSuper(StringFieldType);function StringFieldType(){return _classCallCheck(this,StringFieldType),t.apply(this,arguments)}return _createClass(StringFieldType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof ge}}]),StringFieldType}(pe),Ce=new me("la","StringField","Holds the value of a string field of a record (and related information)"),ge=function(e){_inherits(StringField,e);var t=_createSuper(StringField);function StringField(){return _classCallCheck(this,StringField),t.apply(this,arguments)}return _createClass(StringField,[{key:o.symbols.type,value:function value(){return Ce}},{key:"_validate",value:function _validate(e){if(null===e.value||""===e.value)this.control.required&&e.errors.push(this.msg_field_required(e.value)),e.value=null;else if("string"==typeof e.value){var t=this.control.minlength,o=this.control.maxlength;null!==t&&e.value.length<t&&e.errors.push(this.msg_string_tooshort(e.value)),null!==o&&e.value.length>o&&e.errors.push(this.msg_string_toolong(e.value))}else e.errors.push(this.msg_field_wrong_type(e.value)),e.value=null}},{key:"writable",get:function get(){return this._writable}},{key:"writable",set:function set(e){if(this._in_form()){var t,o=!e,r=_createForOfIteratorHelper(this._dom_controls);try{for(r.s();!(t=r.n()).done;){t.value.readOnly=o}}catch(e){r.e(e)}finally{r.f()}}_set(_getPrototypeOf(StringField.prototype),"writable",e,this,!0)}},{key:"value_as_text",value:function value_as_text(){return this.value}}]),StringField}(_e),be=new(function(e){_inherits(PasswordFieldType,e);var t=_createSuper(PasswordFieldType);function PasswordFieldType(){return _classCallCheck(this,PasswordFieldType),t.apply(this,arguments)}return _createClass(PasswordFieldType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof Te}}]),PasswordFieldType}(me))("la","PasswordField","Holds the value of a string/password field of a record (and related information)"),Te=function(e){_inherits(PasswordField,e);var t=_createSuper(PasswordField);function PasswordField(){return _classCallCheck(this,PasswordField),t.apply(this,arguments)}return _createClass(PasswordField,[{key:o.symbols.type,value:function value(){return be}}]),PasswordField}(ge),Le=new(function(e){_inherits(EmailFieldType,e);var t=_createSuper(EmailFieldType);function EmailFieldType(){return _classCallCheck(this,EmailFieldType),t.apply(this,arguments)}return _createClass(EmailFieldType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof Ae}}]),EmailFieldType}(me))("la","EmailField","Holds the value of a string/email field of a record (and related information)"),Ae=function(e){_inherits(EmailField,e);var t=_createSuper(EmailField);function EmailField(){return _classCallCheck(this,EmailField),t.apply(this,arguments)}return _createClass(EmailField,[{key:o.symbols.type,value:function value(){return Le}},{key:"_validate",value:function _validate(e){if("string"==typeof e.value&&e.value.length>0){/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/i.test(e.value)||e.errors.push(this.msg_email_format(e.value))}_get(_getPrototypeOf(EmailField.prototype),"_validate",this).call(this,e)}}]),EmailField}(ge),Fe=new(function(e){_inherits(URLFieldType,e);var t=_createSuper(URLFieldType);function URLFieldType(){return _classCallCheck(this,URLFieldType),t.apply(this,arguments)}return _createClass(URLFieldType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof Se}}]),URLFieldType}(me))("la","URLField","Holds the value of a string/url field of a record (and related information)"),Se=function(e){_inherits(URLField,e);var t=_createSuper(URLField);function URLField(){return _classCallCheck(this,URLField),t.apply(this,arguments)}return _createClass(URLField,[{key:o.symbols.type,value:function value(){return Fe}},{key:"_validate",value:function _validate(e){if("string"==typeof e.value&&e.value.length>0){var t=null;try{t=new URL(e.value)}catch(t){e.errors.push(this.msg_url_format(e.value))}null!==t&&"http:"!==t.protocol&&"https:"!==t.protocol&&e.errors.push(this.msg_url_format(e.value))}_get(_getPrototypeOf(URLField.prototype),"_validate",this).call(this,e)}}]),URLField}(ge),we=new(function(e){_inherits(TelFieldType,e);var t=_createSuper(TelFieldType);function TelFieldType(){return _classCallCheck(this,TelFieldType),t.apply(this,arguments)}return _createClass(TelFieldType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof Me}}]),TelFieldType}(me))("la","TelField","Holds the value of a string/tel field of a record (and related information)"),Me=function(e){_inherits(TelField,e);var t=_createSuper(TelField);function TelField(){return _classCallCheck(this,TelField),t.apply(this,arguments)}return _createClass(TelField,[{key:o.symbols.type,value:function value(){return we}},{key:"_validate",value:function _validate(e){if("string"==typeof e.value&&e.value.length>0){/^\\+?[0-9 /()-]+$/.test(e.value)||e.errors.push(this.msg_tel_format(e.value))}_get(_getPrototypeOf(TelField.prototype),"_validate",this).call(this,e)}}]),TelField}(ge),xe=new(function(e){_inherits(TextAreaFieldType,e);var t=_createSuper(TextAreaFieldType);function TextAreaFieldType(){return _classCallCheck(this,TextAreaFieldType),t.apply(this,arguments)}return _createClass(TextAreaFieldType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof Ie}}]),TextAreaFieldType}(me))("la","TextAreaField","Holds the value of a string/textarea field of a record (and related information)"),Ie=function(e){_inherits(TextAreaField,e);var t=_createSuper(TextAreaField);function TextAreaField(){return _classCallCheck(this,TextAreaField),t.apply(this,arguments)}return _createClass(TextAreaField,[{key:o.symbols.type,value:function value(){return xe}}]),TextAreaField}(ge),Re=new(function(e){_inherits(HTMLFieldType,e);var t=_createSuper(HTMLFieldType);function HTMLFieldType(){return _classCallCheck(this,HTMLFieldType),t.apply(this,arguments)}return _createClass(HTMLFieldType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof Oe}}]),HTMLFieldType}(me))("la","HTMLField","Holds the value of a string/html field of a record (and related information)"),Oe=function(e){_inherits(HTMLField,e);var t=_createSuper(HTMLField);function HTMLField(){return _classCallCheck(this,HTMLField),t.apply(this,arguments)}return _createClass(HTMLField,[{key:o.symbols.type,value:function value(){return Re}}]),HTMLField}(ge),De=new(function(e){_inherits(GeoFieldType,e);var t=_createSuper(GeoFieldType);function GeoFieldType(){return _classCallCheck(this,GeoFieldType),t.apply(this,arguments)}return _createClass(GeoFieldType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof Ne}}]),GeoFieldType}(pe))("la","GeoField","Holds the value of a geo field of a record (and related information)"),Ne=function(e){_inherits(GeoField,e);var t=_createSuper(GeoField);function GeoField(){return _classCallCheck(this,GeoField),t.apply(this,arguments)}return _createClass(GeoField,[{key:o.symbols.type,value:function value(){return De}},{key:"_get_dom_value",value:function _get_dom_value(){var e,t=_createForOfIteratorHelper(this._dom_controls);try{for(t.s();!(e=t.n()).done;){var o=e.value;if(o.id.endsWith("_geoinfo")){var r=o.value;if(r)return r=JSON.parse(r),new Dr(this.globals,r.geometry.coordinates[0],r.geometry.coordinates[1],r.properties.formatted_address)}}}catch(e){t.e(e)}finally{t.f()}return null}},{key:"_set_dom_value",value:function _set_dom_value(e){if(null===e){var t,r=_createForOfIteratorHelper(this._dom_controls);try{for(r.s();!(t=r.n()).done;){t.value.value=null}}catch(e){r.e(e)}finally{r.f()}}else{var n,l=_createForOfIteratorHelper(this._dom_controls);try{for(l.s();!(n=l.n()).done;){var a=n.value;if(a.id.endsWith("_geoinfo")){var i={type:"Feature",geometry:{coordinates:[e.lat,e.long]},properties:{formatted_address:e.info}};a.value=o._asjson(i)}else a.value=e.info}}catch(e){l.e(e)}finally{l.f()}}}},{key:"value_as_text",value:function value_as_text(){var e=this.value;if(null===this.value)return null;var t=e.lat.toFixed(5)+", "+e.long.toFixed(5);return null!==e.info&&(t+=" ("+e.info+")"),t}},{key:"_validate",value:function _validate(e){null===e.value||""===e.value?(this.control.required&&e.errors.push(this.msg_field_required(e.value)),e.value=null):e.value instanceof Dr||(e.errors.push(this.msg_field_wrong_type(e.value)),e.value=null)}}]),GeoField}(_e);Ne.prototype._inputevent="llgeo";var Ee=function(e){_inherits(FileFieldType,e);var t=_createSuper(FileFieldType);function FileFieldType(){return _classCallCheck(this,FileFieldType),t.apply(this,arguments)}return _createClass(FileFieldType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof He}}]),FileFieldType}(pe),Pe=new Ee("la","FileField","Holds the value of a file field of a record (and related information)"),He=function(e){_inherits(FileField,e);var t=_createSuper(FileField);function FileField(){return _classCallCheck(this,FileField),t.apply(this,arguments)}return _createClass(FileField,[{key:o.symbols.type,value:function value(){return Pe}},{key:"_validate",value:function _validate(e){null===e.value||""===e.value?(this.control.required&&e.errors.push(this.msg_field_required(e.value)),e.value=null):e.value instanceof Rr||(e.errors.push(this.msg_field_wrong_type(e.value)),e.value=null)}},{key:"_get_dom_value",value:function _get_dom_value(){return null}},{key:"_set_dom_value",value:function _set_dom_value(){}}]),FileField}(_e),Be=new(function(e){_inherits(FileSignatureFieldType,e);var t=_createSuper(FileSignatureFieldType);function FileSignatureFieldType(){return _classCallCheck(this,FileSignatureFieldType),t.apply(this,arguments)}return _createClass(FileSignatureFieldType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof Ue}}]),FileSignatureFieldType}(Ee))("la","FileSignatureField","Holds the value of a file/signature field of a record (and related information)"),Ue=function(e){_inherits(FileSignatureField,e);var t=_createSuper(FileSignatureField);function FileSignatureField(){return _classCallCheck(this,FileSignatureField),t.apply(this,arguments)}return _createClass(FileSignatureField,[{key:o.symbols.type,value:function value(){return Be}},{key:"_validate",value:function _validate(e){_get(_getPrototypeOf(FileSignatureField.prototype),"_validate",this).call(this,e)}}]),FileSignatureField}(He),Ge=function(e){_inherits(DateFieldBaseType,e);var t=_createSuper(DateFieldBaseType);function DateFieldBaseType(){return _classCallCheck(this,DateFieldBaseType),t.apply(this,arguments)}return _createClass(DateFieldBaseType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof Ve}}]),DateFieldBaseType}(pe),je=new Ge("la","DateFieldBase","Holds the value of a date field of a record (and related information)"),Ve=function(e){_inherits(DateFieldBase,e);var t=_createSuper(DateFieldBase);function DateFieldBase(){return _classCallCheck(this,DateFieldBase),t.apply(this,arguments)}return _createClass(DateFieldBase,[{key:o.symbols.type,value:function value(){return je}},{key:"value_as_text",value:function value_as_text(){var e=this.value;return null===e?null:"string"==typeof e?e:o._format(e,this.control.formatstring())}},{key:"_parse",value:function _parse(e,t){var o=null,r=null,n=null,l=0,a=0,i=0,u=null;function _int(e,t,o,r){return(e=e.substring(0,t)).length!=t?null:(e=parseInt(e,10),isNaN(e)||e<o||e>r?null:e)}for(;e;){if(!t)return null;if(t.startsWith("%Y")){if(null===(o=_int(e,4)))return null;e=e.substring(4),t=t.substring(2)}else if(t.startsWith("%y")){if(null===(o=_int(e,2)))return null;e=e.substring(2),t=t.substring(2)}else if(t.startsWith("%m")){if(null===(r=_int(e,2)))return null;e=e.substring(2),t=t.substring(2)}else if(t.startsWith("%d")){if(null===(n=_int(e,2)))return null;e=e.substring(2),t=t.substring(2)}else if(t.startsWith("%H")){if(null===(l=_int(e,2)))return null;e=e.substring(2),t=t.substring(2)}else if(t.startsWith("%I")){if(null===(l=_int(e,2)))return null;e=e.substring(2),t=t.substring(2)}else if(t.startsWith("%M")){if(null===(a=_int(e,2)))return null;e=e.substring(2),t=t.substring(2)}else if(t.startsWith("%S")){if(null===(i=_int(e,2)))return null;e=e.substring(2),t=t.substring(2)}else if(t.startsWith("%p")){if(e.toLowerCase().startsWith("pm"))u=!0;else{if(!e.toLowerCase().startsWith("am"))return null;u=!1}e=e.substring(2),t=t.substring(2)}else if(t.startsWith("%%")){if(!e.startsWith("%"))return null;e=e.substring(1),t=t.substring(2)}else if(t.startsWith("%z")){if(!e.startsWith("-")&&!e.startsWith("+"))return null;if(null===_int(e=e.substring(1),2))return null;if(!(e=e.substring(2)).startsWith(":"))return null;if(null===_int(e=e.substring(1),2))return null;e=e.substring(2),t=t.substring(2)}else{if(!e.startsWith(t.substring(0,1)))return null;e=e.substring(1),t=t.substring(1)}}if(t)return null;if(null===o)return null;if(null===r||r<1||r>12)return null;if(null===n||n<1||n>31)return null;if(null===u){if(l<0||l>23)return null}else{if(l<0||l>11)return null;u&&(l+=12)}return a<0||a>59||a<0||a>59||i<0||i>60?null:new Date(o,r-1,n,l,a,i)}},{key:"_validate",value:function _validate(e){if(null===e.value||""===e.value)this.control.required&&e.errors.push(this.msg_field_required(e.value)),e.value=null;else if(e.value instanceof Date)e.value=this._convert(e.value);else if(e.value instanceof o.Date_)e.value=this._convert(e.value._date);else if("string"==typeof e.value){var t,r=null,n=_createForOfIteratorHelper(this.control.formatstrings_parse());try{for(n.s();!(t=n.n()).done;){var l=t.value;if(null!==(r=this._parse(e.value,l)))break}}catch(e){n.e(e)}finally{n.f()}null!==r?e.value=this._convert(r):e.errors.push(this.msg_date_format(e.value))}else e.errors.push(this.msg_field_wrong_type(e.value)),e.value=null}},{key:"_get_dom_value",value:function _get_dom_value(){var e=_get(_getPrototypeOf(DateFieldBase.prototype),"_get_dom_value",this).call(this);if(!e)return null;var t,o=_createForOfIteratorHelper(this.control.formatstrings_parse());try{for(o.s();!(t=o.n()).done;){var r=t.value,n=this._parse(e,r);if(null!==n)return this._convert(n)}}catch(e){o.e(e)}finally{o.f()}return null}},{key:"_set_dom_value",value:function _set_dom_value(e){e=null!==e?o._format(e,this.control.formatstring(),this.globals.lang):"",_get(_getPrototypeOf(DateFieldBase.prototype),"_set_dom_value",this).call(this,e)}}]),DateFieldBase}(_e),ze=new(function(e){_inherits(DateFieldType,e);var t=_createSuper(DateFieldType);function DateFieldType(){return _classCallCheck(this,DateFieldType),t.apply(this,arguments)}return _createClass(DateFieldType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof qe}}]),DateFieldType}(Ge))("la","DateField","Holds the value of a date/date field of a record (and related information)"),qe=function(e){_inherits(DateField,e);var t=_createSuper(DateField);function DateField(){return _classCallCheck(this,DateField),t.apply(this,arguments)}return _createClass(DateField,[{key:o.symbols.type,value:function value(){return ze}},{key:"_convert",value:function _convert(e){return new o.Date_(e.getFullYear(),e.getMonth()+1,e.getDate())}}]),DateField}(Ve),We=new(function(e){_inherits(DatetimeMinuteFieldType,e);var t=_createSuper(DatetimeMinuteFieldType);function DatetimeMinuteFieldType(){return _classCallCheck(this,DatetimeMinuteFieldType),t.apply(this,arguments)}return _createClass(DatetimeMinuteFieldType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof Ye}}]),DatetimeMinuteFieldType}(Ge))("la","DatetimeMinuteField","Holds the value of a date/datetimeminute field of a record (and related information)"),Ye=function(e){_inherits(DatetimeMinuteField,e);var t=_createSuper(DatetimeMinuteField);function DatetimeMinuteField(){return _classCallCheck(this,DatetimeMinuteField),t.apply(this,arguments)}return _createClass(DatetimeMinuteField,[{key:o.symbols.type,value:function value(){return We}},{key:"_convert",value:function _convert(e){return e.setSeconds(0),e.setMilliseconds(0),e}}]),DatetimeMinuteField}(Ve),Ke=new(function(e){_inherits(DatetimeSecondFieldType,e);var t=_createSuper(DatetimeSecondFieldType);function DatetimeSecondFieldType(){return _classCallCheck(this,DatetimeSecondFieldType),t.apply(this,arguments)}return _createClass(DatetimeSecondFieldType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof Je}}]),DatetimeSecondFieldType}(Ge))("la","DatetimeSecondField","Holds the value of a date/datetimesecond field of a record (and related information)"),Je=function(e){_inherits(DatetimeSecondField,e);var t=_createSuper(DatetimeSecondField);function DatetimeSecondField(){return _classCallCheck(this,DatetimeSecondField),t.apply(this,arguments)}return _createClass(DatetimeSecondField,[{key:o.symbols.type,value:function value(){return Ke}},{key:"_convert",value:function _convert(e){return e.setMilliseconds(0),e}}]),DatetimeSecondField}(Ve),Xe=function(e){_inherits(ChoiceFieldBase,e);var t=_createSuper(ChoiceFieldBase);function ChoiceFieldBase(){return _classCallCheck(this,ChoiceFieldBase),t.apply(this,arguments)}return _createClass(ChoiceFieldBase,[{key:"_make_option",value:function _make_option(e,t,o){return element("option",o,{value:t,class:t===this.control.none_key?"la-none-option":null,selected:e?"selected":null})}},{key:"_set_dom_lookupdata_select",value:function _set_dom_lookupdata_select(e){var t;null===e&&(e=this.control.lookup_data),o._isobject(e)&&(e=new Map(Object.entries(e)));var r,n=!1,l=new Set,a=_createForOfIteratorHelper(this._dom_control.querySelectorAll("option:checked"));try{for(a.s();!(r=a.n()).done;){var i=r.value.getAttribute("value");e.has(i)?l.add(i):i===this.control.none_key&&(n=!0)}}catch(e){a.e(e)}finally{a.f()}var u=[];null!==this.control.none_key&&u.push(this._make_option(n,this.control.none_key,null!==this.control.none_label?this.control.none_label:this.globals.msg_nothing_selected()));var s,p=_createForOfIteratorHelper(e);try{for(p.s();!(s=p.n()).done;){var c=_slicedToArray(s.value,2),_=c[0],h=c[1];u.push(this._make_option(l.has(_),_,this._make_label(h)))}}catch(e){p.e(e)}finally{p.f()}(t=this._dom_control).replaceChildren.apply(t,u)}},{key:"_set_dom_lookupdata_input",value:function _set_dom_lookupdata_input(e){null===e?e=this.control.lookupdata:o._isobject(e)&&(e=new Map(Object.entries(e)));var t,r=!1,n=new Set,l=_createForOfIteratorHelper(this._dom_controls);try{for(l.s();!(t=l.n()).done;){var a=t.value,i=a.getAttribute("value");a.checked&&(e.has(i)?n.add(i):i===this.control.none_key&&(r=!0))}}catch(e){l.e(e)}finally{l.f()}var u=this._dom_root.querySelector("input[value="+this.control.none_key+"]");null!==u&&(u.checked=r);var s,p=_createForOfIteratorHelper(this.control.lookupdata);try{for(p.s();!(s=p.n()).done;){var c=_slicedToArray(s.value,2),_=c[0],h=(c[1],this._dom_root.querySelector("input[value="+_+"]")),y=this._dom_root.querySelector("label[for="+h.id+"]");e.has(_)?(h.style.display="inline",y.style.display="inline",y.innerText=this._make_label(e.get(_))):(h.style.display="none",y.style.display="none",y.checked=!1)}}catch(e){p.e(e)}finally{p.f()}}}]),ChoiceFieldBase}(_e),$e=function(e){_inherits(LookupFieldBaseType,e);var t=_createSuper(LookupFieldBaseType);function LookupFieldBaseType(){return _classCallCheck(this,LookupFieldBaseType),t.apply(this,arguments)}return _createClass(LookupFieldBaseType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof Qe}}]),LookupFieldBaseType}(pe),Ze=new $e("la","LookupFieldBase","Base type of LookupField and MultipleLookupField"),Qe=function(e){_inherits(LookupFieldBase,e);var t=_createSuper(LookupFieldBase);function LookupFieldBase(){return _classCallCheck(this,LookupFieldBase),t.apply(this,arguments)}return _createClass(LookupFieldBase,[{key:o.symbols.type,value:function value(){return Ze}},{key:"lookupdata",get:function get(){return null!==this._lookupdata?this._lookupdata:this.control.lookupdata}},{key:"lookupdata",set:function set(e){this._in_form()&&this._set_dom_lookupdata(e),this._lookupdata=e}},{key:"_set_dom_lookupdata",value:function _set_dom_lookupdata(e){}},{key:"_make_label",value:function _make_label(e){return"string"==typeof e?e:e instanceof dr?e.label:o._str(e)}},{key:"_find_lookupitem",value:function _find_lookupitem(e){var t=e.value;if("string"==typeof t){if(null===this.lookupdata)return;var o=this.control.lookupdata.get(t);if(void 0===o)if(this.control.autoexpandable){var r,n=_createForOfIteratorHelper(this.lookupdata.values());try{for(n.s();!(r=n.n()).done;){var l=r.value;if(t===l.label)return void(e.value=l)}}catch(e){n.e(e)}finally{n.f()}}else e.errors.push(this.msg_lookup_unknownkey(t)),e.value=null;else e.value=o}else if(t instanceof dr){this.control.lookupdata.get(t.key)!==t&&(e.errors.push(this.msg_lookup_wrongitem(t)),e.value=null)}else e.errors.push(this.msg_field_wrong_type(t)),e.value=null}}]),LookupFieldBase}(Xe),et=function(e){_inherits(LookupFieldType,e);var t=_createSuper(LookupFieldType);function LookupFieldType(){return _classCallCheck(this,LookupFieldType),t.apply(this,arguments)}return _createClass(LookupFieldType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof ot}}]),LookupFieldType}($e),tt=new et("la","LookupField","Holds the value of a lookup field of a record (and related information)"),ot=function(e){_inherits(LookupField,e);var t=_createSuper(LookupField);function LookupField(){return _classCallCheck(this,LookupField),t.apply(this,arguments)}return _createClass(LookupField,[{key:o.symbols.type,value:function value(){return tt}},{key:"value_as_text",value:function value_as_text(){var e=this.value;return null===e?null:e.label}},{key:"_validate",value:function _validate(e){var t=e.value;null===t||""===t||this.control.none_key===t?(this.control.required&&e.errors.push(this.msg_field_required(t)),e.value=null):this._find_lookupitem(e)}}]),LookupField}(Qe),rt=new(function(e){_inherits(LookupRadioFieldType,e);var t=_createSuper(LookupRadioFieldType);function LookupRadioFieldType(){return _classCallCheck(this,LookupRadioFieldType),t.apply(this,arguments)}return _createClass(LookupRadioFieldType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof nt}}]),LookupRadioFieldType}(et))("la","LookupRadioField","Holds the value of a lookup/radio field of a record (and related information)"),nt=function(e){_inherits(LookupRadioField,e);var t=_createSuper(LookupRadioField);function LookupRadioField(){return _classCallCheck(this,LookupRadioField),t.apply(this,arguments)}return _createClass(LookupRadioField,[{key:o.symbols.type,value:function value(){return rt}},{key:"_sel_label",get:function get(){return this._sel_root+" label:not([for]) > span"}},{key:"_get_dom_value",value:function _get_dom_value(){var e,t=_createForOfIteratorHelper(this._dom_controls);try{for(t.s();!(e=t.n()).done;){var o=e.value;if(o.checked){var r=o.getAttribute("value");return this.control.lookupdata.get(r)}}}catch(e){t.e(e)}finally{t.f()}return null}},{key:"_set_dom_value",value:function _set_dom_value(e){e instanceof dr&&(e=e.key),null===e&&(e=this.control.none_key);var t,o=_createForOfIteratorHelper(this._dom_controls);try{for(o.s();!(t=o.n()).done;){var r=t.value;r.checked=r.getAttribute("value")===e}}catch(e){o.e(e)}finally{o.f()}}},{key:"_set_dom_lookupdata",value:function _set_dom_lookupdata(e){this._set_dom_lookupdata_input(e)}}]),LookupRadioField}(ot),lt=new(function(e){_inherits(LookupSelectFieldType,e);var t=_createSuper(LookupSelectFieldType);function LookupSelectFieldType(){return _classCallCheck(this,LookupSelectFieldType),t.apply(this,arguments)}return _createClass(LookupSelectFieldType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof at}}]),LookupSelectFieldType}(et))("la","LookupSelectField","Holds the value of a lookup/select field of a record (and related information)"),at=function(e){_inherits(LookupSelectField,e);var t=_createSuper(LookupSelectField);function LookupSelectField(){return _classCallCheck(this,LookupSelectField),t.apply(this,arguments)}return _createClass(LookupSelectField,[{key:o.symbols.type,value:function value(){return lt}},{key:"_get_dom_value",value:function _get_dom_value(){var e=_get(_getPrototypeOf(LookupSelectField.prototype),"_get_dom_value",this).call(this);return e&&(e=e===this.control.none_key?null:this.control.lookupdata.get(e)),e}},{key:"_set_dom_value",value:function _set_dom_value(e){var t={value:e,errors:[]};this._validate(t),_get(_getPrototypeOf(LookupSelectField.prototype),"_set_dom_value",this).call(this,null!=t.value?t.value.key:this.control.none_key)}},{key:"_set_dom_lookupdata",value:function _set_dom_lookupdata(e){this._set_dom_lookupdata_select(e)}}]),LookupSelectField}(ot),it=new(function(e){_inherits(LookupChoiceFieldType,e);var t=_createSuper(LookupChoiceFieldType);function LookupChoiceFieldType(){return _classCallCheck(this,LookupChoiceFieldType),t.apply(this,arguments)}return _createClass(LookupChoiceFieldType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof ut}}]),LookupChoiceFieldType}(et))("la","LookupChoiceField","Holds the value of a lookup/choice field of a record (and related information)"),ut=function(e){_inherits(LookupChoiceField,e);var t=_createSuper(LookupChoiceField);function LookupChoiceField(){return _classCallCheck(this,LookupChoiceField),t.apply(this,arguments)}return _createClass(LookupChoiceField,[{key:o.symbols.type,value:function value(){return it}}]),LookupChoiceField}(ot),st=function(e){_inherits(MultipleLookupFieldType,e);var t=_createSuper(MultipleLookupFieldType);function MultipleLookupFieldType(){return _classCallCheck(this,MultipleLookupFieldType),t.apply(this,arguments)}return _createClass(MultipleLookupFieldType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof ct}}]),MultipleLookupFieldType}($e),pt=new st("la","MultipleLookupField","Holds the value of a multiple lookup field of a record (and related information)"),ct=function(e){_inherits(MultipleLookupField,e);var t=_createSuper(MultipleLookupField);function MultipleLookupField(){return _classCallCheck(this,MultipleLookupField),t.apply(this,arguments)}return _createClass(MultipleLookupField,[{key:o.symbols.type,value:function value(){return pt}},{key:"is_empty",value:function is_empty(){return 0===this._value.length}},{key:"value_as_text",value:function value_as_text(){var e=this.value;return null===e||0===e.length?null:e.map((function(e){return e.label})).join(", ")}},{key:"_validate",value:function _validate(e){var t=e.value,o="[object Array]"===Object.prototype.toString.call(t);if(null===t||""===t||this.control.none_key===t||o&&0===t.length)this.control.required&&e.errors.push(this.msg_field_required(t)),e.value=[];else if(o){var r,n=[],l=_createForOfIteratorHelper(t);try{for(l.s();!(r=l.n()).done;){var a={value:r.value,errors:[]};this._find_lookupitem(a),a.errors.length>0?e.errors=[].concat(_toConsumableArray(e.errors),_toConsumableArray(a.errors)):n.push(a.value)}}catch(e){l.e(e)}finally{l.f()}e.value=n}else this._find_lookupitem(e),e.errors.length>0?e.value=[]:e.value=[e.value]}}]),MultipleLookupField}(Qe),_t=new(function(e){_inherits(MultipleLookupCheckboxFieldType,e);var t=_createSuper(MultipleLookupCheckboxFieldType);function MultipleLookupCheckboxFieldType(){return _classCallCheck(this,MultipleLookupCheckboxFieldType),t.apply(this,arguments)}return _createClass(MultipleLookupCheckboxFieldType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof ht}}]),MultipleLookupCheckboxFieldType}(st))("la","MultipleLookupCheckboxField","Holds the value of a multiplelookup/radio field of a record (and related information)"),ht=function(e){_inherits(MultipleLookupCheckboxField,e);var t=_createSuper(MultipleLookupCheckboxField);function MultipleLookupCheckboxField(){return _classCallCheck(this,MultipleLookupCheckboxField),t.apply(this,arguments)}return _createClass(MultipleLookupCheckboxField,[{key:o.symbols.type,value:function value(){return _t}},{key:"_sel_label",get:function get(){return this._sel_root+" label:not([for]) > span"}},{key:"_get_dom_value",value:function _get_dom_value(){var e,t=[],o=_createForOfIteratorHelper(this._dom_controls);try{for(o.s();!(e=o.n()).done;){var r=e.value;if(r.checked){var n=r.getAttribute("value");t.push(this.control.lookupdata.get(n))}}}catch(e){o.e(e)}finally{o.f()}return t}},{key:"_set_dom_value",value:function _set_dom_value(e){var t={value:e,errors:[]};this._validate(t);var o,r=new Set,n=_createForOfIteratorHelper(t.value);try{for(n.s();!(o=n.n()).done;){var l=o.value;r.add(l.key)}}catch(e){n.e(e)}finally{n.f()}var a,i=_createForOfIteratorHelper(this._dom_controls);try{for(i.s();!(a=i.n()).done;){var u=a.value;u.checked=r.has(u.getAttribute("value"))}}catch(e){i.e(e)}finally{i.f()}}},{key:"_set_dom_lookupdata",value:function _set_dom_lookupdata(e){this._set_dom_lookupdata_input(e)}}]),MultipleLookupCheckboxField}(ct),yt=new(function(e){_inherits(MultipleLookupSelectFieldType,e);var t=_createSuper(MultipleLookupSelectFieldType);function MultipleLookupSelectFieldType(){return _classCallCheck(this,MultipleLookupSelectFieldType),t.apply(this,arguments)}return _createClass(MultipleLookupSelectFieldType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof dt}}]),MultipleLookupSelectFieldType}(st))("la","MultipleLookupSelectField","Holds the value of a multiplelookup/select field of a record (and related information)"),dt=function(e){_inherits(MultipleLookupSelectField,e);var t=_createSuper(MultipleLookupSelectField);function MultipleLookupSelectField(){return _classCallCheck(this,MultipleLookupSelectField),t.apply(this,arguments)}return _createClass(MultipleLookupSelectField,[{key:o.symbols.type,value:function value(){return yt}},{key:"_get_dom_value",value:function _get_dom_value(){var e,t=[],o=_createForOfIteratorHelper(this._dom_control.querySelectorAll("option"));try{for(o.s();!(e=o.n()).done;){var r=e.value;r.selected&&t.push(this.control.lookupdata.get(r.getAttribute("value")))}}catch(e){o.e(e)}finally{o.f()}return t}},{key:"_set_dom_value",value:function _set_dom_value(e){var t={value:e,errors:[]};this._validate(t);var o,r=new Set,n=_createForOfIteratorHelper(t.value);try{for(n.s();!(o=n.n()).done;){var l=o.value;r.add(l.key)}}catch(e){n.e(e)}finally{n.f()}var a,i=_createForOfIteratorHelper(this._dom_control.querySelectorAll("option"));try{for(i.s();!(a=i.n()).done;){var u=a.value;u.selected=r.has(u.getAttribute("value"))}}catch(e){i.e(e)}finally{i.f()}}},{key:"_set_dom_lookupdata",value:function _set_dom_lookupdata(e){this._set_dom_lookupdata_select(e)}}]),MultipleLookupSelectField}(ct),ft=new(function(e){_inherits(MultipleLookupChoiceFieldType,e);var t=_createSuper(MultipleLookupChoiceFieldType);function MultipleLookupChoiceFieldType(){return _classCallCheck(this,MultipleLookupChoiceFieldType),t.apply(this,arguments)}return _createClass(MultipleLookupChoiceFieldType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof vt}}]),MultipleLookupChoiceFieldType}(st))("la","MultipleLookupChoiceField","Holds the value of a multiplelookup/choice field of a record (and related information)"),vt=function(e){_inherits(MultipleLookupChoiceField,e);var t=_createSuper(MultipleLookupChoiceField);function MultipleLookupChoiceField(){return _classCallCheck(this,MultipleLookupChoiceField),t.apply(this,arguments)}return _createClass(MultipleLookupChoiceField,[{key:o.symbols.type,value:function value(){return ft}}]),MultipleLookupChoiceField}(ct),kt=function(e){_inherits(AppLookupFieldBaseType,e);var t=_createSuper(AppLookupFieldBaseType);function AppLookupFieldBaseType(){return _classCallCheck(this,AppLookupFieldBaseType),t.apply(this,arguments)}return _createClass(AppLookupFieldBaseType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof Ct}}]),AppLookupFieldBaseType}(pe),mt=new kt("la","AppLookupFieldBase","Base type of AppLookupField and MultipleAppLookupField"),Ct=function(e){_inherits(AppLookupFieldBase,e);var t=_createSuper(AppLookupFieldBase);function AppLookupFieldBase(){return _classCallCheck(this,AppLookupFieldBase),t.apply(this,arguments)}return _createClass(AppLookupFieldBase,[{key:o.symbols.type,value:function value(){return mt}},{key:"lookupdata",get:function get(){return null!==this._lookupdata?this._lookupdata:null!==this.control.lookup_app.records?this.control.lookup_app.records:new Map}},{key:"lookupdata",set:function set(e){this._in_form()&&this._set_dom_lookupdata(e),this._lookupdata=e}},{key:"_set_dom_lookupdata",value:function _set_dom_lookupdata(e){}},{key:"_make_label",value:function _make_label(e){return"string"==typeof e?e:e instanceof se?e.as_text(this.control.lookup_controls):o._str(e)}},{key:"_find_record",value:function _find_record(e){var t=e.value;if("string"==typeof t){var o=null!==this.control.lookup_app.records?this.control.lookup_app.records.get(t):void 0;void 0===o?(e.errors.push(this.msg_applookup_unknownkey(t)),e.value=null):e.value=o}else t instanceof se?t.app!==this.control.lookup_app&&(e.errors.push(this.msg_applookup_wrongrecord(t)),e.value=null):(e.errors.push(this.msg_field_wrong_type(t)),e.value=null)}},{key:o.symbols.setattr,value:function value(e,t){"lookupdata"===e?this.lookupdata=t:_get(_getPrototypeOf(AppLookupFieldBase.prototype),o.symbols.setattr,this).call(this,e,t)}}]),AppLookupFieldBase}(Xe);Ct.prototype._ul4attrs=new Set([].concat(_toConsumableArray(_e.prototype._ul4attrs),["lookupdata"]));var gt=function(e){_inherits(AppLookupFieldType,e);var t=_createSuper(AppLookupFieldType);function AppLookupFieldType(){return _classCallCheck(this,AppLookupFieldType),t.apply(this,arguments)}return _createClass(AppLookupFieldType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof Tt}}]),AppLookupFieldType}(kt),bt=new gt("la","AppLookupField","Holds the value of a applookup field of a record (and related information)"),Tt=function(e){_inherits(AppLookupField,e);var t=_createSuper(AppLookupField);function AppLookupField(){return _classCallCheck(this,AppLookupField),t.apply(this,arguments)}return _createClass(AppLookupField,[{key:o.symbols.type,value:function value(){return bt}},{key:"value_as_text",value:function value_as_text(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3,t=this.value;return null===t?null:"("+this.value.as_text(e)+")"}},{key:"_validate",value:function _validate(e){this._find_record(e)}}]),AppLookupField}(Ct),Lt=new(function(e){_inherits(AppLookupSelectFieldType,e);var t=_createSuper(AppLookupSelectFieldType);function AppLookupSelectFieldType(){return _classCallCheck(this,AppLookupSelectFieldType),t.apply(this,arguments)}return _createClass(AppLookupSelectFieldType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof At}}]),AppLookupSelectFieldType}(gt))("la","AppLookupSelectField","Holds the value of a `applookup`/`select` field of a record (and related information)"),At=function(e){_inherits(AppLookupSelectField,e);var t=_createSuper(AppLookupSelectField);function AppLookupSelectField(){return _classCallCheck(this,AppLookupSelectField),t.apply(this,arguments)}return _createClass(AppLookupSelectField,[{key:o.symbols.type,value:function value(){return Lt}},{key:"_get_dom_value",value:function _get_dom_value(){var e=_get(_getPrototypeOf(AppLookupSelectField.prototype),"_get_dom_value",this).call(this);return null!==this.control.lookup_app.records?void 0===(e=this.control.lookup_app.records.get(e))&&(e=null):e=null,e}},{key:"_set_dom_value",value:function _set_dom_value(e){var t={value:e,errors:[]};this._validate(t),_get(_getPrototypeOf(AppLookupSelectField.prototype),"_set_dom_value",this).call(this,null!=t.value?t.value.id:this.control.none_key)}},{key:"_set_dom_lookupdata",value:function _set_dom_lookupdata(e){this._set_dom_lookupdata_select(e)}}]),AppLookupSelectField}(Tt),Ft=new(function(e){_inherits(AppLookupRadioFieldType,e);var t=_createSuper(AppLookupRadioFieldType);function AppLookupRadioFieldType(){return _classCallCheck(this,AppLookupRadioFieldType),t.apply(this,arguments)}return _createClass(AppLookupRadioFieldType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof St}}]),AppLookupRadioFieldType}(gt))("la","AppLookupRadioField","Holds the value of a `applookup`/`radio` field of a record (and related information)"),St=function(e){_inherits(AppLookupRadioField,e);var t=_createSuper(AppLookupRadioField);function AppLookupRadioField(){return _classCallCheck(this,AppLookupRadioField),t.apply(this,arguments)}return _createClass(AppLookupRadioField,[{key:o.symbols.type,value:function value(){return Ft}}]),AppLookupRadioField}(Tt),wt=new(function(e){_inherits(AppLookupChoiceFieldType,e);var t=_createSuper(AppLookupChoiceFieldType);function AppLookupChoiceFieldType(){return _classCallCheck(this,AppLookupChoiceFieldType),t.apply(this,arguments)}return _createClass(AppLookupChoiceFieldType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof Mt}}]),AppLookupChoiceFieldType}(gt))("la","AppLookupChoiceField","Holds the value of a `applookup`/`choice` field of a record (and related information)"),Mt=function(e){_inherits(AppLookupChoiceField,e);var t=_createSuper(AppLookupChoiceField);function AppLookupChoiceField(){return _classCallCheck(this,AppLookupChoiceField),t.apply(this,arguments)}return _createClass(AppLookupChoiceField,[{key:o.symbols.type,value:function value(){return wt}}]),AppLookupChoiceField}(Tt),xt=function(e){_inherits(MultipleAppLookupFieldType,e);var t=_createSuper(MultipleAppLookupFieldType);function MultipleAppLookupFieldType(){return _classCallCheck(this,MultipleAppLookupFieldType),t.apply(this,arguments)}return _createClass(MultipleAppLookupFieldType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof Rt}}]),MultipleAppLookupFieldType}(kt),It=new xt("la","MultipleAppLookupField","Holds the value of a multiple applookup field of a record (and related information)"),Rt=function(e){_inherits(MultipleAppLookupField,e);var t=_createSuper(MultipleAppLookupField);function MultipleAppLookupField(){return _classCallCheck(this,MultipleAppLookupField),t.apply(this,arguments)}return _createClass(MultipleAppLookupField,[{key:o.symbols.type,value:function value(){return It}},{key:"is_empty",value:function is_empty(){return 0===this._value.length}},{key:"_validate",value:function _validate(e){var t=e.value,o="[object Array]"===Object.prototype.toString.call(t);if(null===t||""===t||this.control.none_key===t||o&&0===t.length)this.control.required&&e.errors.push(this.msg_field_required(t)),e.value=[];else if(o){var r,n=[],l=_createForOfIteratorHelper(t);try{for(l.s();!(r=l.n()).done;){var a={value:r.value,errors:[]};this._find_record(a),a.errors.length>0?e.errors=[].concat(_toConsumableArray(e.errors),_toConsumableArray(a.errors)):n.push(a.value)}}catch(e){l.e(e)}finally{l.f()}e.value=n}else this._find_record(e),e.errors.length>0?e.value=[]:e.value=[e.value]}}]),MultipleAppLookupField}(Ct),Ot=new(function(e){_inherits(MultipleAppLookupCheckboxFieldType,e);var t=_createSuper(MultipleAppLookupCheckboxFieldType);function MultipleAppLookupCheckboxFieldType(){return _classCallCheck(this,MultipleAppLookupCheckboxFieldType),t.apply(this,arguments)}return _createClass(MultipleAppLookupCheckboxFieldType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof Dt}}]),MultipleAppLookupCheckboxFieldType}(xt))("la","MultipleAppLookupCheckboxField","Holds the value of a `multipleapplookup`/`checkbox` field of a record (and related information)"),Dt=function(e){_inherits(MultipleAppLookupCheckboxField,e);var t=_createSuper(MultipleAppLookupCheckboxField);function MultipleAppLookupCheckboxField(){return _classCallCheck(this,MultipleAppLookupCheckboxField),t.apply(this,arguments)}return _createClass(MultipleAppLookupCheckboxField,[{key:o.symbols.type,value:function value(){return Ot}}]),MultipleAppLookupCheckboxField}(Rt),Nt=new(function(e){_inherits(MultipleAppLookupSelectFieldType,e);var t=_createSuper(MultipleAppLookupSelectFieldType);function MultipleAppLookupSelectFieldType(){return _classCallCheck(this,MultipleAppLookupSelectFieldType),t.apply(this,arguments)}return _createClass(MultipleAppLookupSelectFieldType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof Et}}]),MultipleAppLookupSelectFieldType}(xt))("la","MultipleAppLookupSelectField","Holds the value of a `multipleapplookup`/`select` field of a record (and related information)"),Et=function(e){_inherits(MultipleAppLookupSelectField,e);var t=_createSuper(MultipleAppLookupSelectField);function MultipleAppLookupSelectField(){return _classCallCheck(this,MultipleAppLookupSelectField),t.apply(this,arguments)}return _createClass(MultipleAppLookupSelectField,[{key:o.symbols.type,value:function value(){return Nt}},{key:"_set_dom_lookupdata",value:function _set_dom_lookupdata(e){this._set_dom_lookupdata_select(e)}}]),MultipleAppLookupSelectField}(Rt),Pt=new(function(e){_inherits(MultipleAppLookupChoiceFieldType,e);var t=_createSuper(MultipleAppLookupChoiceFieldType);function MultipleAppLookupChoiceFieldType(){return _classCallCheck(this,MultipleAppLookupChoiceFieldType),t.apply(this,arguments)}return _createClass(MultipleAppLookupChoiceFieldType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof Ht}}]),MultipleAppLookupChoiceFieldType}(xt))("la","MultipleAppLookupChoiceField","Holds the value of a `multipleapplookup`/`choice` field of a record (and related information)"),Ht=function(e){_inherits(MultipleAppLookupChoiceField,e);var t=_createSuper(MultipleAppLookupChoiceField);function MultipleAppLookupChoiceField(){return _classCallCheck(this,MultipleAppLookupChoiceField),t.apply(this,arguments)}return _createClass(MultipleAppLookupChoiceField,[{key:o.symbols.type,value:function value(){return Pt}}]),MultipleAppLookupChoiceField}(Rt),Bt=function(e){_inherits(ControlType,e);var t=_createSuper(ControlType);function ControlType(){return _classCallCheck(this,ControlType),t.apply(this,arguments)}return _createClass(ControlType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof Gt}}]),ControlType}(o.Type),Ut=new Bt("la","Control","Metainformation about a field in a LivingApps application"),Gt=function(e){_inherits(Control,e);var t=_createSuper(Control);function Control(){return _classCallCheck(this,Control),t.apply(this,arguments)}return _createClass(Control,[{key:o.symbols.type,value:function value(){return Ut}},{key:o.symbols.repr,value:function value(){return"<"+this.constructor.name+" id="+o._repr(this.id)+" identifier="+o._repr(this.identifier)+">"}},{key:"globals",get:function get(){return this.app.globals}},{key:"fulltype",get:function get(){return this.subtype?this.type+"/"+this.subtype:this.type}},{key:"label",get:function get(){var e=this._view_control();if(null===e)return this._label;var t=e.label;return null===t?this._label:t}},{key:"label",set:function set(e){this._label=e}},{key:"default",get:function get(){return null}},{key:"top",get:function get(){var e=this._view_control();return null!==e?e.top:null}},{key:"left",get:function get(){var e=this._view_control();return null!==e?e.left:null}},{key:"width",get:function get(){var e=this._view_control();return null!==e?e.width:null}},{key:"height",get:function get(){var e=this._view_control();return null!==e?e.height:null}},{key:"z_index",get:function get(){var e=this._view_control();return null!==e?e.z_index:null}},{key:"liveupdate",get:function get(){var e=this._view_control();return null!==e&&e.liveupdate}},{key:"tabindex",get:function get(){var e=this._view_control();return null!==e?e.tabindex:null}},{key:"required",get:function get(){var e=this._view_control();return null!==e&&e.required}},{key:"mode",get:function get(){var e=this._view_control();return null!==this.app._active_view&&null===e?null:null===this.app.globals.mode?"display":null!==e?e.mode:"edit"}},{key:"labelpos",get:function get(){var e=this._view_control();return null!==e?e.labelpos:"left"}},{key:"labelwidth",get:function get(){var e=this._view_control();return null!==e?e.labelwidth:null}},{key:"autoalign",get:function get(){var e=this._view_control();return null===e||e.autoalign}},{key:"in_active_view",get:function get(){return null!==this._view_control()}},{key:"_view_control",value:function _view_control(){if(null===this.app._active_view)return null;var e=this.app._active_view.controls.get(this.identifier);return null!=e?e:null}},{key:"_logsearch",value:function _logsearch(e,t){}},{key:"search",value:function search(e,t){return!1}}]),Control}(X);Gt.prototype.type=null,Gt.prototype.subtype=null,Gt.prototype._ul4onattrs=["identifier","fieldname","app","_label","priority","order","ininsertprocedure","inupdateprocedure"],Gt.prototype._ul4attrs=new Set(["id","identifier","fieldname","app","priority","order","ininsertprocedure","inupdateprocedure","fulltype","label","top","left","width","height","z_index","liveupdate","tabindex","required","mode","labelpos","autoalign","in_active_view"]),Gt.prototype._cssclass_root="llft-control",Gt.prototype._cssclass_control="input";var jt=new(function(e){_inherits(BoolControlType,e);var t=_createSuper(BoolControlType);function BoolControlType(){return _classCallCheck(this,BoolControlType),t.apply(this,arguments)}return _createClass(BoolControlType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof Vt}}]),BoolControlType}(Bt))("la","BoolControl","A LivingApps boolean field (type 'bool')"),Vt=function(e){_inherits(BoolControl,e);var t=_createSuper(BoolControl);function BoolControl(){return _classCallCheck(this,BoolControl),t.apply(this,arguments)}return _createClass(BoolControl,[{key:o.symbols.type,value:function value(){return jt}},{key:"search",value:function search(e,t){return this._logsearch(e,t),"equals"===t.operator&&t.value===e}}]),BoolControl}(Gt);Vt.prototype.type="bool",Vt.prototype.fieldtype=ye;var zt=new(function(e){_inherits(IntControlType,e);var t=_createSuper(IntControlType);function IntControlType(){return _classCallCheck(this,IntControlType),t.apply(this,arguments)}return _createClass(IntControlType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof qt}}]),IntControlType}(Bt))("la","IntControl","A LivingApps integer field (type 'int')"),qt=function(e){_inherits(IntControl,e);var t=_createSuper(IntControl);function IntControl(){return _classCallCheck(this,IntControl),t.apply(this,arguments)}return _createClass(IntControl,[{key:o.symbols.type,value:function value(){return zt}},{key:"search",value:function search(e,t){return this._logsearch(e,t),"equals"===t.operator&&t.value===e}}]),IntControl}(Gt);qt.prototype.type="int",qt.prototype.fieldtype=fe;var Wt=function(e){_inherits(PlaceholderControlType,e);var t=_createSuper(PlaceholderControlType);function PlaceholderControlType(){return _classCallCheck(this,PlaceholderControlType),t.apply(this,arguments)}return _createClass(PlaceholderControlType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof PlaceholderControld}}]),PlaceholderControlType}(Bt),Yt=new Wt("la","PlaceholderControl","A LivingApps field that has a placeholder"),Kt=function(e){_inherits(PlaceholderControl,e);var t=_createSuper(PlaceholderControl);function PlaceholderControl(){return _classCallCheck(this,PlaceholderControl),t.apply(this,arguments)}return _createClass(PlaceholderControl,[{key:o.symbols.type,value:function value(){return Yt}},{key:"placeholder",get:function get(){var e=this._view_control();return null===e?null:e.placeholder}}]),PlaceholderControl}(Gt);Kt.prototype._ul4attrs=new Set([].concat(_toConsumableArray(Gt.prototype._ul4attrs),["placeholder"]));var Jt=new(function(e){_inherits(NumberControlType,e);var t=_createSuper(NumberControlType);function NumberControlType(){return _classCallCheck(this,NumberControlType),t.apply(this,arguments)}return _createClass(NumberControlType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof Xt}}]),NumberControlType}(Wt))("la","NumberControl","A LivingApps number field (type 'number')"),Xt=function(e){_inherits(NumberControl,e);var t=_createSuper(NumberControl);function NumberControl(){return _classCallCheck(this,NumberControl),t.apply(this,arguments)}return _createClass(NumberControl,[{key:o.symbols.type,value:function value(){return Jt}},{key:"search",value:function search(e,t){return this._logsearch(e,t),"equals"===t.operator?t.value===e:"range"===t.operator&&(null!==e&&((null===t.minvalue||t.minvalue<=e)&&(null===t.maxvalue||e<t.maxvalue)))}}]),NumberControl}(Kt);Xt.prototype.type="number",Xt.prototype.fieldtype=ke,Xt.prototype._ul4onattrs=[].concat(_toConsumableArray(Gt.prototype._ul4onattrs),["precision","minimum","maximum"]),Xt.prototype._ul4attrs=new Set([].concat(_toConsumableArray(Gt.prototype._ul4attrs),["precision","minimum","maximum"]));var $t=function(e){_inherits(StringControlType,e);var t=_createSuper(StringControlType);function StringControlType(){return _classCallCheck(this,StringControlType),t.apply(this,arguments)}return _createClass(StringControlType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof Qt}}]),StringControlType}(Wt),Zt=new $t("la","StringControl","A LivingApps number field (type 'string')"),Qt=function(e){_inherits(StringControl,e);var t=_createSuper(StringControl);function StringControl(){return _classCallCheck(this,StringControl),t.apply(this,arguments)}return _createClass(StringControl,[{key:o.symbols.type,value:function value(){return Zt}},{key:"_user_placeholder",value:function _user_placeholder(e,t){if(null===t)return null;switch(t){case"{gender}":return null!==e?e.gender:null;case"{title}":return null!==e?e.title:null;case"{firstname}":return null!==e?e.firstname:null;case"{surname}":return null!==e?e.surname:null;case"{account}":return null!==e?e.email:null;case"{streetname}":return null!==e?e.streetname:null;case"{streetnumber}":return null!==e?e.streetnumber:null;case"{street}":return null===e?null:null===e.street?e.streetnumber:null===e.streetnumber?e.street:e.street+" "+e.streetnumber;case"{zip}":return null!==e?e.zip:null;case"{phone}":return null!==e?e.phone:null;case"{fax}":return null!==e?e.fax:null;case"{company}":return null!==e?e.company:null;case"{city}":return null!==e?e.city:null;case"{summary}":return null!==e?e.summary:null;case"{interests}":return null!==e?e.interests:null;case"{personal_website}":return null!==e?e.personal_website:null;case"{company_website}":return null!==e?e.company_website:null;case"{position}":return null!==e?e.position:null;case"{department}":return null!==e?e.department:null;case"{today}":return o.today();default:return t}}},{key:"default",get:function get(){var e=this._view_control();return null===e?null:this._user_placeholder(this.app.globals.user,e.default)}},{key:"minlength",get:function get(){var e=this._view_control();if(null===e)return 0;var t=e.minlength;return null===t||t<0?0:t}},{key:"maxlength",get:function get(){var e=this._view_control();if(null===e)return 4e3;var t=e.maxlength;return null===t||t<0||t>4e3?4e3:t}},{key:"search",value:function search(e,t){return this._logsearch(e,t),"equals"===t.operator?t.value===e:"contains"===t.operator?null===t.value||null===e?t.value===e:e.toLowerCase().indexOf(t.value.toLowerCase())>=0:void 0}}]),StringControl}(Kt);Qt.prototype.type="string";var eo=new(function(e){_inherits(TextControlType,e);var t=_createSuper(TextControlType);function TextControlType(){return _classCallCheck(this,TextControlType),t.apply(this,arguments)}return _createClass(TextControlType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof to}}]),TextControlType}($t))("la","TextControl","A LivingApps text field (type 'string/text')"),to=function(e){_inherits(TextControl,e);var t=_createSuper(TextControl);function TextControl(){return _classCallCheck(this,TextControl),t.apply(this,arguments)}return _createClass(TextControl,[{key:o.symbols.type,value:function value(){return eo}}]),TextControl}(Qt);to.prototype.subtype="text",to.prototype.fieldtype=ge;var oo=new(function(e){_inherits(PasswordControlType,e);var t=_createSuper(PasswordControlType);function PasswordControlType(){return _classCallCheck(this,PasswordControlType),t.apply(this,arguments)}return _createClass(PasswordControlType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof ro}}]),PasswordControlType}($t))("la","PasswordControl","A LivingApps password field (type 'string/password')"),ro=function(e){_inherits(PasswordControl,e);var t=_createSuper(PasswordControl);function PasswordControl(){return _classCallCheck(this,PasswordControl),t.apply(this,arguments)}return _createClass(PasswordControl,[{key:o.symbols.type,value:function value(){return oo}}]),PasswordControl}(Qt);ro.prototype.subtype="password",ro.prototype.fieldtype=Te;var no=new(function(e){_inherits(EmailControlType,e);var t=_createSuper(EmailControlType);function EmailControlType(){return _classCallCheck(this,EmailControlType),t.apply(this,arguments)}return _createClass(EmailControlType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof lo}}]),EmailControlType}($t))("la","EmailControl","A LivingApps email field (type 'string/email')"),lo=function(e){_inherits(EmailControl,e);var t=_createSuper(EmailControl);function EmailControl(){return _classCallCheck(this,EmailControl),t.apply(this,arguments)}return _createClass(EmailControl,[{key:o.symbols.type,value:function value(){return no}}]),EmailControl}(Qt);lo.prototype.subtype="email",lo.prototype.fieldtype=Ae;var ao=new(function(e){_inherits(URLControlType,e);var t=_createSuper(URLControlType);function URLControlType(){return _classCallCheck(this,URLControlType),t.apply(this,arguments)}return _createClass(URLControlType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof io}}]),URLControlType}($t))("la","URLControl","A LivingApps URL field (type 'string/url')"),io=function(e){_inherits(URLControl,e);var t=_createSuper(URLControl);function URLControl(){return _classCallCheck(this,URLControl),t.apply(this,arguments)}return _createClass(URLControl,[{key:o.symbols.type,value:function value(){return ao}}]),URLControl}(Qt);io.prototype.subtype="url",io.prototype.fieldtype=Se;var uo=new(function(e){_inherits(TelControlType,e);var t=_createSuper(TelControlType);function TelControlType(){return _classCallCheck(this,TelControlType),t.apply(this,arguments)}return _createClass(TelControlType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof so}}]),TelControlType}($t))("la","TelControl","A LivingApps phone number field (type 'string/tel')"),so=function(e){_inherits(TelControl,e);var t=_createSuper(TelControl);function TelControl(){return _classCallCheck(this,TelControl),t.apply(this,arguments)}return _createClass(TelControl,[{key:o.symbols.type,value:function value(){return uo}}]),TelControl}(Qt);so.prototype.subtype="tel",so.prototype.fieldtype=Me;var po=new(function(e){_inherits(TextAreaControlType,e);var t=_createSuper(TextAreaControlType);function TextAreaControlType(){return _classCallCheck(this,TextAreaControlType),t.apply(this,arguments)}return _createClass(TextAreaControlType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof co}}]),TextAreaControlType}($t))("la","TextAreaControl","A LivingApps textarea field (type 'string/textarea')"),co=function(e){_inherits(TextAreaControl,e);var t=_createSuper(TextAreaControl);function TextAreaControl(){return _classCallCheck(this,TextAreaControl),t.apply(this,arguments)}return _createClass(TextAreaControl,[{key:o.symbols.type,value:function value(){return po}},{key:"maxlength",get:function get(){var e=this._view_control();if(null===e)return null;if(null!==this.encrypted)return null;var t=e.maxlength;return t<0?null:t}}]),TextAreaControl}(Qt);co.prototype.subtype="textarea",co.prototype.fieldtype=Ie,co.prototype._ul4onattrs=[].concat(_toConsumableArray(Qt.prototype._ul4onattrs),["encrypted"]),co.prototype._ul4attrs=new Set([].concat(_toConsumableArray(Qt.prototype._ul4attrs),["encrypted"])),co.prototype._cssclass_control="textarea";var _o=new(function(e){_inherits(HTMLControlType,e);var t=_createSuper(HTMLControlType);function HTMLControlType(){return _classCallCheck(this,HTMLControlType),t.apply(this,arguments)}return _createClass(HTMLControlType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof ho}}]),HTMLControlType}($t))("la","HTMLControl","A LivingApps HTML field (type 'string/html')"),ho=function(e){_inherits(HTMLControl,e);var t=_createSuper(HTMLControl);function HTMLControl(){return _classCallCheck(this,HTMLControl),t.apply(this,arguments)}return _createClass(HTMLControl,[{key:o.symbols.type,value:function value(){return _o}}]),HTMLControl}(Qt);ho.prototype.subtype="html",ho.prototype.fieldtype=Oe;var yo=function(e){_inherits(DateControlType,e);var t=_createSuper(DateControlType);function DateControlType(){return _classCallCheck(this,DateControlType),t.apply(this,arguments)}return _createClass(DateControlType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof vo}}]),DateControlType}(Wt),fo=new yo("la","DateControl","A LivingApps date field (type 'date/date')"),vo=function(e){_inherits(DateControl,e);var t=_createSuper(DateControl);function DateControl(){return _classCallCheck(this,DateControl),t.apply(this,arguments)}return _createClass(DateControl,[{key:o.symbols.type,value:function value(){return fo}},{key:"default",get:function get(){var e=this._view_control();return null===e?null:"{today}"===e.default?o.today():null}},{key:"formatstring",value:function formatstring(e){return"de"!==(e=e||this.globals.lang)&&"fr"!==e&&"it"!==e&&(e="en"),this._formatstrings[e]}},{key:"formatstrings_parse",value:function formatstrings_parse(e){return"de"!==(e=e||this.globals.lang)&&"fr"!==e&&"it"!==e&&(e="en"),[].concat(_toConsumableArray(this._formatstrings_parse[e]),_toConsumableArray(this._formatstrings_parse.intl))}},{key:"search",value:function search(e,t){this._logsearch(e,t);var r=t.value;return"[object Date]"==Object.prototype.toString.call(r)&&(r=o._format(r,this.formatstring(),this.app.language)),null!==e&&(e=o._format(e,this.formatstring(),this.app.language)),"equals"===t.operator?r===e:"contains"===t.operator&&(null===r||null===e?r===e:e.toLowerCase().indexOf(r.toLowerCase())>=0)}}]),DateControl}(Kt);vo.prototype.type="date",vo.prototype.subtype="date",vo.prototype.fieldtype=qe,vo.prototype._formatstrings={de:"%d.%m.%Y",fr:"%d.%m.%Y",it:"%d.%m.%Y",en:"%m/%d/%Y",intl:"%Y-%m-%d"};var ko=[""," %H:%M","T%H:%M"," %H:%M:%S","T%H:%M:%S"," %H:%M:%S.%f","T%H:%M:%S.%f"," %H:%M%z","T%H:%M%z"," %H:%M:%S%z","T%H:%M:%S%z"," %H:%M:%S.%f%z","T%H:%M:%S.%f%z"," %H:%M %z","T%H:%M %z"," %H:%M:%S %z","T%H:%M:%S %z"," %H:%M:%S.%f %z","T%H:%M:%S.%f %z"];vo.prototype._formatstrings_parse={en:ko.map((function(e){return"%m/%d/%Y"+e})),de:ko.map((function(e){return"%d.%m.%Y"+e})),fr:ko.map((function(e){return"%d.%m.%Y"+e})),it:ko.map((function(e){return"%d.%m.%Y"+e})),intl:ko.map((function(e){return"%Y-%m-%d"+e}))};var mo=new(function(e){_inherits(DatetimeMinuteControlType,e);var t=_createSuper(DatetimeMinuteControlType);function DatetimeMinuteControlType(){return _classCallCheck(this,DatetimeMinuteControlType),t.apply(this,arguments)}return _createClass(DatetimeMinuteControlType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof Co}}]),DatetimeMinuteControlType}(yo))("la","DatetimeMinuteControl","A LivingApps date field (type 'date/datetimeminute')"),Co=function(e){_inherits(DatetimeMinuteControl,e);var t=_createSuper(DatetimeMinuteControl);function DatetimeMinuteControl(){return _classCallCheck(this,DatetimeMinuteControl),t.apply(this,arguments)}return _createClass(DatetimeMinuteControl,[{key:o.symbols.type,value:function value(){return mo}},{key:"default",get:function get(){var e=this._view_control();if(null===e)return null;if("{today}"===e.default){var t=new Date;return t.setSeconds(0),t.setMilliseconds(0),t}return null}}]),DatetimeMinuteControl}(vo);Co.prototype.subtype="datetimeminute",Co.prototype.fieldtype=Ye,Co.prototype._formatstrings={de:"%d.%m.%Y %H:%M",fr:"%d.%m.%Y %H:%M",it:"%d.%m.%Y %H:%M",en:"%m/%d/%Y %H:%M",intl:"%Y-%m-%d %H:%M"};var go=new(function(e){_inherits(DatetimeSecondControlType,e);var t=_createSuper(DatetimeSecondControlType);function DatetimeSecondControlType(){return _classCallCheck(this,DatetimeSecondControlType),t.apply(this,arguments)}return _createClass(DatetimeSecondControlType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof bo}}]),DatetimeSecondControlType}(yo))("la","DatetimeSecondControl","A LivingApps date field (type 'date/datetimesecond')"),bo=function(e){_inherits(DatetimeSecondControl,e);var t=_createSuper(DatetimeSecondControl);function DatetimeSecondControl(){return _classCallCheck(this,DatetimeSecondControl),t.apply(this,arguments)}return _createClass(DatetimeSecondControl,[{key:o.symbols.type,value:function value(){return go}},{key:"default",get:function get(){var e=this._view_control();if(null===e)return null;if("{today}"===e.default){var t=new Date;return t.setMilliseconds(0),t}return null}}]),DatetimeSecondControl}(vo);bo.prototype.subtype="datetimesecond",bo.prototype.fieldtype=Je,bo.prototype._formatstrings={de:"%d.%m.%Y %H:%M:%S",fr:"%d.%m.%Y %H:%M:%S",it:"%d.%m.%Y %H:%M:%S",en:"%m/%d/%Y %H:%M:%S",intl:"%Y-%m-%d %H:%M:%S"};var To=function(e){_inherits(LookupControlType,e);var t=_createSuper(LookupControlType);function LookupControlType(){return _classCallCheck(this,LookupControlType),t.apply(this,arguments)}return _createClass(LookupControlType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof Ao}}]),LookupControlType}(Bt),Lo=new To("la","LookupControl","A LivingApps date field (type 'lookup')"),Ao=function(e){_inherits(LookupControl,e);var t=_createSuper(LookupControl);function LookupControl(){return _classCallCheck(this,LookupControl),t.apply(this,arguments)}return _createClass(LookupControl,[{key:o.symbols.type,value:function value(){return Lo}},{key:"default",get:function get(){var e,t=this._view_control();return null===t?null:null!==(e=this.lookupdata.get(t))&&void 0!==e?e:null}},{key:"autoexpandable",get:function get(){var e=this._view_control();return null!==e&&e.autoexpandable}},{key:"none_key",get:function get(){var e=this._view_control();return null===e?null:e.lookupnonekey}},{key:"none_label",get:function get(){var e=this._view_control();return null===e?null:e.lookupnonelabel}},{key:"search",value:function search(e,t){return"equals"===t.operator&&(null===e?null===t.value:e.key===t.value)}}]),LookupControl}(Gt);Ao.prototype.type="lookup",Ao.prototype.fieldtype=ot,Ao.prototype._ul4onattrs=[].concat(_toConsumableArray(Gt.prototype._ul4onattrs),["lookupdata"]),Ao.prototype._ul4attrs=new Set([].concat(_toConsumableArray(Gt.prototype._ul4attrs),["lookupdata"]));var Fo=new(function(e){_inherits(LookupSelectControlType,e);var t=_createSuper(LookupSelectControlType);function LookupSelectControlType(){return _classCallCheck(this,LookupSelectControlType),t.apply(this,arguments)}return _createClass(LookupSelectControlType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof So}}]),LookupSelectControlType}(To))("la","LookupSelectControl","A LivingApps lookup field (type 'lookup/select')"),So=function(e){_inherits(LookupSelectControl,e);var t=_createSuper(LookupSelectControl);function LookupSelectControl(){return _classCallCheck(this,LookupSelectControl),t.apply(this,arguments)}return _createClass(LookupSelectControl,[{key:o.symbols.type,value:function value(){return Fo}}]),LookupSelectControl}(Ao);So.prototype.subtype="select",So.prototype.fieldtype=at,So.prototype._cssclass_control="select";var wo=new(function(e){_inherits(LookupRadioControlType,e);var t=_createSuper(LookupRadioControlType);function LookupRadioControlType(){return _classCallCheck(this,LookupRadioControlType),t.apply(this,arguments)}return _createClass(LookupRadioControlType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof Mo}}]),LookupRadioControlType}(To))("la","LookupRadioControl","A LivingApps lookup field (type 'lookup/radio')"),Mo=function(e){_inherits(LookupRadioControl,e);var t=_createSuper(LookupRadioControl);function LookupRadioControl(){return _classCallCheck(this,LookupRadioControl),t.apply(this,arguments)}return _createClass(LookupRadioControl,[{key:o.symbols.type,value:function value(){return wo}}]),LookupRadioControl}(Ao);Mo.prototype.subtype="radio",Mo.prototype.fieldtype=nt,Mo.prototype._cssclass_root="llft-element";var xo=new(function(e){_inherits(LookupChoiceControlType,e);var t=_createSuper(LookupChoiceControlType);function LookupChoiceControlType(){return _classCallCheck(this,LookupChoiceControlType),t.apply(this,arguments)}return _createClass(LookupChoiceControlType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof Io}}]),LookupChoiceControlType}(To))("la","LookupChoiceControl","A LivingApps lookup field (type 'lookup/choice')"),Io=function(e){_inherits(LookupChoiceControl,e);var t=_createSuper(LookupChoiceControl);function LookupChoiceControl(){return _classCallCheck(this,LookupChoiceControl),t.apply(this,arguments)}return _createClass(LookupChoiceControl,[{key:o.symbols.type,value:function value(){return xo}}]),LookupChoiceControl}(Ao);Io.prototype.subtype="choice",Io.prototype.fieldtype=ut;var Ro=function(e){_inherits(AppLookupControlType,e);var t=_createSuper(AppLookupControlType);function AppLookupControlType(){return _classCallCheck(this,AppLookupControlType),t.apply(this,arguments)}return _createClass(AppLookupControlType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof Do}}]),AppLookupControlType}(Bt),Oo=new Ro("la","AppLookupControl","A LivingApps lookup field (type 'applookup')"),Do=function(e){_inherits(AppLookupControl,e);var t=_createSuper(AppLookupControl);function AppLookupControl(){return _classCallCheck(this,AppLookupControl),t.apply(this,arguments)}return _createClass(AppLookupControl,[{key:o.symbols.type,value:function value(){return Oo}},{key:"lookupdata",get:function get(){return null!==this.lookup_app&&null!==this.lookup_app.records?this.lookup_app.records:new Map}},{key:"none_key",get:function get(){var e=this._view_control();return null===e?null:e.lookupnonekey}},{key:"none_label",get:function get(){var e=this._view_control();return null===e?null:e.lookupnonelabel}},{key:"search",value:function search(e,t){return null===e||null===t.value?e===t.value:e.search(t)}}]),AppLookupControl}(Gt);Do.prototype.type="applookup",Do.prototype.fieldtype=Tt,Do.prototype._ul4onattrs=[].concat(_toConsumableArray(Gt.prototype._ul4onattrs),["lookup_app","lookup_controls","local_master_control","local_detail_controls","remote_master_control"]),Do.prototype._ul4attrs=new Set([].concat(_toConsumableArray(Gt.prototype._ul4attrs),["lookup_app","lookup_controls","local_master_control","local_detail_controls","remote_master_control"]));var No=new(function(e){_inherits(AppLookupSelectControlType,e);var t=_createSuper(AppLookupSelectControlType);function AppLookupSelectControlType(){return _classCallCheck(this,AppLookupSelectControlType),t.apply(this,arguments)}return _createClass(AppLookupSelectControlType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof Eo}}]),AppLookupSelectControlType}(Ro))("la","AppLookupSelectControl","A LivingApps applookup field (type 'applookup/select')"),Eo=function(e){_inherits(AppLookupSelectControl,e);var t=_createSuper(AppLookupSelectControl);function AppLookupSelectControl(){return _classCallCheck(this,AppLookupSelectControl),t.apply(this,arguments)}return _createClass(AppLookupSelectControl,[{key:o.symbols.type,value:function value(){return No}}]),AppLookupSelectControl}(Do);Eo.prototype.subtype="select",Eo.prototype.fieldtype=At,Eo.prototype._cssclass_control="select";var Po=new(function(e){_inherits(AppLookupRadioControlType,e);var t=_createSuper(AppLookupRadioControlType);function AppLookupRadioControlType(){return _classCallCheck(this,AppLookupRadioControlType),t.apply(this,arguments)}return _createClass(AppLookupRadioControlType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof Ho}}]),AppLookupRadioControlType}(Ro))("la","AppLookupRadioControl","A LivingApps applookup field (type 'applookup/radio')"),Ho=function(e){_inherits(AppLookupRadioControl,e);var t=_createSuper(AppLookupRadioControl);function AppLookupRadioControl(){return _classCallCheck(this,AppLookupRadioControl),t.apply(this,arguments)}return _createClass(AppLookupRadioControl,[{key:o.symbols.type,value:function value(){return Po}}]),AppLookupRadioControl}(Do);Ho.prototype.subtype="radio",Ho.prototype.fieldtype=St;var Bo=new(function(e){_inherits(AppLookupChoiceControlType,e);var t=_createSuper(AppLookupChoiceControlType);function AppLookupChoiceControlType(){return _classCallCheck(this,AppLookupChoiceControlType),t.apply(this,arguments)}return _createClass(AppLookupChoiceControlType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof Uo}}]),AppLookupChoiceControlType}(Ro))("la","AppLookupChoiceControl","A LivingApps applookup field (type 'applookup/choice')"),Uo=function(e){_inherits(AppLookupChoiceControl,e);var t=_createSuper(AppLookupChoiceControl);function AppLookupChoiceControl(){return _classCallCheck(this,AppLookupChoiceControl),t.apply(this,arguments)}return _createClass(AppLookupChoiceControl,[{key:o.symbols.type,value:function value(){return Bo}}]),AppLookupChoiceControl}(Do);Uo.prototype.subtype="choice",Uo.prototype.fieldtype=Mt;var Go=function(e){_inherits(MultipleLookupControlType,e);var t=_createSuper(MultipleLookupControlType);function MultipleLookupControlType(){return _classCallCheck(this,MultipleLookupControlType),t.apply(this,arguments)}return _createClass(MultipleLookupControlType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof Vo}}]),MultipleLookupControlType}(To),jo=new Go("la","MultipleLookupControl","A LivingApps multiple applookup field (type 'multipleapplookup')"),Vo=function(e){_inherits(MultipleLookupControl,e);var t=_createSuper(MultipleLookupControl);function MultipleLookupControl(){return _classCallCheck(this,MultipleLookupControl),t.apply(this,arguments)}return _createClass(MultipleLookupControl,[{key:o.symbols.type,value:function value(){return jo}},{key:"default",get:function get(){var e=this._view_control();if(null===e)return null;var t=this.lookupdata.get(e);return void 0!==t?[t]:[]}},{key:"search",value:function search(e,t){if("equals"===t.operator){var o,r=_createForOfIteratorHelper(e);try{for(r.s();!(o=r.n()).done;){if(o.value.key===t.value)return!0}}catch(e){r.e(e)}finally{r.f()}return!1}return!1}}]),MultipleLookupControl}(Ao);Vo.prototype.type="multiplelookup",Vo.prototype.fieldtype=ct;var zo=new(function(e){_inherits(MultipleLookupCheckboxControlType,e);var t=_createSuper(MultipleLookupCheckboxControlType);function MultipleLookupCheckboxControlType(){return _classCallCheck(this,MultipleLookupCheckboxControlType),t.apply(this,arguments)}return _createClass(MultipleLookupCheckboxControlType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof qo}}]),MultipleLookupCheckboxControlType}(Go))("la","MultipleLookupCheckboxControl","A LivingApps multiplelookup field (type 'multiplelookup/checkbox')"),qo=function(e){_inherits(MultipleLookupCheckboxControl,e);var t=_createSuper(MultipleLookupCheckboxControl);function MultipleLookupCheckboxControl(){return _classCallCheck(this,MultipleLookupCheckboxControl),t.apply(this,arguments)}return _createClass(MultipleLookupCheckboxControl,[{key:o.symbols.type,value:function value(){return zo}},{key:"_sel_label",get:function get(){return this._sel_root+" label:not([for]) > span"}}]),MultipleLookupCheckboxControl}(Vo);qo.prototype.subtype="checkbox",qo.prototype.fieldtype=ht,qo.prototype._cssclass_root="llft-element";var Wo=new(function(e){_inherits(MultipleLookupSelectControlType,e);var t=_createSuper(MultipleLookupSelectControlType);function MultipleLookupSelectControlType(){return _classCallCheck(this,MultipleLookupSelectControlType),t.apply(this,arguments)}return _createClass(MultipleLookupSelectControlType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof Yo}}]),MultipleLookupSelectControlType}(Go))("la","MultipleLookupSelectControl","A LivingApps multiplelookup field (type 'multiplelookup/select')"),Yo=function(e){_inherits(MultipleLookupSelectControl,e);var t=_createSuper(MultipleLookupSelectControl);function MultipleLookupSelectControl(){return _classCallCheck(this,MultipleLookupSelectControl),t.apply(this,arguments)}return _createClass(MultipleLookupSelectControl,[{key:o.symbols.type,value:function value(){return Wo}}]),MultipleLookupSelectControl}(Vo);Yo.prototype.subtype="select",Yo.prototype.fieldtype=dt,Yo.prototype._cssclass_control="select";var Ko=new(function(e){_inherits(MultipleLookupChoiceControlType,e);var t=_createSuper(MultipleLookupChoiceControlType);function MultipleLookupChoiceControlType(){return _classCallCheck(this,MultipleLookupChoiceControlType),t.apply(this,arguments)}return _createClass(MultipleLookupChoiceControlType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof Jo}}]),MultipleLookupChoiceControlType}(Go))("la","MultipleLookupChoiceControl","A LivingApps multiplelookup field (type 'multiplelookup/choice')"),Jo=function(e){_inherits(MultipleLookupChoiceControl,e);var t=_createSuper(MultipleLookupChoiceControl);function MultipleLookupChoiceControl(){return _classCallCheck(this,MultipleLookupChoiceControl),t.apply(this,arguments)}return _createClass(MultipleLookupChoiceControl,[{key:o.symbols.type,value:function value(){return Ko}}]),MultipleLookupChoiceControl}(Vo);Jo.prototype.subtype="choice",Jo.prototype.fieldtype=vt;var Xo=function(e){_inherits(MultipleAppLookupControlType,e);var t=_createSuper(MultipleAppLookupControlType);function MultipleAppLookupControlType(){return _classCallCheck(this,MultipleAppLookupControlType),t.apply(this,arguments)}return _createClass(MultipleAppLookupControlType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof Zo}}]),MultipleAppLookupControlType}(Ro),$o=new Xo("la","MultipleAppLookupControl","A LivingApps multiple applookup field (type 'multipleapplookup')"),Zo=function(e){_inherits(MultipleAppLookupControl,e);var t=_createSuper(MultipleAppLookupControl);function MultipleAppLookupControl(){return _classCallCheck(this,MultipleAppLookupControl),t.apply(this,arguments)}return _createClass(MultipleAppLookupControl,[{key:o.symbols.type,value:function value(){return $o}},{key:"search",value:function search(e,t){if("equals"===t.operator){if(null===t.value)return 0===e.length;var o,r=_createForOfIteratorHelper(e);try{for(r.s();!(o=r.n()).done;){if(o.value.search(t.value))return!0}}catch(e){r.e(e)}finally{r.f()}return!1}return!1}}]),MultipleAppLookupControl}(Do);Zo.prototype.type="multipleapplookup",Zo.prototype.fieldtype=Rt;var Qo=new(function(e){_inherits(MultipleAppLookupSelectControlType,e);var t=_createSuper(MultipleAppLookupSelectControlType);function MultipleAppLookupSelectControlType(){return _classCallCheck(this,MultipleAppLookupSelectControlType),t.apply(this,arguments)}return _createClass(MultipleAppLookupSelectControlType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof er}}]),MultipleAppLookupSelectControlType}(Xo))("la","MultipleAppLookupSelectControl","A LivingApps multiple applookup field (type 'multipleapplookup/select')"),er=function(e){_inherits(MultipleAppLookupSelectControl,e);var t=_createSuper(MultipleAppLookupSelectControl);function MultipleAppLookupSelectControl(){return _classCallCheck(this,MultipleAppLookupSelectControl),t.apply(this,arguments)}return _createClass(MultipleAppLookupSelectControl,[{key:o.symbols.type,value:function value(){return Qo}}]),MultipleAppLookupSelectControl}(Zo);er.prototype.subtype="select",er.prototype.fieldtype=Et,er.prototype._cssclass_control="select";var tr=new(function(e){_inherits(MultipleAppLookupCheckboxControlType,e);var t=_createSuper(MultipleAppLookupCheckboxControlType);function MultipleAppLookupCheckboxControlType(){return _classCallCheck(this,MultipleAppLookupCheckboxControlType),t.apply(this,arguments)}return _createClass(MultipleAppLookupCheckboxControlType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof or}}]),MultipleAppLookupCheckboxControlType}(Xo))("la","MultipleAppLookupCheckboxControl","A LivingApps multiple applookup field (type 'multipleapplookup/checkbox')"),or=function(e){_inherits(MultipleAppLookupCheckboxControl,e);var t=_createSuper(MultipleAppLookupCheckboxControl);function MultipleAppLookupCheckboxControl(){return _classCallCheck(this,MultipleAppLookupCheckboxControl),t.apply(this,arguments)}return _createClass(MultipleAppLookupCheckboxControl,[{key:o.symbols.type,value:function value(){return tr}}]),MultipleAppLookupCheckboxControl}(Zo);or.prototype.subtype="checkbox",or.prototype.fieldtype=Dt;var rr=new(function(e){_inherits(MultipleAppLookupChoiceControlType,e);var t=_createSuper(MultipleAppLookupChoiceControlType);function MultipleAppLookupChoiceControlType(){return _classCallCheck(this,MultipleAppLookupChoiceControlType),t.apply(this,arguments)}return _createClass(MultipleAppLookupChoiceControlType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof nr}}]),MultipleAppLookupChoiceControlType}(Xo))("la","MultipleAppLookupChoiceControl","A LivingApps multiple applookup field (type 'multipleapplookup/choice')"),nr=function(e){_inherits(MultipleAppLookupChoiceControl,e);var t=_createSuper(MultipleAppLookupChoiceControl);function MultipleAppLookupChoiceControl(){return _classCallCheck(this,MultipleAppLookupChoiceControl),t.apply(this,arguments)}return _createClass(MultipleAppLookupChoiceControl,[{key:o.symbols.type,value:function value(){return rr}}]),MultipleAppLookupChoiceControl}(Zo);nr.prototype.subtype="choice",nr.prototype.fieldtype=Ht;var lr=new(function(e){_inherits(GeoControlType,e);var t=_createSuper(GeoControlType);function GeoControlType(){return _classCallCheck(this,GeoControlType),t.apply(this,arguments)}return _createClass(GeoControlType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof ar}}]),GeoControlType}(Bt))("la","GeoControl","A LivingApps geo field (type 'geo')"),ar=function(e){_inherits(GeoControl,e);var t=_createSuper(GeoControl);function GeoControl(){return _classCallCheck(this,GeoControl),t.apply(this,arguments)}return _createClass(GeoControl,[{key:o.symbols.type,value:function value(){return lr}}]),GeoControl}(Gt);ar.prototype.type="geo",ar.prototype.fieldtype=Ne,ar.prototype._cssclass_root="llft-element";var ir=function(e){_inherits(FileControlType,e);var t=_createSuper(FileControlType);function FileControlType(){return _classCallCheck(this,FileControlType),t.apply(this,arguments)}return _createClass(FileControlType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof sr}}]),FileControlType}(Bt),ur=new ir("la","FileControl","A LivingApps upload field (type 'file')"),sr=function(e){_inherits(FileControl,e);var t=_createSuper(FileControl);function FileControl(){return _classCallCheck(this,FileControl),t.apply(this,arguments)}return _createClass(FileControl,[{key:o.symbols.type,value:function value(){return ur}}]),FileControl}(Gt);sr.prototype.type="file",sr.prototype.fieldtype=He,sr.prototype._cssclass_root="llft-element";var pr=new(function(e){_inherits(FileSignatureControlType,e);var t=_createSuper(FileSignatureControlType);function FileSignatureControlType(){return _classCallCheck(this,FileSignatureControlType),t.apply(this,arguments)}return _createClass(FileSignatureControlType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof cr}}]),FileSignatureControlType}(ir))("la","FileSignatureControl","A LivingApps signature image field (type 'file/signature')"),cr=function(e){_inherits(FileSignatureControl,e);var t=_createSuper(FileSignatureControl);function FileSignatureControl(){return _classCallCheck(this,FileSignatureControl),t.apply(this,arguments)}return _createClass(FileSignatureControl,[{key:o.symbols.type,value:function value(){return pr}}]),FileSignatureControl}(sr);cr.prototype.subtype="signature",cr.prototype.fieldtype=Ue;var _r=new(function(e){_inherits(ButtonControlType,e);var t=_createSuper(ButtonControlType);function ButtonControlType(){return _classCallCheck(this,ButtonControlType),t.apply(this,arguments)}return _createClass(ButtonControlType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof hr}}]),ButtonControlType}(Bt))("la","ButtonControl","A submit button"),hr=function(e){_inherits(ButtonControl,e);var t=_createSuper(ButtonControl);function ButtonControl(){return _classCallCheck(this,ButtonControl),t.apply(this,arguments)}return _createClass(ButtonControl,[{key:o.symbols.type,value:function value(){return _r}}]),ButtonControl}(Gt);hr.prototype.type="button";var yr=new(function(e){_inherits(LookupItemType,e);var t=_createSuper(LookupItemType);function LookupItemType(){return _classCallCheck(this,LookupItemType),t.apply(this,arguments)}return _createClass(LookupItemType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof dr}}]),LookupItemType}(o.Type))("la","LookupItem","An option in a lookup control/field"),dr=function(e){_inherits(LookupItem,e);var t=_createSuper(LookupItem);function LookupItem(){return _classCallCheck(this,LookupItem),t.apply(this,arguments)}return _createClass(LookupItem,[{key:o.symbols.type,value:function value(){return yr}},{key:"label",get:function get(){if(null===this.control)return this._label;var e=this._view_lookupitem();if(null===e)return this._label;var t=e.label;return null===t?this._label:t}},{key:"visible",get:function get(){if(null===this.control)return!0;var e=this._view_lookupitem();return null===e||e.visible}},{key:"_view_lookupitem",value:function _view_lookupitem(){var e=this.control.identifier,t=this.control.app.active_view;if(null!==t&&null!==t.controls){var o=t.controls.get(e);if(void 0!==o&&void 0!==o.lookupdata&&null!==o.lookupdata){var r=o.lookupdata.get(this.key);if(void 0!==r)return r}}return null}},{key:o.symbols.repr,value:function value(){var e="<LookupItem key="+o._repr(this.key)+" label="+o._repr(this.label);return this.visible||(e+="visible=False"),e+">"}}]),LookupItem}(X);dr.prototype._ul4onattrs=["control","key","_label"],dr.prototype._ul4attrs=new Set(["id","control","key","label"]);var fr=new(function(e){_inherits(ViewLookupItemType,e);var t=_createSuper(ViewLookupItemType);function ViewLookupItemType(){return _classCallCheck(this,ViewLookupItemType),t.apply(this,arguments)}return _createClass(ViewLookupItemType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof vr}}]),ViewLookupItemType}(o.Type))("la","ViewLookupItem","View specific information about a lookup item"),vr=function(e){_inherits(ViewLookupItem,e);var t=_createSuper(ViewLookupItem);function ViewLookupItem(){return _classCallCheck(this,ViewLookupItem),t.apply(this,arguments)}return _createClass(ViewLookupItem,[{key:o.symbols.type,value:function value(){return fr}},{key:o.symbols.repr,value:function value(){var e="<ViewLookupItem key="+o._repr(this.key)+" label="+o._repr(this.label);return this.visible||(e+=" visible=False"),e+">"}}]),ViewLookupItem}(X);vr.prototype._ul4onattrs=["key","label","visible"],vr.prototype._ul4attrs=new Set(["key","label","visible"]);var kr=function(e){_inherits(LayoutControlType,e);var t=_createSuper(LayoutControlType);function LayoutControlType(){return _classCallCheck(this,LayoutControlType),t.apply(this,arguments)}return _createClass(LayoutControlType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof Cr}}]),LayoutControlType}(o.Type),mr=new kr("la","LayoutControl","A decoration in an input form"),Cr=function(e){_inherits(LayoutControl,e);var t=_createSuper(LayoutControl);function LayoutControl(){return _classCallCheck(this,LayoutControl),t.apply(this,arguments)}return _createClass(LayoutControl,[{key:"LayoutControl",value:function LayoutControl(){this.label=null,this.identifier=null,this.view=null,this.top=null,this.left=null,this.width=null,this.height=null,this._visible=!0}},{key:o.symbols.type,value:function value(){return mr}},{key:o.symbols.repr,value:function value(){return"<"+this.constructor.name+" id="+o._repr(this.id)+" identifier="+o._repr(this.identifier)+">"}},{key:"globals",get:function get(){return this.view.globals}},{key:"_sel_root",get:function get(){return"#livingapps-form .llft-element.llft-id-"+this.identifier}},{key:"_dom_root",get:function get(){return document.querySelector(this._sel_root)}},{key:"visible",get:function get(){var e;return null===(e=this._visible)||void 0===e||e}},{key:"visible",set:function set(e){this.globals._in_form()&&(this._dom_root.hidden=!e),this._visible=e}},{key:o.symbols.setattr,value:function value(e,t){"visible"===e?this.visible=o._bool(t):_get(_getPrototypeOf(LayoutControl.prototype),o.symbols.setattr,this).call(this,e,t)}}]),LayoutControl}(X);Cr.prototype._ul4onattrs=["label","identifier","view","top","left","width","height"],Cr.prototype._ul4attrs=new Set(["id","label","identifier","view","top","left","width","height","visible"]);var gr=new(function(e){_inherits(HTMLLayoutControlType,e);var t=_createSuper(HTMLLayoutControlType);function HTMLLayoutControlType(){return _classCallCheck(this,HTMLLayoutControlType),t.apply(this,arguments)}return _createClass(HTMLLayoutControlType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof br}}]),HTMLLayoutControlType}(kr))("la","HTMLLayoutControl","HTML decoration in an input form"),br=function(e){_inherits(HTMLLayoutControl,e);var t=_createSuper(HTMLLayoutControl);function HTMLLayoutControl(){return _classCallCheck(this,HTMLLayoutControl),t.apply(this,arguments)}return _createClass(HTMLLayoutControl,[{key:o.symbols.type,value:function value(){return gr}},{key:"value",get:function get(){return this._value}},{key:"value",set:function set(e){this._value=e,this.globals._in_form()&&this._set_dom_value(this._value)}},{key:"_set_dom_value",value:function _set_dom_value(e){this._dom_root.innerHTML=J.sanitize(e)}},{key:o.symbols.setattr,value:function value(e,t){"value"===e?this.value=t:_get(_getPrototypeOf(HTMLLayoutControl.prototype),o.symbols.setattr,this).call(this,e,t)}}]),HTMLLayoutControl}(Cr);br.prototype._ul4onattrs=[].concat(_toConsumableArray(Cr.prototype._ul4onattrs),["_value","_visible"]),br.prototype._ul4attrs=new Set([].concat(_toConsumableArray(Cr.prototype._ul4attrs),["value"]));var Tr=new(function(e){_inherits(ImageLayoutControlType,e);var t=_createSuper(ImageLayoutControlType);function ImageLayoutControlType(){return _classCallCheck(this,ImageLayoutControlType),t.apply(this,arguments)}return _createClass(ImageLayoutControlType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof Lr}}]),ImageLayoutControlType}(kr))("la","ImageLayoutControl","An image decoration in an input form"),Lr=function(e){_inherits(ImageLayoutControl,e);var t=_createSuper(ImageLayoutControl);function ImageLayoutControl(){return _classCallCheck(this,ImageLayoutControl),t.apply(this,arguments)}return _createClass(ImageLayoutControl,[{key:o.symbols.type,value:function value(){return Tr}},{key:"image",get:function get(){return this._image}},{key:"image",set:function set(e){this._image=e,this.globals._in_form()&&this._set_dom_value(this._image)}},{key:"original",get:function get(){return this.image}},{key:"original",set:function set(e){this.image=image}},{key:"_set_dom_value",value:function _set_dom_value(e){var t=this._dom_root.querySelector("img");if(null!==t){var o=null===e?"data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==":this.globals.scaled_url(e,this.width,this.height);t.setAttribute("src",o)}}},{key:o.symbols.setattr,value:function value(e,t){"original"===e?this.original=t:"image"===e?this.image=t:_get(_getPrototypeOf(ImageLayoutControl.prototype),o.symbols.setattr,this).call(this,e,t)}}]),ImageLayoutControl}(Cr);Lr.prototype._ul4onattrs=[].concat(_toConsumableArray(Cr.prototype._ul4onattrs),["_image","_visible"]),Lr.prototype._ul4attrs=new Set([].concat(_toConsumableArray(Cr.prototype._ul4attrs),["image","original"]));var Ar=new(function(e){_inherits(ButtonLayoutControlType,e);var t=_createSuper(ButtonLayoutControlType);function ButtonLayoutControlType(){return _classCallCheck(this,ButtonLayoutControlType),t.apply(this,arguments)}return _createClass(ButtonLayoutControlType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof Fr}}]),ButtonLayoutControlType}(kr))("la","ButtonLayoutControl","A submit button in an input form"),Fr=function(e){_inherits(ButtonLayoutControl,e);var t=_createSuper(ButtonLayoutControl);function ButtonLayoutControl(){return _classCallCheck(this,ButtonLayoutControl),t.apply(this,arguments)}return _createClass(ButtonLayoutControl,[{key:o.symbols.type,value:function value(){return Ar}}]),ButtonLayoutControl}(Cr);Fr.prototype._ul4onattrs=[].concat(_toConsumableArray(Cr.prototype._ul4onattrs),["original","scaled","_visible"]);var Sr=new(function(e){_inherits(ViewControlType,e);var t=_createSuper(ViewControlType);function ViewControlType(){return _classCallCheck(this,ViewControlType),t.apply(this,arguments)}return _createClass(ViewControlType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof wr}}]),ViewControlType}(o.Type))("la","ViewControl","Contains view specific information about a control"),wr=function(e){_inherits(ViewControl,e);var t=_createSuper(ViewControl);function ViewControl(){return _classCallCheck(this,ViewControl),t.apply(this,arguments)}return _createClass(ViewControl,[{key:o.symbols.type,value:function value(){return Sr}},{key:"mode",get:function get(){return this._mode?"display":"edit"}}]),ViewControl}(X);wr.prototype._ul4onattrs=["view","control","top","left","width","height","z_index","liveupdate","default","tabindex","minlength","maxlength","required","placeholder","_mode","labelpos","lookupnonekey","lookupnonelabel","label","autoalign","labelwidth","lookupdata","autoexpandable"],wr.prototype._ul4attrs=new Set(["id","view","control","top","left","width","height","z_index","liveupdate","default","tabindex","minlength","maxlength","required","placeholder","mode","labelpos","lookupnonekey","lookupnonelabel","label","autoalign","labelwidth","lookupdata","autoexpandable"]);var Mr=new(function(e){_inherits(UserType,e);var t=_createSuper(UserType);function UserType(){return _classCallCheck(this,UserType),t.apply(this,arguments)}return _createClass(UserType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof xr}}]),UserType}(o.Type))("la","User","A LivingApps user/account"),xr=function(e){_inherits(User,e);var t=_createSuper(User);function User(){return _classCallCheck(this,User),t.apply(this,arguments)}return _createClass(User,[{key:o.symbols.type,value:function value(){return Mr}},{key:o.symbols.repr,value:function value(){return"<User id="+o._repr(this.id)+" firstname="+o._repr(this.firstname)+" surname="+o._repr(this.surname)+" email="+o._repr(this.email)+">"}}]),User}(X);xr.prototype._ul4onattrs=["_id","gender","title","firstname","surname","initials","email","streetname","streetnumber","zip","city","phone","fax","lang","image","summary","interests","personalwebsite","companywebsite","company","position","department","keyviews"],xr.prototype._ul4attrs=new Set(["id","_id","gender","title","firstname","surname","initials","email","streetname","streetnumber","zip","city","phone","fax","lang","image","summary","interests","personalwebsite","companywebsite","company","position","department","keyviews"]);var Ir=new(function(e){_inherits(FileType,e);var t=_createSuper(FileType);function FileType(){return _classCallCheck(this,FileType),t.apply(this,arguments)}return _createClass(FileType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof Rr}}]),FileType}(o.Type))("la","File","An uploaded file"),Rr=function(e){_inherits(File,e);var t=_createSuper(File);function File(){return _classCallCheck(this,File),t.apply(this,arguments)}return _createClass(File,[{key:o.symbols.type,value:function value(){return Ir}},{key:o.symbols.repr,value:function value(){return"<File url="+o._repr(this.url)+" filename="+o._repr(this.filename)+">"}},{key:"url",get:function get(){return"/files/"+this.contextid+"/"+this.id}},{key:"archive_url",get:function get(){return null===this.archive?this.url:this.archive.url+"/"+this.filename}}]),File}(X);Rr.prototype._ul4onattrs=["globals","filename","mimetype","width","height","internal_id","createdat","size","duration","geo","storagefilename","archive","context_id"],Rr.prototype._ul4attrs=new Set(["globals","id","internal_id","url","archive_url","filename","mimetype","width","height","size","duration","geo","archive","createdat","context_id"]);var Or=new(function(e){_inherits(GeoType,e);var t=_createSuper(GeoType);function GeoType(){return _classCallCheck(this,GeoType),t.apply(this,arguments)}return _createClass(GeoType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof Dr}}]),GeoType}(o.Type))("la","Geo","Geographical coordinates and location information"),Dr=function(e){_inherits(Geo,e);var t=_createSuper(Geo);function Geo(e,o,r){var n,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return _classCallCheck(this,Geo),(n=t.call(this,null)).globals=e,n.lat=o,n.long=r,n.info=l,n}return _createClass(Geo,[{key:o.symbols.type,value:function value(){return Or}},{key:o.symbols.repr,value:function value(){return"<Geo lat="+o._repr(this.lat)+" long="+o._repr(this.long)+" info="+o._repr(this.info)+">"}}]),Geo}(X);Dr.prototype._ul4onattrs=["globals","lat","long","info"],Dr.prototype._ul4attrs=new Set(["globals","lat","long","info"]);var Nr=function(e){_inherits(AttachmentType,e);var t=_createSuper(AttachmentType);function AttachmentType(){return _classCallCheck(this,AttachmentType),t.apply(this,arguments)}return _createClass(AttachmentType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof Pr}}]),AttachmentType}(o.Type),Er=new Nr("la","Attachment","An attachment of a record"),Pr=function(e){_inherits(Attachment,e);var t=_createSuper(Attachment);function Attachment(){return _classCallCheck(this,Attachment),t.apply(this,arguments)}return _createClass(Attachment,[{key:o.symbols.type,value:function value(){return Er}},{key:o.symbols.repr,value:function value(){return"<"+this.constructor.name+" id="+o._repr(this.id)+" label="+o._repr(this.label)+">"}}]),Attachment}(X);Pr.prototype._ul4onattrs=["record","label","active"],Pr.prototype._ul4attrs=new Set(["id","record","label","active"]);var Hr=new(function(e){_inherits(NoteAttachmentType,e);var t=_createSuper(NoteAttachmentType);function NoteAttachmentType(){return _classCallCheck(this,NoteAttachmentType),t.apply(this,arguments)}return _createClass(NoteAttachmentType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof Br}}]),NoteAttachmentType}(Nr))("la","NoteAttachment","A note attachment of a record"),Br=function(e){_inherits(NoteAttachment,e);var t=_createSuper(NoteAttachment);function NoteAttachment(){return _classCallCheck(this,NoteAttachment),t.apply(this,arguments)}return _createClass(NoteAttachment,[{key:o.symbols.type,value:function value(){return Hr}}]),NoteAttachment}(Pr);Br.prototype.type="noteattachment",Br.prototype._ul4onattrs=[].concat(_toConsumableArray(Pr.prototype._ul4onattrs),["value"]),Br.prototype._ul4attrs=new Set([].concat(_toConsumableArray(Pr.prototype._ul4onattrs),["value"]));var Ur=new(function(e){_inherits(URLAttachmentType,e);var t=_createSuper(URLAttachmentType);function URLAttachmentType(){return _classCallCheck(this,URLAttachmentType),t.apply(this,arguments)}return _createClass(URLAttachmentType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof Gr}}]),URLAttachmentType}(Nr))("la","URLAttachment","A URL attachment of a record"),Gr=function(e){_inherits(URLAttachment,e);var t=_createSuper(URLAttachment);function URLAttachment(){return _classCallCheck(this,URLAttachment),t.apply(this,arguments)}return _createClass(URLAttachment,[{key:o.symbols.type,value:function value(){return Ur}}]),URLAttachment}(Pr);Gr.prototype.type="urlattachment",Gr.prototype._ul4onattrs=[].concat(_toConsumableArray(Pr.prototype._ul4onattrs),["value"]),Gr.prototype._ul4attrs=new Set([].concat(_toConsumableArray(Pr.prototype._ul4onattrs),["value"]));var jr=new(function(e){_inherits(FileAttachmentType,e);var t=_createSuper(FileAttachmentType);function FileAttachmentType(){return _classCallCheck(this,FileAttachmentType),t.apply(this,arguments)}return _createClass(FileAttachmentType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof Vr}}]),FileAttachmentType}(Nr))("la","FileAttachment","A file attachment of a record"),Vr=function(e){_inherits(FileAttachment,e);var t=_createSuper(FileAttachment);function FileAttachment(){return _classCallCheck(this,FileAttachment),t.apply(this,arguments)}return _createClass(FileAttachment,[{key:o.symbols.type,value:function value(){return jr}}]),FileAttachment}(Pr);Vr.prototype.type="fileattachment",Vr.prototype._ul4onattrs=[].concat(_toConsumableArray(Pr.prototype._ul4onattrs),["value"]),Vr.prototype._ul4attrs=new Set([].concat(_toConsumableArray(Pr.prototype._ul4onattrs),["value"]));var zr=new(function(e){_inherits(JSONAttachmentType,e);var t=_createSuper(JSONAttachmentType);function JSONAttachmentType(){return _classCallCheck(this,JSONAttachmentType),t.apply(this,arguments)}return _createClass(JSONAttachmentType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof qr}}]),JSONAttachmentType}(Nr))("la","JSONAttachment","A JSON attachment of a record"),qr=function(e){_inherits(JSONAttachment,e);var t=_createSuper(JSONAttachment);function JSONAttachment(){return _classCallCheck(this,JSONAttachment),t.apply(this,arguments)}return _createClass(JSONAttachment,[{key:o.symbols.type,value:function value(){return zr}},{key:"_dumpUL4ONAttr",value:function _dumpUL4ONAttr(e){return"value"===e?o._asjson(this.value):this[e]}},{key:"_loadUL4ONAttr",value:function _loadUL4ONAttr(e,t){"value"===e?this.value=o._fromjson(t):this[e]=t}}]),JSONAttachment}(Pr);qr.prototype.type="jsonattachment",qr.prototype._ul4onattrs=[].concat(_toConsumableArray(Pr.prototype._ul4onattrs),["value"]),qr.prototype._ul4attrs=new Set([].concat(_toConsumableArray(Pr.prototype._ul4onattrs),["value"]));var Wr=new(function(e){_inherits(InstallationType,e);var t=_createSuper(InstallationType);function InstallationType(){return _classCallCheck(this,InstallationType),t.apply(this,arguments)}return _createClass(InstallationType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof Yr}}]),InstallationType}(o.Type))("la","Installation","The installation that created an app"),Yr=function(e){_inherits(Installation,e);var t=_createSuper(Installation);function Installation(){return _classCallCheck(this,Installation),t.apply(this,arguments)}return _createClass(Installation,[{key:o.symbols.type,value:function value(){return Wr}},{key:o.symbols.repr,value:function value(){return"<Installation id="+o._repr(this.id)+" name="+o._repr(this.name)+">"}}]),Installation}(X);Yr.prototype._ul4onattrs=["name"],Yr.prototype._ul4attrs=new Set(["id","name"]);var Kr=new(function(e){_inherits(CategoryType,e);var t=_createSuper(CategoryType);function CategoryType(){return _classCallCheck(this,CategoryType),t.apply(this,arguments)}return _createClass(CategoryType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof Jr}}]),CategoryType}(o.Type))("la","Category","A navigation category"),Jr=function(e){_inherits(Category,e);var t=_createSuper(Category);function Category(){return _classCallCheck(this,Category),t.apply(this,arguments)}return _createClass(Category,[{key:o.symbols.type,value:function value(){return Kr}},{key:o.symbols.repr,value:function value(){for(var e=[],t=this;null!==t;)e.splice(0,0,t.identifier),t=t.parent;return"<Category id="+o._repr(this.id)+" identifierpath="+o._repr(e.join("/"))+NaN+o._repr(this.name)+">"}}]),Category}(X);Jr.prototype._ul4onattrs=["identifier","name","order","parent","children","apps"],Jr.prototype._ul4attrs=new Set(["id","identifier","name","order","parent","children","apps"]);var Xr=new(function(e){_inherits(KeyViewType,e);var t=_createSuper(KeyViewType);function KeyViewType(){return _classCallCheck(this,KeyViewType),t.apply(this,arguments)}return _createClass(KeyViewType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof $r}}]),KeyViewType}(o.Type))("la","KeyView","Object granting access to a view template"),$r=function(e){_inherits(KeyView,e);var t=_createSuper(KeyView);function KeyView(){return _classCallCheck(this,KeyView),t.apply(this,arguments)}return _createClass(KeyView,[{key:o.symbols.type,value:function value(){return Xr}},{key:o.symbols.repr,value:function value(){return"<KeyView id="+o._repr(this.id)+" identifier="+o._repr(this.identifier)+">"}}]),KeyView}(X);$r.prototype._ul4onattrs=["identifier","name","key","user"],$r.prototype._ul4attrs=new Set(["id","identifier","name","key","user"]);var Zr=function(e){_inherits(AppParameterType,e);var t=_createSuper(AppParameterType);function AppParameterType(){return _classCallCheck(this,AppParameterType),t.apply(this,arguments)}return _createClass(AppParameterType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof en}}]),AppParameterType}(o.Type),Qr=new Zr("la","AppParameter","A parameter of a LivingApps application"),en=function(e){_inherits(AppParameter,e);var t=_createSuper(AppParameter);function AppParameter(){return _classCallCheck(this,AppParameter),t.apply(this,arguments)}return _createClass(AppParameter,[{key:o.symbols.type,value:function value(){return Qr}},{key:o.symbols.repr,value:function value(){return"<AppParameter id="+o._repr(this.id)+" identifier="+o._repr(this.identifier)+">"}},{key:"app",get:function get(){return this.owner instanceof re?this.owner:null}}]),AppParameter}(X);en.prototype._ul4onattrs=["owner","parent","type","order","identifier","description","value","createdat","createdby","updatedat","updatedby"],en.prototype._ul4attrs=new Set(["id","owner","parent","app","type","order","identifier","description","value","createdat","createdby","updatedat","updatedby"]);var tn=new(function(e){_inherits(MutableAppParameterType,e);var t=_createSuper(MutableAppParameterType);function MutableAppParameterType(){return _classCallCheck(this,MutableAppParameterType),t.apply(this,arguments)}return _createClass(MutableAppParameterType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof on}}]),MutableAppParameterType}(Zr))("la","MutableAppParameter","A mutable parameter of a LivingApps application"),on=function(e){_inherits(MutableAppParameter,e);var t=_createSuper(MutableAppParameter);function MutableAppParameter(){return _classCallCheck(this,MutableAppParameter),t.apply(this,arguments)}return _createClass(MutableAppParameter,[{key:o.symbols.type,value:function value(){return tn}},{key:o.symbols.repr,value:function value(){return"<MutableAppParameter id="+o._repr(this.id)+" identifier="+o._repr(this.identifier)+">"}},{key:"app",get:function get(){return this.owner instanceof re?this.owner:null}}]),MutableAppParameter}(en),rn=function(e){_inherits(MenuItemType,e);var t=_createSuper(MenuItemType);function MenuItemType(){return _classCallCheck(this,MenuItemType),t.apply(this,arguments)}return _createClass(MenuItemType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof ln}}]),MenuItemType}(o.Type),nn=new rn("la","MenuItem","An additional menu item in an app that links to a target page."),ln=function(e){_inherits(MenuItem,e);var t=_createSuper(MenuItem);function MenuItem(){return _classCallCheck(this,MenuItem),t.apply(this,arguments)}return _createClass(MenuItem,[{key:o.symbols.type,value:function value(){return nn}},{key:o.symbols.repr,value:function value(){return"<MenuItem id="+o._repr(this.id)+"identifier="+o._repr(this.identifier)+" label="+o._repr(this.label)+" type="+o._repr(this.type)+">"}}]),MenuItem}(X);ln.prototype._ul4onattrs=["app","identifier","label","type","icon","title","target","cssclass","url","order","start_time","end_time","on_app_overview_page","on_app_detail_page","on_form_page","on_iframe_page","on_custom_overview_page","accessible","children","createdat","createdby","updatedat","updatedby"],ln.prototype._ul4attrs=new Set(["id","app","identifier","label","type","icon","title","target","cssclass","url","order","start_time","end_time","on_app_overview_page","on_app_detail_page","on_form_page","on_iframe_page","on_custom_overview_page","accessible","children","createdat","createdby","updatedat","updatedby"]);var an=new rn("la","Panel","An additional panel in an app that is displayed on various LivingApps pages and links to a target page."),un=function(e){_inherits(Panel,e);var t=_createSuper(Panel);function Panel(){return _classCallCheck(this,Panel),t.apply(this,arguments)}return _createClass(Panel,[{key:o.symbols.type,value:function value(){return an}},{key:o.symbols.repr,value:function value(){return"<Panel id="+o._repr(this.id)+"identifier="+o._repr(this.identifier)+" label="+o._repr(this.label)+" type="+o._repr(this.type)+">"}}]),Panel}(ln);un.prototype._ul4onattrs=[].concat(_toConsumableArray(ln.prototype._ul4onattrs),["description","description_url","image","row","column","width","height","header_type","header_background","text_color","background_color1","background_color2"]),un.prototype._ul4attrs=new Set([].concat(_toConsumableArray(ln.prototype._ul4attrs),["description","description_url","image","row","column","width","height"]));var sn=new(function(e){_inherits(FormType,e);var t=_createSuper(FormType);function FormType(){return _classCallCheck(this,FormType),t.apply(this,arguments)}return _createClass(FormType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof pn}}]),FormType}(o.Type))("la","Form","The input form."),pn=function(e){_inherits(Form,e);var t=_createSuper(Form);function Form(e,o){var r;_classCallCheck(this,Form),(r=t.call(this)).globals=e,r.template=o,r._geo_wired=!1;var n,l=_createForOfIteratorHelper(e.record.fields.values());try{for(l.s();!(n=l.n()).done;){var a=n.value;r.wire_field(a)}}catch(e){l.e(e)}finally{l.f()}return r.render_template(null),r}return _createClass(Form,[{key:o.symbols.type,value:function value(){return sn}},{key:"_dom_button",get:function get(){return document.querySelector(this._sel_form+" "+this._sel_button)}},{key:"enabled",get:function get(){return!this._dom_button.disabled}},{key:"enabled",set:function set(e){this._dom_button.disabled=!e}},{key:o.symbols.getattr,value:function value(e){if("enabled"===e)return this.enabled;throw new o.AttributeError(this,e)}},{key:o.symbols.setattr,value:function value(e,t){if("enabled"!==e)throw new o.AttributeError(this,e);this.enabled=o._bool(t)}},{key:o.symbols.repr,value:function value(){return"<"+this.constructor.name+" enabled="+o._repr(this.enabled)+">"}},{key:"toString",value:function toString(){return this[o.symbols.repr]()}},{key:"render_template",value:function render_template(e){var t=this,r={datasources:this.globals.datasources,record:this.globals.record,app:this.globals.app,fields:this.globals.record.fields,identifier:e},n={globals:this.globals,form:this,la:yn},l="LivingApps update template: ";l+=null===e?"Initialization":"Value change in "+o._repr(e),this.globals.group_logging(l,(function(){try{t.template.renders(r,n)}catch(e){console&&console.error&&(t.globals._start_log_message(),console.group&&console.group("UL4 stacktrace"),o.report_exc(e),console.groupEnd&&console.groupEnd(),console.groupCollapsed&&console.groupCollapsed("Javascript stacktrace"),console.error(e),console.groupEnd&&console.groupEnd())}}))}},{key:"wire_geo",value:function wire_geo(){var e=this;if(!this._geo_wired){if(null!==this.globals.app.active_view&&navigator.geolocation){var t=this.globals.app.active_view.use_geo;"once"!==t&&"watch"!==t||navigator.geolocation.getCurrentPosition((function(t){e.globals.mode=e.globals.mode.substring(0,e.globals.mode.lastIndexOf("/")+1)+"geo",e.globals.set_current_geo(t),e.render_template(null)})),"watch"===t&&navigator.geolocation.watchPosition((function(t){e.globals.mode=e.globals.mode.substring(0,e.globals.mode.lastIndexOf("/")+1)+"geo",e.globals.set_current_geo(t),e.render_template(null)}))}this._geo_wired=!0}}},{key:"wire_field",value:function wire_field(e){var t,o=this,r=_createForOfIteratorHelper(e._dom_controls);try{for(r.s();!(t=r.n()).done;){t.value.addEventListener(e._inputevent,(function(t){o.wire_geo(),o.globals.mode=o.globals.mode.substring(0,o.globals.mode.lastIndexOf("/")+1)+"input",o.render_template(e.control.identifier)}))}}catch(e){r.e(e)}finally{r.f()}}}]),Form}(o.Proto);pn.prototype._ul4attrs=new Set(["enabled"]),pn.prototype._sel_form="#livingapps-form form",pn.prototype._sel_button="[type=submit]";for(var cn=0,_n=[Q,te,re,le,ln,un,ie,se,Vt,qt,Xt,to,lo,io,so,co,vo,Co,bo,Ao,So,Mo,Io,Do,Eo,Ho,Uo,Vo,Yo,qo,Jo,Zo,er,or,nr,ar,sr,cr,hr,_e,ye,ge,Ae,Se,Me,Ie,Oe,fe,ke,Ne,He,Ue,Ve,qe,Ye,Je,Qe,ot,ct,Ct,Tt,Rt,dr,vr,Cr,br,Lr,Fr,wr,xr,Rr,Dr,Br,Gr,Vr,qr,Yr,Jr,$r,en,on];cn<_n.length;cn++){var hn=_n[cn];o.register("de.livinglogic.livingapi."+hn.name.toLowerCase(),hn)}var yn=new o.Module("la","LivingAPI types",{FlashMessage:te,File:Rr,Geo:Dr,User:xr,KeyView:$r,Globals:Q,App:re,TextControl:to,URLControl:io,EmailControl:lo,PasswordControl:ro,TelControl:so,TextAreaControl:co,HTMLControl:ho,IntControl:qt,NumberControl:Xt,DateControl:vo,DatetimeMinuteControl:Co,DatetimeSecondControl:bo,BoolControl:Vt,LookupSelectControl:So,LookupRadioControl:Mo,LookupChoiceControl:Io,AppLookupSelectControl:Eo,AppLookupRadioControl:Ho,AppLookupChoiceControl:Uo,MultipleLookupSelectControl:Yo,MultipleLookupCheckboxControl:qo,MultipleLookupChoiceControl:Jo,MultipleAppLookupSelectControl:er,MultipleAppLookupCheckboxControl:or,MultipleAppLookupChoiceControl:nr,FileControl:sr,FileSignatureControl:cr,GeoControl:ar,ViewControl:wr,Record:se,FileAttachment:Vr,URLAttachment:Gr,NoteAttachment:Br,JSONAttachment:qr,Installation:Yr,HTMLLayoutControl:br,ImageLayoutControl:Lr,ButtonLayoutControl:Fr,View:le,DataSource:ie,LookupItem:dr,ViewLookupItem:vr,Category:Jr,AppParameter:en,MutableAppParameter:on,MenuItem:ln,Panel:un});e.App=re,e.AppLookupChoiceControl=Uo,e.AppLookupChoiceField=Mt,e.AppLookupControl=Do,e.AppLookupField=Tt,e.AppLookupFieldBase=Ct,e.AppLookupRadioControl=Ho,e.AppLookupRadioField=St,e.AppLookupSelectControl=Eo,e.AppLookupSelectField=At,e.AppParameter=en,e.Attachment=Pr,e.Base=X,e.BoolControl=Vt,e.BoolField=ye,e.ButtonControl=hr,e.ButtonLayoutControl=Fr,e.Category=Jr,e.ChoiceFieldBase=Xe,e.Control=Gt,e.DataSource=ie,e.DateControl=vo,e.DateField=qe,e.DateFieldBase=Ve,e.DatetimeMinuteControl=Co,e.DatetimeMinuteField=Ye,e.DatetimeSecondControl=bo,e.DatetimeSecondField=Je,e.EmailControl=lo,e.EmailField=Ae,e.Field=_e,e.File=Rr,e.FileAttachment=Vr,e.FileControl=sr,e.FileField=He,e.FileSignatureControl=cr,e.FileSignatureField=Ue,e.FlashMessage=te,e.Form=pn,e.Geo=Dr,e.GeoControl=ar,e.GeoField=Ne,e.Globals=Q,e.HTMLControl=ho,e.HTMLField=Oe,e.HTMLLayoutControl=br,e.Handler=$,e.ImageLayoutControl=Lr,e.Installation=Yr,e.IntControl=qt,e.IntField=fe,e.JSONAttachment=qr,e.KeyView=$r,e.LayoutControl=Cr,e.LookupChoiceControl=Io,e.LookupChoiceField=ut,e.LookupControl=Ao,e.LookupField=ot,e.LookupFieldBase=Qe,e.LookupItem=dr,e.LookupRadioControl=Mo,e.LookupRadioField=nt,e.LookupSelectControl=So,e.LookupSelectField=at,e.MenuItem=ln,e.MultipleAppLookupCheckboxControl=or,e.MultipleAppLookupCheckboxField=Dt,e.MultipleAppLookupChoiceControl=nr,e.MultipleAppLookupChoiceField=Ht,e.MultipleAppLookupControl=Zo,e.MultipleAppLookupField=Rt,e.MultipleAppLookupSelectControl=er,e.MultipleAppLookupSelectField=Et,e.MultipleLookupCheckboxControl=qo,e.MultipleLookupCheckboxField=ht,e.MultipleLookupChoiceControl=Jo,e.MultipleLookupChoiceField=vt,e.MultipleLookupControl=Vo,e.MultipleLookupField=ct,e.MultipleLookupSelectControl=Yo,e.MultipleLookupSelectField=dt,e.MutableAppParameter=on,e.NoteAttachment=Br,e.NumberControl=Xt,e.NumberField=ke,e.Panel=un,e.PasswordControl=ro,e.PasswordField=Te,e.Record=se,e.StringControl=Qt,e.StringField=ge,e.TelControl=so,e.TelField=Me,e.TextAreaControl=co,e.TextAreaField=Ie,e.TextControl=to,e.URLAttachment=Gr,e.URLControl=io,e.URLField=Se,e.User=xr,e.View=le,e.ViewControl=wr,e.ViewLookupItem=vr,e.element=element,e.module=yn,e.url_with_params=url_with_params,e.version="1.3.3",Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=livingapi.js.map
