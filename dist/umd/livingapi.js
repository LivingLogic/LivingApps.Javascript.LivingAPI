!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@livinglogic/ul4")):"function"==typeof define&&define.amd?define(["exports","@livinglogic/ul4"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).la={},e.ul4)}(this,(function(e,t){"use strict";function _interopNamespace(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(o){if("default"!==o){var l=Object.getOwnPropertyDescriptor(e,o);Object.defineProperty(t,o,l.get?l:{enumerable:!0,get:function(){return e[o]}})}})),t.default=e,Object.freeze(t)}var o=_interopNamespace(t);function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var o=0;o<t.length;o++){var l=t[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}function _createClass(e,t,o){return t&&_defineProperties(e.prototype,t),o&&_defineProperties(e,o),e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}function _possibleConstructorReturn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _createSuper(e){var t=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var o,l=_getPrototypeOf(e);if(t){var r=_getPrototypeOf(this).constructor;o=Reflect.construct(l,arguments,r)}else o=l.apply(this,arguments);return _possibleConstructorReturn(this,o)}}function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf(e)););return e}function _get(e,t,o){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(e,t,o){var l=_superPropBase(e,t);if(l){var r=Object.getOwnPropertyDescriptor(l,t);return r.get?r.get.call(o):r.value}})(e,t,o||e)}function set(e,t,o,l){return(set="undefined"!=typeof Reflect&&Reflect.set?Reflect.set:function set(e,t,o,l){var r,n=_superPropBase(e,t);if(n){if((r=Object.getOwnPropertyDescriptor(n,t)).set)return r.set.call(l,o),!0;if(!r.writable)return!1}if(r=Object.getOwnPropertyDescriptor(l,t)){if(!r.writable)return!1;r.value=o,Object.defineProperty(l,t,r)}else!function _defineProperty(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}(l,t,o);return!0})(e,t,o,l)}function _set(e,t,o,l,r){if(!set(e,t,o,l||e)&&r)throw new Error("failed to set property");return o}function _slicedToArray(e,t){return function _arrayWithHoles(e){if(Array.isArray(e))return e}(e)||function _iterableToArrayLimit(e,t){var o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==o)return;var l,r,n=[],a=!0,i=!1;try{for(o=o.call(e);!(a=(l=o.next()).done)&&(n.push(l.value),!t||n.length!==t);a=!0);}catch(e){i=!0,r=e}finally{try{a||null==o.return||o.return()}finally{if(i)throw r}}return n}(e,t)||_unsupportedIterableToArray(e,t)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _toConsumableArray(e){return function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}(e)||function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||_unsupportedIterableToArray(e)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,l=new Array(t);o<t;o++)l[o]=e[o];return l}function _createForOfIteratorHelper(e,t){var o="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!o){if(Array.isArray(e)||(o=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){o&&(e=o);var l=0,F=function(){};return{s:F,n:function(){return l>=e.length?{done:!0}:{done:!1,value:e[l++]}},e:function(e){throw e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,n=!0,a=!1;return{s:function(){o=o.call(e)},n:function(){var e=o.next();return n=e.done,e},e:function(e){a=!0,r=e},f:function(){try{n||null==o.return||o.return()}finally{if(a)throw r}}}}var l=function(e){_inherits(Base,e);var t=_createSuper(Base);function Base(e){var o;return _classCallCheck(this,Base),(o=t.call(this)).id=e,o}return _createClass(Base,[{key:"ul4onid",get:function get(){return this.id}},{key:"ul4ondump",value:function ul4ondump(e){for(var t=0;t<this._ul4onattrs.length;++t)e.dump(this._dumpUL4ONAttr(this._ul4onattrs[t]))}},{key:"_dumpUL4ONAttr",value:function _dumpUL4ONAttr(e){return this[e]}},{key:"ul4onload",value:function ul4onload(e){for(var t=0,o=e.loadcontent();;++t){var l=o.next();if(l.done)break;t<this._ul4onattrs.length&&this._loadUL4ONAttr(this._ul4onattrs[t],l.value)}for(;t<this._ul4onattrs.length;++t)this._setDefaultUL4ONAttr(this._ul4onattrs[t])}},{key:"_loadUL4ONAttr",value:function _loadUL4ONAttr(e,t){this[e]=t}},{key:"_setDefaultUL4ONAttr",value:function _setDefaultUL4ONAttr(e){this[e]=null}},{key:o.symbols.getattr,value:function value(e){if(this._ul4attrs.has(e)){var t=this[e];if("function"==typeof t){var l=t.bind(this);return l._ul4_name=t._ul4_name||t.name,l._ul4_signature=t._ul4_signature,l._ul4_needsobject=t._ul4_needsobject,l._ul4_needscontext=t._ul4_needscontext,l}return t}throw new o.AttributeError(this,e)}},{key:o.symbols.repr,value:function value(){return"<"+this.constructor.name+">"}},{key:"toString",value:function toString(){return this[o.symbols.repr]()}}]),Base}(o.Proto),r=function(){function Handler(){_classCallCheck(this,Handler)}return _createClass(Handler,[{key:"save",value:function save(e){}},{key:"delete",value:function _delete(e){}}]),Handler}(),n=new(function(e){_inherits(GlobalsType,e);var t=_createSuper(GlobalsType);function GlobalsType(){return _classCallCheck(this,GlobalsType),t.apply(this,arguments)}return _createClass(GlobalsType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof a}}]),GlobalsType}(o.Type))("la","Globals","Global information"),a=function(e){_inherits(Globals,e);var t=_createSuper(Globals);function Globals(e){var o;return _classCallCheck(this,Globals),(o=t.call(this,e)).version=null,o.hostname=null,o.platform=null,o.user=null,o.lang=null,o.app=null,o.record=null,o.maxdbactions=null,o.maxtemplateruntime=null,o.flashmessages=null,o.handler=new r,o}return _createClass(Globals,[{key:o.symbols.type,value:function value(){return n}},{key:"scaledURL",value:function scaledURL(e,t,o){var l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"fill",r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],n=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"sm",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,i=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,u=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,s=arguments.length>9&&void 0!==arguments[9]?arguments[9]:null,p=arguments.length>10&&void 0!==arguments[10]?arguments[10]:null,c=!(arguments.length>11&&void 0!==arguments[11])||arguments[11],y=null;e instanceof Ho&&(e="https://"+this.hostname+e.url,(y=encodeURIComponent(e.filename))!=e.filename&&(y=null));var h="";return h+=c?"/imgproxycache/insecure":"/imgproxy/insecure","fit"!==l&&(h+="/rt:"+l),null!=t&&(h+="/w:"+t),null!=o&&(h+="/h:"+o),r&&(h+="/el:1"),null!=n&&(h+="/g:"+n),null!=a&&(h+="/q:"+a),null!==i&&i%360!=0&&(h+="/rot:"+rotatet),null!=u&&(h+="/bl:"+u),null!=s&&(h+="/sh:"+s),null!=p&&(h+="/f:"+p),null!=y&&(h+="/fn:"+y),h+="/plain/"+encodeURIComponent(e)}},{key:o.symbols.repr,value:function value(){return"<Globals version="+o._repr(this.version)+">"}}],[{key:"geodist",value:function geodist(e,t){var o=function sqsin(e){return(e=Math.sin(e))*e},l=function sqsos(e){return(e=Math.cos(e))*e},r=Math.PI/180,n=1/298.257223563,a=e.lat*r,i=e.long*r,u=t.lat*r,s=(a+u)/2,p=(a-u)/2,c=(i-t.long*r)/2,y=o(p)*l(c)+l(s)*o(c),h=l(p)*l(c)+o(s)*o(c),_=Math.atan(Math.sqrt(y/h)),f=2*_*6378.137,d=Math.sqrt(y*h)/_,k=(3*d+1)/(2*y);return f*(1+n*((3*d-1)/(2*h))*o(s)*l(p)-n*k*l(s)*o(p))}}]),Globals}(l);a.prototype._ul4onattrs=["version","platform","user","maxdbactions","maxtemplateruntime","flashmessages","lang","datasources","hostname","app","record","mode","view_template_id","email_template_id","view_id"],a.prototype._ul4attrs=new Set(["version","hostname","platform","user","lang","app","record","maxdbactions","maxtemplateruntime","flashmessages","mode"]);var i=new(function(e){_inherits(FlashMessageType,e);var t=_createSuper(FlashMessageType);function FlashMessageType(){return _classCallCheck(this,FlashMessageType),t.apply(this,arguments)}return _createClass(FlashMessageType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof u}}]),FlashMessageType}(o.Type))("la","FlashMessage","A flash message in a web page"),u=function(e){_inherits(FlashMessage,e);var t=_createSuper(FlashMessage);function FlashMessage(){return _classCallCheck(this,FlashMessage),t.apply(this,arguments)}return _createClass(FlashMessage,[{key:o.symbols.type,value:function value(){return i}},{key:o.symbols.repr,value:function value(){return"<FlashMessage type="+o._repr(this.type)+" title="+o._repr(this.title)+">"}}]),FlashMessage}(l);u.prototype._ul4onattrs=["timestamp","type","title","message"],u.prototype._ul4attrs=new Set(["timestamp","type","title","message"]);var s=new(function(e){_inherits(AppType,e);var t=_createSuper(AppType);function AppType(){return _classCallCheck(this,AppType),t.apply(this,arguments)}return _createClass(AppType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof p}}]),AppType}(o.Type))("la","App","A LivingApps application"),p=function(e){_inherits(App,e);var t=_createSuper(App);function App(){return _classCallCheck(this,App),t.apply(this,arguments)}return _createClass(App,[{key:o.symbols.type,value:function value(){return s}},{key:o.symbols.repr,value:function value(){return"<App id="+o._repr(this.id)+" name="+o._repr(this.name)+">"}},{key:"insert",value:function insert(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this[o.symbols.call](e);return this.globals.handler.save(this),t}},{key:"layout_controls",get:function get(){return null===this.active_view?new Map:this.active_view.layout_controls}},{key:o.symbols.call,value:function value(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new d(null,this);if(o._ismap(e)){var l,r=_createForOfIteratorHelper(e.keys());try{for(r.s();!(l=r.n()).done;){var n=l.value;if(!t.fields.has(n))throw new o.ArgumentError(o._repr(this)+"() get an unexpected keyword argument "+o._repr(n))}}catch(e){r.e(e)}finally{r.f()}t._make_fields(!0,e,null,null)}else{if(!o._isobject(e))throw new o.TypeError("values must be an object or a Map");for(var a in e)if(!t.fields.has(a))throw new o.ArgumentError(o._repr(this)+"() get an unexpected keyword argument "+o._repr(a));t._make_fields(!0,new Map(o._list(o.dicttype.items(e))),null,null)}return t}},{key:o.symbols.getattr,value:function value(e){if(e.startsWith("c_")){if(!this.controls.has(e.substr(2)))throw new o.AttributeError(this,e);return this.controls.get(e.substr(2))}if(e.startsWith("p_")&&null!==this.params){if(!this.params.has(e.substr(2)))throw new o.AttributeError(this,e);return this.params.get(e.substr(2))}if(e.startsWith("pv_")&&null!==this.params){if(!this.params.has(e.substr(3)))throw new o.AttributeError(this,e);return this.params.get(e.substr(3)).value}return _get(_getPrototypeOf(App.prototype),o.symbols.getattr,this).call(this,e)}},{key:"active_view",get:function get(){return this._active_view}},{key:"active_view",set:function set(e){if(null===e);else if("string"==typeof e){if(null===this.views||!this.views.has(e))throw new o.ValueError("View "+o._repr(e)+" not found!");e=this.views.get(e)}else{if(!(e instanceof y))throw new o.TypeError(o._repr(e)+" is not a view!");if(e.app!==this)throw new o.ValueError("View "+o._repr(e)+" belongs to the wrong app!")}this._active_view=e}}]),App}(l);p.prototype._ul4onattrs=["globals","name","description","lang","startlink","iconlarge","iconsmall","createdby","controls","records","recordcount","installation","categories","params","views","datamanagement_identifier","basetable","primarykey","insertprocedure","updateprocedure","deleteprocedure","templates","createdat","updatedat","updatedby","superid","favorite","_active_view"],p.prototype._ul4attrs=new Set(["id","globals","name","description","lang","startlink","iconlarge","iconsmall","createdat","createdby","updatedat","updatedby","controls","records","recordcount","installation","categories","params","views","datamanagement_identifier","insert","favorite","_active_view"]),o.expose(p.prototype[o.symbols.call],["**values"],{needsobject:!0}),o.expose(p.prototype.insert,["**values"],{needsobject:!0});var c=new(function(e){_inherits(ViewType,e);var t=_createSuper(ViewType);function ViewType(){return _classCallCheck(this,ViewType),t.apply(this,arguments)}return _createClass(ViewType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof y}}]),ViewType}(o.Type))("la","View","An input form for a LivingViews application"),y=function(e){_inherits(View,e);var t=_createSuper(View);function View(){return _classCallCheck(this,View),t.apply(this,arguments)}return _createClass(View,[{key:o.symbols.type,value:function value(){return c}},{key:o.symbols.repr,value:function value(){return"<View id="+o._repr(this.id)+" name="+o._repr(this.name)+">"}}]),View}(l);y.prototype._ul4onattrs=["name","combined_type","app","order","width","height","start","end","controls","layout_controls","lang"],y.prototype._ul4attrs=new Set(["id","name","combined_type","app","order","width","height","start","end","controls","layout_controls","lang"]);var h=new(function(e){_inherits(DataSourceType,e);var t=_createSuper(DataSourceType);function DataSourceType(){return _classCallCheck(this,DataSourceType),t.apply(this,arguments)}return _createClass(DataSourceType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof _}}]),DataSourceType}(o.Type))("la","DataSource","The data resulting from a data source configuration"),_=function(e){_inherits(DataSource,e);var t=_createSuper(DataSource);function DataSource(){return _classCallCheck(this,DataSource),t.apply(this,arguments)}return _createClass(DataSource,[{key:o.symbols.type,value:function value(){return h}},{key:o.symbols.repr,value:function value(){return"<DataSource id="+o._repr(this.id)+" identifier="+o._repr(this.identifier)+">"}}]),DataSource}(l);_.prototype._ul4onattrs=["identifier","app","apps"],_.prototype._ul4attrs=new Set(["id","identifier","app","apps"]);var f=new(function(e){_inherits(RecordType,e);var t=_createSuper(RecordType);function RecordType(){return _classCallCheck(this,RecordType),t.apply(this,arguments)}return _createClass(RecordType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof d}}]),RecordType}(o.Type))("la","Record","A record of a LivingApp application"),d=function(e){_inherits(Record,e);var t=_createSuper(Record);function Record(e,o){var l;return _classCallCheck(this,Record),(l=t.call(this,e)).app=o,l.createdat=null,l.createdby=null,l.updatedat=null,l.updatedby=null,l.updatecount=0,l._sparsevalues=new Map,l._values=null,l._fields=null,l.children=new Map,l.attachments=null,l.errors=[],l._sparsefielderrors=null,l._sparsefieldlookupdata=null,l._is_deleted=!1,l._is_new=!0,l}return _createClass(Record,[{key:o.symbols.type,value:function value(){return f}},{key:"_make_fields",value:function _make_fields(e,t,o,l){var r,n=new Map,a=_createForOfIteratorHelper(this.app.controls.values());try{for(a.s();!(r=a.n()).done;){var i=r.value,u=i.identifier,s=null;null!==t&&(e&&!t.has(u)?s=i.default:t.has(u)&&(s=t.get(u)));var p=new i.fieldtype(i,this,s);n.set(u,p),null!==o&&o.has(u)&&(p.errors=o.get(u)),null!==l&&l.has(u)&&(p.lookupdata=l.get(u))}}catch(e){a.e(e)}finally{a.f()}this._fields=n,this._sparsevalues=null,this._sparsefielderrors=null,this._sparselookupdata=null}},{key:"_in_form",value:function _in_form(){var e=this.app.globals;return null!==e.mode&&e.mode.startsWith("form/")&&this===e.record}},{key:o.symbols.repr,value:function value(){var e,t=["<Record id=",o._repr(this.id)],l=_createForOfIteratorHelper(this.fields.values());try{for(l.s();!(e=l.n()).done;){var r=e.value;r.control.priority&&!r.is_empty()&&(t.push(" v_"),t.push(r.control.identifier),t.push("="),t.push(o._repr(r.value)))}}catch(e){l.e(e)}finally{l.f()}return t.push(" state="),t.push(o._repr(this.state)),t.push(">"),t.join("")}},{key:"state",get:function get(){return this._is_deleted?"deleted":this._is_new?"new":this.is_dirty()?"dirty":"saved"}},{key:"values",get:function get(){if(null===this._values){this._values=new Map;var e,t=_createForOfIteratorHelper(this.fields.values());try{for(t.s();!(e=t.n()).done;){var o=e.value;this._values.set(o.control.identifier,o.value)}}catch(e){t.e(e)}finally{t.f()}}return this._values}},{key:"fields",get:function get(){return null===this._fields&&this._make_fields(!1,this._sparsevalues,this._sparsefielderrors,this._sparsefieldlookupdata),this._fields}},{key:"is_dirty",value:function is_dirty(){if(null===this.id)return!0;var e,t=_createForOfIteratorHelper(this.fields.values());try{for(t.s();!(e=t.n()).done;){if(e.value.is_dirty())return!0}}catch(e){t.e(e)}finally{t.f()}return!1}},{key:"has_errors",value:function has_errors(){if(0!==this.errors.length)return!0;var e,t=_createForOfIteratorHelper(this.fields.values());try{for(t.s();!(e=t.n()).done;){if(e.value.has_errors())return!0}}catch(e){t.e(e)}finally{t.f()}return!1}},{key:"delete",value:function _delete(){var e=this.app.globals.handler.delete(this);return this._is_deleted=!0,e}},{key:"save",value:function save(){this.app.globals.handler.save(this)}},{key:"update",value:function update(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(o._ismap(e)){var t,l=_createForOfIteratorHelper(e.entries());try{for(l.s();!(t=l.n()).done;){var r=_slicedToArray(t.value,2),n=r[0],a=r[1];if(!this.fields.has(n))throw new o.ArgumentError("update() get an unexpected keyword argument "+o._repr(n));fields.get(n).value=a}}catch(e){l.e(e)}finally{l.f()}}else{if(!o._isobject(e))throw new o.TypeError("values must be an object or a Map");for(var i in e){if(!this.fields.has(i))throw new o.ArgumentError("update() get an unexpected keyword argument "+o._repr(i));record.fields.get(i).value=e[i]}}this.app.globals.handler.save(this)}},{key:"search",value:function search(e){for(var t in e){var l=e[t];if(o._bool(l)&&!this.fields.get(t).search(l))return!1}return!0}},{key:"ul4onload",value:function ul4onload(e){_get(_getPrototypeOf(Record.prototype),"ul4onload",this).call(this,e),this._is_new=!1}},{key:"_dumpUL4ONAttr",value:function _dumpUL4ONAttr(e){return"values"===e?this._sparsevalues:this[e]}},{key:"_loadUL4ONAttr",value:function _loadUL4ONAttr(e,t){"values"===e?(this._sparsevalues=t,this._values=null,this._fields=null):this[e]=t}},{key:o.symbols.getattr,value:function value(e){return e.startsWith("c_")?this.children.get(e.substr(2)):e.startsWith("f_")?this.fields.get(e.substr(2)):e.startsWith("v_")?this.values.get(e.substr(2)):this[e]}},{key:o.symbols.setattr,value:function(e){function value(t,o){return e.apply(this,arguments)}return value.toString=function(){return e.toString()},value}((function(e,t){if(e.startsWith("c_"))this.children[e.substr(2)]=t;else{if(!e.startsWith("v_"))throw new o.AttributeError(this,e);this.fields.get(e.substr(2)).value=t}}))}]),Record}(l);d.prototype._ul4onattrs=["app","createdat","createdby","updatedat","updatedby","updatecount","_sparsevalues","attachments","children","errors","_sparsefielderrors","_sparsefieldlookupdata"],d.prototype._ul4attrs=new Set(["id","app","createdat","createdby","updatedat","updatedby","updatecount","values","attachments","children","errors"]),o.expose(d.prototype.is_dirty,[]),o.expose(d.prototype.has_errors,[]),o.expose(d.prototype.delete,[]),o.expose(d.prototype.save,[]),o.expose(d.prototype.update,["**values"],{needsobject:!0});var k=function(e){_inherits(FieldType,e);var t=_createSuper(FieldType);function FieldType(){return _classCallCheck(this,FieldType),t.apply(this,arguments)}return _createClass(FieldType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof C}}]),FieldType}(o.Type),v=new k("la","Field","Holds the value of a field of a record (and related information)"),C=function(e){_inherits(Field,e);var t=_createSuper(Field);function Field(e,o,l){var r;return _classCallCheck(this,Field),(r=t.call(this,null)).control=e,r.record=o,r._label=null,r._lookupdate=null,r.errors=[],r._value=null,r._in_form()||(r.value=l),r._dirty=!1,r._enabled=!0,r._writable=!0,r._visible=!0,r}return _createClass(Field,[{key:o.symbols.type,value:function value(){return v}},{key:"value",get:function get(){return this._in_form()?this._get_dom_value():this._value}},{key:"value",set:function set(e){var t=this._value,l={value:e,errors:[]};this._validate(l),o._ne(t,l.value)&&(this.record.values.set(this.control.identifier,l.value),this._value=l.value,this._dirty=!0),this.errors=l.errors,this._in_form()&&this._set_dom_value(this._value)}},{key:"_validate",value:function _validate(e){}},{key:"_set_dom_label",value:function _set_dom_label(){this._in_form()&&(this._dom_label.textContent=this.label)}},{key:"label",get:function get(){return null!==this._label?this._label:this.control.label}},{key:"label",set:function set(e){this._label=e,this._set_dom_label()}},{key:"globals",get:function get(){return this.control.globals}},{key:"is_empty",value:function is_empty(){return null===this._value||o._islist(this._value)&&0===this._value.length}},{key:"is_dirty",value:function is_dirty(){return this._dirty}},{key:"has_errors",value:function has_errors(){return 0!==this.errors.length}},{key:"search",value:function search(e){return this.control.search(this.value,e)}},{key:"msg_field_required",value:function msg_field_required(e){switch(this.globals.lang){case"de":return'"'.concat(this.label,'" wird benötigt!');default:return'"'.concat(this.label,'" is required!')}}},{key:"msg_field_wrong_type",value:function msg_field_wrong_type(e){return'"'.concat(this.label,"\" doesn't support the type ").concat(o._type(e).name,"!")}},{key:"msg_bool_truerequired",value:function msg_bool_truerequired(e){return'"'.concat(this.label,'" only accepts "Yes"!')}},{key:"msg_string_tooshort",value:function msg_string_tooshort(e){return'"'.concat(this.label,'" is too short. You must use at least ').concat(this.control.minlength," characters!")}},{key:"msg_string_toolong",value:function msg_string_toolong(e){return'"'.concat(this.label,'" is too long. You may use at most ').concat(this.control.maxlength," characters!")}},{key:"msg_email_format",value:function msg_email_format(e){return'"'.concat(this.label,'" must be a valid email address!')}},{key:"msg_url_format",value:function msg_url_format(e){return'"'.concat(this.label,'" must be a valid URL!')}},{key:"msg_tel_format",value:function msg_tel_format(e){return'"'.concat(this.label,'" must be a valid phone number!')}},{key:"msg_date_format",value:function msg_date_format(e){return'"'.concat(this.label,"\" doesn't support this date format!")}},{key:"msg_number_format",value:function msg_number_format(e){return'"'.concat(this.label,"\" doesn't support this number format!")}},{key:"msg_lookup_wrongitem",value:function msg_lookup_wrongitem(e){return"The option ".concat(o._repr(e),' for "').concat(this.label,"\" doesn't belong to this lookup!")}},{key:"msg_lookup_unknownkey",value:function msg_lookup_unknownkey(e){return"The option ".concat(o._repr(e),' for "').concat(this.label,'" is unknown!')}},{key:"msg_applookup_wrongrecord",value:function msg_applookup_wrongrecord(e){return"The record ".concat(o._repr(e),' for "').concat(this.label,"\" doesn't belong to the correct app!")}},{key:"msg_applookup_unknownkey",value:function msg_applookup_unknownkey(e){return"The record ".concat(o._repr(e),' for "').concat(this.label,"\" can't be found!")}},{key:"_in_form",value:function _in_form(){return this.record._in_form()}},{key:"_sel_root",get:function get(){return"#livingapps-form ."+this.control._cssclass_root+".llft-id-"+this.control.identifier}},{key:"_sel_label",get:function get(){return this._sel_root+" label span"}},{key:"_sel_control",get:function get(){return this._sel_root+" "+this.control._cssclass_control}},{key:"_dom_root",get:function get(){return document.querySelector(this._sel_root)}},{key:"_dom_label",get:function get(){return document.querySelector(this._sel_label)}},{key:"_dom_control",get:function get(){return document.querySelector(this._sel_control)}},{key:"_dom_controls",get:function get(){return document.querySelectorAll(this._sel_control)}},{key:"_get_dom_value",value:function _get_dom_value(){return this._dom_control.value}},{key:"_set_dom_value",value:function _set_dom_value(e){this._dom_control.value=e}},{key:"_show",value:function _show(){var e=this._dom_root;e.style.transition="height 0.2s ease",e.style.overflowY="hidden",e.style.height=e.scrollHeight+"px"}},{key:"_hide",value:function _hide(){var e=this._dom_root;e.style.transition="height 0.2s ease",e.style.overflowY="hidden",e.style.height="0px"}},{key:"visible",get:function get(){return this._visible}},{key:"visible",set:function set(e){this._in_form()&&(e?this._show():this._hide()),this._visible=e}},{key:"enabled",get:function get(){return this._in_form()?!this._dom_root.classList.contains("llft-control-readonly"):this._enabled}},{key:"enabled",set:function set(e){if(console.log(this._in_form(),this._dom_root,this._dom_root.classList),this._in_form()){var t,o=!e,l=_createForOfIteratorHelper(this._dom_controls);try{for(l.s();!(t=l.n()).done;){t.value.disabled=o}}catch(e){l.e(e)}finally{l.f()}this._dom_root.classList.toggle("llft-control-readonly",o),console.log(this._in_form(),this._dom_root,this._dom_root.classList)}this._enabled=e}},{key:"writable",get:function get(){return this._writable}},{key:"writable",set:function set(e){this._writable=e}},{key:o.symbols.repr,value:function value(){var e="<Field identifier=";return e+=o._repr(this.control.identifier),this._dirty&&(e+=" is_dirty()=True"),this.errors.length>0&&(e+=" has_errors()=True"),e+=">"}},{key:o.symbols.setattr,value:function(e){function value(t,o){return e.apply(this,arguments)}return value.toString=function(){return e.toString()},value}((function(e,t){if("visible"===e)this.visible=o._bool(t);else{if("enaabled"!==e)return _get(_getPrototypeOf(Field.prototype),o.symbols.getattr,this).call(this,e);this.visible=o._bool(t)}}))}]),Field}(l);C.prototype._ul4onattrs=["control","record","label","value","errors","enabled","writable","_visible"],C.prototype._ul4attrs=new Set(["control","record","label","value","errors","enabled","writable","visible"]);var m=new(function(e){_inherits(BoolFieldType,e);var t=_createSuper(BoolFieldType);function BoolFieldType(){return _classCallCheck(this,BoolFieldType),t.apply(this,arguments)}return _createClass(BoolFieldType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof g}}]),BoolFieldType}(k))("la","BoolField","Holds the value of a bool field of a record (and related information)"),g=function(e){_inherits(BoolField,e);var t=_createSuper(BoolField);function BoolField(){return _classCallCheck(this,BoolField),t.apply(this,arguments)}return _createClass(BoolField,[{key:o.symbols.type,value:function value(){return m}},{key:"_validate",value:function _validate(e){null===e.value?this.control.required&&e.errors.push(this.msg_field_required(e.value)):"boolean"==typeof e.value?this.control.required&&!e.value&&e.errors.push(this.msg_bool_truerequired(e.value)):(e.errors.push(this.msg_field_wrong_type(e.value)),e.value=null)}},{key:"_get_dom_value",value:function _get_dom_value(){return this._dom_control.checked}},{key:"_set_dom_value",value:function _set_dom_value(e){this._dom_control.checked=e}}]),BoolField}(C),T=new(function(e){_inherits(IntFieldType,e);var t=_createSuper(IntFieldType);function IntFieldType(){return _classCallCheck(this,IntFieldType),t.apply(this,arguments)}return _createClass(IntFieldType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof L}}]),IntFieldType}(k))("la","IntField","Holds the value of an int field of a record (and related information)"),L=function(e){_inherits(IntField,e);var t=_createSuper(IntField);function IntField(){return _classCallCheck(this,IntField),t.apply(this,arguments)}return _createClass(IntField,[{key:o.symbols.type,value:function value(){return T}},{key:"_parse",value:function _parse(e){return/^\s*[-+]?\d+\s*$/.test(e)?parseInt(e):null}},{key:"_validate",value:function _validate(e){if(null===e.value)this.control.required&&e.errors.push(this.msg_field_required(e.value));else if("string"==typeof e.value){var t=this._parse(e.value);null!==t?e.value=t:e.errors.push(this.msg_number_format(e.value))}else"number"==typeof e.value?Math.round(e.value)!==e.value&&e.errors.push(this.msg_field_wrong_type(e.value)):(e.errors.push(this.msg_field_wrong_type(e.value)),e.value=null)}},{key:"_get_dom_value",value:function _get_dom_value(){var e=_get(_getPrototypeOf(IntField.prototype),"_get_dom_value",this).call(this);if(e){var t=this._parse(e);null!==t&&(e=t)}return e}},{key:"_set_dom_value",value:function _set_dom_value(e){_get(_getPrototypeOf(IntField.prototype),"_set_dom_value",this).call(this,e+"")}}]),IntField}(C),b=new(function(e){_inherits(NumberFieldType,e);var t=_createSuper(NumberFieldType);function NumberFieldType(){return _classCallCheck(this,NumberFieldType),t.apply(this,arguments)}return _createClass(NumberFieldType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof A}}]),NumberFieldType}(k))("la","NumberField","Holds the value of a number field of a record (and related information)"),A=function(e){_inherits(NumberField,e);var t=_createSuper(NumberField);function NumberField(){return _classCallCheck(this,NumberField),t.apply(this,arguments)}return _createClass(NumberField,[{key:o.symbols.type,value:function value(){return b}},{key:"_parse",value:function _parse(e){if(null===e)return null;for(var t=e,o="",l=0,r=0,n=0;n<e.length;++n){var a=e[n];","==a?(l++,o+=a):"."==a&&(r++,o+=a)}var i=null;if(0==l)r<=1||(i="de");else if(1==l)i=1==r?".,"==o?"de":"en":"de";else{if(!(r<=1))return null;i="en"}"de"===i?t=t.replace(/\./g,"").replace(/,/g,"."):"en"===i&&(t=t.replace(/,/g,""));var u=parseFloat(t);return isNaN(u)?e:u}},{key:"_validate",value:function _validate(e){if(null===e.value||""===e.value)this.control.required&&e.errors.push(this.msg_field_required(e.value)),e.value=null;else if("string"==typeof e.value){var t=this._parse(e.value);null!==t?(t=this._bound_value(t),null!==this.control.precision&&(t=o._round(t,this.control.precision)),e.value=t):e.errors.push(this.msg_number_format(e.value))}else"number"==typeof e.value?(value=this._bound_value(value),null!==this.control.precision&&(value=o._round(value,this.control.precision)),e.value=value):(e.errors.push(this.msg_field_wrong_type(e.value)),e.value=null)}},{key:"_bound_value",value:function _bound_value(e){return null!==this.control.minimum&&e<this.control.minimum&&(e=this.control.minimum),null!==this.control.maximum&&e>this.control.maximum&&(e=this.control.maximum),e}},{key:"_get_dom_value",value:function _get_dom_value(){var e=_get(_getPrototypeOf(NumberField.prototype),"_get_dom_value",this).call(this);if(e){if("string"==typeof e){var t=this._parse(e);null!==t&&(e=t)}"number"==typeof e&&(null!==this.control.precision&&(e=o._round(e,this.control.precision)),e=this._bound_value(e))}else e=null;return e}},{key:"_set_dom_value",value:function _set_dom_value(e){"number"==typeof e&&(e=this._bound_value(e),null!==this.control.precision&&(e=e.toFixed(this.control.precision))),e+="","de"==this.globals.lang&&null===this.control.precision&&(e=e.replace(".",",")),_get(_getPrototypeOf(NumberField.prototype),"_set_dom_value",this).call(this,e)}}]),NumberField}(C),S=function(e){_inherits(StringFieldType,e);var t=_createSuper(StringFieldType);function StringFieldType(){return _classCallCheck(this,StringFieldType),t.apply(this,arguments)}return _createClass(StringFieldType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof M}}]),StringFieldType}(k),w=new S("la","StringField","Holds the value of a string field of a record (and related information)"),M=function(e){_inherits(StringField,e);var t=_createSuper(StringField);function StringField(){return _classCallCheck(this,StringField),t.apply(this,arguments)}return _createClass(StringField,[{key:o.symbols.type,value:function value(){return w}},{key:"_validate",value:function _validate(e){if(null===e.value||""===e.value)this.control.required&&e.errors.push(this.msg_field_required(e.value)),e.value=null;else if("string"==typeof e.value){var t=this.control.minlength,o=this.control.maxlength;null!==t&&e.value.length<t&&e.errors.push(this.msg_string_tooshort(e.value)),null!==o&&e.value.length>o&&e.errors.push(this.msg_string_toolong(e.value))}else e.errors.push(this.msg_field_wrong_type(e.value)),e.value=null}},{key:"writable",get:function get(){return this._writable}},{key:"writable",set:function set(e){if(this._in_form()){var t,o=!e,l=_createForOfIteratorHelper(this._dom_controls);try{for(l.s();!(t=l.n()).done;){t.value.readOnly=o}}catch(e){l.e(e)}finally{l.f()}}_set(_getPrototypeOf(StringField.prototype),"writable",e,this,!0)}}]),StringField}(C),x=new(function(e){_inherits(EmailFieldType,e);var t=_createSuper(EmailFieldType);function EmailFieldType(){return _classCallCheck(this,EmailFieldType),t.apply(this,arguments)}return _createClass(EmailFieldType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof I}}]),EmailFieldType}(S))("la","EmailField","Holds the value of a string/email field of a record (and related information)"),I=function(e){_inherits(EmailField,e);var t=_createSuper(EmailField);function EmailField(){return _classCallCheck(this,EmailField),t.apply(this,arguments)}return _createClass(EmailField,[{key:o.symbols.type,value:function value(){return x}},{key:"_validate",value:function _validate(e){if("string"==typeof e.value&&e.value.length>0){/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/i.test(e.value)||e.errors.push(this.msg_email_format(e.value))}_get(_getPrototypeOf(EmailField.prototype),"_validate",this).call(this,e)}}]),EmailField}(M),R=new(function(e){_inherits(URLFieldType,e);var t=_createSuper(URLFieldType);function URLFieldType(){return _classCallCheck(this,URLFieldType),t.apply(this,arguments)}return _createClass(URLFieldType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof D}}]),URLFieldType}(S))("la","URLField","Holds the value of a string/url field of a record (and related information)"),D=function(e){_inherits(URLField,e);var t=_createSuper(URLField);function URLField(){return _classCallCheck(this,URLField),t.apply(this,arguments)}return _createClass(URLField,[{key:o.symbols.type,value:function value(){return R}},{key:"_validate",value:function _validate(e){if("string"==typeof e.value&&e.value.length>0){var t=null;try{t=new URL(e.value)}catch(t){e.errors.push(this.msg_url_format(e.value))}null!==t&&"http:"!==t.protocol&&"https:"!==t.protocol&&e.errors.push(this.msg_url_format(e.value))}_get(_getPrototypeOf(URLField.prototype),"_validate",this).call(this,e)}}]),URLField}(M),H=new(function(e){_inherits(TelFieldType,e);var t=_createSuper(TelFieldType);function TelFieldType(){return _classCallCheck(this,TelFieldType),t.apply(this,arguments)}return _createClass(TelFieldType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof O}}]),TelFieldType}(S))("la","TelField","Holds the value of a string/tel field of a record (and related information)"),O=function(e){_inherits(TelField,e);var t=_createSuper(TelField);function TelField(){return _classCallCheck(this,TelField),t.apply(this,arguments)}return _createClass(TelField,[{key:o.symbols.type,value:function value(){return H}},{key:"_validate",value:function _validate(e){if("string"==typeof e.value&&e.value.length>0){/^\\+?[0-9 /()-]+$/.test(e.value)||e.errors.push(this.msg_tel_format(e.value))}_get(_getPrototypeOf(TelField.prototype),"_validate",this).call(this,e)}}]),TelField}(M),B=new(function(e){_inherits(TextAreaFieldType,e);var t=_createSuper(TextAreaFieldType);function TextAreaFieldType(){return _classCallCheck(this,TextAreaFieldType),t.apply(this,arguments)}return _createClass(TextAreaFieldType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof N}}]),TextAreaFieldType}(S))("la","TextAreaField","Holds the value of a string/textarea field of a record (and related information)"),N=function(e){_inherits(TextAreaField,e);var t=_createSuper(TextAreaField);function TextAreaField(){return _classCallCheck(this,TextAreaField),t.apply(this,arguments)}return _createClass(TextAreaField,[{key:o.symbols.type,value:function value(){return B}}]),TextAreaField}(M),U=new(function(e){_inherits(HTMLFieldType,e);var t=_createSuper(HTMLFieldType);function HTMLFieldType(){return _classCallCheck(this,HTMLFieldType),t.apply(this,arguments)}return _createClass(HTMLFieldType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof P}}]),HTMLFieldType}(S))("la","HTMLField","Holds the value of a string/html field of a record (and related information)"),P=function(e){_inherits(HTMLField,e);var t=_createSuper(HTMLField);function HTMLField(){return _classCallCheck(this,HTMLField),t.apply(this,arguments)}return _createClass(HTMLField,[{key:o.symbols.type,value:function value(){return U}}]),HTMLField}(M),V=new(function(e){_inherits(GeoFieldType,e);var t=_createSuper(GeoFieldType);function GeoFieldType(){return _classCallCheck(this,GeoFieldType),t.apply(this,arguments)}return _createClass(GeoFieldType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof G}}]),GeoFieldType}(k))("la","GeoField","Holds the value of a geo field of a record (and related information)"),G=function(e){_inherits(GeoField,e);var t=_createSuper(GeoField);function GeoField(){return _classCallCheck(this,GeoField),t.apply(this,arguments)}return _createClass(GeoField,[{key:o.symbols.type,value:function value(){return V}},{key:"_validate",value:function _validate(e){null===e.value||""===e.value?(this.control.required&&e.errors.push(this.msg_field_required(e.value)),e.value=null):e.value instanceof Bo||(e.errors.push(this.msg_field_wrong_type(e.value)),e.value=null)}}]),GeoField}(C),q=function(e){_inherits(FileFieldType,e);var t=_createSuper(FileFieldType);function FileFieldType(){return _classCallCheck(this,FileFieldType),t.apply(this,arguments)}return _createClass(FileFieldType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof j}}]),FileFieldType}(k),E=new q("la","FileField","Holds the value of a file field of a record (and related information)"),j=function(e){_inherits(FileField,e);var t=_createSuper(FileField);function FileField(){return _classCallCheck(this,FileField),t.apply(this,arguments)}return _createClass(FileField,[{key:o.symbols.type,value:function value(){return E}},{key:"_validate",value:function _validate(e){null===e.value||""===e.value?(this.control.required&&e.errors.push(this.msg_field_required(e.value)),e.value=null):e.value instanceof Ho||(e.errors.push(this.msg_field_wrong_type(e.value)),e.value=null)}},{key:"_get_dom_value",value:function _get_dom_value(){return null}},{key:"_set_dom_value",value:function _set_dom_value(){}}]),FileField}(C),W=new(function(e){_inherits(FileSignatureFieldType,e);var t=_createSuper(FileSignatureFieldType);function FileSignatureFieldType(){return _classCallCheck(this,FileSignatureFieldType),t.apply(this,arguments)}return _createClass(FileSignatureFieldType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof Y}}]),FileSignatureFieldType}(q))("la","FileSignatureField","Holds the value of a file/signature field of a record (and related information)"),Y=function(e){_inherits(FileSignatureField,e);var t=_createSuper(FileSignatureField);function FileSignatureField(){return _classCallCheck(this,FileSignatureField),t.apply(this,arguments)}return _createClass(FileSignatureField,[{key:o.symbols.type,value:function value(){return W}},{key:"_validate",value:function _validate(e){_get(_getPrototypeOf(FileSignatureField.prototype),"_validate",this).call(this,e)}}]),FileSignatureField}(j),J=function(e){_inherits(DateFieldBaseType,e);var t=_createSuper(DateFieldBaseType);function DateFieldBaseType(){return _classCallCheck(this,DateFieldBaseType),t.apply(this,arguments)}return _createClass(DateFieldBaseType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof z}}]),DateFieldBaseType}(k),K=new J("la","DateFieldBase","Holds the value of a date field of a record (and related information)"),z=function(e){_inherits(DateFieldBase,e);var t=_createSuper(DateFieldBase);function DateFieldBase(){return _classCallCheck(this,DateFieldBase),t.apply(this,arguments)}return _createClass(DateFieldBase,[{key:o.symbols.type,value:function value(){return K}},{key:"_parse",value:function _parse(e,t){var o=null,l=null,r=null,n=0,a=0,i=0,u=null;function _int(e,t,o,l){return(e=e.substring(0,t)).length!=t?null:(e=parseInt(e,10),isNaN(e)||e<o||e>l?null:e)}for(;e;){if(!t)return null;if(t.startsWith("%Y")){if(null===(o=_int(e,4)))return null;e=e.substring(4),t=t.substring(2)}else if(t.startsWith("%y")){if(null===(o=_int(e,2)))return null;e=e.substring(2),t=t.substring(2)}else if(t.startsWith("%m")){if(null===(l=_int(e,2)))return null;e=e.substring(2),t=t.substring(2)}else if(t.startsWith("%d")){if(null===(r=_int(e,2)))return null;e=e.substring(2),t=t.substring(2)}else if(t.startsWith("%H")){if(null===(n=_int(e,2)))return null;e=e.substring(2),t=t.substring(2)}else if(t.startsWith("%I")){if(null===(n=_int(e,2)))return null;e=e.substring(2),t=t.substring(2)}else if(t.startsWith("%M")){if(null===(a=_int(e,2)))return null;e=e.substring(2),t=t.substring(2)}else if(t.startsWith("%S")){if(null===(i=_int(e,2)))return null;e=e.substring(2),t=t.substring(2)}else if(t.startsWith("%p")){if(e.toLowerCase().startsWith("pm"))u=!0;else{if(!e.toLowerCase().startsWith("am"))return null;u=!1}e=e.substring(2),t=t.substring(2)}else if(t.startsWith("%%")){if(!e.startsWith("%"))return null;e=e.substring(1),t=t.substring(2)}else{if(!e.startsWith(t.substring(0,1)))return null;e=e.substring(1),t=t.substring(1)}}if(t)return null;if(null===o)return null;if(null===l||l<1||l>12)return null;if(null===r||r<1||r>31)return null;if(null===u){if(n<0||n>23)return null}else{if(n<0||n>11)return null;u&&(n+=12)}return a<0||a>59||a<0||a>59||i<0||i>60?null:new Date(o,l-1,r,n,a,i)}},{key:"_validate",value:function _validate(e){if(null===e.value||""===e.value)this.control.required&&e.errors.push(this.msg_field_required(e.value)),e.value=null;else if(e.value instanceof Date)e.value=this._convert(e.value);else if(e.value instanceof o.Date_)e.value=this._convert(e.value._date);else if("string"==typeof e.value){var t,l=null,r=_createForOfIteratorHelper(this.control.formatstrings_parse());try{for(r.s();!(t=r.n()).done;){var n=t.value;if(null!==(l=this._parse(e.value,n)))break}}catch(e){r.e(e)}finally{r.f()}null!==l?e.value=this._convert(l):e.errors.push(this.msg_date_format(e.value))}else e.errors.push(this.msg_field_wrong_type(e.value)),e.value=null}},{key:"_get_dom_value",value:function _get_dom_value(){var e=_get(_getPrototypeOf(DateFieldBase.prototype),"_get_dom_value",this).call(this);if(!e)return null;var t,o=_createForOfIteratorHelper(this.control.formatstrings_parse());try{for(o.s();!(t=o.n()).done;){var l=t.value,r=this._parse(e,l);if(null!==r)return this._convert(r)}}catch(e){o.e(e)}finally{o.f()}return null}},{key:"_set_dom_value",value:function _set_dom_value(e){null!==e&&(e=o._format(e,this.control.formatstring(),this.globals.lang)),_get(_getPrototypeOf(DateFieldBase.prototype),"_set_dom_value",this).call(this,e)}}]),DateFieldBase}(C),$=new(function(e){_inherits(DateFieldType,e);var t=_createSuper(DateFieldType);function DateFieldType(){return _classCallCheck(this,DateFieldType),t.apply(this,arguments)}return _createClass(DateFieldType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof Z}}]),DateFieldType}(J))("la","DateField","Holds the value of a date/date field of a record (and related information)"),Z=function(e){_inherits(DateField,e);var t=_createSuper(DateField);function DateField(){return _classCallCheck(this,DateField),t.apply(this,arguments)}return _createClass(DateField,[{key:o.symbols.type,value:function value(){return $}},{key:"_convert",value:function _convert(e){return new o.Date_(e.getFullYear(),e.getMonth()+1,e.getDate())}}]),DateField}(z),Q=new(function(e){_inherits(DatetimeMinuteFieldType,e);var t=_createSuper(DatetimeMinuteFieldType);function DatetimeMinuteFieldType(){return _classCallCheck(this,DatetimeMinuteFieldType),t.apply(this,arguments)}return _createClass(DatetimeMinuteFieldType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof X}}]),DatetimeMinuteFieldType}(J))("la","DatetimeMinuteField","Holds the value of a date/datetimeminute field of a record (and related information)"),X=function(e){_inherits(DatetimeMinuteField,e);var t=_createSuper(DatetimeMinuteField);function DatetimeMinuteField(){return _classCallCheck(this,DatetimeMinuteField),t.apply(this,arguments)}return _createClass(DatetimeMinuteField,[{key:o.symbols.type,value:function value(){return Q}},{key:"_convert",value:function _convert(e){return e.setSeconds(0),e.setMilliseconds(0),e}}]),DatetimeMinuteField}(z),ee=new(function(e){_inherits(DatetimeSecondFieldType,e);var t=_createSuper(DatetimeSecondFieldType);function DatetimeSecondFieldType(){return _classCallCheck(this,DatetimeSecondFieldType),t.apply(this,arguments)}return _createClass(DatetimeSecondFieldType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof te}}]),DatetimeSecondFieldType}(J))("la","DatetimeSecondField","Holds the value of a date/datetimesecond field of a record (and related information)"),te=function(e){_inherits(DatetimeSecondField,e);var t=_createSuper(DatetimeSecondField);function DatetimeSecondField(){return _classCallCheck(this,DatetimeSecondField),t.apply(this,arguments)}return _createClass(DatetimeSecondField,[{key:o.symbols.type,value:function value(){return ee}},{key:"_convert",value:function _convert(e){return e.setMilliseconds(0),e}}]),DatetimeSecondField}(z),oe=function(e){_inherits(LookupFieldBaseType,e);var t=_createSuper(LookupFieldBaseType);function LookupFieldBaseType(){return _classCallCheck(this,LookupFieldBaseType),t.apply(this,arguments)}return _createClass(LookupFieldBaseType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof re}}]),LookupFieldBaseType}(k),le=new oe("la","LookupFieldBase","Base type of LookupField and MultipleLookupField"),re=function(e){_inherits(LookupFieldBase,e);var t=_createSuper(LookupFieldBase);function LookupFieldBase(){return _classCallCheck(this,LookupFieldBase),t.apply(this,arguments)}return _createClass(LookupFieldBase,[{key:o.symbols.type,value:function value(){return le}},{key:"lookupdata",get:function get(){return null!==this._lookupdate?this._lookupdate:this.control.lookupdata}},{key:"lookupdata",set:function set(e){this._lookupdate=e}},{key:"_find_lookupitem",value:function _find_lookupitem(e){var t=e.value;if("string"==typeof t){if(null===this.lookupdata)return;var o=this.control.lookupdata.get(t);if(void 0===o)if(this.control.autoexpandable){var l,r=_createForOfIteratorHelper(this.lookupdata.values());try{for(r.s();!(l=r.n()).done;){var n=l.value;if(t===n.label)return void(e.value=n)}}catch(e){r.e(e)}finally{r.f()}}else e.errors.push(this.msg_lookup_unknownkey(t)),e.value=null;else e.value=o}else if(t instanceof ko){this.control.lookupdata.get(t.key)!==t&&(e.errors.push(this.msg_lookup_wrongitem(t)),e.value=null)}else e.errors.push(this.msg_field_wrong_type(t)),e.value=null}}]),LookupFieldBase}(C),ne=function(e){_inherits(LookupFieldType,e);var t=_createSuper(LookupFieldType);function LookupFieldType(){return _classCallCheck(this,LookupFieldType),t.apply(this,arguments)}return _createClass(LookupFieldType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof ie}}]),LookupFieldType}(oe),ae=new ne("la","LookupField","Holds the value of a lookup field of a record (and related information)"),ie=function(e){_inherits(LookupField,e);var t=_createSuper(LookupField);function LookupField(){return _classCallCheck(this,LookupField),t.apply(this,arguments)}return _createClass(LookupField,[{key:o.symbols.type,value:function value(){return ae}},{key:"_validate",value:function _validate(e){var t=e.value;null===t||""===t||this.control.nonekey===t?(this.control.required&&e.errors.push(this.msg_field_required(t)),e.value=null):this._find_lookupitem(e)}}]),LookupField}(re),ue=new(function(e){_inherits(LookupRadioFieldType,e);var t=_createSuper(LookupRadioFieldType);function LookupRadioFieldType(){return _classCallCheck(this,LookupRadioFieldType),t.apply(this,arguments)}return _createClass(LookupRadioFieldType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof se}}]),LookupRadioFieldType}(ne))("la","LookupRadioField","Holds the value of a lookup/radio field of a record (and related information)"),se=function(e){_inherits(LookupRadioField,e);var t=_createSuper(LookupRadioField);function LookupRadioField(){return _classCallCheck(this,LookupRadioField),t.apply(this,arguments)}return _createClass(LookupRadioField,[{key:o.symbols.type,value:function value(){return ue}},{key:"_sel_label",get:function get(){return this._sel_root+" label:not([for]) > span"}},{key:"_get_dom_value",value:function _get_dom_value(){var e,t=_createForOfIteratorHelper(this._dom_controls);try{for(t.s();!(e=t.n()).done;){var o=e.value;if(o.checked){var l=o.getAttribute("value");return this.control.lookupdata.get(l)}}}catch(e){t.e(e)}finally{t.f()}return null}},{key:"_set_dom_value",value:function _set_dom_value(e){e instanceof ko&&(e=e.key),null===e&&(e=this.control.nonekey);var t,o=_createForOfIteratorHelper(this._dom_controls);try{for(o.s();!(t=o.n()).done;){var l=t.value;l.checked=l.getAttribute("value")===e}}catch(e){o.e(e)}finally{o.f()}}}]),LookupRadioField}(ie),pe=new(function(e){_inherits(LookupSelectFieldType,e);var t=_createSuper(LookupSelectFieldType);function LookupSelectFieldType(){return _classCallCheck(this,LookupSelectFieldType),t.apply(this,arguments)}return _createClass(LookupSelectFieldType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof ce}}]),LookupSelectFieldType}(ne))("la","LookupSelectField","Holds the value of a lookup/select field of a record (and related information)"),ce=function(e){_inherits(LookupSelectField,e);var t=_createSuper(LookupSelectField);function LookupSelectField(){return _classCallCheck(this,LookupSelectField),t.apply(this,arguments)}return _createClass(LookupSelectField,[{key:o.symbols.type,value:function value(){return pe}},{key:"_get_dom_value",value:function _get_dom_value(){var e=_get(_getPrototypeOf(LookupSelectField.prototype),"_get_dom_value",this).call(this);return e&&(e=e===this.control.nonekey?null:this.control.lookupdata.get(e)),e}},{key:"_set_dom_value",value:function _set_dom_value(e){var t={value:e,errors:[]};this._validate(t),_get(_getPrototypeOf(LookupSelectField.prototype),"_set_dom_value",this).call(this,null!=t.value?t.value.key:this.control.nonekey)}}]),LookupSelectField}(ie),ye=new(function(e){_inherits(LookupChoiceFieldType,e);var t=_createSuper(LookupChoiceFieldType);function LookupChoiceFieldType(){return _classCallCheck(this,LookupChoiceFieldType),t.apply(this,arguments)}return _createClass(LookupChoiceFieldType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof he}}]),LookupChoiceFieldType}(ne))("la","LookupChoiceField","Holds the value of a lookup/choice field of a record (and related information)"),he=function(e){_inherits(LookupChoiceField,e);var t=_createSuper(LookupChoiceField);function LookupChoiceField(){return _classCallCheck(this,LookupChoiceField),t.apply(this,arguments)}return _createClass(LookupChoiceField,[{key:o.symbols.type,value:function value(){return ye}}]),LookupChoiceField}(ie),_e=function(e){_inherits(MultipleLookupFieldType,e);var t=_createSuper(MultipleLookupFieldType);function MultipleLookupFieldType(){return _classCallCheck(this,MultipleLookupFieldType),t.apply(this,arguments)}return _createClass(MultipleLookupFieldType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof de}}]),MultipleLookupFieldType}(oe),fe=new _e("la","MultipleLookupField","Holds the value of a multiple lookup field of a record (and related information)"),de=function(e){_inherits(MultipleLookupField,e);var t=_createSuper(MultipleLookupField);function MultipleLookupField(){return _classCallCheck(this,MultipleLookupField),t.apply(this,arguments)}return _createClass(MultipleLookupField,[{key:o.symbols.type,value:function value(){return fe}},{key:"_validate",value:function _validate(e){var t=e.value,o="[object Array]"===Object.prototype.toString.call(t);if(null===t||""===t||this.control.nonekey===t||o&&0===t.length)this.control.required&&e.errors.push(this.msg_field_required(t)),e.value=[];else if(o){var l,r=[],n=_createForOfIteratorHelper(t);try{for(n.s();!(l=n.n()).done;){var a={value:l.value,errors:[]};this._find_lookupitem(a),a.errors.length>0?e.errors=[].concat(_toConsumableArray(e.errors),_toConsumableArray(a.errors)):r.push(a.value)}}catch(e){n.e(e)}finally{n.f()}e.value=r}else this._find_lookupitem(e),e.errors.length>0?e.value=[]:e.value=[e.value]}}]),MultipleLookupField}(re),ke=new(function(e){_inherits(MultipleLookupCheckboxFieldType,e);var t=_createSuper(MultipleLookupCheckboxFieldType);function MultipleLookupCheckboxFieldType(){return _classCallCheck(this,MultipleLookupCheckboxFieldType),t.apply(this,arguments)}return _createClass(MultipleLookupCheckboxFieldType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof ve}}]),MultipleLookupCheckboxFieldType}(_e))("la","MultipleLookupCheckboxField","Holds the value of a multiplelookup/radio field of a record (and related information)"),ve=function(e){_inherits(MultipleLookupCheckboxField,e);var t=_createSuper(MultipleLookupCheckboxField);function MultipleLookupCheckboxField(){return _classCallCheck(this,MultipleLookupCheckboxField),t.apply(this,arguments)}return _createClass(MultipleLookupCheckboxField,[{key:o.symbols.type,value:function value(){return ke}},{key:"_sel_label",get:function get(){return this._sel_root+" label:not([for]) > span"}},{key:"_get_dom_value",value:function _get_dom_value(){var e,t=[],o=_createForOfIteratorHelper(this._dom_controls);try{for(o.s();!(e=o.n()).done;){var l=e.value;if(l.checked){var r=l.getAttribute("value");t.push(this.control.lookupdata.get(r))}}}catch(e){o.e(e)}finally{o.f()}return t}},{key:"_set_dom_value",value:function _set_dom_value(e){var t={value:e,errors:[]};this._validate(t);var o,l=new Set,r=_createForOfIteratorHelper(t.value);try{for(r.s();!(o=r.n()).done;){var n=o.value;l.add(n.key)}}catch(e){r.e(e)}finally{r.f()}var a,i=_createForOfIteratorHelper(this._dom_controls);try{for(i.s();!(a=i.n()).done;){var u=a.value;u.checked=l.has(u.getAttribute("value"))}}catch(e){i.e(e)}finally{i.f()}}}]),MultipleLookupCheckboxField}(de),Ce=new(function(e){_inherits(MultipleLookupSelectFieldType,e);var t=_createSuper(MultipleLookupSelectFieldType);function MultipleLookupSelectFieldType(){return _classCallCheck(this,MultipleLookupSelectFieldType),t.apply(this,arguments)}return _createClass(MultipleLookupSelectFieldType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof me}}]),MultipleLookupSelectFieldType}(_e))("la","MultipleLookupSelectField","Holds the value of a multiplelookup/select field of a record (and related information)"),me=function(e){_inherits(MultipleLookupSelectField,e);var t=_createSuper(MultipleLookupSelectField);function MultipleLookupSelectField(){return _classCallCheck(this,MultipleLookupSelectField),t.apply(this,arguments)}return _createClass(MultipleLookupSelectField,[{key:o.symbols.type,value:function value(){return Ce}},{key:"_get_dom_value",value:function _get_dom_value(){var e,t=[],o=_createForOfIteratorHelper(this._dom_control.querySelectorAll("option"));try{for(o.s();!(e=o.n()).done;){var l=e.value;l.selected&&t.push(this.control.lookupdata.get(l.getAttribute("value")))}}catch(e){o.e(e)}finally{o.f()}return t}},{key:"_set_dom_value",value:function _set_dom_value(e){var t={value:e,errors:[]};this._validate(t);var o,l=new Set,r=_createForOfIteratorHelper(t.value);try{for(r.s();!(o=r.n()).done;){var n=o.value;l.add(n.key)}}catch(e){r.e(e)}finally{r.f()}var a,i=_createForOfIteratorHelper(this._dom_control.querySelectorAll("option"));try{for(i.s();!(a=i.n()).done;){var u=a.value;u.selected=l.has(u.getAttribute("value"))}}catch(e){i.e(e)}finally{i.f()}}}]),MultipleLookupSelectField}(de),ge=new(function(e){_inherits(MultipleLookupChoiceFieldType,e);var t=_createSuper(MultipleLookupChoiceFieldType);function MultipleLookupChoiceFieldType(){return _classCallCheck(this,MultipleLookupChoiceFieldType),t.apply(this,arguments)}return _createClass(MultipleLookupChoiceFieldType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof Te}}]),MultipleLookupChoiceFieldType}(_e))("la","MultipleLookupChoiceField","Holds the value of a multiplelookup/choice field of a record (and related information)"),Te=function(e){_inherits(MultipleLookupChoiceField,e);var t=_createSuper(MultipleLookupChoiceField);function MultipleLookupChoiceField(){return _classCallCheck(this,MultipleLookupChoiceField),t.apply(this,arguments)}return _createClass(MultipleLookupChoiceField,[{key:o.symbols.type,value:function value(){return ge}}]),MultipleLookupChoiceField}(de),Le=function(e){_inherits(AppLookupFieldBaseType,e);var t=_createSuper(AppLookupFieldBaseType);function AppLookupFieldBaseType(){return _classCallCheck(this,AppLookupFieldBaseType),t.apply(this,arguments)}return _createClass(AppLookupFieldBaseType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof Fe}}]),AppLookupFieldBaseType}(k),be=new Le("la","AppLookupFieldBase","Base type of AppLookupField and MultipleAppLookupField"),Fe=function(e){_inherits(AppLookupFieldBase,e);var t=_createSuper(AppLookupFieldBase);function AppLookupFieldBase(){return _classCallCheck(this,AppLookupFieldBase),t.apply(this,arguments)}return _createClass(AppLookupFieldBase,[{key:o.symbols.type,value:function value(){return be}},{key:"lookupdata",get:function get(){return null!==this._lookupdata?this._lookupdata:null!==this.control.lookup_app.records?this.control.lookup_app.records:new Map}},{key:"lookupdata",set:function set(e){this._lookupdata=e}},{key:"_find_record",value:function _find_record(e){var t=e.value;if("string"==typeof t){var o=null!==this.control.lookup_app.records?this.control.lookup_app.records.get(t):void 0;void 0===o?(e.errors.push(this.msg_applookup_unknownkey(t)),e.value=null):e.value=o}else t instanceof d?t.app!==this.control.lookup_app&&(e.errors.push(this.msg_applookup_wrongrecord(t)),e.value=null):(e.errors.push(this.msg_field_wrong_type(t)),e.value=null)}}]),AppLookupFieldBase}(C),Ae=function(e){_inherits(AppLookupFieldType,e);var t=_createSuper(AppLookupFieldType);function AppLookupFieldType(){return _classCallCheck(this,AppLookupFieldType),t.apply(this,arguments)}return _createClass(AppLookupFieldType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof we}}]),AppLookupFieldType}(Le),Se=new Ae("la","AppLookupField","Holds the value of a applookup field of a record (and related information)"),we=function(e){_inherits(AppLookupField,e);var t=_createSuper(AppLookupField);function AppLookupField(){return _classCallCheck(this,AppLookupField),t.apply(this,arguments)}return _createClass(AppLookupField,[{key:o.symbols.type,value:function value(){return Se}},{key:"_validate",value:function _validate(e){this._find_record(e)}}]),AppLookupField}(Fe),Me=new(function(e){_inherits(AppLookupSelectFieldType,e);var t=_createSuper(AppLookupSelectFieldType);function AppLookupSelectFieldType(){return _classCallCheck(this,AppLookupSelectFieldType),t.apply(this,arguments)}return _createClass(AppLookupSelectFieldType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof xe}}]),AppLookupSelectFieldType}(Ae))("la","AppLookupSelectField","Holds the value of a `applookup`/`select` field of a record (and related information)"),xe=function(e){_inherits(AppLookupSelectField,e);var t=_createSuper(AppLookupSelectField);function AppLookupSelectField(){return _classCallCheck(this,AppLookupSelectField),t.apply(this,arguments)}return _createClass(AppLookupSelectField,[{key:o.symbols.type,value:function value(){return Me}},{key:"_get_dom_value",value:function _get_dom_value(){var e=_get(_getPrototypeOf(AppLookupSelectField.prototype),"_get_dom_value",this).call(this);return null!==this.control.lookup_app.records?void 0===(e=this.control.lookup_app.records.get(e))&&(e=null):e=null,e}},{key:"_set_dom_value",value:function _set_dom_value(e){var t={value:e,errors:[]};this._validate(t),_get(_getPrototypeOf(AppLookupSelectField.prototype),"_set_dom_value",this).call(this,null!=t.value?t.value.id:this.control.nonekey)}}]),AppLookupSelectField}(we),Ie=new(function(e){_inherits(AppLookupRadioFieldType,e);var t=_createSuper(AppLookupRadioFieldType);function AppLookupRadioFieldType(){return _classCallCheck(this,AppLookupRadioFieldType),t.apply(this,arguments)}return _createClass(AppLookupRadioFieldType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof Re}}]),AppLookupRadioFieldType}(Ae))("la","AppLookupRadioField","Holds the value of a `applookup`/`radio` field of a record (and related information)"),Re=function(e){_inherits(AppLookupRadioField,e);var t=_createSuper(AppLookupRadioField);function AppLookupRadioField(){return _classCallCheck(this,AppLookupRadioField),t.apply(this,arguments)}return _createClass(AppLookupRadioField,[{key:o.symbols.type,value:function value(){return Ie}}]),AppLookupRadioField}(we),De=new(function(e){_inherits(AppLookupChoiceFieldType,e);var t=_createSuper(AppLookupChoiceFieldType);function AppLookupChoiceFieldType(){return _classCallCheck(this,AppLookupChoiceFieldType),t.apply(this,arguments)}return _createClass(AppLookupChoiceFieldType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof He}}]),AppLookupChoiceFieldType}(Ae))("la","AppLookupChoiceField","Holds the value of a `applookup`/`choice` field of a record (and related information)"),He=function(e){_inherits(AppLookupChoiceField,e);var t=_createSuper(AppLookupChoiceField);function AppLookupChoiceField(){return _classCallCheck(this,AppLookupChoiceField),t.apply(this,arguments)}return _createClass(AppLookupChoiceField,[{key:o.symbols.type,value:function value(){return De}}]),AppLookupChoiceField}(we),Oe=function(e){_inherits(MultipleAppLookupFieldType,e);var t=_createSuper(MultipleAppLookupFieldType);function MultipleAppLookupFieldType(){return _classCallCheck(this,MultipleAppLookupFieldType),t.apply(this,arguments)}return _createClass(MultipleAppLookupFieldType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof Ne}}]),MultipleAppLookupFieldType}(Le),Be=new Oe("la","MultipleAppLookupField","Holds the value of a multiple applookup field of a record (and related information)"),Ne=function(e){_inherits(MultipleAppLookupField,e);var t=_createSuper(MultipleAppLookupField);function MultipleAppLookupField(){return _classCallCheck(this,MultipleAppLookupField),t.apply(this,arguments)}return _createClass(MultipleAppLookupField,[{key:o.symbols.type,value:function value(){return Be}},{key:"_validate",value:function _validate(e){var t=e.value,o="[object Array]"===Object.prototype.toString.call(t);if(null===t||""===t||this.control.nonekey===t||o&&0===t.length)this.control.required&&e.errors.push(this.msg_field_required(t)),e.value=[];else if(o){var l,r=[],n=_createForOfIteratorHelper(t);try{for(n.s();!(l=n.n()).done;){var a={value:l.value,errors:[]};this._find_record(a),a.errors.length>0?e.errors=[].concat(_toConsumableArray(e.errors),_toConsumableArray(a.errors)):r.push(a.value)}}catch(e){n.e(e)}finally{n.f()}e.value=r}else this._find_record(e),e.errors.length>0?e.value=[]:e.value=[e.value]}}]),MultipleAppLookupField}(Fe),Ue=new(function(e){_inherits(MultipleAppLookupCheckboxFieldType,e);var t=_createSuper(MultipleAppLookupCheckboxFieldType);function MultipleAppLookupCheckboxFieldType(){return _classCallCheck(this,MultipleAppLookupCheckboxFieldType),t.apply(this,arguments)}return _createClass(MultipleAppLookupCheckboxFieldType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof Pe}}]),MultipleAppLookupCheckboxFieldType}(Oe))("la","MultipleAppLookupCheckboxField","Holds the value of a `multipleapplookup`/`checkbox` field of a record (and related information)"),Pe=function(e){_inherits(MultipleAppLookupCheckboxField,e);var t=_createSuper(MultipleAppLookupCheckboxField);function MultipleAppLookupCheckboxField(){return _classCallCheck(this,MultipleAppLookupCheckboxField),t.apply(this,arguments)}return _createClass(MultipleAppLookupCheckboxField,[{key:o.symbols.type,value:function value(){return Ue}}]),MultipleAppLookupCheckboxField}(Ne),Ve=new(function(e){_inherits(MultipleAppLookupSelectFieldType,e);var t=_createSuper(MultipleAppLookupSelectFieldType);function MultipleAppLookupSelectFieldType(){return _classCallCheck(this,MultipleAppLookupSelectFieldType),t.apply(this,arguments)}return _createClass(MultipleAppLookupSelectFieldType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof Ge}}]),MultipleAppLookupSelectFieldType}(Oe))("la","MultipleAppLookupSelectField","Holds the value of a `multipleapplookup`/`select` field of a record (and related information)"),Ge=function(e){_inherits(MultipleAppLookupSelectField,e);var t=_createSuper(MultipleAppLookupSelectField);function MultipleAppLookupSelectField(){return _classCallCheck(this,MultipleAppLookupSelectField),t.apply(this,arguments)}return _createClass(MultipleAppLookupSelectField,[{key:o.symbols.type,value:function value(){return Ve}}]),MultipleAppLookupSelectField}(Ne),qe=new(function(e){_inherits(MultipleAppLookupChoiceFieldType,e);var t=_createSuper(MultipleAppLookupChoiceFieldType);function MultipleAppLookupChoiceFieldType(){return _classCallCheck(this,MultipleAppLookupChoiceFieldType),t.apply(this,arguments)}return _createClass(MultipleAppLookupChoiceFieldType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof Ee}}]),MultipleAppLookupChoiceFieldType}(Oe))("la","MultipleAppLookupChoiceField","Holds the value of a `multipleapplookup`/`choice` field of a record (and related information)"),Ee=function(e){_inherits(MultipleAppLookupChoiceField,e);var t=_createSuper(MultipleAppLookupChoiceField);function MultipleAppLookupChoiceField(){return _classCallCheck(this,MultipleAppLookupChoiceField),t.apply(this,arguments)}return _createClass(MultipleAppLookupChoiceField,[{key:o.symbols.type,value:function value(){return qe}}]),MultipleAppLookupChoiceField}(Ne),je=function(e){_inherits(ControlType,e);var t=_createSuper(ControlType);function ControlType(){return _classCallCheck(this,ControlType),t.apply(this,arguments)}return _createClass(ControlType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof Ye}}]),ControlType}(o.Type),We=new je("la","Control","Metainformation about a field in a LivingApps application"),Ye=function(e){_inherits(Control,e);var t=_createSuper(Control);function Control(){return _classCallCheck(this,Control),t.apply(this,arguments)}return _createClass(Control,[{key:o.symbols.type,value:function value(){return We}},{key:o.symbols.repr,value:function value(){return"<"+this.constructor.name+" id="+o._repr(this.id)+" identifier="+o._repr(this.identifier)+">"}},{key:"globals",get:function get(){return this.app.globals}},{key:"fulltype",get:function get(){return this.subtype?this.type+"/"+this.subtype:this.type}},{key:"label",get:function get(){var e=this._view_control();if(null===e)return this._label;var t=e.label;return null===t?this._label:t}},{key:"label",set:function set(e){this._label=e}},{key:"default",get:function get(){return null}},{key:"top",get:function get(){var e=this._view_control();return null!==e?e.top:null}},{key:"left",get:function get(){var e=this._view_control();return null!==e?e.left:null}},{key:"width",get:function get(){var e=this._view_control();return null!==e?e.width:null}},{key:"height",get:function get(){var e=this._view_control();return null!==e?e.height:null}},{key:"liveupdate",get:function get(){var e=this._view_control();return null!==e&&e.liveupdate}},{key:"tabindex",get:function get(){var e=this._view_control();return null!==e?e.tabindex:null}},{key:"required",get:function get(){var e=this._view_control();return null!==e&&e.required}},{key:"mode",get:function get(){var e=this._view_control();return null!==this.app._active_view&&null===e?null:null===this.app.globals.mode?"display":null!==e?e.mode:"edit"}},{key:"labelpos",get:function get(){var e=this._view_control();return null!==e?e.labelpos:"left"}},{key:"labelwidth",get:function get(){var e=this._view_control();return null!==e?e.labelwidth:null}},{key:"autoalign",get:function get(){var e=this._view_control();return null===e||e.autoalign}},{key:"in_active_view",get:function get(){return null!==this._view_control()}},{key:"_view_control",value:function _view_control(){if(null===this.app._active_view)return null;var e=this.app._active_view.controls.get(this.identifier);return null!=e?e:null}},{key:"_logsearch",value:function _logsearch(e,t){}},{key:"search",value:function search(e,t){return!1}}]),Control}(l);Ye.prototype.type=null,Ye.prototype.subtype=null,Ye.prototype._ul4onattrs=["identifier","fieldname","app","_label","priority","order","ininsertprocedure","inupdateprocedure"],Ye.prototype._ul4attrs=new Set(["id","identifier","fieldname","app","priority","order","ininsertprocedure","inupdateprocedure","fulltype","label","top","left","width","height","liveupdate","tabindex","required","mode","labelpos","autoalign","in_active_view"]),Ye.prototype._cssclass_root="llft-control",Ye.prototype._cssclass_control="input";var Je=new(function(e){_inherits(BoolControlType,e);var t=_createSuper(BoolControlType);function BoolControlType(){return _classCallCheck(this,BoolControlType),t.apply(this,arguments)}return _createClass(BoolControlType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof Ke}}]),BoolControlType}(je))("la","BoolControl","A LivingApps boolean field (type 'bool')"),Ke=function(e){_inherits(BoolControl,e);var t=_createSuper(BoolControl);function BoolControl(){return _classCallCheck(this,BoolControl),t.apply(this,arguments)}return _createClass(BoolControl,[{key:o.symbols.type,value:function value(){return Je}},{key:"search",value:function search(e,t){return this._logsearch(e,t),"equals"===t.operator&&t.value===e}}]),BoolControl}(Ye);Ke.prototype.type="bool",Ke.prototype.fieldtype=g;var ze=new(function(e){_inherits(IntControlType,e);var t=_createSuper(IntControlType);function IntControlType(){return _classCallCheck(this,IntControlType),t.apply(this,arguments)}return _createClass(IntControlType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof $e}}]),IntControlType}(je))("la","IntControl","A LivingApps integer field (type 'int')"),$e=function(e){_inherits(IntControl,e);var t=_createSuper(IntControl);function IntControl(){return _classCallCheck(this,IntControl),t.apply(this,arguments)}return _createClass(IntControl,[{key:o.symbols.type,value:function value(){return ze}},{key:"search",value:function search(e,t){return this._logsearch(e,t),"equals"===t.operator&&t.value===e}}]),IntControl}(Ye);$e.prototype.type="int",$e.prototype.fieldtype=L;var Ze=function(e){_inherits(PlaceholderControlType,e);var t=_createSuper(PlaceholderControlType);function PlaceholderControlType(){return _classCallCheck(this,PlaceholderControlType),t.apply(this,arguments)}return _createClass(PlaceholderControlType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof PlaceholderControld}}]),PlaceholderControlType}(je),Qe=new Ze("la","PlaceholderControl","A LivingApps field that has a placeholder"),Xe=function(e){_inherits(PlaceholderControl,e);var t=_createSuper(PlaceholderControl);function PlaceholderControl(){return _classCallCheck(this,PlaceholderControl),t.apply(this,arguments)}return _createClass(PlaceholderControl,[{key:o.symbols.type,value:function value(){return Qe}},{key:"placeholder",get:function get(){var e=this._view_control();return null===e?null:e.placeholder}}]),PlaceholderControl}(Ye);Xe.prototype._ul4attrs=new Set([].concat(_toConsumableArray(Ye.prototype._ul4attrs),["placeholder"]));var et=new(function(e){_inherits(NumberControlType,e);var t=_createSuper(NumberControlType);function NumberControlType(){return _classCallCheck(this,NumberControlType),t.apply(this,arguments)}return _createClass(NumberControlType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof tt}}]),NumberControlType}(Ze))("la","NumberControl","A LivingApps number field (type 'number')"),tt=function(e){_inherits(NumberControl,e);var t=_createSuper(NumberControl);function NumberControl(){return _classCallCheck(this,NumberControl),t.apply(this,arguments)}return _createClass(NumberControl,[{key:o.symbols.type,value:function value(){return et}},{key:"search",value:function search(e,t){return this._logsearch(e,t),"equals"===t.operator?t.value===e:"range"===t.operator&&(null!==e&&((null===t.minvalue||t.minvalue<=e)&&(null===t.maxvalue||e<t.maxvalue)))}}]),NumberControl}(Xe);tt.prototype.type="number",tt.prototype.fieldtype=A,tt.prototype._ul4onattrs=[].concat(_toConsumableArray(Ye.prototype._ul4onattrs),["precision","minimum","maximum"]),tt.prototype._ul4attrs=new Set([].concat(_toConsumableArray(Ye.prototype._ul4attrs),["precision","minimum","maximum"]));var ot=function(e){_inherits(StringControlType,e);var t=_createSuper(StringControlType);function StringControlType(){return _classCallCheck(this,StringControlType),t.apply(this,arguments)}return _createClass(StringControlType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof rt}}]),StringControlType}(Ze),lt=new ot("la","StringControl","A LivingApps number field (type 'string')"),rt=function(e){_inherits(StringControl,e);var t=_createSuper(StringControl);function StringControl(){return _classCallCheck(this,StringControl),t.apply(this,arguments)}return _createClass(StringControl,[{key:o.symbols.type,value:function value(){return lt}},{key:"_user_placeholder",value:function _user_placeholder(e,t){if(null===t)return null;switch(t){case"{gender}":return null!==e?e.gender:null;case"{title}":return null!==e?e.title:null;case"{firstname}":return null!==e?e.firstname:null;case"{surname}":return null!==e?e.surname:null;case"{account}":return null!==e?e.email:null;case"{streetname}":return null!==e?e.streetname:null;case"{streetnumber}":return null!==e?e.streetnumber:null;case"{street}":return null===e?null:null===e.street?e.streetnumber:null===e.streetnumber?e.street:e.street+" "+e.streetnumber;case"{zip}":return null!==e?e.zip:null;case"{phone}":return null!==e?e.phone:null;case"{fax}":return null!==e?e.fax:null;case"{company}":return null!==e?e.company:null;case"{city}":return null!==e?e.city:null;case"{summary}":return null!==e?e.summary:null;case"{interests}":return null!==e?e.interests:null;case"{personal_website}":return null!==e?e.personal_website:null;case"{company_website}":return null!==e?e.company_website:null;case"{position}":return null!==e?e.position:null;case"{department}":return null!==e?e.department:null;case"{today}":return o.today();default:return t}}},{key:"default",get:function get(){var e=this._view_control();return null===e?null:this._user_placeholder(this.app.globals.user,e.default)}},{key:"minlength",get:function get(){var e=this._view_control();if(null===e)return 0;var t=e.minlength;return null===t||t<0?0:t}},{key:"maxlength",get:function get(){var e=this._view_control();if(null===e)return 4e3;var t=e.maxlength;return null===t||t<0||t>4e3?4e3:t}},{key:"search",value:function search(e,t){return this._logsearch(e,t),"equals"===t.operator?t.value===e:"contains"===t.operator?null===t.value||null===e?t.value===e:e.toLowerCase().indexOf(t.value.toLowerCase())>=0:void 0}}]),StringControl}(Xe);rt.prototype.type="string";var nt=new(function(e){_inherits(TextControlType,e);var t=_createSuper(TextControlType);function TextControlType(){return _classCallCheck(this,TextControlType),t.apply(this,arguments)}return _createClass(TextControlType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof at}}]),TextControlType}(ot))("la","TextControl","A LivingApps text field (type 'string/text')"),at=function(e){_inherits(TextControl,e);var t=_createSuper(TextControl);function TextControl(){return _classCallCheck(this,TextControl),t.apply(this,arguments)}return _createClass(TextControl,[{key:o.symbols.type,value:function value(){return nt}}]),TextControl}(rt);at.prototype.subtype="text",at.prototype.fieldtype=M;var it=new(function(e){_inherits(EmailControlType,e);var t=_createSuper(EmailControlType);function EmailControlType(){return _classCallCheck(this,EmailControlType),t.apply(this,arguments)}return _createClass(EmailControlType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof ut}}]),EmailControlType}(ot))("la","EmailControl","A LivingApps email field (type 'string/email')"),ut=function(e){_inherits(EmailControl,e);var t=_createSuper(EmailControl);function EmailControl(){return _classCallCheck(this,EmailControl),t.apply(this,arguments)}return _createClass(EmailControl,[{key:o.symbols.type,value:function value(){return it}}]),EmailControl}(rt);ut.prototype.subtype="email",ut.prototype.fieldtype=I;var st=new(function(e){_inherits(URLControlType,e);var t=_createSuper(URLControlType);function URLControlType(){return _classCallCheck(this,URLControlType),t.apply(this,arguments)}return _createClass(URLControlType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof pt}}]),URLControlType}(ot))("la","URLControl","A LivingApps URL field (type 'string/url')"),pt=function(e){_inherits(URLControl,e);var t=_createSuper(URLControl);function URLControl(){return _classCallCheck(this,URLControl),t.apply(this,arguments)}return _createClass(URLControl,[{key:o.symbols.type,value:function value(){return st}}]),URLControl}(rt);pt.prototype.subtype="url",pt.prototype.fieldtype=D;var ct=new(function(e){_inherits(TelControlType,e);var t=_createSuper(TelControlType);function TelControlType(){return _classCallCheck(this,TelControlType),t.apply(this,arguments)}return _createClass(TelControlType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof yt}}]),TelControlType}(ot))("la","TelControl","A LivingApps phone number field (type 'string/tel')"),yt=function(e){_inherits(TelControl,e);var t=_createSuper(TelControl);function TelControl(){return _classCallCheck(this,TelControl),t.apply(this,arguments)}return _createClass(TelControl,[{key:o.symbols.type,value:function value(){return ct}}]),TelControl}(rt);yt.prototype.subtype="tel",yt.prototype.fieldtype=O;var ht=new(function(e){_inherits(TextAreaControlType,e);var t=_createSuper(TextAreaControlType);function TextAreaControlType(){return _classCallCheck(this,TextAreaControlType),t.apply(this,arguments)}return _createClass(TextAreaControlType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof _t}}]),TextAreaControlType}(ot))("la","TextAreaControl","A LivingApps textarea field (type 'string/textarea')"),_t=function(e){_inherits(TextAreaControl,e);var t=_createSuper(TextAreaControl);function TextAreaControl(){return _classCallCheck(this,TextAreaControl),t.apply(this,arguments)}return _createClass(TextAreaControl,[{key:o.symbols.type,value:function value(){return ht}},{key:"maxlength",get:function get(){var e=this._view_control();if(null===e)return null;if(null!==this.encrypted)return null;var t=e.maxlength;return t<0?null:t}}]),TextAreaControl}(rt);_t.prototype.subtype="textarea",_t.prototype.fieldtype=N,_t.prototype._ul4onattrs=[].concat(_toConsumableArray(rt.prototype._ul4onattrs),["encrypted"]),_t.prototype._ul4attrs=new Set([].concat(_toConsumableArray(rt.prototype._ul4attrs),["encrypted"])),_t.prototype._cssclass_control="textarea";var ft=new(function(e){_inherits(HTMLControlType,e);var t=_createSuper(HTMLControlType);function HTMLControlType(){return _classCallCheck(this,HTMLControlType),t.apply(this,arguments)}return _createClass(HTMLControlType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof dt}}]),HTMLControlType}(ot))("la","HTMLControl","A LivingApps HTML field (type 'string/html')"),dt=function(e){_inherits(HTMLControl,e);var t=_createSuper(HTMLControl);function HTMLControl(){return _classCallCheck(this,HTMLControl),t.apply(this,arguments)}return _createClass(HTMLControl,[{key:o.symbols.type,value:function value(){return ft}}]),HTMLControl}(rt);dt.prototype.subtype="html",dt.prototype.fieldtype=P;var kt=function(e){_inherits(DateControlType,e);var t=_createSuper(DateControlType);function DateControlType(){return _classCallCheck(this,DateControlType),t.apply(this,arguments)}return _createClass(DateControlType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof Ct}}]),DateControlType}(Ze),vt=new kt("la","DateControl","A LivingApps date field (type 'date/date')"),Ct=function(e){_inherits(DateControl,e);var t=_createSuper(DateControl);function DateControl(){return _classCallCheck(this,DateControl),t.apply(this,arguments)}return _createClass(DateControl,[{key:o.symbols.type,value:function value(){return vt}},{key:"default",get:function get(){var e=this._view_control();return null===e?null:"{today}"===e.default?o.today():null}},{key:"formatstring",value:function formatstring(e){return"de"!==(e=e||this.globals.lang)&&"fr"!==e&&"it"!==e&&(e="en"),this._formatstrings[e]}},{key:"formatstrings_parse",value:function formatstrings_parse(e){return"de"!==(e=e||this.globals.lang)&&"fr"!==e&&"it"!==e&&(e="en"),[this._formatstrings[e]].concat(_toConsumableArray(this._formatstrings.intl),[gt.prototype._formatstrings[e]],_toConsumableArray(gt.prototype._formatstrings.intl),[Lt.prototype._formatstrings[e]],_toConsumableArray(Lt.prototype._formatstrings.intl))}},{key:"search",value:function search(e,t){this._logsearch(e,t);var l=t.value;return"[object Date]"==Object.prototype.toString.call(l)&&(l=o._format(l,this.formatstring(),this.app.language)),null!==e&&(e=o._format(e,this.formatstring(),this.app.language)),"equals"===t.operator?l===e:"contains"===t.operator&&(null===l||null===e?l===e:e.toLowerCase().indexOf(l.toLowerCase())>=0)}}]),DateControl}(Xe);Ct.prototype.type="date",Ct.prototype.subtype="date",Ct.prototype.fieldtype=Z,Ct.prototype._formatstrings={de:"%d.%m.%Y",fr:"%d.%m.%Y",it:"%d.%m.%Y",en:"%m/%d/%Y",intl:["%Y-%m-%d"]};var mt=new(function(e){_inherits(DatetimeMinuteControlType,e);var t=_createSuper(DatetimeMinuteControlType);function DatetimeMinuteControlType(){return _classCallCheck(this,DatetimeMinuteControlType),t.apply(this,arguments)}return _createClass(DatetimeMinuteControlType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof gt}}]),DatetimeMinuteControlType}(kt))("la","DatetimeMinuteControl","A LivingApps date field (type 'date/datetimeminute')"),gt=function(e){_inherits(DatetimeMinuteControl,e);var t=_createSuper(DatetimeMinuteControl);function DatetimeMinuteControl(){return _classCallCheck(this,DatetimeMinuteControl),t.apply(this,arguments)}return _createClass(DatetimeMinuteControl,[{key:o.symbols.type,value:function value(){return mt}},{key:"default",get:function get(){var e=this._view_control();if(null===e)return null;if("{today}"===e.default){var t=new Date;return t.setSeconds(0),t.setMilliseconds(0),t}return null}},{key:"formatstrings_parse",value:function formatstrings_parse(e){return"de"!==(e=e||this.globals.lang)&&"fr"!==e&&"it"!==e&&(e="en"),[this._formatstrings[e]].concat(_toConsumableArray(this._formatstrings.intl),[Lt.prototype._formatstrings[e]],_toConsumableArray(Lt.prototype._formatstrings.intl),[Ct.prototype._formatstrings[e]],_toConsumableArray(Ct.prototype._formatstrings.intl))}}]),DatetimeMinuteControl}(Ct);gt.prototype.subtype="datetimeminute",gt.prototype.fieldtype=X,gt.prototype._formatstrings={de:"%d.%m.%Y %H:%M",fr:"%d.%m.%Y %H:%M",it:"%d.%m.%Y %H:%M",en:"%m/%d/%Y %H:%M",intl:["%Y-%m-%dT%H:%M","%Y-%m-%d %H:%M"]};var Tt=new(function(e){_inherits(DatetimeSecondControlType,e);var t=_createSuper(DatetimeSecondControlType);function DatetimeSecondControlType(){return _classCallCheck(this,DatetimeSecondControlType),t.apply(this,arguments)}return _createClass(DatetimeSecondControlType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof Lt}}]),DatetimeSecondControlType}(kt))("la","DatetimeSecondControl","A LivingApps date field (type 'date/datetimesecond')"),Lt=function(e){_inherits(DatetimeSecondControl,e);var t=_createSuper(DatetimeSecondControl);function DatetimeSecondControl(){return _classCallCheck(this,DatetimeSecondControl),t.apply(this,arguments)}return _createClass(DatetimeSecondControl,[{key:o.symbols.type,value:function value(){return Tt}},{key:"default",get:function get(){var e=this._view_control();if(null===e)return null;if("{today}"===e.default){var t=new Date;return t.setMilliseconds(0),t}return null}},{key:"formatstrings_parse",value:function formatstrings_parse(e){return"de"!==(e=e||this.globals.lang)&&"fr"!==e&&"it"!==e&&(e="en"),[this._formatstrings[e]].concat(_toConsumableArray(this._formatstrings.intl),[gt.prototype._formatstrings[e]],_toConsumableArray(gt.prototype._formatstrings.intl),[Ct.prototype._formatstrings[e]],_toConsumableArray(Ct.prototype._formatstrings.intl))}}]),DatetimeSecondControl}(Ct);Lt.prototype.subtype="datetimesecond",Lt.prototype.fieldtype=te,Lt.prototype._formatstrings={de:"%d.%m.%Y %H:%M:%S",fr:"%d.%m.%Y %H:%M:%S",it:"%d.%m.%Y %H:%M:%S",en:"%m/%d/%Y %H:%M:%S",intl:["%Y-%m-%dT%H:%M:%S","%Y-%m-%d %H:%M:%S"]};var bt=function(e){_inherits(LookupControlType,e);var t=_createSuper(LookupControlType);function LookupControlType(){return _classCallCheck(this,LookupControlType),t.apply(this,arguments)}return _createClass(LookupControlType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof At}}]),LookupControlType}(je),Ft=new bt("la","LookupControl","A LivingApps date field (type 'lookup')"),At=function(e){_inherits(LookupControl,e);var t=_createSuper(LookupControl);function LookupControl(){return _classCallCheck(this,LookupControl),t.apply(this,arguments)}return _createClass(LookupControl,[{key:o.symbols.type,value:function value(){return Ft}},{key:"default",get:function get(){var e,t=this._view_control();return null===t?null:null!==(e=this.lookupdata.get(t))&&void 0!==e?e:null}},{key:"autoexpandable",get:function get(){var e=this._view_control();return null!==e&&e.autoexpandable}},{key:"nonekey",get:function get(){var e=this._view_control();return null===e?null:e.lookupnonekey}},{key:"nonelabel",get:function get(){var e=this._view_control();return null===e?null:e.lookupnonelabel}},{key:"search",value:function search(e,t){return"equals"===t.operator&&(null===e?null===t.value:e.key===t.value)}}]),LookupControl}(Ye);At.prototype.type="lookup",At.prototype.fieldtype=ie,At.prototype._ul4onattrs=[].concat(_toConsumableArray(Ye.prototype._ul4onattrs),["lookupdata"]),At.prototype._ul4attrs=new Set([].concat(_toConsumableArray(Ye.prototype._ul4attrs),["lookupdata"]));var St=new(function(e){_inherits(LookupSelectControlType,e);var t=_createSuper(LookupSelectControlType);function LookupSelectControlType(){return _classCallCheck(this,LookupSelectControlType),t.apply(this,arguments)}return _createClass(LookupSelectControlType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof wt}}]),LookupSelectControlType}(bt))("la","LookupSelectControl","A LivingApps lookup field (type 'lookup/select')"),wt=function(e){_inherits(LookupSelectControl,e);var t=_createSuper(LookupSelectControl);function LookupSelectControl(){return _classCallCheck(this,LookupSelectControl),t.apply(this,arguments)}return _createClass(LookupSelectControl,[{key:o.symbols.type,value:function value(){return St}}]),LookupSelectControl}(At);wt.prototype.subtype="select",wt.prototype.fieldtype=ce,wt.prototype._cssclass_control="select";var Mt=new(function(e){_inherits(LookupRadioControlType,e);var t=_createSuper(LookupRadioControlType);function LookupRadioControlType(){return _classCallCheck(this,LookupRadioControlType),t.apply(this,arguments)}return _createClass(LookupRadioControlType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof xt}}]),LookupRadioControlType}(bt))("la","LookupRadioControl","A LivingApps lookup field (type 'lookup/radio')"),xt=function(e){_inherits(LookupRadioControl,e);var t=_createSuper(LookupRadioControl);function LookupRadioControl(){return _classCallCheck(this,LookupRadioControl),t.apply(this,arguments)}return _createClass(LookupRadioControl,[{key:o.symbols.type,value:function value(){return Mt}}]),LookupRadioControl}(At);xt.prototype.subtype="radio",xt.prototype.fieldtype=se,xt.prototype._cssclass_root="llft-element";var It=new(function(e){_inherits(LookupChoiceControlType,e);var t=_createSuper(LookupChoiceControlType);function LookupChoiceControlType(){return _classCallCheck(this,LookupChoiceControlType),t.apply(this,arguments)}return _createClass(LookupChoiceControlType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof Rt}}]),LookupChoiceControlType}(bt))("la","LookupChoiceControl","A LivingApps lookup field (type 'lookup/choice')"),Rt=function(e){_inherits(LookupChoiceControl,e);var t=_createSuper(LookupChoiceControl);function LookupChoiceControl(){return _classCallCheck(this,LookupChoiceControl),t.apply(this,arguments)}return _createClass(LookupChoiceControl,[{key:o.symbols.type,value:function value(){return It}}]),LookupChoiceControl}(At);Rt.prototype.subtype="choice",Rt.prototype.fieldtype=he;var Dt=function(e){_inherits(AppLookupControlType,e);var t=_createSuper(AppLookupControlType);function AppLookupControlType(){return _classCallCheck(this,AppLookupControlType),t.apply(this,arguments)}return _createClass(AppLookupControlType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof Ot}}]),AppLookupControlType}(je),Ht=new Dt("la","AppLookupControl","A LivingApps lookup field (type 'applookup')"),Ot=function(e){_inherits(AppLookupControl,e);var t=_createSuper(AppLookupControl);function AppLookupControl(){return _classCallCheck(this,AppLookupControl),t.apply(this,arguments)}return _createClass(AppLookupControl,[{key:o.symbols.type,value:function value(){return Ht}},{key:"nonekey",get:function get(){var e=this._view_control();return null===e?null:e.lookupnonekey}},{key:"nonelabel",get:function get(){var e=this._view_control();return null===e?null:e.lookupnonelabel}},{key:"search",value:function search(e,t){return null===e||null===t.value?e===t.value:e.search(t)}}]),AppLookupControl}(Ye);Ot.prototype.type="applookup",Ot.prototype.fieldtype=we,Ot.prototype._ul4onattrs=[].concat(_toConsumableArray(Ye.prototype._ul4onattrs),["lookup_app","lookup_controls","local_master_control","local_detail_controls","remote_master_control"]),Ot.prototype._ul4attrs=new Set([].concat(_toConsumableArray(Ye.prototype._ul4attrs),["lookup_app","lookup_controls","local_master_control","local_detail_controls","remote_master_control"]));var Bt=new(function(e){_inherits(AppLookupSelectControlType,e);var t=_createSuper(AppLookupSelectControlType);function AppLookupSelectControlType(){return _classCallCheck(this,AppLookupSelectControlType),t.apply(this,arguments)}return _createClass(AppLookupSelectControlType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof Nt}}]),AppLookupSelectControlType}(Dt))("la","AppLookupSelectControl","A LivingApps applookup field (type 'applookup/select')"),Nt=function(e){_inherits(AppLookupSelectControl,e);var t=_createSuper(AppLookupSelectControl);function AppLookupSelectControl(){return _classCallCheck(this,AppLookupSelectControl),t.apply(this,arguments)}return _createClass(AppLookupSelectControl,[{key:o.symbols.type,value:function value(){return Bt}}]),AppLookupSelectControl}(Ot);Nt.prototype.subtype="select",Nt.prototype.fieldtype=xe,Nt.prototype._cssclass_control="select";var Ut=new(function(e){_inherits(AppLookupRadioControlType,e);var t=_createSuper(AppLookupRadioControlType);function AppLookupRadioControlType(){return _classCallCheck(this,AppLookupRadioControlType),t.apply(this,arguments)}return _createClass(AppLookupRadioControlType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof Pt}}]),AppLookupRadioControlType}(Dt))("la","AppLookupRadioControl","A LivingApps applookup field (type 'applookup/radio')"),Pt=function(e){_inherits(AppLookupRadioControl,e);var t=_createSuper(AppLookupRadioControl);function AppLookupRadioControl(){return _classCallCheck(this,AppLookupRadioControl),t.apply(this,arguments)}return _createClass(AppLookupRadioControl,[{key:o.symbols.type,value:function value(){return Ut}}]),AppLookupRadioControl}(Ot);Pt.prototype.subtype="radio",Pt.prototype.fieldtype=Re;var Vt=new(function(e){_inherits(AppLookupChoiceControlType,e);var t=_createSuper(AppLookupChoiceControlType);function AppLookupChoiceControlType(){return _classCallCheck(this,AppLookupChoiceControlType),t.apply(this,arguments)}return _createClass(AppLookupChoiceControlType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof Gt}}]),AppLookupChoiceControlType}(Dt))("la","AppLookupChoiceControl","A LivingApps applookup field (type 'applookup/choice')"),Gt=function(e){_inherits(AppLookupChoiceControl,e);var t=_createSuper(AppLookupChoiceControl);function AppLookupChoiceControl(){return _classCallCheck(this,AppLookupChoiceControl),t.apply(this,arguments)}return _createClass(AppLookupChoiceControl,[{key:o.symbols.type,value:function value(){return Vt}}]),AppLookupChoiceControl}(Ot);Gt.prototype.subtype="choice",Gt.prototype.fieldtype=He;var qt=function(e){_inherits(MultipleLookupControlType,e);var t=_createSuper(MultipleLookupControlType);function MultipleLookupControlType(){return _classCallCheck(this,MultipleLookupControlType),t.apply(this,arguments)}return _createClass(MultipleLookupControlType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof jt}}]),MultipleLookupControlType}(bt),Et=new qt("la","MultipleLookupControl","A LivingApps multiple applookup field (type 'multipleapplookup')"),jt=function(e){_inherits(MultipleLookupControl,e);var t=_createSuper(MultipleLookupControl);function MultipleLookupControl(){return _classCallCheck(this,MultipleLookupControl),t.apply(this,arguments)}return _createClass(MultipleLookupControl,[{key:o.symbols.type,value:function value(){return Et}},{key:"default",get:function get(){var e=this._view_control();if(null===e)return null;var t=this.lookupdata.get(e);return void 0!==t?[t]:[]}},{key:"search",value:function search(e,t){if("equals"===t.operator){var o,l=_createForOfIteratorHelper(e);try{for(l.s();!(o=l.n()).done;){if(o.value.key===t.value)return!0}}catch(e){l.e(e)}finally{l.f()}return!1}return!1}}]),MultipleLookupControl}(At);jt.prototype.type="multiplelookup",jt.prototype.fieldtype=de;var Wt=new(function(e){_inherits(MultipleLookupCheckboxControlType,e);var t=_createSuper(MultipleLookupCheckboxControlType);function MultipleLookupCheckboxControlType(){return _classCallCheck(this,MultipleLookupCheckboxControlType),t.apply(this,arguments)}return _createClass(MultipleLookupCheckboxControlType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof Yt}}]),MultipleLookupCheckboxControlType}(qt))("la","MultipleLookupCheckboxControl","A LivingApps multiplelookup field (type 'multiplelookup/checkbox')"),Yt=function(e){_inherits(MultipleLookupCheckboxControl,e);var t=_createSuper(MultipleLookupCheckboxControl);function MultipleLookupCheckboxControl(){return _classCallCheck(this,MultipleLookupCheckboxControl),t.apply(this,arguments)}return _createClass(MultipleLookupCheckboxControl,[{key:o.symbols.type,value:function value(){return Wt}},{key:"_sel_label",get:function get(){return this._sel_root+" label:not([for]) > span"}}]),MultipleLookupCheckboxControl}(jt);Yt.prototype.subtype="checkbox",Yt.prototype.fieldtype=ve,Yt.prototype._cssclass_root="llft-element";var Jt=new(function(e){_inherits(MultipleLookupSelectControlType,e);var t=_createSuper(MultipleLookupSelectControlType);function MultipleLookupSelectControlType(){return _classCallCheck(this,MultipleLookupSelectControlType),t.apply(this,arguments)}return _createClass(MultipleLookupSelectControlType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof Kt}}]),MultipleLookupSelectControlType}(qt))("la","MultipleLookupSelectControl","A LivingApps multiplelookup field (type 'multiplelookup/select')"),Kt=function(e){_inherits(MultipleLookupSelectControl,e);var t=_createSuper(MultipleLookupSelectControl);function MultipleLookupSelectControl(){return _classCallCheck(this,MultipleLookupSelectControl),t.apply(this,arguments)}return _createClass(MultipleLookupSelectControl,[{key:o.symbols.type,value:function value(){return Jt}}]),MultipleLookupSelectControl}(jt);Kt.prototype.subtype="select",Kt.prototype.fieldtype=me,Kt.prototype._cssclass_control="select";var zt=new(function(e){_inherits(MultipleLookupChoiceControlType,e);var t=_createSuper(MultipleLookupChoiceControlType);function MultipleLookupChoiceControlType(){return _classCallCheck(this,MultipleLookupChoiceControlType),t.apply(this,arguments)}return _createClass(MultipleLookupChoiceControlType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof $t}}]),MultipleLookupChoiceControlType}(qt))("la","MultipleLookupChoiceControl","A LivingApps multiplelookup field (type 'multiplelookup/choice')"),$t=function(e){_inherits(MultipleLookupChoiceControl,e);var t=_createSuper(MultipleLookupChoiceControl);function MultipleLookupChoiceControl(){return _classCallCheck(this,MultipleLookupChoiceControl),t.apply(this,arguments)}return _createClass(MultipleLookupChoiceControl,[{key:o.symbols.type,value:function value(){return zt}}]),MultipleLookupChoiceControl}(jt);$t.prototype.subtype="choice",$t.prototype.fieldtype=Te;var Zt=function(e){_inherits(MultipleAppLookupControlType,e);var t=_createSuper(MultipleAppLookupControlType);function MultipleAppLookupControlType(){return _classCallCheck(this,MultipleAppLookupControlType),t.apply(this,arguments)}return _createClass(MultipleAppLookupControlType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof Xt}}]),MultipleAppLookupControlType}(Dt),Qt=new Zt("la","MultipleAppLookupControl","A LivingApps multiple applookup field (type 'multipleapplookup')"),Xt=function(e){_inherits(MultipleAppLookupControl,e);var t=_createSuper(MultipleAppLookupControl);function MultipleAppLookupControl(){return _classCallCheck(this,MultipleAppLookupControl),t.apply(this,arguments)}return _createClass(MultipleAppLookupControl,[{key:o.symbols.type,value:function value(){return Qt}},{key:"search",value:function search(e,t){if("equals"===t.operator){if(null===t.value)return 0===e.length;var o,l=_createForOfIteratorHelper(e);try{for(l.s();!(o=l.n()).done;){if(o.value.search(t.value))return!0}}catch(e){l.e(e)}finally{l.f()}return!1}return!1}}]),MultipleAppLookupControl}(Ot);Xt.prototype.type="multipleapplookup",Xt.prototype.fieldtype=Ne;var eo=new(function(e){_inherits(MultipleAppLookupSelectControlType,e);var t=_createSuper(MultipleAppLookupSelectControlType);function MultipleAppLookupSelectControlType(){return _classCallCheck(this,MultipleAppLookupSelectControlType),t.apply(this,arguments)}return _createClass(MultipleAppLookupSelectControlType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof to}}]),MultipleAppLookupSelectControlType}(Zt))("la","MultipleAppLookupSelectControl","A LivingApps multiple applookup field (type 'multipleapplookup/select')"),to=function(e){_inherits(MultipleAppLookupSelectControl,e);var t=_createSuper(MultipleAppLookupSelectControl);function MultipleAppLookupSelectControl(){return _classCallCheck(this,MultipleAppLookupSelectControl),t.apply(this,arguments)}return _createClass(MultipleAppLookupSelectControl,[{key:o.symbols.type,value:function value(){return eo}}]),MultipleAppLookupSelectControl}(Xt);to.prototype.subtype="select",to.prototype.fieldtype=Ge,to.prototype._cssclass_control="select";var oo=new(function(e){_inherits(MultipleAppLookupCheckboxControlType,e);var t=_createSuper(MultipleAppLookupCheckboxControlType);function MultipleAppLookupCheckboxControlType(){return _classCallCheck(this,MultipleAppLookupCheckboxControlType),t.apply(this,arguments)}return _createClass(MultipleAppLookupCheckboxControlType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof lo}}]),MultipleAppLookupCheckboxControlType}(Zt))("la","MultipleAppLookupCheckboxControl","A LivingApps multiple applookup field (type 'multipleapplookup/checkbox')"),lo=function(e){_inherits(MultipleAppLookupCheckboxControl,e);var t=_createSuper(MultipleAppLookupCheckboxControl);function MultipleAppLookupCheckboxControl(){return _classCallCheck(this,MultipleAppLookupCheckboxControl),t.apply(this,arguments)}return _createClass(MultipleAppLookupCheckboxControl,[{key:o.symbols.type,value:function value(){return oo}}]),MultipleAppLookupCheckboxControl}(Xt);lo.prototype.subtype="checkbox",lo.prototype.fieldtype=Pe;var ro=new(function(e){_inherits(MultipleAppLookupChoiceControlType,e);var t=_createSuper(MultipleAppLookupChoiceControlType);function MultipleAppLookupChoiceControlType(){return _classCallCheck(this,MultipleAppLookupChoiceControlType),t.apply(this,arguments)}return _createClass(MultipleAppLookupChoiceControlType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof no}}]),MultipleAppLookupChoiceControlType}(Zt))("la","MultipleAppLookupChoiceControl","A LivingApps multiple applookup field (type 'multipleapplookup/choice')"),no=function(e){_inherits(MultipleAppLookupChoiceControl,e);var t=_createSuper(MultipleAppLookupChoiceControl);function MultipleAppLookupChoiceControl(){return _classCallCheck(this,MultipleAppLookupChoiceControl),t.apply(this,arguments)}return _createClass(MultipleAppLookupChoiceControl,[{key:o.symbols.type,value:function value(){return ro}}]),MultipleAppLookupChoiceControl}(Xt);no.prototype.subtype="choice",no.prototype.fieldtype=Ee;var ao=new(function(e){_inherits(GeoControlType,e);var t=_createSuper(GeoControlType);function GeoControlType(){return _classCallCheck(this,GeoControlType),t.apply(this,arguments)}return _createClass(GeoControlType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof io}}]),GeoControlType}(je))("la","GeoControl","A LivingApps geo field (type 'geo')"),io=function(e){_inherits(GeoControl,e);var t=_createSuper(GeoControl);function GeoControl(){return _classCallCheck(this,GeoControl),t.apply(this,arguments)}return _createClass(GeoControl,[{key:o.symbols.type,value:function value(){return ao}}]),GeoControl}(Ye);io.prototype.type="geo",io.prototype.fieldtype=G,io.prototype._cssclass_root="llft-element";var uo=function(e){_inherits(FileControlType,e);var t=_createSuper(FileControlType);function FileControlType(){return _classCallCheck(this,FileControlType),t.apply(this,arguments)}return _createClass(FileControlType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof po}}]),FileControlType}(je),so=new uo("la","FileControl","A LivingApps upload field (type 'file')"),po=function(e){_inherits(FileControl,e);var t=_createSuper(FileControl);function FileControl(){return _classCallCheck(this,FileControl),t.apply(this,arguments)}return _createClass(FileControl,[{key:o.symbols.type,value:function value(){return so}}]),FileControl}(Ye);po.prototype.type="file",po.prototype.fieldtype=j,po.prototype._cssclass_root="llft-element";var co=new(function(e){_inherits(FileSignatureControlType,e);var t=_createSuper(FileSignatureControlType);function FileSignatureControlType(){return _classCallCheck(this,FileSignatureControlType),t.apply(this,arguments)}return _createClass(FileSignatureControlType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof yo}}]),FileSignatureControlType}(uo))("la","FileSignatureControl","A LivingApps signature image field (type 'file/signature')"),yo=function(e){_inherits(FileSignatureControl,e);var t=_createSuper(FileSignatureControl);function FileSignatureControl(){return _classCallCheck(this,FileSignatureControl),t.apply(this,arguments)}return _createClass(FileSignatureControl,[{key:o.symbols.type,value:function value(){return co}}]),FileSignatureControl}(po);yo.prototype.subtype="signature",yo.prototype.fieldtype=Y;var ho=new(function(e){_inherits(ButtonControlType,e);var t=_createSuper(ButtonControlType);function ButtonControlType(){return _classCallCheck(this,ButtonControlType),t.apply(this,arguments)}return _createClass(ButtonControlType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof _o}}]),ButtonControlType}(je))("la","ButtonControl","A submit button"),_o=function(e){_inherits(ButtonControl,e);var t=_createSuper(ButtonControl);function ButtonControl(){return _classCallCheck(this,ButtonControl),t.apply(this,arguments)}return _createClass(ButtonControl,[{key:o.symbols.type,value:function value(){return ho}}]),ButtonControl}(Ye);_o.prototype.type="button";var fo=new(function(e){_inherits(LookupItemType,e);var t=_createSuper(LookupItemType);function LookupItemType(){return _classCallCheck(this,LookupItemType),t.apply(this,arguments)}return _createClass(LookupItemType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof ko}}]),LookupItemType}(o.Type))("la","LookupItem","An option in a lookup control/field"),ko=function(e){_inherits(LookupItem,e);var t=_createSuper(LookupItem);function LookupItem(){return _classCallCheck(this,LookupItem),t.apply(this,arguments)}return _createClass(LookupItem,[{key:o.symbols.type,value:function value(){return fo}},{key:"label",get:function get(){if(null===this.control)return this._label;var e=this._view_lookupitem();if(null===e)return this._label;var t=e.label;return null===t?this._label:t}},{key:"visible",get:function get(){if(null===this.control)return!0;var e=this._view_lookupitem();return null===e||e.visible}},{key:"_view_lookupitem",value:function _view_lookupitem(){var e=this.control.identifier,t=this.control.app.active_view;if(null!==t&&null!==t.controls){var o=t.controls.get(e);if(void 0!==o&&void 0!==o.lookupdata&&null!==o.lookupdata){var l=o.lookupdata.get(this.key);if(void 0!==l)return l}}return null}},{key:o.symbols.repr,value:function value(){var e="<LookupItem key="+o._repr(this.key)+" label="+o._repr(this.label);return this.visible||(e+="visible=False"),e+">"}}]),LookupItem}(l);ko.prototype._ul4onattrs=["control","key","_label"],ko.prototype._ul4attrs=new Set(["id","control","key","label"]);var vo=new(function(e){_inherits(ViewLookupItemType,e);var t=_createSuper(ViewLookupItemType);function ViewLookupItemType(){return _classCallCheck(this,ViewLookupItemType),t.apply(this,arguments)}return _createClass(ViewLookupItemType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof Co}}]),ViewLookupItemType}(o.Type))("la","ViewLookupItem","View specific information about a lookup item"),Co=function(e){_inherits(ViewLookupItem,e);var t=_createSuper(ViewLookupItem);function ViewLookupItem(){return _classCallCheck(this,ViewLookupItem),t.apply(this,arguments)}return _createClass(ViewLookupItem,[{key:o.symbols.type,value:function value(){return vo}},{key:o.symbols.repr,value:function value(){var e="<ViewLookupItem key="+o._repr(this.key)+" label="+o._repr(this.label);return this.visible||(e+=" visible=False"),e+">"}}]),ViewLookupItem}(l);Co.prototype._ul4onattrs=["key","label","visible"],Co.prototype._ul4attrs=new Set(["key","label","visible"]);var mo=function(e){_inherits(LayoutControlType,e);var t=_createSuper(LayoutControlType);function LayoutControlType(){return _classCallCheck(this,LayoutControlType),t.apply(this,arguments)}return _createClass(LayoutControlType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof To}}]),LayoutControlType}(o.Type),go=new mo("la","LayoutControl","A decoration in an input form"),To=function(e){_inherits(LayoutControl,e);var t=_createSuper(LayoutControl);function LayoutControl(){return _classCallCheck(this,LayoutControl),t.apply(this,arguments)}return _createClass(LayoutControl,[{key:o.symbols.type,value:function value(){return go}},{key:o.symbols.repr,value:function value(){return"<"+this.constructor.name+" id="+o._repr(this.id)+" identifier="+o._repr(this.identifier)+">"}}]),LayoutControl}(l);To.prototype._ul4onattrs=["label","identifier","view","top","left","width","height"],To.prototype._ul4attrs=new Set(["id","label","identifier","view","top","left","width","height"]);var Lo=new(function(e){_inherits(HTMLLayoutControlType,e);var t=_createSuper(HTMLLayoutControlType);function HTMLLayoutControlType(){return _classCallCheck(this,HTMLLayoutControlType),t.apply(this,arguments)}return _createClass(HTMLLayoutControlType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof bo}}]),HTMLLayoutControlType}(mo))("la","HTMLLayoutControl","HTML decoration in an input form"),bo=function(e){_inherits(HTMLLayoutControl,e);var t=_createSuper(HTMLLayoutControl);function HTMLLayoutControl(){return _classCallCheck(this,HTMLLayoutControl),t.apply(this,arguments)}return _createClass(HTMLLayoutControl,[{key:o.symbols.type,value:function value(){return Lo}}]),HTMLLayoutControl}(To);bo.prototype._ul4onattrs=[].concat(_toConsumableArray(To.prototype._ul4onattrs),["value"]),bo.prototype._ul4attrs=new Set([To.prototype._ul4attrs,"value"]);var Fo=new(function(e){_inherits(ImageLayoutControlType,e);var t=_createSuper(ImageLayoutControlType);function ImageLayoutControlType(){return _classCallCheck(this,ImageLayoutControlType),t.apply(this,arguments)}return _createClass(ImageLayoutControlType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof Ao}}]),ImageLayoutControlType}(mo))("la","ImageLayoutControl","An image decoration in an input form"),Ao=function(e){_inherits(ImageLayoutControl,e);var t=_createSuper(ImageLayoutControl);function ImageLayoutControl(){return _classCallCheck(this,ImageLayoutControl),t.apply(this,arguments)}return _createClass(ImageLayoutControl,[{key:o.symbols.type,value:function value(){return Fo}}]),ImageLayoutControl}(To);Ao.prototype._ul4onattrs=[].concat(_toConsumableArray(To.prototype._ul4onattrs),["original","scaled"]),Ao.prototype._ul4attrs=new Set([To.prototype._ul4attrs,"original","scaled"]);var So=new(function(e){_inherits(ButtonLayoutControlType,e);var t=_createSuper(ButtonLayoutControlType);function ButtonLayoutControlType(){return _classCallCheck(this,ButtonLayoutControlType),t.apply(this,arguments)}return _createClass(ButtonLayoutControlType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof wo}}]),ButtonLayoutControlType}(mo))("la","ButtonLayoutControl","A submit button in an input form"),wo=function(e){_inherits(ButtonLayoutControl,e);var t=_createSuper(ButtonLayoutControl);function ButtonLayoutControl(){return _classCallCheck(this,ButtonLayoutControl),t.apply(this,arguments)}return _createClass(ButtonLayoutControl,[{key:o.symbols.type,value:function value(){return So}}]),ButtonLayoutControl}(To),Mo=new(function(e){_inherits(ViewControlType,e);var t=_createSuper(ViewControlType);function ViewControlType(){return _classCallCheck(this,ViewControlType),t.apply(this,arguments)}return _createClass(ViewControlType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof xo}}]),ViewControlType}(o.Type))("la","ViewControl","Contains view specific information about a control"),xo=function(e){_inherits(ViewControl,e);var t=_createSuper(ViewControl);function ViewControl(){return _classCallCheck(this,ViewControl),t.apply(this,arguments)}return _createClass(ViewControl,[{key:o.symbols.type,value:function value(){return Mo}},{key:"mode",get:function get(){return this._mode?"display":"edit"}}]),ViewControl}(l);xo.prototype._ul4onattrs=["view","control","top","left","width","height","liveupdate","default","tabindex","minlength","maxlength","required","placeholder","_mode","labelpos","lookupnonekey","lookupnonelabel","label","autoalign","labelwidth","lookupdata","autoexpandable"],xo.prototype._ul4attrs=new Set(["id","view","control","top","left","width","height","liveupdate","default","tabindex","minlength","maxlength","required","placeholder","mode","labelpos","lookupnonekey","lookupnonelabel","label","autoalign","labelwidth","lookupdata","autoexpandable"]);var Io=new(function(e){_inherits(UserType,e);var t=_createSuper(UserType);function UserType(){return _classCallCheck(this,UserType),t.apply(this,arguments)}return _createClass(UserType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof Ro}}]),UserType}(o.Type))("la","User","A LivingApps user/account"),Ro=function(e){_inherits(User,e);var t=_createSuper(User);function User(){return _classCallCheck(this,User),t.apply(this,arguments)}return _createClass(User,[{key:o.symbols.type,value:function value(){return Io}},{key:o.symbols.repr,value:function value(){return"<User id="+o._repr(this.id)+" firstname="+o._repr(this.firstname)+" surname="+o._repr(this.surname)+" email="+o._repr(this.email)+">"}}]),User}(l);Ro.prototype._ul4onattrs=["_id","gender","title","firstname","surname","initials","email","streetname","streetnumber","zip","city","phone","fax","lang","avatarsmall","avatarlarge","summary","interests","personalwebsite","companywebsite","company","position","department","keyviews"],Ro.prototype._ul4attrs=new Set(["id","_id","gender","title","firstname","surname","initials","email","streetname","streetnumber","zip","city","phone","fax","lang","avatarsmall","avatarlarge","summary","interests","personalwebsite","companywebsite","company","position","department","keyviews"]);var Do=new(function(e){_inherits(FileType,e);var t=_createSuper(FileType);function FileType(){return _classCallCheck(this,FileType),t.apply(this,arguments)}return _createClass(FileType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof Ho}}]),FileType}(o.Type))("la","File","An uploaded file"),Ho=function(e){_inherits(File,e);var t=_createSuper(File);function File(){return _classCallCheck(this,File),t.apply(this,arguments)}return _createClass(File,[{key:o.symbols.type,value:function value(){return Do}},{key:o.symbols.repr,value:function value(){return"<File id="+o._repr(this.id)+" url="+o._repr(this.url)+" filename="+o._repr(this.filename)+">"}},{key:"archive_url",get:function get(){return-0==this.archive?this.url:this.archive.url+"/"+this.filename}}]),File}(l);Ho.prototype._ul4onattrs=["url","filename","mimetype","width","height","internalid","createdat","size","archive"],Ho.prototype._ul4attrs=new Set(["id","url","archive_url","filename","mimetype","width","height","size","archive","createdat"]);var Oo=new(function(e){_inherits(GeoType,e);var t=_createSuper(GeoType);function GeoType(){return _classCallCheck(this,GeoType),t.apply(this,arguments)}return _createClass(GeoType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof Bo}}]),GeoType}(o.Type))("la","Geo","Geographical coordinates and location information"),Bo=function(e){_inherits(Geo,e);var t=_createSuper(Geo);function Geo(e,o,l){var r;return _classCallCheck(this,Geo),(r=t.call(this,null)).lat=e,r.long=o,r.info=l,r}return _createClass(Geo,[{key:o.symbols.type,value:function value(){return Oo}},{key:o.symbols.repr,value:function value(){return"<Geo lat="+o._repr(this.lat)+" long="+o._repr(this.long)+" info="+o._repr(this.info)+">"}}]),Geo}(l);Bo.prototype._ul4onattrs=["lat","long","info"],Bo.prototype._ul4attrs=new Set(["lat","long","info"]);var No=function(e){_inherits(AttachmentType,e);var t=_createSuper(AttachmentType);function AttachmentType(){return _classCallCheck(this,AttachmentType),t.apply(this,arguments)}return _createClass(AttachmentType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof Po}}]),AttachmentType}(o.Type),Uo=new No("la","Attachment","An attachment of a record"),Po=function(e){_inherits(Attachment,e);var t=_createSuper(Attachment);function Attachment(){return _classCallCheck(this,Attachment),t.apply(this,arguments)}return _createClass(Attachment,[{key:o.symbols.type,value:function value(){return Uo}},{key:o.symbols.repr,value:function value(){return"<"+this.constructor.name+" id="+o._repr(this.id)+" label="+o._repr(this.label)+">"}}]),Attachment}(l);Po.prototype._ul4onattrs=["record","label","active"],Po.prototype._ul4attrs=new Set(["id","record","label","active"]);var Vo=new(function(e){_inherits(NoteAttachmentType,e);var t=_createSuper(NoteAttachmentType);function NoteAttachmentType(){return _classCallCheck(this,NoteAttachmentType),t.apply(this,arguments)}return _createClass(NoteAttachmentType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof Go}}]),NoteAttachmentType}(No))("la","NoteAttachment","A note attachment of a record"),Go=function(e){_inherits(NoteAttachment,e);var t=_createSuper(NoteAttachment);function NoteAttachment(){return _classCallCheck(this,NoteAttachment),t.apply(this,arguments)}return _createClass(NoteAttachment,[{key:o.symbols.type,value:function value(){return Vo}}]),NoteAttachment}(Po);Go.prototype.type="noteattachment",Go.prototype._ul4onattrs=[].concat(_toConsumableArray(Po.prototype._ul4onattrs),["value"]),Go.prototype._ul4attrs=new Set([].concat(_toConsumableArray(Po.prototype._ul4onattrs),["value"]));var qo=new(function(e){_inherits(URLAttachmentType,e);var t=_createSuper(URLAttachmentType);function URLAttachmentType(){return _classCallCheck(this,URLAttachmentType),t.apply(this,arguments)}return _createClass(URLAttachmentType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof Eo}}]),URLAttachmentType}(No))("la","URLAttachment","A URL attachment of a record"),Eo=function(e){_inherits(URLAttachment,e);var t=_createSuper(URLAttachment);function URLAttachment(){return _classCallCheck(this,URLAttachment),t.apply(this,arguments)}return _createClass(URLAttachment,[{key:o.symbols.type,value:function value(){return qo}}]),URLAttachment}(Po);Eo.prototype.type="urlattachment",Eo.prototype._ul4onattrs=[].concat(_toConsumableArray(Po.prototype._ul4onattrs),["value"]),Eo.prototype._ul4attrs=new Set([].concat(_toConsumableArray(Po.prototype._ul4onattrs),["value"]));var jo=new(function(e){_inherits(FileAttachmentType,e);var t=_createSuper(FileAttachmentType);function FileAttachmentType(){return _classCallCheck(this,FileAttachmentType),t.apply(this,arguments)}return _createClass(FileAttachmentType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof Wo}}]),FileAttachmentType}(No))("la","FileAttachment","A file attachment of a record"),Wo=function(e){_inherits(FileAttachment,e);var t=_createSuper(FileAttachment);function FileAttachment(){return _classCallCheck(this,FileAttachment),t.apply(this,arguments)}return _createClass(FileAttachment,[{key:o.symbols.type,value:function value(){return jo}}]),FileAttachment}(Po);Wo.prototype.type="fileattachment",Wo.prototype._ul4onattrs=[].concat(_toConsumableArray(Po.prototype._ul4onattrs),["value"]),Wo.prototype._ul4attrs=new Set([].concat(_toConsumableArray(Po.prototype._ul4onattrs),["value"]));var Yo=new(function(e){_inherits(ImageAttachmentType,e);var t=_createSuper(ImageAttachmentType);function ImageAttachmentType(){return _classCallCheck(this,ImageAttachmentType),t.apply(this,arguments)}return _createClass(ImageAttachmentType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof Jo}}]),ImageAttachmentType}(No))("la","ImageAttachment","An image attachment of a record"),Jo=function(e){_inherits(ImageAttachment,e);var t=_createSuper(ImageAttachment);function ImageAttachment(){return _classCallCheck(this,ImageAttachment),t.apply(this,arguments)}return _createClass(ImageAttachment,[{key:o.symbols.type,value:function value(){return Yo}}]),ImageAttachment}(Po);Jo.prototype.type="imageattachment",Jo.prototype._ul4onattrs=[].concat(_toConsumableArray(Po.prototype._ul4onattrs),["original","thumb","small","medium","large"]),Jo.prototype._ul4attrs=new Set([].concat(_toConsumableArray(Po.prototype._ul4onattrs),["original","thumb","small","medium","large"]));var Ko=new(function(e){_inherits(JSONAttachmentType,e);var t=_createSuper(JSONAttachmentType);function JSONAttachmentType(){return _classCallCheck(this,JSONAttachmentType),t.apply(this,arguments)}return _createClass(JSONAttachmentType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof zo}}]),JSONAttachmentType}(No))("la","JSONAttachment","A JSON attachment of a record"),zo=function(e){_inherits(JSONAttachment,e);var t=_createSuper(JSONAttachment);function JSONAttachment(){return _classCallCheck(this,JSONAttachment),t.apply(this,arguments)}return _createClass(JSONAttachment,[{key:o.symbols.type,value:function value(){return Ko}},{key:"_dumpUL4ONAttr",value:function _dumpUL4ONAttr(e){return"value"===e?o._asjson(this.value):this[e]}},{key:"_loadUL4ONAttr",value:function _loadUL4ONAttr(e,t){"value"===e?this.value=o._fromjson(t):this[e]=t}}]),JSONAttachment}(Po);zo.prototype.type="jsonattachment",zo.prototype._ul4onattrs=[].concat(_toConsumableArray(Po.prototype._ul4onattrs),["value"]),zo.prototype._ul4attrs=new Set([].concat(_toConsumableArray(Po.prototype._ul4onattrs),["value"]));var $o=new(function(e){_inherits(InstallationType,e);var t=_createSuper(InstallationType);function InstallationType(){return _classCallCheck(this,InstallationType),t.apply(this,arguments)}return _createClass(InstallationType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof Zo}}]),InstallationType}(o.Type))("la","Installation","The installation that created an app"),Zo=function(e){_inherits(Installation,e);var t=_createSuper(Installation);function Installation(){return _classCallCheck(this,Installation),t.apply(this,arguments)}return _createClass(Installation,[{key:o.symbols.type,value:function value(){return $o}},{key:o.symbols.repr,value:function value(){return"<Installation id="+o._repr(this.id)+" name="+o._repr(this.name)+">"}}]),Installation}(l);Zo.prototype._ul4onattrs=["name"],Zo.prototype._ul4attrs=new Set(["id","name"]);var Qo=new(function(e){_inherits(CategoryType,e);var t=_createSuper(CategoryType);function CategoryType(){return _classCallCheck(this,CategoryType),t.apply(this,arguments)}return _createClass(CategoryType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof Xo}}]),CategoryType}(o.Type))("la","Category","A navigation category"),Xo=function(e){_inherits(Category,e);var t=_createSuper(Category);function Category(){return _classCallCheck(this,Category),t.apply(this,arguments)}return _createClass(Category,[{key:o.symbols.type,value:function value(){return Qo}},{key:o.symbols.repr,value:function value(){for(var e=[],t=this;null!==t;)e.splice(0,0,t.identifier),t=t.parent;return"<Category id="+o._repr(this.id)+" identifierpath="+o._repr(e.join("/"))+NaN+o._repr(this.name)+">"}}]),Category}(l);Xo.prototype._ul4onattrs=["identifier","name","order","parent","children","apps"],Xo.prototype._ul4attrs=new Set(["id","identifier","name","order","parent","children","apps"]);var el=new(function(e){_inherits(KeyViewType,e);var t=_createSuper(KeyViewType);function KeyViewType(){return _classCallCheck(this,KeyViewType),t.apply(this,arguments)}return _createClass(KeyViewType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof tl}}]),KeyViewType}(o.Type))("la","KeyView","Object granting access to a view template"),tl=function(e){_inherits(KeyView,e);var t=_createSuper(KeyView);function KeyView(){return _classCallCheck(this,KeyView),t.apply(this,arguments)}return _createClass(KeyView,[{key:o.symbols.type,value:function value(){return el}},{key:o.symbols.repr,value:function value(){return"<KeyView id="+o._repr(this.id)+" identifier="+o._repr(this.identifier)+">"}}]),KeyView}(l);tl.prototype._ul4onattrs=["identifier","name","key","user"],tl.prototype._ul4attrs=new Set(["id","identifier","name","key","user"]);var ol=new(function(e){_inherits(AppParameterType,e);var t=_createSuper(AppParameterType);function AppParameterType(){return _classCallCheck(this,AppParameterType),t.apply(this,arguments)}return _createClass(AppParameterType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof ll}}]),AppParameterType}(o.Type))("la","AppParameter","A parameter of a LivingApps application"),ll=function(e){_inherits(AppParameter,e);var t=_createSuper(AppParameter);function AppParameter(){return _classCallCheck(this,AppParameter),t.apply(this,arguments)}return _createClass(AppParameter,[{key:o.symbols.type,value:function value(){return ol}},{key:o.symbols.repr,value:function value(){return"<AppParameter id="+o._repr(this.id)+" identifier="+o._repr(this.identifier)+">"}}]),AppParameter}(l);ll.prototype._ul4onattrs=["app","identifier","description","value"],ll.prototype._ul4attrs=new Set(["id","app","identifier","description","value"]);var rl=new(function(e){_inherits(FormType,e);var t=_createSuper(FormType);function FormType(){return _classCallCheck(this,FormType),t.apply(this,arguments)}return _createClass(FormType,[{key:"instancecheck",value:function instancecheck(e){return e instanceof nl}}]),FormType}(o.Type))("la","Form","The input form."),nl=function(e){_inherits(Form,e);var t=_createSuper(Form);function Form(){return _classCallCheck(this,Form),t.apply(this,arguments)}return _createClass(Form,[{key:o.symbols.type,value:function value(){return rl}},{key:"enabled",get:function get(){return!document.querySelector(this._sel_form).disabled}},{key:"enabled",set:function set(e){document.querySelector(this._sel_form).disabled=o._not(e)}},{key:o.symbols.repr,value:function value(){return"<"+this.constructor.name+" enabled="+o._repr(this.enabled)+">"}},{key:"toString",value:function toString(){return this[o.symbols.repr]()}}]),Form}(o.Proto);nl.prototype._ul4attrs=new Set(["enabled"]),nl.prototype._sel_form="#livingapps-form form [type=submit]";for(var al=0,il=[a,u,p,y,_,d,Ke,$e,tt,at,ut,pt,yt,_t,Ct,gt,Lt,At,wt,xt,Rt,Ot,Nt,Pt,Gt,jt,Kt,Yt,$t,Xt,to,lo,no,io,po,yo,_o,C,g,M,I,D,O,N,P,L,A,G,j,Y,z,Z,X,te,re,ie,de,Fe,we,Ne,ko,Co,To,bo,Ao,wo,xo,Ro,Ho,Bo,Go,Eo,Wo,Jo,zo,Zo,Xo,tl,ll];al<il.length;al++){var ul=il[al];o.register("de.livinglogic.livingapi."+ul.name.toLowerCase(),ul)}e.App=p,e.AppLookupChoiceControl=Gt,e.AppLookupChoiceField=He,e.AppLookupControl=Ot,e.AppLookupField=we,e.AppLookupFieldBase=Fe,e.AppLookupRadioControl=Pt,e.AppLookupRadioField=Re,e.AppLookupSelectControl=Nt,e.AppLookupSelectField=xe,e.AppParameter=ll,e.Attachment=Po,e.Base=l,e.BoolControl=Ke,e.BoolField=g,e.ButtonControl=_o,e.ButtonLayoutControl=wo,e.Category=Xo,e.Control=Ye,e.DataSource=_,e.DateControl=Ct,e.DateField=Z,e.DateFieldBase=z,e.DatetimeMinuteControl=gt,e.DatetimeMinuteField=X,e.DatetimeSecondControl=Lt,e.DatetimeSecondField=te,e.EmailControl=ut,e.EmailField=I,e.Field=C,e.File=Ho,e.FileAttachment=Wo,e.FileControl=po,e.FileField=j,e.FileSignatureControl=yo,e.FileSignatureField=Y,e.FlashMessage=u,e.Form=nl,e.Geo=Bo,e.GeoControl=io,e.GeoField=G,e.Globals=a,e.HTMLControl=dt,e.HTMLField=P,e.HTMLLayoutControl=bo,e.Handler=r,e.ImageAttachment=Jo,e.ImageLayoutControl=Ao,e.Installation=Zo,e.IntControl=$e,e.IntField=L,e.JSONAttachment=zo,e.KeyView=tl,e.LayoutControl=To,e.LookupChoiceControl=Rt,e.LookupChoiceField=he,e.LookupControl=At,e.LookupField=ie,e.LookupFieldBase=re,e.LookupItem=ko,e.LookupRadioControl=xt,e.LookupRadioField=se,e.LookupSelectControl=wt,e.LookupSelectField=ce,e.MultipleAppLookupCheckboxControl=lo,e.MultipleAppLookupCheckboxField=Pe,e.MultipleAppLookupChoiceControl=no,e.MultipleAppLookupChoiceField=Ee,e.MultipleAppLookupControl=Xt,e.MultipleAppLookupField=Ne,e.MultipleAppLookupSelectControl=to,e.MultipleAppLookupSelectField=Ge,e.MultipleLookupCheckboxControl=Yt,e.MultipleLookupCheckboxField=ve,e.MultipleLookupChoiceControl=$t,e.MultipleLookupChoiceField=Te,e.MultipleLookupControl=jt,e.MultipleLookupField=de,e.MultipleLookupSelectControl=Kt,e.MultipleLookupSelectField=me,e.NoteAttachment=Go,e.NumberControl=tt,e.NumberField=A,e.Record=d,e.StringControl=rt,e.StringField=M,e.TelControl=yt,e.TelField=O,e.TextAreaControl=_t,e.TextAreaField=N,e.TextControl=at,e.URLAttachment=Eo,e.URLControl=pt,e.URLField=D,e.User=Ro,e.View=y,e.ViewControl=xo,e.ViewLookupItem=Co,e.version="0.13.2",Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=livingapi.js.map
