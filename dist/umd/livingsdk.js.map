{"version":3,"file":"livingsdk.js","sources":["../es2015/modules/ul4.js","../es2015/modules/livingapi.js","../../src/livingsdk.ts"],"sourcesContent":["/*!\n * UL4/UL4ON JavaScript Library\n * http://www.livinglogic.de/Python/ul4c/\n * http://www.livinglogic.de/Python/ul4on/\n *\n * Copyright 2011-2017 by LivingLogic AG, Bayreuth/Germany\n * Copyright 2011-2017 by Walter DÃ¶rwald\n *\n * All Rights Reserved\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\n/*jslint vars: true */\n\n\nexport let ul4 = {};\nexport let ul4on = {};\n\nul4.version = \"41\";\n\n//\n// UL4ON\n//\n\nul4on._registry = {};\n\nul4on._havemap = (typeof (Map) === \"function\" && typeof (Map.prototype.forEach) === \"function\");\n\nul4on._havemapconstructor = false;\n\nif (ul4on._havemap) {\n\ttry {\n\t\tif (new Map([[1, 2]]).size == 1)\n\t\t\tul4on._havemapconstructor = true;\n\t}\n\tcatch (error) {\n\t}\n}\n\nul4on._haveset = (typeof (Set) === \"function\" && typeof (Set.prototype.forEach) === \"function\");\n\nul4on._havesetconstructor = false;\n\nif (ul4on._haveset) {\n\ttry {\n\t\tif (new Set([1, 2]).size == 2)\n\t\t\tul4on._havesetconstructor = true;\n\t}\n\tcatch (error) {\n\t}\n}\n\n// Function used for making maps, when the Map constructor doesn't work\nul4on._makemap = function _makemap() {\n\tvar map = new Map();\n\n\tfor (var i = 0; i < arguments.length; ++i) {\n\t\tvar argument = arguments[i];\n\t\tmap.set(argument[0], argument[1]);\n\t}\n\treturn map;\n};\n\n// Function that creates en empty Map (if supported) or an empty object\nul4on._emptymap = function _emptymap() {\n\treturn ul4on._havemap ? new Map() : {};\n};\n\n// Function that adds a (key, value) item to an object (or map)\nif (ul4on._havemap) {\n\tul4on._setmap = function _setmap(map, key, value) {\n\t\tif (map.__proto__ === Map.prototype)\n\t\t\tmap.set(key, value);\n\t\telse\n\t\t\tmap[key] = value;\n\t};\n}\nelse {\n\tul4on._setmap = function _setmap(map, key, value) {\n\t\tmap[key] = value;\n\t};\n}\n\n// Function used for making sets, when the Set constructor doesn't work (or we don't have sets)\nif (ul4on._haveset) {\n\tul4on._makeset = function _makeset() {\n\t\tvar set = this._haveset ? new Set() : ul4._Set.create();\n\n\t\tfor (var i = 0; i < arguments.length; ++i)\n\t\t\tset.add(arguments[i]);\n\t\treturn set;\n\t};\n}\nelse {\n\tul4on._makeset = function _makeset() {\n\t\tvar set = ul4._Set.create();\n\n\t\tfor (var i = 0; i < arguments.length; ++i)\n\t\t\tset.add(arguments[i]);\n\t\treturn set;\n\t};\n}\n\n// Register the object ``obj`` under the name ``name`` with the UL4ON machinery\nul4on.register = function register(name, obj) {\n\tobj.ul4onname = name;\n\tul4on._registry[name] = function () { return obj.create(); };\n},\n\n\t// Return a string that contains the object ``obj`` in the UL4ON serialization format\n\tul4on.dumps = function dumps(obj, indent) {\n\t\tvar encoder = ul4on.Encoder.create(indent);\n\t\tencoder.dump(obj);\n\t\treturn encoder.finish();\n\t},\n\n\t// Load an object from the string ``data``.\n\t// ``data`` must contain the object in the UL4ON serialization format\n\t// ``registry`` may be null or a dictionary mapping type names to objects with a create method\n\tul4on.loads = function loads(data, registry) {\n\t\tvar decoder = ul4on.Decoder.create(data, registry);\n\t\treturn decoder.load();\n\t},\n\n\t// Helper \"class\" for encoding\n\tul4on.Encoder = {\n\t\t// Create a new Encoder object\n\t\tcreate: function create(indent) {\n\t\t\tvar encoder = ul4._clone(this);\n\t\t\tencoder.indent = indent || null;\n\t\t\tencoder.data = [];\n\t\t\tencoder._level = 0;\n\t\t\tencoder._strings2index = {};\n\t\t\tencoder._ids2index = {};\n\t\t\tencoder._backrefs = 0;\n\t\t\treturn encoder;\n\t\t},\n\n\t\t_line: function _line(line) {\n\t\t\tvar i, oldindent;\n\n\t\t\tif (this.indent !== null) {\n\t\t\t\tfor (i = 0; i < this._level; ++i)\n\t\t\t\t\tthis.data.push(this.indent);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif (this.data.length)\n\t\t\t\t\tthis.data.push(\" \");\n\t\t\t}\n\t\t\tthis.data.push(line);\n\n\t\t\tif (arguments.length > 1) {\n\t\t\t\toldindent = this.indent;\n\t\t\t\tthis.indent = null;\n\t\t\t\tfor (i = 1; i < arguments.length; ++i)\n\t\t\t\t\tthis.dump(arguments[i]);\n\t\t\t\tthis.indent = oldindent;\n\t\t\t}\n\n\t\t\tif (this.indent !== null)\n\t\t\t\tthis.data.push(\"\\n\");\n\t\t},\n\n\t\t// Return the complete string written to the buffer\n\t\tfinish: function finish() {\n\t\t\treturn this.data.join(\"\");\n\t\t},\n\n\t\tdump: function dump(obj) {\n\t\t\tif (obj === null)\n\t\t\t\tthis._line(\"n\");\n\t\t\telse if (typeof (obj) == \"boolean\")\n\t\t\t\tthis._line(obj ? \"bT\" : \"bF\");\n\t\t\telse if (typeof (obj) == \"number\") {\n\t\t\t\tvar type = (Math.round(obj) == obj) ? \"i\" : \"f\";\n\t\t\t\tthis._line(type + obj);\n\t\t\t}\n\t\t\telse if (typeof (obj) == \"string\") {\n\t\t\t\tvar index = this._strings2index[obj];\n\t\t\t\tif (typeof (index) !== \"undefined\") {\n\t\t\t\t\tthis._line(\"^\" + index);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tthis._strings2index[obj] = this._backrefs++;\n\t\t\t\t\tthis._line(\"S\" + ul4._str_repr(obj));\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (ul4._iscolor(obj))\n\t\t\t\tthis._line(\"c\", obj.r(), obj.g(), obj.b(), obj.a());\n\t\t\telse if (ul4._isdate(obj))\n\t\t\t\tthis._line(\"z\", obj.getFullYear(), obj.getMonth() + 1, obj.getDate(), obj.getHours(), obj.getMinutes(), obj.getSeconds(), obj.getMilliseconds() * 1000);\n\t\t\telse if (ul4._istimedelta(obj))\n\t\t\t\tthis._line(\"t\", obj.days(), obj.seconds(), obj.microseconds());\n\t\t\telse if (ul4._ismonthdelta(obj))\n\t\t\t\tthis._line(\"m\", obj.months());\n\t\t\telse if (typeof (obj) === \"object\" && typeof (obj.isa) === \"function\" && obj.isa(ul4.slice))\n\t\t\t\tthis._line(\"r\", obj.start, obj.stop);\n\t\t\telse if (obj.ul4onname && obj.ul4ondump) {\n\t\t\t\tif (obj.__id__) {\n\t\t\t\t\tvar index = this._ids2index[obj.__id__];\n\t\t\t\t\tif (typeof (index) != \"undefined\") {\n\t\t\t\t\t\tthis._line(\"^\" + index);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (obj.__id__)\n\t\t\t\t\tthis._ids2index[obj.__id__] = this._backrefs++;\n\t\t\t\tthis._line(\"O\", obj.ul4onname);\n\t\t\t\t++this._level;\n\t\t\t\tobj.ul4ondump(this);\n\t\t\t\t--this._level;\n\t\t\t\tthis._line(\")\");\n\t\t\t}\n\t\t\telse if (ul4._islist(obj)) {\n\t\t\t\tthis._line(\"l\");\n\t\t\t\t++this._level;\n\t\t\t\tfor (var i in obj)\n\t\t\t\t\tthis.dump(obj[i]);\n\t\t\t\t--this._level;\n\t\t\t\tthis._line(\"]\");\n\t\t\t}\n\t\t\telse if (ul4._ismap(obj)) {\n\t\t\t\tthis._line(\"e\");\n\t\t\t\t++this._level;\n\t\t\t\tobj.forEach(function (value, key) {\n\t\t\t\t\tthis.dump(key);\n\t\t\t\t\tthis.dump(value);\n\t\t\t\t}, this);\n\t\t\t\t--this._level;\n\t\t\t\tthis._line(\"}\");\n\t\t\t}\n\t\t\telse if (ul4._isdict(obj)) {\n\t\t\t\tthis._line(\"d\");\n\t\t\t\t++this._level;\n\t\t\t\tfor (var key in obj) {\n\t\t\t\t\tthis.dump(key);\n\t\t\t\t\tthis.dump(obj[key]);\n\t\t\t\t}\n\t\t\t\t--this._level;\n\t\t\t\tthis._line(\"}\");\n\t\t\t}\n\t\t\telse if (ul4._isset(obj)) {\n\t\t\t\tthis._line(\"y\");\n\t\t\t\t++this._level;\n\t\t\t\tobj.forEach(function (value) {\n\t\t\t\t\tthis.dump(value);\n\t\t\t\t}, this);\n\t\t\t\t--this._level;\n\t\t\t\tthis._line(\"}\");\n\t\t\t}\n\t\t\telse\n\t\t\t\tthrow \"can't handle object\";\n\t\t}\n\t};\n\n// Helper \"class\" for decoding\nul4on.Decoder = {\n\t// Creates a new decoder for reading from the string ``data``\n\tcreate: function create(data, registry) {\n\t\tvar decoder = ul4._clone(this);\n\t\tdecoder.data = data;\n\t\tdecoder.pos = 0;\n\t\tdecoder.backrefs = [];\n\t\tdecoder.registry = typeof (registry) === \"undefined\" ? null : registry;\n\t\treturn decoder;\n\t},\n\n\t// Read a character from the buffer\n\treadchar: function readchar() {\n\t\tif (this.pos >= this.data.length)\n\t\t\tthrow \"UL4 decoder at EOF\";\n\t\treturn this.data.charAt(this.pos++);\n\t},\n\n\t// Read a character from the buffer (return null on eof)\n\treadcharoreof: function readcharoreof() {\n\t\tif (this.pos >= this.data.length)\n\t\t\treturn null;\n\t\treturn this.data.charAt(this.pos++);\n\t},\n\n\t// Read next not-whitespace character from the buffer\n\treadblackchar: function readblackchar() {\n\t\tvar re_white = /\\s/;\n\n\t\tfor (; ;) {\n\t\t\tif (this.pos >= this.data.length)\n\t\t\t\tthrow \"UL4 decoder at EOF\";\n\t\t\tvar c = this.data.charAt(this.pos++);\n\t\t\tif (!c.match(re_white))\n\t\t\t\treturn c;\n\t\t}\n\t},\n\n\t// Read ``size`` characters from the buffer\n\tread: function read(size) {\n\t\tif (this.pos + size > this.length)\n\t\t\tsize = this.length - this.pos;\n\t\tvar result = this.data.substring(this.pos, this.pos + size);\n\t\tthis.pos += size;\n\t\treturn result;\n\t},\n\n\t// \"unread\" one character\n\tbackup: function backup() {\n\t\t--this.pos;\n\t},\n\n\t// Read a number from the buffer\n\treadnumber: function readnumber() {\n\t\tvar re_digits = /[-+0123456789.eE]/, value = \"\";\n\t\tfor (; ;) {\n\t\t\tvar c = this.readcharoreof();\n\t\t\tif (c !== null && c.match(re_digits))\n\t\t\t\tvalue += c;\n\t\t\telse {\n\t\t\t\tvar result = parseFloat(value);\n\t\t\t\tif (result == NaN)\n\t\t\t\t\tthrow \"invalid number, got \" + ul4._repr(\"value\") + \" at position \" + this.pos;\n\t\t\t\treturn result;\n\t\t\t}\n\t\t}\n\t},\n\n\t_beginfakeloading: function _beginfakeloading() {\n\t\tvar oldpos = this.backrefs.length;\n\t\tthis.backrefs.push(null);\n\t\treturn oldpos;\n\t},\n\n\t_endfakeloading: function _endfakeloading(oldpos, value) {\n\t\tthis.backrefs[oldpos] = value;\n\t},\n\n\t_readescape: function _readescape(escapechar, length) {\n\t\tvar chars = this.read(length);\n\t\tif (chars.length != length)\n\t\t\tthrow \"broken escape \" + ul4._repr(\"\\\\\" + escapechar + chars) + \" at position \" + this.pos;\n\t\tvar codepoint = parseInt(chars, 16);\n\t\tif (isNaN(codepoint))\n\t\t\tthrow \"broken escape \" + ul4._repr(\"\\\\\" + escapechar + chars) + \" at position \" + this.pos;\n\t\treturn String.fromCharCode(codepoint);\n\t},\n\n\t// Load the next object from the buffer\n\tload: function load() {\n\t\tvar typecode = this.readblackchar();\n\t\tvar result;\n\t\tswitch (typecode) {\n\t\t\tcase \"^\":\n\t\t\t\treturn this.backrefs[this.readnumber()];\n\t\t\tcase \"n\":\n\t\t\tcase \"N\":\n\t\t\t\tif (typecode === \"N\")\n\t\t\t\t\tthis.backrefs.push(null);\n\t\t\t\treturn null;\n\t\t\tcase \"b\":\n\t\t\tcase \"B\":\n\t\t\t\tresult = this.readchar();\n\t\t\t\tif (result === \"T\")\n\t\t\t\t\tresult = true;\n\t\t\t\telse if (result === \"F\")\n\t\t\t\t\tresult = false;\n\t\t\t\telse\n\t\t\t\t\tthrow \"wrong value for boolean, expected 'T' or 'F', got \" + ul4._repr(result) + \" at position \" + this.pos;\n\t\t\t\tif (typecode === \"B\")\n\t\t\t\t\tthis.backrefs.push(result);\n\t\t\t\treturn result;\n\t\t\tcase \"i\":\n\t\t\tcase \"I\":\n\t\t\tcase \"f\":\n\t\t\tcase \"F\":\n\t\t\t\tresult = this.readnumber();\n\t\t\t\tif (typecode === \"I\" || typecode === \"F\")\n\t\t\t\t\tthis.backrefs.push(result);\n\t\t\t\treturn result;\n\t\t\tcase \"s\":\n\t\t\tcase \"S\":\n\t\t\t\tresult = [];\n\t\t\t\tvar delimiter = this.readblackchar();\n\t\t\t\tfor (; ;) {\n\t\t\t\t\tvar c = this.readchar();\n\t\t\t\t\tif (c == delimiter)\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tif (c == \"\\\\\") {\n\t\t\t\t\t\tvar c2 = this.readchar();\n\t\t\t\t\t\tif (c2 == \"\\\\\")\n\t\t\t\t\t\t\tresult.push(\"\\\\\");\n\t\t\t\t\t\telse if (c2 == \"n\")\n\t\t\t\t\t\t\tresult.push(\"\\n\");\n\t\t\t\t\t\telse if (c2 == \"r\")\n\t\t\t\t\t\t\tresult.push(\"\\r\");\n\t\t\t\t\t\telse if (c2 == \"t\")\n\t\t\t\t\t\t\tresult.push(\"\\t\");\n\t\t\t\t\t\telse if (c2 == \"f\")\n\t\t\t\t\t\t\tresult.push(\"\\u000c\");\n\t\t\t\t\t\telse if (c2 == \"b\")\n\t\t\t\t\t\t\tresult.push(\"\\u0008\");\n\t\t\t\t\t\telse if (c2 == \"a\")\n\t\t\t\t\t\t\tresult.push(\"\\u0007\");\n\t\t\t\t\t\telse if (c2 == \"'\")\n\t\t\t\t\t\t\tresult.push(\"'\");\n\t\t\t\t\t\telse if (c2 == '\"')\n\t\t\t\t\t\t\tresult.push('\"');\n\t\t\t\t\t\telse if (c2 == \"x\")\n\t\t\t\t\t\t\tresult.push(this._readescape(\"x\", 2));\n\t\t\t\t\t\telse if (c2 == \"u\")\n\t\t\t\t\t\t\tresult.push(this._readescape(\"u\", 4));\n\t\t\t\t\t\telse if (c2 == \"U\")\n\t\t\t\t\t\t\tresult.push(this._readescape(\"U\", 8));\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tresult.push(\"\\\\\" + c2);\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t\tresult.push(c);\n\t\t\t\t}\n\t\t\t\tresult = result.join(\"\");\n\t\t\t\tif (typecode === \"S\")\n\t\t\t\t\tthis.backrefs.push(result);\n\t\t\t\treturn result;\n\t\t\tcase \"c\":\n\t\t\tcase \"C\":\n\t\t\t\tresult = ul4.Color.create();\n\t\t\t\tif (typecode === \"C\")\n\t\t\t\t\tthis.backrefs.push(result);\n\t\t\t\tresult._r = this.load();\n\t\t\t\tresult._g = this.load();\n\t\t\t\tresult._b = this.load();\n\t\t\t\tresult._a = this.load();\n\t\t\t\treturn result;\n\t\t\tcase \"z\":\n\t\t\tcase \"Z\":\n\t\t\t\tresult = new Date();\n\t\t\t\tresult.setFullYear(this.load());\n\t\t\t\tresult.setDate(1);\n\t\t\t\tresult.setMonth(this.load() - 1);\n\t\t\t\tresult.setDate(this.load());\n\t\t\t\tresult.setHours(this.load());\n\t\t\t\tresult.setMinutes(this.load());\n\t\t\t\tresult.setSeconds(this.load());\n\t\t\t\tresult.setMilliseconds(this.load() / 1000);\n\t\t\t\tif (typecode === \"Z\")\n\t\t\t\t\tthis.backrefs.push(result);\n\t\t\t\treturn result;\n\t\t\tcase \"t\":\n\t\t\tcase \"T\":\n\t\t\t\tresult = ul4.TimeDelta.create();\n\t\t\t\tresult._days = this.load();\n\t\t\t\tresult._seconds = this.load();\n\t\t\t\tresult._microseconds = this.load();\n\t\t\t\tif (typecode === \"T\")\n\t\t\t\t\tthis.backrefs.push(result);\n\t\t\t\treturn result;\n\t\t\tcase \"r\":\n\t\t\tcase \"R\":\n\t\t\t\tresult = ul4.slice.create();\n\t\t\t\tif (typecode === \"R\")\n\t\t\t\t\tthis.backrefs.push(result);\n\t\t\t\tresult.start = this.load();\n\t\t\t\tresult.stop = this.load();\n\t\t\t\treturn result;\n\t\t\tcase \"m\":\n\t\t\tcase \"M\":\n\t\t\t\tresult = ul4.MonthDelta.create();\n\t\t\t\tif (typecode === \"M\")\n\t\t\t\t\tthis.backrefs.push(result);\n\t\t\t\tresult._months = this.load();\n\t\t\t\treturn result;\n\t\t\tcase \"l\":\n\t\t\tcase \"L\":\n\t\t\t\tresult = [];\n\t\t\t\tif (typecode === \"L\")\n\t\t\t\t\tthis.backrefs.push(result);\n\t\t\t\tfor (; ;) {\n\t\t\t\t\ttypecode = this.readblackchar();\n\t\t\t\t\tif (typecode === \"]\")\n\t\t\t\t\t\treturn result;\n\t\t\t\t\tthis.backup();\n\t\t\t\t\tresult.push(this.load());\n\t\t\t\t}\n\t\t\t\treturn result;\n\t\t\tcase \"d\":\n\t\t\tcase \"D\":\n\t\t\tcase \"e\":\n\t\t\tcase \"E\":\n\t\t\t\tif (!ul4on._havemap && (typecode == \"e\" || typecode == \"E\"))\n\t\t\t\t\tthrow \"ordered dictionaries are not supported!\";\n\t\t\t\tresult = ul4on._emptymap();\n\t\t\t\tif (typecode === \"D\" || typecode === \"E\")\n\t\t\t\t\tthis.backrefs.push(result);\n\t\t\t\tfor (; ;) {\n\t\t\t\t\ttypecode = this.readblackchar();\n\t\t\t\t\tif (typecode === \"}\")\n\t\t\t\t\t\treturn result;\n\t\t\t\t\tthis.backup();\n\t\t\t\t\tvar key = this.load();\n\t\t\t\t\tvar value = this.load();\n\t\t\t\t\tul4on._setmap(result, key, value);\n\t\t\t\t}\n\t\t\t\treturn result;\n\t\t\tcase \"y\":\n\t\t\tcase \"Y\":\n\t\t\t\tresult = ul4on._makeset();\n\t\t\t\tif (typecode === \"Y\")\n\t\t\t\t\tthis.backrefs.push(result);\n\t\t\t\tfor (; ;) {\n\t\t\t\t\ttypecode = this.readblackchar();\n\t\t\t\t\tif (typecode === \"}\")\n\t\t\t\t\t\treturn result;\n\t\t\t\t\tthis.backup();\n\t\t\t\t\tresult.add(this.load());\n\t\t\t\t}\n\t\t\t\treturn result;\n\t\t\tcase \"o\":\n\t\t\tcase \"O\":\n\t\t\t\tvar oldpos;\n\t\t\t\tif (typecode === \"O\")\n\t\t\t\t\toldpos = this._beginfakeloading();\n\t\t\t\tvar name = this.load();\n\t\t\t\tvar proto;\n\t\t\t\tif (this.registry !== null) {\n\t\t\t\t\tproto = this.registry[name];\n\t\t\t\t\tif (typeof (proto) === \"undefined\")\n\t\t\t\t\t\tproto = ul4on._registry[name];\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t\tproto = ul4on._registry[name];\n\t\t\t\tif (typeof (proto) === \"undefined\")\n\t\t\t\t\tthrow \"can't load object of type \" + ul4._repr(name);\n\t\t\t\tresult = proto();\n\t\t\t\tif (typecode === \"O\")\n\t\t\t\t\tthis._endfakeloading(oldpos, result);\n\t\t\t\tresult.ul4onload(this);\n\t\t\t\ttypecode = this.readblackchar();\n\t\t\t\tif (typecode !== \")\")\n\t\t\t\t\tthrow \"object terminator ')' for object of type '\" + name + \"' expected, got \" + ul4._repr(typecode) + \" at position \" + this.pos;\n\t\t\t\treturn result;\n\t\t\tdefault:\n\t\t\t\tthrow \"unknown typecode \" + ul4._repr(typecode) + \" at position \" + this.pos;\n\t\t}\n\t},\n\n\t// Return an iterator for loading the content of a object\n\tloadcontent: function load(loadcontent) {\n\t\tlet self = this;\n\t\treturn {\n\t\t\tnext: function () {\n\t\t\t\tlet typecode = self.readblackchar();\n\t\t\t\tself.backup();\n\t\t\t\tif (typecode == \")\")\n\t\t\t\t\treturn { done: true };\n\t\t\t\telse\n\t\t\t\t\treturn { done: false, value: self.load() };\n\t\t\t}\n\t\t};\n\t}\n};\n\n\n//\n// UL4\n//\n\n// REs for parsing JSON\nul4._rvalidchars = /^[\\],:{}\\s]*$/;\nul4._rvalidescape = /\\\\(?:[\"\\\\\\/bfnrt]|u[0-9a-fA-F]{4})/g;\nul4._rvalidtokens = /\"[^\"\\\\\\n\\r]*\"|true|false|null|-?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?/g;\nul4._rvalidbraces = /(?:^|:|,)(?:\\s*\\[)+/g;\n\n/// Helper functions\n\n// Crockford style object creation\nul4._simpleclone = function _simpleclone(obj) {\n\tfunction F() { };\n\tF.prototype = obj;\n\tvar result = new F();\n\treturn result;\n};\n\n// Crockford style object creation + prototype chain + object ids\nul4._clone = function _clone(obj) {\n\tvar result = ul4._simpleclone(obj);\n\tresult.__prototype__ = obj;\n\tresult.__id__ = ul4.Proto._nextid++;\n\treturn result;\n};\n\n// Adds attributes from on object to another and returns it\nul4._extend = function _extend(obj, attrs) {\n\tfor (var name in attrs)\n\t\tobj[name] = attrs[name];\n\treturn obj;\n};\n\n// Clone an object via ``_simpleclone`` and extend it\nul4._simpleinherit = function _simpleinherit(baseobj, attrs) {\n\treturn ul4._extend(ul4._simpleclone(baseobj), attrs);\n};\n\n// Clone an object via ``_clone`` and extend it\nul4._inherit = function _inherit(baseobj, attrs) {\n\treturn ul4._extend(ul4._clone(baseobj), attrs);\n};\n\n// Convert a map to an object\nul4._map2object = function _map2object(obj) {\n\tif (ul4._ismap(obj)) {\n\t\tvar newobj = {};\n\t\tobj.forEach(function (value, key) {\n\t\t\tif (typeof (key) !== \"string\")\n\t\t\t\tthrow ul4.TypeError.create(\"keys must be strings\");\n\t\t\tnewobj[key] = value;\n\t\t});\n\t\treturn newobj;\n\t}\n\treturn obj;\n};\n\n// Clip a number to the range [0;max)\nul4._bound = function _bound(value, upper) {\n\tif (value < 0)\n\t\treturn 0;\n\telse if (value > upper)\n\t\treturn upper;\n\telse\n\t\treturn value;\n};\n\n// Create a pretty stacktrace from an exception\nul4._stacktrace = function _stacktrace(exc) {\n\tvar output = ul4._type(exc);\n\tvar s = exc.toString();\n\tif (s)\n\t\toutput += \": \" + s;\n\tif (exc.cause)\n\t\toutput += \"\\n\\n\" + ul4._stacktrace(exc.cause);\n\treturn output;\n};\n\n// Call a function ``f`` with UL4 argument handling\nul4._internal_call = function _internal_call(context, f, name, functioncontext, signature, needscontext, needsobject, args, kwargs) {\n\tvar finalargs;\n\tif (needsobject) {\n\t\tif (signature === null) {\n\t\t\tif (args.length)\n\t\t\t\tthrow ul4.ArgumentError.create(ul4._repr(f) + \" doesn't support positional arguments!\");\n\t\t\tfinalargs = [kwargs];\n\t\t}\n\t\telse\n\t\t\tfinalargs = [signature.bindObject(name, args, kwargs)];\n\t}\n\telse {\n\t\tif (signature === null)\n\t\t\tthrow ul4.ArgumentError.create(ul4._repr(f) + \" doesn't support positional arguments!\");\n\t\tfinalargs = signature.bindArray(name, args, kwargs);\n\t}\n\tif (needscontext)\n\t\tfinalargs.unshift(context);\n\treturn f.apply(functioncontext, finalargs);\n};\n\nul4._callfunction = function _callfunction(context, f, args, kwargs) {\n\tvar name = f._ul4_name || f.name;\n\tif (typeof (f._ul4_signature) === \"undefined\" || typeof (f._ul4_needsobject) === \"undefined\" || typeof (f._ul4_needscontext) === \"undefined\")\n\t\tthrow ul4.TypeError.create(\"call\", \"function \" + ul4.repr(f) + \" is not callable by UL4\");\n\treturn ul4._internal_call(context, f, name, ul4, f._ul4_signature, f._ul4_needscontext, f._ul4_needsobject, args, kwargs);\n}\n\nul4._callobject = function _callobject(context, obj, args, kwargs) {\n\tif (typeof (obj._ul4_callsignature) === \"undefined\" || typeof (obj._ul4_callneedsobject) === \"undefined\" || typeof (obj._ul4_callneedscontext) === \"undefined\")\n\t\tthrow ul4.TypeError.create(\"call\", ul4.type(obj) + \" object is not callable by UL4\");\n\treturn ul4._internal_call(context, obj.__call__, obj.name, obj, obj._ul4_callsignature, obj._ul4_callneedscontext, obj._ul4_callneedsobject, args, kwargs);\n}\n\nul4._callrender = function _callrender(context, obj, args, kwargs) {\n\tif (typeof (obj._ul4_rendersignature) === \"undefined\" || typeof (obj._ul4_renderneedsobject) === \"undefined\" || typeof (obj._ul4_renderneedscontext) === \"undefined\")\n\t\tthrow ul4.TypeError.create(\"render\", ul4.type(obj) + \" object is not renderable by UL4\");\n\treturn ul4._internal_call(context, obj.__render__, obj.name, obj, obj._ul4_rendersignature, obj._ul4_renderneedscontext, obj._ul4_renderneedsobject, args, kwargs);\n}\n\nul4._call = function _call(context, f, args, kwargs) {\n\tif (typeof (f) === \"function\")\n\t\treturn ul4._callfunction(context, f, args, kwargs);\n\telse if (f && typeof (f.__call__) === \"function\")\n\t\treturn ul4._callobject(context, f, args, kwargs);\n\telse\n\t\tthrow ul4.TypeError.create(\"call\", ul4._type(f) + \" is not callable\");\n}\n\nul4._unpackvar = function _unpackvar(lvalue, value) {\n\tif (!ul4._islist(lvalue))\n\t\treturn [[lvalue, value]];\n\telse {\n\t\tvar newvalue = [];\n\t\tvar iter = ul4._iter(value);\n\n\t\tfor (var i = 0; ; ++i) {\n\t\t\tvar item = iter.next();\n\n\t\t\tif (item.done) {\n\t\t\t\tif (i === lvalue.length)\n\t\t\t\t\tbreak;\n\t\t\t\telse\n\t\t\t\t\tthrow ul4.ValueError.create(\"need \" + lvalue.length + \" value\" + (lvalue.length === 1 ? \"\" : \"s\") + \" to unpack, got \" + i);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif (i < lvalue.length)\n\t\t\t\t\tnewvalue = newvalue.concat(ul4._unpackvar(lvalue[i], item.value));\n\t\t\t\telse\n\t\t\t\t\tthrow ul4.ValueError.create(\"too many values to unpack (expected \" + lvalue.length + \")\");\n\t\t\t}\n\t\t}\n\t\treturn newvalue;\n\t}\n};\n\nul4._formatsource = function _formatsource(out) {\n\tvar finalout = [];\n\tvar level = 0, needlf = false;\n\tfor (var i = 0; i < out.length; ++i) {\n\t\tif (typeof (out[i]) === \"number\") {\n\t\t\tlevel += out[i];\n\t\t\tneedlf = true;\n\t\t}\n\t\telse {\n\t\t\tif (needlf) {\n\t\t\t\tfinalout.push(\"\\n\");\n\t\t\t\tfor (var j = 0; j < level; ++j)\n\t\t\t\t\tfinalout.push(\"\\t\");\n\t\t\t\tneedlf = false;\n\t\t\t}\n\t\t\tfinalout.push(out[i]);\n\t\t}\n\t}\n\tif (needlf)\n\t\tfinalout.push(\"\\n\");\n\treturn finalout.join(\"\");\n};\n\n// Compare ``obj1`` and ``obj2`` if they have the same value\nul4._eq = function _eq(obj1, obj2) {\n\tvar numbertypes = [\"boolean\", \"number\"];\n\n\tif (obj1 && typeof (obj1.__eq__) === \"function\")\n\t\treturn obj1.__eq__(obj2);\n\telse if (obj2 && typeof (obj2.__eq__) === \"function\")\n\t\treturn obj2.__eq__(obj1);\n\telse if (obj1 === null)\n\t\treturn obj2 === null;\n\telse if (numbertypes.indexOf(typeof (obj1)) != -1) {\n\t\tif (numbertypes.indexOf(typeof (obj2)) != -1)\n\t\t\treturn obj1 == obj2\n\t\telse\n\t\t\treturn false;\n\t}\n\telse if (typeof (obj1) === \"string\") {\n\t\tif (typeof (obj2) === \"string\")\n\t\t\treturn obj1 == obj2;\n\t\telse\n\t\t\treturn false;\n\t}\n\telse if (ul4._isdate(obj1)) {\n\t\tif (ul4._isdate(obj2))\n\t\t\treturn obj1.getTime() == obj2.getTime();\n\t\telse\n\t\t\treturn false;\n\t}\n\telse if (ul4._islist(obj1)) {\n\t\tif (ul4._islist(obj2)) {\n\t\t\t// Shortcut, if it's the same object\n\t\t\tif (obj1 === obj2)\n\t\t\t\treturn true;\n\t\t\tif (obj1.length != obj2.length)\n\t\t\t\treturn false;\n\t\t\tfor (var i = 0; i < obj1.length; ++i) {\n\t\t\t\tif (!ul4._eq(obj1[i], obj2[i])) // This might lead to infinite recursion and a stackoverflow, but it does in all implementations\n\t\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t\telse\n\t\t\treturn false;\n\t}\n\telse if (ul4._isobject(obj1)) {\n\t\tif (ul4._isobject(obj2)) {\n\t\t\t// Shortcut, if it's the same object\n\t\t\tif (obj1 === obj2)\n\t\t\t\treturn true;\n\t\t\t// Test that each attribute of ``obj1`` can also be found in ``obj2`` and has the same value\n\t\t\tfor (var key in obj1) {\n\t\t\t\tif (obj2.hasOwnProperty(key)) {\n\t\t\t\t\tif (!ul4._eq(obj1[key], obj2[key]))\n\t\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t\treturn false;\n\t\t\t}\n\t\t\t// Test that each attribute of ``obj2`` is alos in ``obj1`` (the value has been tested before)\n\t\t\tfor (var key in obj2) {\n\t\t\t\tif (!obj1.hasOwnProperty(key))\n\t\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t\telse if (ul4._ismap(obj2)) {\n\t\t\t// Test that each attribute of ``obj1`` can also be found in ``obj2`` and has the same value\n\t\t\tfor (var key in obj1) {\n\t\t\t\tif (obj2.has(key)) {\n\t\t\t\t\tif (!ul4._eq(obj1[key], obj2.get(key)))\n\t\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t\treturn false;\n\t\t\t}\n\t\t\t// Test that each attribute of ``obj2`` is alos in ``obj1`` (the value has been tested before)\n\t\t\tvar result = true;\n\t\t\tobj2.forEach(function (value, key) {\n\t\t\t\tif (!obj1.hasOwnProperty(key))\n\t\t\t\t\tresult = false;\n\t\t\t});\n\t\t\treturn result;\n\t\t}\n\t\telse\n\t\t\treturn false;\n\t}\n\telse if (ul4._ismap(obj1)) {\n\t\tif (ul4._isobject(obj2)) {\n\t\t\t// Test that each attribute of ``obj1`` can also be found in ``obj2`` and has the same value\n\t\t\tvar result = true;\n\t\t\tobj1.forEach(function (value, key) {\n\t\t\t\tif (result) // Skip code, if result is already ``false``\n\t\t\t\t{\n\t\t\t\t\tif (!obj2.hasOwnProperty(key))\n\t\t\t\t\t\tresult = false;\n\t\t\t\t\telse if (!ul4._eq(obj1.get(key), obj2[key]))\n\t\t\t\t\t\tresult = false;\n\t\t\t\t}\n\t\t\t});\n\t\t\tif (!result)\n\t\t\t\treturn false;\n\t\t\t// Test that each attribute of ``obj2`` is alos in ``obj1`` (the value has been tested before)\n\t\t\tfor (var key in obj2) {\n\t\t\t\tif (!obj1.has(key))\n\t\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t\telse if (ul4._ismap(obj2)) {\n\t\t\t// Shortcut, if it's the same object\n\t\t\tif (obj1 === obj2)\n\t\t\t\treturn true;\n\t\t\tif (obj1.size != obj2.size)\n\t\t\t\treturn false;\n\t\t\t// Test that each attribute of ``obj1`` can also be found in ``obj2`` and has the same value\n\t\t\tvar result = true;\n\t\t\tobj1.forEach(function (value, key) {\n\t\t\t\tif (result) // Skip code, if result is already ``false``\n\t\t\t\t{\n\t\t\t\t\tif (!obj2.has(key))\n\t\t\t\t\t\tresult = false;\n\t\t\t\t\telse if (!ul4._eq(obj1.get(key), obj2.get(key)))\n\t\t\t\t\t\tresult = false;\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn result;\n\t\t}\n\t\telse\n\t\t\treturn false;\n\t}\n\telse if (ul4._isset(obj1)) {\n\t\t// We don't have to test for ``ul4._Set`` as ``ul4._Set`` implements ``__eq__``\n\t\tif (ul4._isset(obj2)) {\n\t\t\t// Shortcut, if it's the same object\n\t\t\tif (obj1 === obj2)\n\t\t\t\treturn true;\n\t\t\tif (obj1.size != obj2.size)\n\t\t\t\treturn false;\n\t\t\tvar result = true;\n\t\t\tobj1.forEach(function (value) {\n\t\t\t\tif (result) // Skip code, if result is already ``false``\n\t\t\t\t{\n\t\t\t\t\tif (!obj2.has(value))\n\t\t\t\t\t\tresult = false;\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn result;\n\t\t}\n\t\telse\n\t\t\treturn false;\n\t}\n\telse\n\t\treturn obj1 === obj2;\n};\n\n// Compare ``obj1`` and ``obj2`` if they don't have the same value\nul4._ne = function _ne(obj1, obj2) {\n\tif (obj1 && typeof (obj1.__ne__) === \"function\")\n\t\treturn obj1.__ne__(obj2);\n\telse if (obj2 && typeof (obj2.__ne__) === \"function\")\n\t\treturn obj2.__ne__(obj1);\n\telse\n\t\treturn !ul4._eq(obj1, obj2);\n}\n\nul4._unorderable = function _unorderable(operator, obj1, obj2) {\n\tthrow ul4.TypeError.create(operator, \"unorderable types: \" + ul4._type(obj1) + \" \" + operator + \" \" + ul4._type(obj2));\n};\n\n// Return:\n// -1 when ``obj1 < obj2``,\n//  0 when ``obj1 == obj2``,\n//  1 when ``obj1 > obj2``,\n//  null when ``obj1`` and ``obj2`` are comparable, but neither of the previous cases holds (only for sets)\n// raise TypeError if objects are uncomparable\n// This the purpose of ``_cmp`` is to support implementation of <, <=, > and >=\n// and dicts/maps are not comparable with the operator ``_cmp`` does not support dicts/maps\n\nul4._cmp = function _cmp(operator, obj1, obj2) {\n\tvar numbertypes = [\"boolean\", \"number\"];\n\n\tif (numbertypes.indexOf(typeof (obj1)) != -1) {\n\t\tif (numbertypes.indexOf(typeof (obj2)) != -1)\n\t\t\treturn (obj1 > obj2) - (obj1 < obj2);\n\t}\n\telse if (typeof (obj1) === \"string\") {\n\t\tif (typeof (obj2) === \"string\")\n\t\t\treturn (obj1 > obj2) - (obj1 < obj2);\n\t}\n\telse if (ul4._isdate(obj1)) {\n\t\tif (ul4._isdate(obj2)) {\n\t\t\tvar v1 = obj1.getTime(), v2 = obj2.getTime();\n\t\t\treturn (v1 > v2) - (v1 < v2);\n\t\t}\n\t}\n\telse if (ul4._islist(obj1)) {\n\t\tif (ul4._islist(obj2)) {\n\t\t\tif (obj1 === obj2)\n\t\t\t\treturn 0;\n\t\t\tfor (var i = 0; i < obj1.length; ++i) {\n\t\t\t\tif (i >= obj2.length)\n\t\t\t\t\treturn 1;\n\t\t\t\tvar res = ul4._cmp(operator, obj1[i], obj2[i]);\n\t\t\t\tif (res)\n\t\t\t\t\treturn res;\n\t\t\t}\n\t\t\treturn obj2.length > obj1.length ? -1 : 0;\n\t\t}\n\t}\n\telse if (ul4._isset(obj1) || ul4._isul4set(obj1)) {\n\t\tvar in1only = false;\n\t\tvar in2only = false;\n\n\t\tif (ul4._isset(obj2)) {\n\t\t\tif (ul4._isset(obj2)) {\n\t\t\t\tobj1.forEach(function (value) {\n\t\t\t\t\tif (!obj2.has(value))\n\t\t\t\t\t\tin1only = true;\n\t\t\t\t});\n\t\t\t\tobj2.forEach(function (value) {\n\t\t\t\t\tif (!obj1.has(value))\n\t\t\t\t\t\tin2only = true;\n\t\t\t\t});\n\t\t\t}\n\t\t\telse if (ul4._isul4set(obj2)) {\n\t\t\t\tobj1.forEach(function (value) {\n\t\t\t\t\tif (!obj2.items[value])\n\t\t\t\t\t\tin1only = true;\n\t\t\t\t});\n\t\t\t\tfor (var value in obj2.items) {\n\t\t\t\t\tif (!obj1.has(value)) {\n\t\t\t\t\t\tin2only = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\telse if (ul4._isul4set(obj2)) {\n\t\t\tif (ul4._isset(obj2)) {\n\t\t\t\tfor (var value in obj1.items) {\n\t\t\t\t\tif (!obj2.has(value)) {\n\t\t\t\t\t\tin1only = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tobj2.forEach(function (value) {\n\t\t\t\t\tif (!obj1.items[value])\n\t\t\t\t\t\tin2only = true;\n\t\t\t\t});\n\t\t\t}\n\t\t\telse if (ul4._isul4set(obj2)) {\n\t\t\t\tfor (var value in obj1.items) {\n\t\t\t\t\tif (!obj2.items[value]) {\n\t\t\t\t\t\tin1only = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tfor (var value in obj2.items) {\n\t\t\t\t\tif (!obj1.items[value]) {\n\t\t\t\t\t\tin2only = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\telse\n\t\t\tul4._unorderable(operator, obj1, obj2);\n\n\t\tif (in1only) {\n\t\t\tif (in2only)\n\t\t\t\treturn null;\n\t\t\telse\n\t\t\t\treturn 1;\n\t\t}\n\t\telse {\n\t\t\tif (in2only)\n\t\t\t\treturn -1;\n\t\t\telse\n\t\t\t\treturn 0;\n\t\t}\n\t}\n\telse\n\t\tul4._unorderable(operator, obj1, obj2);\n}\n\n// Return whether ``obj1 < obj2``\nul4._lt = function _lt(obj1, obj2) {\n\tvar numbertypes = [\"boolean\", \"number\"];\n\n\tif (obj1 && typeof (obj1.__lt__) === \"function\")\n\t\treturn obj1.__lt__(obj2);\n\telse if (numbertypes.indexOf(typeof (obj1)) != -1) {\n\t\tif (numbertypes.indexOf(typeof (obj2)) != -1)\n\t\t\treturn obj1 < obj2;\n\t}\n\telse if (typeof (obj1) === \"string\") {\n\t\tif (typeof (obj2) === \"string\")\n\t\t\treturn obj1 < obj2;\n\t}\n\telse if (ul4._isdate(obj1)) {\n\t\tif (ul4._isdate(obj2))\n\t\t\treturn obj1.getTime() < obj2.getTime();\n\t}\n\telse if (ul4._islist(obj1)) {\n\t\tif (ul4._islist(obj2)) {\n\t\t\tif (obj1 === obj2)\n\t\t\t\treturn false;\n\t\t\tfor (var i = 0; i < obj1.length; ++i) {\n\t\t\t\tif (i >= obj2.length)\n\t\t\t\t\treturn false;\n\t\t\t\tvar eq = ul4._eq(obj1[i], obj2[i]);\n\t\t\t\tif (!eq)\n\t\t\t\t\treturn ul4._lt(obj1[i], obj2[i]);\n\t\t\t}\n\t\t\treturn obj1.length < obj2.length;\n\t\t}\n\t}\n\t// FIXME: Set comparison\n\telse if (ul4._isset(obj1)) {\n\t\tif (ul4._isset(obj2)) {\n\t\t\tif (ul4._isset(obj2)) {\n\t\t\t\tobj1.forEach(function (value) {\n\t\t\t\t\tif (!obj2.has(value))\n\t\t\t\t\t\tin1only = true;\n\t\t\t\t});\n\t\t\t\tobj2.forEach(function (value) {\n\t\t\t\t\tif (!obj1.has(value))\n\t\t\t\t\t\tin2only = true;\n\t\t\t\t});\n\t\t\t}\n\t\t\telse if (ul4._isul4set(obj2)) {\n\t\t\t\tobj1.forEach(function (value) {\n\t\t\t\t\tif (!obj2.items[value])\n\t\t\t\t\t\tin1only = true;\n\t\t\t\t});\n\t\t\t\tfor (var value in obj2.items) {\n\t\t\t\t\tif (!obj1.has(value)) {\n\t\t\t\t\t\tin2only = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\telse if (ul4._isul4set(obj2)) {\n\t\t\tif (ul4._isset(obj2)) {\n\t\t\t\tfor (var value in obj1.items) {\n\t\t\t\t\tif (!obj2.has(value)) {\n\t\t\t\t\t\tin1only = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tobj2.forEach(function (value) {\n\t\t\t\t\tif (!obj1.items[value])\n\t\t\t\t\t\tin2only = true;\n\t\t\t\t});\n\t\t\t}\n\t\t\telse if (ul4._isul4set(obj2)) {\n\t\t\t\tfor (var value in obj1.items) {\n\t\t\t\t\tif (!obj2.items[value]) {\n\t\t\t\t\t\tin1only = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tfor (var value in obj2.items) {\n\t\t\t\t\tif (!obj1.items[value]) {\n\t\t\t\t\t\tin2only = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\telse\n\t\t\tul4._unorderable(operator, obj1, obj2);\n\n\t\tif (in1only) {\n\t\t\tif (in2only)\n\t\t\t\treturn null;\n\t\t\telse\n\t\t\t\treturn 1;\n\t\t}\n\t\telse {\n\t\t\tif (in2only)\n\t\t\t\treturn -1;\n\t\t\telse\n\t\t\t\treturn 0;\n\t\t}\n\t}\n\tul4._unorderable(\"<\", obj1, obj2);\n};\n\n// Return whether ``obj1 <= obj2``\nul4._le = function _le(obj1, obj2) {\n\tvar numbertypes = [\"boolean\", \"number\"];\n\n\tif (obj1 && typeof (obj1.__le__) === \"function\")\n\t\treturn obj1.__le__(obj2);\n\tif (numbertypes.indexOf(typeof (obj1)) != -1) {\n\t\tif (numbertypes.indexOf(typeof (obj2)) != -1)\n\t\t\treturn obj1 <= obj2;\n\t}\n\telse if (typeof (obj1) === \"string\") {\n\t\tif (typeof (obj2) === \"string\")\n\t\t\treturn obj1 <= obj2;\n\t}\n\telse if (ul4._isdate(obj1)) {\n\t\tif (ul4._isdate(obj2))\n\t\t\treturn obj1.getTime() <= obj2.getTime();\n\t}\n\telse if (ul4._islist(obj1)) {\n\t\tif (ul4._islist(obj2)) {\n\t\t\tif (obj1 === obj2)\n\t\t\t\treturn true;\n\t\t\tfor (var i = 0; i < obj1.length; ++i) {\n\t\t\t\tif (i >= obj2.length)\n\t\t\t\t\treturn false;\n\t\t\t\tvar eq = ul4._eq(obj1[i], obj2[i]);\n\t\t\t\tif (!eq)\n\t\t\t\t\treturn ul4._lt(obj1[i], obj2[i]);\n\t\t\t}\n\t\t\treturn obj1.length <= obj2.length;\n\t\t}\n\t}\n\t// FIXME: Set comparison\n\telse if (ul4._isset(obj1) || ul4._isul4set(obj1)) {\n\t\tvar in1only = false;\n\t\tvar in2only = false;\n\n\t\tif (ul4._isset(obj2)) {\n\t\t\tif (ul4._isset(obj2)) {\n\t\t\t\tobj1.forEach(function (value) {\n\t\t\t\t\tif (!obj2.has(value))\n\t\t\t\t\t\tin1only = true;\n\t\t\t\t});\n\t\t\t\tobj2.forEach(function (value) {\n\t\t\t\t\tif (!obj1.has(value))\n\t\t\t\t\t\tin2only = true;\n\t\t\t\t});\n\t\t\t}\n\t\t\telse if (ul4._isul4set(obj2)) {\n\t\t\t\tobj1.forEach(function (value) {\n\t\t\t\t\tif (!obj2.items[value])\n\t\t\t\t\t\tin1only = true;\n\t\t\t\t});\n\t\t\t\tfor (var value in obj2.items) {\n\t\t\t\t\tif (!obj1.has(value)) {\n\t\t\t\t\t\tin2only = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\telse if (ul4._isul4set(obj2)) {\n\t\t\tif (ul4._isset(obj2)) {\n\t\t\t\tfor (var value in obj1.items) {\n\t\t\t\t\tif (!obj2.has(value)) {\n\t\t\t\t\t\tin1only = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tobj2.forEach(function (value) {\n\t\t\t\t\tif (!obj1.items[value])\n\t\t\t\t\t\tin2only = true;\n\t\t\t\t});\n\t\t\t}\n\t\t\telse if (ul4._isul4set(obj2)) {\n\t\t\t\tfor (var value in obj1.items) {\n\t\t\t\t\tif (!obj2.items[value]) {\n\t\t\t\t\t\tin1only = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tfor (var value in obj2.items) {\n\t\t\t\t\tif (!obj1.items[value]) {\n\t\t\t\t\t\tin2only = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\telse\n\t\t\tul4._unorderable(operator, obj1, obj2);\n\n\t\tif (in1only) {\n\t\t\tif (in2only)\n\t\t\t\treturn null;\n\t\t\telse\n\t\t\t\treturn 1;\n\t\t}\n\t\telse {\n\t\t\tif (in2only)\n\t\t\t\treturn -1;\n\t\t\telse\n\t\t\t\treturn 0;\n\t\t}\n\t}\n\tul4._unorderable(\"<=\", obj1, obj2);\n};\n\n// Return whether ``obj1 > obj2``\nul4._gt = function _gt(obj1, obj2) {\n\tvar numbertypes = [\"boolean\", \"number\"];\n\n\tif (obj1 && typeof (obj1.__gt__) === \"function\")\n\t\treturn obj1.__gt__(obj2);\n\tif (numbertypes.indexOf(typeof (obj1)) != -1) {\n\t\tif (numbertypes.indexOf(typeof (obj2)) != -1)\n\t\t\treturn obj1 > obj2;\n\t}\n\telse if (typeof (obj1) === \"string\") {\n\t\tif (typeof (obj2) === \"string\")\n\t\t\treturn obj1 > obj2;\n\t}\n\telse if (ul4._isdate(obj1)) {\n\t\tif (ul4._isdate(obj2))\n\t\t\treturn obj1.getTime() > obj2.getTime();\n\t}\n\telse if (ul4._islist(obj1)) {\n\t\tif (ul4._islist(obj2)) {\n\t\t\tif (obj1 === obj2)\n\t\t\t\treturn false;\n\t\t\tfor (var i = 0; i < obj1.length; ++i) {\n\t\t\t\tif (i >= obj2.length)\n\t\t\t\t\treturn true;\n\t\t\t\tvar eq = ul4._eq(obj1[i], obj2[i]);\n\t\t\t\tif (!eq)\n\t\t\t\t\treturn ul4._gt(obj1[i], obj2[i]);\n\t\t\t}\n\t\t\treturn obj1.length > obj2.length;\n\t\t}\n\t}\n\t// FIXME: Set comparison\n\telse if (ul4._isset(obj1) || ul4._isul4set(obj1)) {\n\t\tvar in1only = false;\n\t\tvar in2only = false;\n\n\t\tif (ul4._isset(obj2)) {\n\t\t\tif (ul4._isset(obj2)) {\n\t\t\t\tobj1.forEach(function (value) {\n\t\t\t\t\tif (!obj2.has(value))\n\t\t\t\t\t\tin1only = true;\n\t\t\t\t});\n\t\t\t\tobj2.forEach(function (value) {\n\t\t\t\t\tif (!obj1.has(value))\n\t\t\t\t\t\tin2only = true;\n\t\t\t\t});\n\t\t\t}\n\t\t\telse if (ul4._isul4set(obj2)) {\n\t\t\t\tobj1.forEach(function (value) {\n\t\t\t\t\tif (!obj2.items[value])\n\t\t\t\t\t\tin1only = true;\n\t\t\t\t});\n\t\t\t\tfor (var value in obj2.items) {\n\t\t\t\t\tif (!obj1.has(value)) {\n\t\t\t\t\t\tin2only = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\telse if (ul4._isul4set(obj2)) {\n\t\t\tif (ul4._isset(obj2)) {\n\t\t\t\tfor (var value in obj1.items) {\n\t\t\t\t\tif (!obj2.has(value)) {\n\t\t\t\t\t\tin1only = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tobj2.forEach(function (value) {\n\t\t\t\t\tif (!obj1.items[value])\n\t\t\t\t\t\tin2only = true;\n\t\t\t\t});\n\t\t\t}\n\t\t\telse if (ul4._isul4set(obj2)) {\n\t\t\t\tfor (var value in obj1.items) {\n\t\t\t\t\tif (!obj2.items[value]) {\n\t\t\t\t\t\tin1only = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tfor (var value in obj2.items) {\n\t\t\t\t\tif (!obj1.items[value]) {\n\t\t\t\t\t\tin2only = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\telse\n\t\t\tul4._unorderable(operator, obj1, obj2);\n\n\t\tif (in1only) {\n\t\t\tif (in2only)\n\t\t\t\treturn null;\n\t\t\telse\n\t\t\t\treturn 1;\n\t\t}\n\t\telse {\n\t\t\tif (in2only)\n\t\t\t\treturn -1;\n\t\t\telse\n\t\t\t\treturn 0;\n\t\t}\n\t}\n\tul4._unorderable(\">\", obj1, obj2);\n};\n\n// Return whether ``obj1 >= obj2``\nul4._ge = function _ge(obj1, obj2) {\n\tvar numbertypes = [\"boolean\", \"number\"];\n\n\tif (obj1 && typeof (obj1.__ge__) === \"function\")\n\t\treturn obj1.__ge__(obj2);\n\telse if (numbertypes.indexOf(typeof (obj1)) != -1) {\n\t\tif (numbertypes.indexOf(typeof (obj2)) != -1)\n\t\t\treturn obj1 >= obj2;\n\t}\n\telse if (typeof (obj1) === \"string\") {\n\t\tif (typeof (obj2) === \"string\")\n\t\t\treturn obj1 >= obj2;\n\t}\n\telse if (ul4._isdate(obj1)) {\n\t\tif (ul4._isdate(obj2))\n\t\t\treturn obj1.getTime() >= obj2.getTime();\n\t}\n\telse if (ul4._islist(obj1)) {\n\t\tif (ul4._islist(obj2)) {\n\t\t\tif (obj1 === obj2)\n\t\t\t\treturn true;\n\t\t\tfor (var i = 0; i < obj1.length; ++i) {\n\t\t\t\tif (i >= obj2.length)\n\t\t\t\t\treturn true;\n\t\t\t\tvar eq = ul4._eq(obj1[i], obj2[i]);\n\t\t\t\tif (!eq)\n\t\t\t\t\treturn ul4._gt(obj1[i], obj2[i]);\n\t\t\t}\n\t\t\treturn obj1.length >= obj2.length;\n\t\t}\n\t}\n\t// FIXME: Set comparison\n\telse if (ul4._isset(obj1) || ul4._isul4set(obj1)) {\n\t\tvar in1only = false;\n\t\tvar in2only = false;\n\n\t\tif (ul4._isset(obj2)) {\n\t\t\tif (ul4._isset(obj2)) {\n\t\t\t\tobj1.forEach(function (value) {\n\t\t\t\t\tif (!obj2.has(value))\n\t\t\t\t\t\tin1only = true;\n\t\t\t\t});\n\t\t\t\tobj2.forEach(function (value) {\n\t\t\t\t\tif (!obj1.has(value))\n\t\t\t\t\t\tin2only = true;\n\t\t\t\t});\n\t\t\t}\n\t\t\telse if (ul4._isul4set(obj2)) {\n\t\t\t\tobj1.forEach(function (value) {\n\t\t\t\t\tif (!obj2.items[value])\n\t\t\t\t\t\tin1only = true;\n\t\t\t\t});\n\t\t\t\tfor (var value in obj2.items) {\n\t\t\t\t\tif (!obj1.has(value)) {\n\t\t\t\t\t\tin2only = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\telse if (ul4._isul4set(obj2)) {\n\t\t\tif (ul4._isset(obj2)) {\n\t\t\t\tfor (var value in obj1.items) {\n\t\t\t\t\tif (!obj2.has(value)) {\n\t\t\t\t\t\tin1only = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tobj2.forEach(function (value) {\n\t\t\t\t\tif (!obj1.items[value])\n\t\t\t\t\t\tin2only = true;\n\t\t\t\t});\n\t\t\t}\n\t\t\telse if (ul4._isul4set(obj2)) {\n\t\t\t\tfor (var value in obj1.items) {\n\t\t\t\t\tif (!obj2.items[value]) {\n\t\t\t\t\t\tin1only = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tfor (var value in obj2.items) {\n\t\t\t\t\tif (!obj1.items[value]) {\n\t\t\t\t\t\tin2only = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\telse\n\t\t\tul4._unorderable(operator, obj1, obj2);\n\n\t\tif (in1only) {\n\t\t\tif (in2only)\n\t\t\t\treturn null;\n\t\t\telse\n\t\t\t\treturn 1;\n\t\t}\n\t\telse {\n\t\t\tif (in2only)\n\t\t\t\treturn -1;\n\t\t\telse\n\t\t\t\treturn 0;\n\t\t}\n\t}\n\tul4._unorderable(\">=\", obj1, obj2);\n};\n\n// Return an iterator for ``obj``\nul4._iter = function _iter(obj) {\n\tif (typeof (obj) === \"string\" || ul4._islist(obj)) {\n\t\treturn {\n\t\t\tindex: 0,\n\t\t\tnext: function () {\n\t\t\t\tif (this.index < obj.length)\n\t\t\t\t\treturn { value: obj[this.index++], done: false };\n\t\t\t\telse\n\t\t\t\t\treturn { done: true };\n\t\t\t}\n\t\t};\n\t}\n\telse if (ul4._isiter(obj))\n\t\treturn obj;\n\telse if (obj !== null && typeof (obj.__iter__) === \"function\")\n\t\treturn obj.__iter__();\n\telse if (ul4._ismap(obj)) {\n\t\tvar keys = [];\n\t\tobj.forEach(function (value, key) {\n\t\t\tkeys.push(key);\n\t\t});\n\t\treturn {\n\t\t\tindex: 0,\n\t\t\tnext: function () {\n\t\t\t\tif (this.index >= keys.length)\n\t\t\t\t\treturn { done: true };\n\t\t\t\treturn { value: keys[this.index++], done: false };\n\t\t\t}\n\t\t};\n\t}\n\telse if (ul4._isset(obj)) {\n\t\tvar values = [];\n\t\tobj.forEach(function (value, key) {\n\t\t\tvalues.push(value);\n\t\t});\n\t\treturn {\n\t\t\tindex: 0,\n\t\t\tnext: function () {\n\t\t\t\tif (this.index >= values.length)\n\t\t\t\t\treturn { done: true };\n\t\t\t\treturn { value: values[this.index++], done: false };\n\t\t\t}\n\t\t};\n\t}\n\telse if (ul4._isul4set(obj)) {\n\t\treturn ul4._iter(obj.items);\n\t}\n\telse if (ul4._isobject(obj)) {\n\t\tvar keys = [];\n\t\tfor (var key in obj)\n\t\t\tkeys.push(key);\n\t\treturn {\n\t\t\tindex: 0,\n\t\t\tnext: function () {\n\t\t\t\tif (this.index >= keys.length)\n\t\t\t\t\treturn { done: true };\n\t\t\t\treturn { value: keys[this.index++], done: false };\n\t\t\t}\n\t\t};\n\t}\n\tthrow ul4.TypeError.create(\"iter\", ul4._type(obj) + \" object is not iterable\");\n};\n\nul4._str_repr = function _str_repr(str, ascii) {\n\tvar result = \"\";\n\tvar squote = false, dquote = false;\n\n\tfor (var i = 0; i < str.length; ++i) {\n\t\tvar c = str[i];\n\t\tif (c == '\"') {\n\t\t\tdquote = true;\n\t\t\tif (squote)\n\t\t\t\tbreak;\n\t\t}\n\t\telse if (c == \"'\") {\n\t\t\tsquote = true;\n\t\t\tif (dquote)\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\t// Prefer single quotes: Only use double quotes if the string contains single quotes, but no double quotes\n\tvar quote = (squote && !dquote) ? '\"' : \"'\";\n\n\tfor (var i = 0; i < str.length; ++i) {\n\t\tvar c = str[i];\n\t\tswitch (c) {\n\t\t\tcase '\"':\n\t\t\t\tresult += (quote == c) ? '\\\\\"' : c;\n\t\t\t\tbreak;\n\t\t\tcase \"'\":\n\t\t\t\tresult += (quote == c) ? \"\\\\'\" : c;\n\t\t\t\tbreak;\n\t\t\tcase \"\\\\\":\n\t\t\t\tresult += \"\\\\\\\\\";\n\t\t\t\tbreak;\n\t\t\tcase \"\\t\":\n\t\t\t\tresult += \"\\\\t\";\n\t\t\t\tbreak;\n\t\t\tcase \"\\n\":\n\t\t\t\tresult += \"\\\\n\";\n\t\t\t\tbreak;\n\t\t\tcase \"\\r\":\n\t\t\t\tresult += \"\\\\r\";\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tvar code = str.charCodeAt(i);\n\t\t\t\tvar escape;\n\t\t\t\tif (code < 32)\n\t\t\t\t\tescape = 2;\n\t\t\t\telse if (code < 0x7f)\n\t\t\t\t\tescape = 0;\n\t\t\t\telse if (!ascii && !/[\\u007f-\\u00a0\\u00ad\\u0378-\\u0379\\u0380-\\u0383\\u038b\\u038d\\u03a2\\u0530\\u0557-\\u0558\\u0560\\u0588\\u058b-\\u058c\\u0590\\u05c8-\\u05cf\\u05eb-\\u05ef\\u05f5-\\u0605\\u061c-\\u061d\\u06dd\\u070e-\\u070f\\u074b-\\u074c\\u07b2-\\u07bf\\u07fb-\\u07ff\\u082e-\\u082f\\u083f\\u085c-\\u085d\\u085f-\\u089f\\u08b5-\\u08e2\\u0984\\u098d-\\u098e\\u0991-\\u0992\\u09a9\\u09b1\\u09b3-\\u09b5\\u09ba-\\u09bb\\u09c5-\\u09c6\\u09c9-\\u09ca\\u09cf-\\u09d6\\u09d8-\\u09db\\u09de\\u09e4-\\u09e5\\u09fc-\\u0a00\\u0a04\\u0a0b-\\u0a0e\\u0a11-\\u0a12\\u0a29\\u0a31\\u0a34\\u0a37\\u0a3a-\\u0a3b\\u0a3d\\u0a43-\\u0a46\\u0a49-\\u0a4a\\u0a4e-\\u0a50\\u0a52-\\u0a58\\u0a5d\\u0a5f-\\u0a65\\u0a76-\\u0a80\\u0a84\\u0a8e\\u0a92\\u0aa9\\u0ab1\\u0ab4\\u0aba-\\u0abb\\u0ac6\\u0aca\\u0ace-\\u0acf\\u0ad1-\\u0adf\\u0ae4-\\u0ae5\\u0af2-\\u0af8\\u0afa-\\u0b00\\u0b04\\u0b0d-\\u0b0e\\u0b11-\\u0b12\\u0b29\\u0b31\\u0b34\\u0b3a-\\u0b3b\\u0b45-\\u0b46\\u0b49-\\u0b4a\\u0b4e-\\u0b55\\u0b58-\\u0b5b\\u0b5e\\u0b64-\\u0b65\\u0b78-\\u0b81\\u0b84\\u0b8b-\\u0b8d\\u0b91\\u0b96-\\u0b98\\u0b9b\\u0b9d\\u0ba0-\\u0ba2\\u0ba5-\\u0ba7\\u0bab-\\u0bad\\u0bba-\\u0bbd\\u0bc3-\\u0bc5\\u0bc9\\u0bce-\\u0bcf\\u0bd1-\\u0bd6\\u0bd8-\\u0be5\\u0bfb-\\u0bff\\u0c04\\u0c0d\\u0c11\\u0c29\\u0c3a-\\u0c3c\\u0c45\\u0c49\\u0c4e-\\u0c54\\u0c57\\u0c5b-\\u0c5f\\u0c64-\\u0c65\\u0c70-\\u0c77\\u0c80\\u0c84\\u0c8d\\u0c91\\u0ca9\\u0cb4\\u0cba-\\u0cbb\\u0cc5\\u0cc9\\u0cce-\\u0cd4\\u0cd7-\\u0cdd\\u0cdf\\u0ce4-\\u0ce5\\u0cf0\\u0cf3-\\u0d00\\u0d04\\u0d0d\\u0d11\\u0d3b-\\u0d3c\\u0d45\\u0d49\\u0d4f-\\u0d56\\u0d58-\\u0d5e\\u0d64-\\u0d65\\u0d76-\\u0d78\\u0d80-\\u0d81\\u0d84\\u0d97-\\u0d99\\u0db2\\u0dbc\\u0dbe-\\u0dbf\\u0dc7-\\u0dc9\\u0dcb-\\u0dce\\u0dd5\\u0dd7\\u0de0-\\u0de5\\u0df0-\\u0df1\\u0df5-\\u0e00\\u0e3b-\\u0e3e\\u0e5c-\\u0e80\\u0e83\\u0e85-\\u0e86\\u0e89\\u0e8b-\\u0e8c\\u0e8e-\\u0e93\\u0e98\\u0ea0\\u0ea4\\u0ea6\\u0ea8-\\u0ea9\\u0eac\\u0eba\\u0ebe-\\u0ebf\\u0ec5\\u0ec7\\u0ece-\\u0ecf\\u0eda-\\u0edb\\u0ee0-\\u0eff\\u0f48\\u0f6d-\\u0f70\\u0f98\\u0fbd\\u0fcd\\u0fdb-\\u0fff\\u10c6\\u10c8-\\u10cc\\u10ce-\\u10cf\\u1249\\u124e-\\u124f\\u1257\\u1259\\u125e-\\u125f\\u1289\\u128e-\\u128f\\u12b1\\u12b6-\\u12b7\\u12bf\\u12c1\\u12c6-\\u12c7\\u12d7\\u1311\\u1316-\\u1317\\u135b-\\u135c\\u137d-\\u137f\\u139a-\\u139f\\u13f6-\\u13f7\\u13fe-\\u13ff\\u1680\\u169d-\\u169f\\u16f9-\\u16ff\\u170d\\u1715-\\u171f\\u1737-\\u173f\\u1754-\\u175f\\u176d\\u1771\\u1774-\\u177f\\u17de-\\u17df\\u17ea-\\u17ef\\u17fa-\\u17ff\\u180e-\\u180f\\u181a-\\u181f\\u1878-\\u187f\\u18ab-\\u18af\\u18f6-\\u18ff\\u191f\\u192c-\\u192f\\u193c-\\u193f\\u1941-\\u1943\\u196e-\\u196f\\u1975-\\u197f\\u19ac-\\u19af\\u19ca-\\u19cf\\u19db-\\u19dd\\u1a1c-\\u1a1d\\u1a5f\\u1a7d-\\u1a7e\\u1a8a-\\u1a8f\\u1a9a-\\u1a9f\\u1aae-\\u1aaf\\u1abf-\\u1aff\\u1b4c-\\u1b4f\\u1b7d-\\u1b7f\\u1bf4-\\u1bfb\\u1c38-\\u1c3a\\u1c4a-\\u1c4c\\u1c80-\\u1cbf\\u1cc8-\\u1ccf\\u1cf7\\u1cfa-\\u1cff\\u1df6-\\u1dfb\\u1f16-\\u1f17\\u1f1e-\\u1f1f\\u1f46-\\u1f47\\u1f4e-\\u1f4f\\u1f58\\u1f5a\\u1f5c\\u1f5e\\u1f7e-\\u1f7f\\u1fb5\\u1fc5\\u1fd4-\\u1fd5\\u1fdc\\u1ff0-\\u1ff1\\u1ff5\\u1fff-\\u200f\\u2028-\\u202f\\u205f-\\u206f\\u2072-\\u2073\\u208f\\u209d-\\u209f\\u20bf-\\u20cf\\u20f1-\\u20ff\\u218c-\\u218f\\u23fb-\\u23ff\\u2427-\\u243f\\u244b-\\u245f\\u2b74-\\u2b75\\u2b96-\\u2b97\\u2bba-\\u2bbc\\u2bc9\\u2bd2-\\u2beb\\u2bf0-\\u2bff\\u2c2f\\u2c5f\\u2cf4-\\u2cf8\\u2d26\\u2d28-\\u2d2c\\u2d2e-\\u2d2f\\u2d68-\\u2d6e\\u2d71-\\u2d7e\\u2d97-\\u2d9f\\u2da7\\u2daf\\u2db7\\u2dbf\\u2dc7\\u2dcf\\u2dd7\\u2ddf\\u2e43-\\u2e7f\\u2e9a\\u2ef4-\\u2eff\\u2fd6-\\u2fef\\u2ffc-\\u3000\\u3040\\u3097-\\u3098\\u3100-\\u3104\\u312e-\\u3130\\u318f\\u31bb-\\u31bf\\u31e4-\\u31ef\\u321f\\u32ff\\u4db6-\\u4dbf\\u9fd6-\\u9fff\\ua48d-\\ua48f\\ua4c7-\\ua4cf\\ua62c-\\ua63f\\ua6f8-\\ua6ff\\ua7ae-\\ua7af\\ua7b8-\\ua7f6\\ua82c-\\ua82f\\ua83a-\\ua83f\\ua878-\\ua87f\\ua8c5-\\ua8cd\\ua8da-\\ua8df\\ua8fe-\\ua8ff\\ua954-\\ua95e\\ua97d-\\ua97f\\ua9ce\\ua9da-\\ua9dd\\ua9ff\\uaa37-\\uaa3f\\uaa4e-\\uaa4f\\uaa5a-\\uaa5b\\uaac3-\\uaada\\uaaf7-\\uab00\\uab07-\\uab08\\uab0f-\\uab10\\uab17-\\uab1f\\uab27\\uab2f\\uab66-\\uab6f\\uabee-\\uabef\\uabfa-\\uabff\\ud7a4-\\ud7af\\ud7c7-\\ud7ca\\ud7fc-\\uf8ff\\ufa6e-\\ufa6f\\ufada-\\ufaff\\ufb07-\\ufb12\\ufb18-\\ufb1c\\ufb37\\ufb3d\\ufb3f\\ufb42\\ufb45\\ufbc2-\\ufbd2\\ufd40-\\ufd4f\\ufd90-\\ufd91\\ufdc8-\\ufdef\\ufdfe-\\ufdff\\ufe1a-\\ufe1f\\ufe53\\ufe67\\ufe6c-\\ufe6f\\ufe75\\ufefd-\\uff00\\uffbf-\\uffc1\\uffc8-\\uffc9\\uffd0-\\uffd1\\uffd8-\\uffd9\\uffdd-\\uffdf\\uffe7\\uffef-\\ufffb\\ufffe-\\uffff]/.test(c))\n\t\t\t\t\tescape = 0;\n\t\t\t\telse if (code <= 0xff)\n\t\t\t\t\tescape = 2;\n\t\t\t\telse if (code <= 0xffff)\n\t\t\t\t\tescape = 4;\n\t\t\t\telse\n\t\t\t\t\tescape = 8;\n\n\t\t\t\tif (escape === 0)\n\t\t\t\t\tresult += c;\n\t\t\t\telse if (escape === 2)\n\t\t\t\t\tresult += \"\\\\x\" + ul4._lpad(code.toString(16), \"0\", 2);\n\t\t\t\telse if (escape === 4)\n\t\t\t\t\tresult += \"\\\\u\" + ul4._lpad(code.toString(16), \"0\", 4);\n\t\t\t\telse\n\t\t\t\t\tresult += \"\\\\U\" + ul4._lpad(code.toString(16), \"0\", 8);\n\t\t\t\tbreak;\n\t\t}\n\t}\n\treturn quote + result + quote;\n};\n\nul4._date_repr = function _date_repr(obj, ascii) {\n\tvar year = obj.getFullYear();\n\tvar month = obj.getMonth() + 1;\n\tvar day = obj.getDate();\n\tvar hour = obj.getHours();\n\tvar minute = obj.getMinutes();\n\tvar second = obj.getSeconds();\n\tvar ms = obj.getMilliseconds();\n\tvar result = \"@(\" + year + \"-\" + ul4._lpad(month.toString(), \"0\", 2) + \"-\" + ul4._lpad(day.toString(), \"0\", 2);\n\n\tif (hour || minute || second || ms) {\n\t\tresult += \"T\" + ul4._lpad(hour.toString(), \"0\", 2) + \":\" + ul4._lpad(minute.toString(), \"0\", 2) + \":\" + ul4._lpad(second.toString(), \"0\", 2);\n\t\tif (ms)\n\t\t\tresult += \".\" + ul4._lpad(ms.toString(), \"0\", 3) + \"000\";\n\t}\n\tresult += \")\";\n\n\treturn result;\n};\n\nul4._map_repr = function _map_repr(obj, ascii) {\n\tvar v = [];\n\tv.push(\"{\");\n\n\tvar i = 0;\n\tobj.forEach(function (value, key) {\n\t\tif (i++)\n\t\t\tv.push(\", \");\n\t\tv.push(ul4._repr_internal(key, ascii));\n\t\tv.push(\": \");\n\t\tv.push(ul4._repr_internal(value, ascii));\n\t});\n\n\tv.push(\"}\");\n\treturn v.join(\"\");\n};\n\nul4._list_repr = function _list_repr(obj, ascii) {\n\tvar v = [];\n\tv.push(\"[\");\n\tfor (var i = 0; i < obj.length; ++i) {\n\t\tif (i !== 0)\n\t\t\tv.push(\", \");\n\t\tv.push(ul4._repr_internal(obj[i], ascii));\n\t}\n\tv.push(\"]\");\n\treturn v.join(\"\");\n};\n\nul4._set_repr = function _set_repr(obj, ascii) {\n\tvar v = [];\n\tv.push(\"{\");\n\tif (!obj.size)\n\t\tv.push(\"/\");\n\telse {\n\t\tvar i = 0;\n\t\tobj.forEach(function (value, key) {\n\t\t\tif (i++)\n\t\t\t\tv.push(\", \");\n\t\t\tv.push(ul4._repr_internal(value, ascii));\n\t\t});\n\t}\n\tv.push(\"}\");\n\treturn v.join(\"\");\n};\n\nul4._object_repr = function _object_repr(obj, ascii) {\n\tvar v = [];\n\tv.push(\"{\");\n\tvar i = 0;\n\tfor (var key in obj) {\n\t\tif (!obj.hasOwnProperty(key))\n\t\t\tcontinue;\n\t\tif (i++)\n\t\t\tv.push(\", \");\n\t\tv.push(ul4._repr_internal(key, ascii));\n\t\tv.push(\": \");\n\t\tv.push(ul4._repr_internal(obj[key], ascii));\n\t}\n\tv.push(\"}\");\n\treturn v.join(\"\");\n};\n\nul4._repr_internal = function _repr_internal(obj, ascii) {\n\tif (obj === null)\n\t\treturn \"None\";\n\telse if (obj === false)\n\t\treturn \"False\";\n\telse if (obj === true)\n\t\treturn \"True\";\n\telse if (typeof (obj) === \"string\")\n\t\treturn ul4._str_repr(obj, ascii);\n\telse if (typeof (obj) === \"number\")\n\t\treturn \"\" + obj;\n\telse if (typeof (obj) === \"function\")\n\t\tif (obj._ul4_name || obj.name)\n\t\t\treturn \"<function \" + (obj._ul4_name || obj.name) + \">\";\n\t\telse\n\t\t\treturn \"<anonymous function>\";\n\telse if (ul4._isdate(obj))\n\t\treturn ul4._date_repr(obj, ascii);\n\telse if (typeof (obj) === \"undefined\")\n\t\treturn \"<undefined>\";\n\telse if (typeof (obj) === \"object\" && typeof (obj.__repr__) === \"function\")\n\t\treturn obj.__repr__();\n\telse if (ul4._islist(obj))\n\t\treturn ul4._list_repr(obj, ascii);\n\telse if (ul4._ismap(obj))\n\t\treturn ul4._map_repr(obj, ascii);\n\telse if (ul4._isset(obj))\n\t\treturn ul4._set_repr(obj, ascii);\n\telse if (ul4._isobject(obj))\n\t\treturn ul4._object_repr(obj, ascii);\n\treturn \"?\";\n};\n\n// Return a string representation of ``obj``: If possible this should be an object literal supported by UL4, otherwise the output should be bracketed with ``<`` and ``>``\nul4._repr = function _repr(obj) {\n\treturn ul4._repr_internal(obj, false);\n}\n\nul4._ascii = function _ascii(obj) {\n\treturn ul4._repr_internal(obj, true);\n}\n\nul4._date_str = function _date_str(obj) {\n\tvar year = obj.getFullYear();\n\tvar month = obj.getMonth() + 1;\n\tvar day = obj.getDate();\n\tvar hour = obj.getHours();\n\tvar minute = obj.getMinutes();\n\tvar second = obj.getSeconds();\n\tvar ms = obj.getMilliseconds();\n\n\tvar result = year + \"-\" + ul4._lpad(month.toString(), \"0\", 2) + \"-\" + ul4._lpad(day.toString(), \"0\", 2) + \" \" + ul4._lpad(hour.toString(), \"0\", 2) + \":\" + ul4._lpad(minute.toString(), \"0\", 2) + \":\" + ul4._lpad(second.toString(), \"0\", 2);\n\tif (ms)\n\t\tresult += \".\" + ul4._lpad(ms.toString(), \"0\", 3) + \"000\";\n\treturn result;\n};\n\nul4._str = function _str(obj) {\n\tif (typeof (obj) === \"undefined\")\n\t\treturn \"\";\n\telse if (obj === null)\n\t\treturn \"\";\n\telse if (obj === false)\n\t\treturn \"False\";\n\telse if (obj === true)\n\t\treturn \"True\";\n\telse if (typeof (obj) === \"string\")\n\t\treturn obj;\n\telse if (typeof (obj) === \"number\")\n\t\treturn obj.toString();\n\telse if (ul4._isdate(obj))\n\t\treturn ul4._date_str(obj);\n\telse if (ul4._islist(obj))\n\t\treturn ul4._list_repr(obj);\n\telse if (ul4._isset(obj))\n\t\treturn ul4._set_repr(obj);\n\telse if (ul4._ismap(obj))\n\t\treturn ul4._map_repr(obj);\n\telse if (typeof (obj) === \"object\" && typeof (obj.__str__) === \"function\")\n\t\treturn obj.__str__();\n\telse if (typeof (obj) === \"object\" && typeof (obj.__repr__) === \"function\")\n\t\treturn obj.__repr__();\n\telse if (ul4._isobject(obj))\n\t\treturn ul4._object_repr(obj);\n\treturn \"?\";\n};\n\n// Convert ``obj`` to bool, according to its \"truth value\"\nul4._bool = function _bool(obj) {\n\tif (typeof (obj) === \"undefined\" || obj === null || obj === false || obj === 0 || obj === \"\")\n\t\treturn false;\n\telse {\n\t\tif (typeof (obj) === \"object\", typeof (obj.__bool__) === \"function\")\n\t\t\treturn obj.__bool__();\n\t\tif (ul4._islist(obj))\n\t\t\treturn obj.length !== 0;\n\t\telse if (ul4._ismap(obj) || ul4._isset(obj))\n\t\t\treturn obj.size != 0;\n\t\telse if (ul4._isobject(obj)) {\n\t\t\tfor (var key in obj) {\n\t\t\t\tif (!obj.hasOwnProperty(key))\n\t\t\t\t\tcontinue;\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t}\n};\n\n// Convert ``obj`` to an integer (if ``base`` is given ``obj`` must be a string and ``base`` is the base for the conversion (default is 10))\nul4._int = function _int(obj, base) {\n\tvar result;\n\tif (base !== null) {\n\t\tif (typeof (obj) !== \"string\" || !ul4._isint(base))\n\t\t\tthrow ul4.TypeError.create(\"int()\", \"int() requires a string and an integer\");\n\t\tresult = parseInt(obj, base);\n\t\tif (result.toString() == \"NaN\")\n\t\t\tthrow ul4.TypeError.create(\"int()\", \"invalid literal for int()\");\n\t\treturn result;\n\t}\n\telse {\n\t\tif (typeof (obj) == \"string\") {\n\t\t\tresult = parseInt(obj);\n\t\t\tif (result.toString() == \"NaN\")\n\t\t\t\tthrow ul4.TypeError.create(\"int()\", \"invalid literal for int()\");\n\t\t\treturn result;\n\t\t}\n\t\telse if (typeof (obj) == \"number\")\n\t\t\treturn Math.floor(obj);\n\t\telse if (obj === true)\n\t\t\treturn 1;\n\t\telse if (obj === false)\n\t\t\treturn 0;\n\t\tthrow ul4.TypeError.create(\"int()\", \"int() argument must be a string or a number\");\n\t}\n};\n\n// Convert ``obj`` to a float\nul4._float = function _float(obj) {\n\tif (typeof (obj) === \"string\")\n\t\treturn parseFloat(obj);\n\telse if (typeof (obj) === \"number\")\n\t\treturn obj;\n\telse if (obj === true)\n\t\treturn 1.0;\n\telse if (obj === false)\n\t\treturn 0.0;\n\tthrow ul4.TypeError.create(\"float()\", \"float() argument must be a string or a number\");\n};\n\n// Convert ``obj`` to a list\nul4._list = function _list(obj) {\n\tvar iter = ul4._iter(obj);\n\n\tvar result = [];\n\tfor (; ;) {\n\t\tvar value = iter.next();\n\t\tif (value.done)\n\t\t\treturn result;\n\t\tresult.push(value.value);\n\t}\n};\n\n// Convert ``obj`` to a set\nul4._set = function _set(obj) {\n\tvar iter = ul4._iter(obj);\n\n\tvar result = ul4on._haveset ? new Set() : ul4._Set.create();\n\tfor (; ;) {\n\t\tvar value = iter.next();\n\t\tif (value.done)\n\t\t\treturn result;\n\t\tresult.add(value.value);\n\t}\n};\n\n// Return the length of ``sequence``\nul4._len = function _len(sequence) {\n\tif (typeof (sequence) == \"string\" || ul4._islist(sequence))\n\t\treturn sequence.length;\n\telse if (ul4._ismap(sequence) || ul4._isset(sequence))\n\t\treturn sequence.size;\n\telse if (ul4._isobject(sequence)) {\n\t\tvar i = 0;\n\t\tfor (var key in sequence)\n\t\t\t++i;\n\t\treturn i;\n\t}\n\tthrow ul4.TypeError.create(\"len\", \"object of type '\" + ul4._type(sequence) + \"' has no len()\");\n};\n\nul4._type = function _type(obj) {\n\tif (obj === null)\n\t\treturn \"none\";\n\telse if (obj === false || obj === true)\n\t\treturn \"bool\";\n\telse if (typeof (obj) === \"undefined\")\n\t\treturn \"undefined\";\n\telse if (typeof (obj) === \"string\")\n\t\treturn \"str\";\n\telse if (typeof (obj) === \"number\")\n\t\treturn Math.round(obj) == obj ? \"int\" : \"float\";\n\telse if (ul4._islist(obj))\n\t\treturn \"list\";\n\telse if (ul4._isset(obj))\n\t\treturn \"set\";\n\telse if (ul4._isdate(obj))\n\t\treturn \"date\";\n\telse if (typeof (obj.__type__) !== \"undefined\")\n\t\treturn obj.__type__;\n\telse if (ul4._istimedelta(obj))\n\t\treturn \"timedelta\";\n\telse if (ul4._isdict(obj))\n\t\treturn \"dict\";\n\telse if (ul4._istemplate(obj))\n\t\treturn \"template\";\n\telse if (ul4._isfunction(obj))\n\t\treturn \"function\";\n\treturn null;\n};\n\n\n// Return whether any of the items in ``iterable`` are true\nul4._any = function _any(iterable) {\n\tif (typeof (iterable) == \"string\") {\n\t\tfor (var i = 0; i < iterable.length; ++i) {\n\t\t\tif (iterable[i] !== '\\x00')\n\t\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\telse {\n\t\tfor (var iter = ul4._iter(iterable); ;) {\n\t\t\tvar item = iter.next();\n\t\t\tif (item.done)\n\t\t\t\treturn false;\n\t\t\tif (ul4._bool(item.value))\n\t\t\t\treturn true;\n\t\t}\n\t}\n};\n\n// Return whether all of the items in ``iterable`` are true\nul4._all = function _all(iterable) {\n\tif (typeof (iterable) == \"string\") {\n\t\tfor (var i = 0; i < iterable.length; ++i) {\n\t\t\tif (iterable[i] === '\\x00')\n\t\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t}\n\telse {\n\t\tfor (var iter = ul4._iter(iterable); ;) {\n\t\t\tvar item = iter.next();\n\t\t\tif (item.done)\n\t\t\t\treturn true;\n\t\t\tif (!ul4._bool(item.value))\n\t\t\t\treturn false;\n\t\t}\n\t}\n};\n\n// Check if ``obj`` is undefined\nul4._isundefined = function _isundefined(obj) {\n\treturn typeof (obj) === \"undefined\";\n};\n\n\n// Check if ``obj`` is *not* undefined\nul4._isdefined = function _isdefined(obj) {\n\treturn typeof (obj) !== \"undefined\";\n};\n\n// Check if ``obj`` is ``None``\nul4._isnone = function _isnone(obj) {\n\treturn obj === null;\n};\n\n// Check if ``obj`` is a boolean\nul4._isbool = function _isbool(obj) {\n\treturn typeof (obj) == \"boolean\";\n};\n\n// Check if ``obj`` is a int\nul4._isint = function _isint(obj) {\n\treturn (typeof (obj) == \"number\") && Math.round(obj) == obj;\n};\n\n// Check if ``obj`` is a float\nul4._isfloat = function _isfloat(obj) {\n\treturn (typeof (obj) == \"number\") && Math.round(obj) != obj;\n};\n\n// Check if ``obj`` is a string\nul4._isstr = function _isstr(obj) {\n\treturn typeof (obj) == \"string\";\n};\n\n// Check if ``obj`` is a date\nul4._isdate = function _isdate(obj) {\n\treturn Object.prototype.toString.call(obj) == \"[object Date]\";\n};\n\n// Check if ``obj`` is a color\nul4._iscolor = function _iscolor(obj) {\n\treturn (obj !== null && typeof (obj) === \"object\" && typeof (obj.isa) === \"function\" && obj.isa(ul4.Color));\n};\n\n// Check if ``obj`` is a timedelta object\nul4._istimedelta = function _istimedelta(obj) {\n\treturn (obj !== null && typeof (obj) === \"object\" && typeof (obj.isa) === \"function\" && obj.isa(ul4.TimeDelta));\n};\n\n// Check if ``obj`` is a monthdelta object\nul4._ismonthdelta = function _ismonthdelta(obj) {\n\treturn obj !== null && typeof (obj) === \"object\" && typeof (obj.isa) === \"function\" && obj.isa(ul4.MonthDelta);\n};\n\n// Check if ``obj`` is a template\nul4._istemplate = function _istemplate(obj) {\n\treturn Object.prototype.toString.call(obj) == \"[object Object]\" && (obj.__type__ === \"ul4.Template\" || obj.__type__ === \"ul4.TemplateClosure\");\n};\n\n// Check if ``obj`` is a function\nul4._isfunction = function _isfunction(obj) {\n\treturn typeof (obj) === \"function\" || (Object.prototype.toString.call(obj) == \"[object Object]\" && (obj.__type__ === \"ul4.Template\" || obj.__type__ === \"ul4.TemplateClosure\"));\n};\n\n// Check if ``obj`` is a list\nul4._islist = function _islist(obj) {\n\treturn Object.prototype.toString.call(obj) == \"[object Array]\";\n};\n\n// Check if ``obj`` is a set\nul4._isset = function _isset(obj) {\n\treturn Object.prototype.toString.call(obj) == \"[object Set]\";\n};\n\n// Check if ``obj`` is an exception (at least a UL4 exception)\nul4._isexception = function _isexception(obj) {\n\treturn obj !== null && typeof (obj) === \"object\" && typeof (obj.isa) === \"function\" && obj.isa(ul4.Error);\n};\n\nul4._isul4set = function _isul4set(obj) {\n\treturn obj !== null && typeof (obj) === \"object\" && typeof (obj.isa) === \"function\" && obj.isa(ul4._Set);\n};\n\n// Check if ``obj`` is an iterator\nul4._isiter = function _isiter(obj) {\n\treturn obj !== null && typeof (obj) === \"object\" && typeof (obj.next) === \"function\";\n};\n\n// Check if ``obj`` is a JS object\nul4._isobject = function _isobject(obj) {\n\treturn Object.prototype.toString.call(obj) == \"[object Object]\" && typeof (obj.__type__) === \"undefined\";\n};\n\n// Check if ``obj`` is a map\nul4._ismap = function _ismap(obj) {\n\tif (ul4on._havemap)\n\t\treturn obj !== null && typeof (obj) === \"object\" && typeof (obj.__proto__) === \"object\" && obj.__proto__ === Map.prototype;\n\treturn false;\n};\n\n// Check if ``obj`` is a dict (i.e. a normal Javascript object or a ``Map``)\nul4._isdict = function _isdict(obj) {\n\treturn ul4._isobject(obj) || ul4._ismap(obj);\n};\n\n\n// Repeat string ``str`` ``rep`` times\nul4._str_repeat = function _str_repeat(str, rep) {\n\tvar result = \"\";\n\tfor (; rep > 0; --rep)\n\t\tresult += str;\n\treturn result;\n};\n\nul4._list_repeat = function _list_repeat(list, rep) {\n\tvar result = [];\n\tfor (; rep > 0; --rep)\n\t\tfor (var i = 0; i < list.length; ++i)\n\t\t\tresult.push(list[i]);\n\treturn result;\n};\n\nul4._str_json = function _str_json(str) {\n\tvar result = \"\";\n\tfor (var i = 0; i < str.length; ++i) {\n\t\tvar c = str[i];\n\t\tswitch (c) {\n\t\t\tcase \"\\r\":\n\t\t\t\tresult += \"\\\\r\";\n\t\t\t\tbreak;\n\t\t\tcase \"\\n\":\n\t\t\t\tresult += \"\\\\n\";\n\t\t\t\tbreak;\n\t\t\tcase \"\\t\":\n\t\t\t\tresult += \"\\\\t\";\n\t\t\t\tbreak;\n\t\t\tcase \"\\\\\":\n\t\t\t\tresult += \"\\\\\\\\\";\n\t\t\t\tbreak;\n\t\t\tcase '\"':\n\t\t\t\tresult += '\\\\\"';\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tvar code = str.charCodeAt(i);\n\t\t\t\tif (code >= 32 && code < 128)\n\t\t\t\t\tresult += c;\n\t\t\t\telse\n\t\t\t\t\tresult += \"\\\\u\" + ul4._lpad(code.toString(16), \"0\", 4);\n\t\t\t\tbreak;\n\t\t}\n\t}\n\treturn '\"' + result + '\"';\n};\n\n// Encodes ``obj`` in the Javascript Object Notation (see http://json.org/; with support for dates, colors and templates)\nul4._asjson = function _asjson(obj) {\n\tif (obj === null)\n\t\treturn \"null\";\n\telse if (typeof (obj) === \"undefined\")\n\t\treturn \"{}.undefined\";\n\telse if (obj === false)\n\t\treturn \"false\";\n\telse if (obj === true)\n\t\treturn \"true\";\n\telse if (typeof (obj) === \"string\")\n\t\treturn ul4._str_json(obj);\n\telse if (typeof (obj) === \"number\") {\n\t\treturn \"\" + obj;\n\t}\n\telse if (ul4._islist(obj)) {\n\t\tvar v = [];\n\t\tv.push(\"[\");\n\t\tfor (var i = 0; i < obj.length; ++i) {\n\t\t\tif (i != 0)\n\t\t\t\tv.push(\", \");\n\t\t\tv.push(ul4._asjson(obj[i]));\n\t\t}\n\t\tv.push(\"]\");\n\t\treturn v.join(\"\");\n\t}\n\telse if (ul4._ismap(obj)) {\n\t\tvar v = [];\n\t\tv.push(\"{\");\n\t\tvar i = 0;\n\t\tobj.forEach(function (value, key) {\n\t\t\tif (i++)\n\t\t\t\tv.push(\", \");\n\t\t\tv.push(ul4._asjson(key));\n\t\t\tv.push(\": \");\n\t\t\tv.push(ul4._asjson(value));\n\t\t});\n\t\tv.push(\"}\");\n\t\treturn v.join(\"\");\n\t}\n\telse if (ul4._isobject(obj)) {\n\t\tvar v = [];\n\t\tv.push(\"{\");\n\t\tvar i = 0;\n\t\tfor (var key in obj) {\n\t\t\tif (i++)\n\t\t\t\tv.push(\", \");\n\t\t\tv.push(ul4._asjson(key));\n\t\t\tv.push(\": \");\n\t\t\tv.push(ul4._asjson(obj[key]));\n\t\t}\n\t\tv.push(\"}\");\n\t\treturn v.join(\"\");\n\t}\n\telse if (ul4._isdate(obj)) {\n\t\treturn \"new Date(\" + obj.getFullYear() + \", \" + obj.getMonth() + \", \" + obj.getDate() + \", \" + obj.getHours() + \", \" + obj.getMinutes() + \", \" + obj.getSeconds() + \", \" + obj.getMilliseconds() + \")\";\n\t}\n\telse if (ul4._istimedelta(obj)) {\n\t\treturn \"ul4.TimeDelta.create(\" + obj.days + \", \" + obj.seconds + \", \" + obj.microseconds + \")\";\n\t}\n\telse if (ul4._ismonthdelta(obj)) {\n\t\treturn \"ul4.MonthDelta.create(\" + obj.months + \")\";\n\t}\n\telse if (ul4._iscolor(obj)) {\n\t\treturn \"ul4.Color.create(\" + obj._r + \", \" + obj._g + \", \" + obj._b + \", \" + obj._a + \")\";\n\t}\n\telse if (ul4._istemplate(obj)) {\n\t\treturn \"ul4.Template.loads(\" + ul4._repr(obj.dumps()) + \")\";\n\t}\n\tthrow ul4.TypeError.create(\"asjson()\", \"asjson() requires a serializable object\");\n};\n\n// Decodes the string ``string`` from the Javascript Object Notation (see http://json.org/) and returns the resulting object\nul4._fromjson = function _fromjson(string) {\n\t// The following is from jQuery's parseJSON function\n\tstring = ul4._strip(string, null);\n\tif (root.JSON && root.JSON.parse)\n\t\treturn root.JSON.parse(string);\n\tif (ul4._rvalidchars.test(string.replace(ul4._rvalidescape, \"@\").replace(ul4._rvalidtokens, \"]\").replace(ul4._rvalidbraces, \"\")))\n\t\treturn (new Function(\"return \" + string))();\n\tthrow ul4.TypeError.create(\"fromjson()\", \"invalid JSON\");\n};\n\n// Encodes ``obj`` in the UL4 Object Notation format\nul4._asul4on = function _asul4on(obj) {\n\treturn ul4on.dumps(obj);\n};\n\n// Decodes the string ``string`` from the UL4 Object Notation format and returns the resulting decoded object\nul4._fromul4on = function _fromul4on(string) {\n\treturn ul4on.loads(string);\n};\n\nul4._format_date = function _format_date(obj, fmt, lang) {\n\tvar translations = {\n\t\tde: {\n\t\t\tms: [\"Jan\", \"Feb\", \"M\\u00e4r\", \"Apr\", \"Mai\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Okt\", \"Nov\", \"Dez\"],\n\t\t\tml: [\"Januar\", \"Februar\", \"M\\u00e4rz\", \"April\", \"Mai\", \"Juni\", \"Juli\", \"August\", \"September\", \"Oktober\", \"November\", \"Dezember\"],\n\t\t\tws: [\"So\", \"Mo\", \"Di\", \"Mi\", \"Do\", \"Fr\", \"Sa\"],\n\t\t\twl: [\"Sonntag\", \"Montag\", \"Dienstag\", \"Mittwoch\", \"Donnerstag\", \"Freitag\", \"Samstag\"],\n\t\t\txf: \"%d.%m.%Y\",\n\t\t\tXf: \"%H:%M:%S\",\n\t\t\tcf: \"%a %d %b %Y %H:%M:%S\"\n\t\t},\n\t\ten: {\n\t\t\tms: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"],\n\t\t\tml: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n\t\t\tws: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n\t\t\twl: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\n\t\t\txf: \"%m/%d/%Y\",\n\t\t\tXf: \"%H:%M:%S\",\n\t\t\tcf: \"%a %d %b %Y %I:%M:%S %p \"\n\t\t},\n\t\tfr: {\n\t\t\tms: [\"janv.\", \"f\\u00e9vr.\", \"mars\", \"avril\", \"mai\", \"juin\", \"juil.\", \"ao\\u00fbt\", \"sept.\", \"oct.\", \"nov.\", \"d\\u00e9c.\"],\n\t\t\tml: [\"janvier\", \"f\\u00e9vrier\", \"mars\", \"avril\", \"mai\", \"juin\", \"juillet\", \"ao\\u00fbt\", \"septembre\", \"octobre\", \"novembre\", \"d\\u00e9cembre\"],\n\t\t\tws: [\"dim.\", \"lun.\", \"mar.\", \"mer.\", \"jeu.\", \"ven.\", \"sam.\"],\n\t\t\twl: [\"dimanche\", \"lundi\", \"mardi\", \"mercredi\", \"jeudi\", \"vendredi\", \"samedi\"],\n\t\t\txf: \"%d/%m/%Y\",\n\t\t\tXf: \"%H:%M:%S\",\n\t\t\tcf: \"%a %d %b %Y %H:%M:%S\"\n\t\t},\n\t\tes: {\n\t\t\tms: [\"ene\", \"feb\", \"mar\", \"abr\", \"may\", \"jun\", \"jul\", \"ago\", \"sep\", \"oct\", \"nov\", \"dic\"],\n\t\t\tml: [\"enero\", \"febrero\", \"marzo\", \"abril\", \"mayo\", \"junio\", \"julio\", \"agosto\", \"septiembre\", \"octubre\", \"noviembre\", \"diciembre\"],\n\t\t\tws: [\"dom\", \"lun\", \"mar\", \"mi\\u00e9\", \"jue\", \"vie\", \"s\\u00e1b\"],\n\t\t\twl: [\"domingo\", \"lunes\", \"martes\", \"mi\\u00e9rcoles\", \"jueves\", \"viernes\", \"s\\u00e1bado\"],\n\t\t\txf: \"%d/%m/%y\",\n\t\t\tXf: \"%H:%M:%S\",\n\t\t\tcf: \"%a %d %b %Y %H:%M:%S\"\n\t\t},\n\t\tit: {\n\t\t\tms: [\"gen\", \"feb\", \"mar\", \"apr\", \"mag\", \"giu\", \"lug\", \"ago\", \"set\", \"ott\", \"nov\", \"dic\"],\n\t\t\tml: [\"gennaio\", \"febbraio\", \"marzo\", \"aprile\", \"maggio\", \"giugno\", \"luglio\", \"agosto\", \"settembre\", \"ottobre\", \"novembre\", \"dicembre\"],\n\t\t\tws: [\"dom\", \"lun\", \"mar\", \"mer\", \"gio\", \"ven\", \"sab\"],\n\t\t\twl: [\"domenica\", \"luned\\u00ec\", \"marted\\u00ec\", \"mercoled\\u00ec\", \"gioved\\u00ec\", \"venerd\\u00ec\", \"sabato\"],\n\t\t\txf: \"%d/%m/%Y\",\n\t\t\tXf: \"%H:%M:%S\",\n\t\t\tcf: \"%a %d %b %Y %H:%M:%S\"\n\t\t},\n\t\tda: {\n\t\t\tms: [\"jan\", \"feb\", \"mar\", \"apr\", \"maj\", \"jun\", \"jul\", \"aug\", \"sep\", \"okt\", \"nov\", \"dec\"],\n\t\t\tml: [\"januar\", \"februar\", \"marts\", \"april\", \"maj\", \"juni\", \"juli\", \"august\", \"september\", \"oktober\", \"november\", \"december\"],\n\t\t\tws: [\"s\\u00f8n\", \"man\", \"tir\", \"ons\", \"tor\", \"fre\", \"l\\u00f8r\"],\n\t\t\twl: [\"s\\u00f8ndag\", \"mandag\", \"tirsdag\", \"onsdag\", \"torsdag\", \"fredag\", \"l\\u00f8rdag\"],\n\t\t\txf: \"%d-%m-%Y\",\n\t\t\tXf: \"%H:%M:%S\",\n\t\t\tcf: \"%a %d %b %Y %H:%M:%S\"\n\t\t},\n\t\tsv: {\n\t\t\tms: [\"jan\", \"feb\", \"mar\", \"apr\", \"maj\", \"jun\", \"jul\", \"aug\", \"sep\", \"okt\", \"nov\", \"dec\"],\n\t\t\tml: [\"januari\", \"februari\", \"mars\", \"april\", \"maj\", \"juni\", \"juli\", \"augusti\", \"september\", \"oktober\", \"november\", \"december\"],\n\t\t\tws: [\"s\\u00f6n\", \"m\\u00e5n\", \"tis\", \"ons\", \"tor\", \"fre\", \"l\\u00f6r\"],\n\t\t\twl: [\"s\\u00f6ndag\", \"m\\u00e5ndag\", \"tisdag\", \"onsdag\", \"torsdag\", \"fredag\", \"l\\u00f6rdag\"],\n\t\t\txf: \"%Y-%m-%d\",\n\t\t\tXf: \"%H.%M.%S\",\n\t\t\tcf: \"%a %d %b %Y %H.%M.%S\"\n\t\t},\n\t\tnl: {\n\t\t\tms: [\"jan\", \"feb\", \"mrt\", \"apr\", \"mei\", \"jun\", \"jul\", \"aug\", \"sep\", \"okt\", \"nov\", \"dec\"],\n\t\t\tml: [\"januari\", \"februari\", \"maart\", \"april\", \"mei\", \"juni\", \"juli\", \"augustus\", \"september\", \"oktober\", \"november\", \"december\"],\n\t\t\tws: [\"zo\", \"ma\", \"di\", \"wo\", \"do\", \"vr\", \"za\"],\n\t\t\twl: [\"zondag\", \"maandag\", \"dinsdag\", \"woensdag\", \"donderdag\", \"vrijdag\", \"zaterdag\"],\n\t\t\txf: \"%d-%m-%y\",\n\t\t\tXf: \"%H:%M:%S\",\n\t\t\tcf: \"%a %d %b %Y %H:%M:%S\"\n\t\t},\n\t\tpt: {\n\t\t\tms: [\"Jan\", \"Fev\", \"Mar\", \"Abr\", \"Mai\", \"Jun\", \"Jul\", \"Ago\", \"Set\", \"Out\", \"Nov\", \"Dez\"],\n\t\t\tml: [\"Janeiro\", \"Fevereiro\", \"Mar\\u00e7o\", \"Abril\", \"Maio\", \"Junho\", \"Julho\", \"Agosto\", \"Setembro\", \"Outubro\", \"Novembro\", \"Dezembro\"],\n\t\t\tws: [\"Dom\", \"Seg\", \"Ter\", \"Qua\", \"Qui\", \"Sex\", \"S\\u00e1b\"],\n\t\t\twl: [\"Domingo\", \"Segunda\", \"Ter\\u00e7a\", \"Quarta\", \"Quinta\", \"Sexta\", \"S\\u00e1bado\"],\n\t\t\txf: \"%d-%m-%Y\",\n\t\t\tXf: \"%H:%M:%S\",\n\t\t\tcf: \"%a %d %b %Y %H:%M:%S\"\n\t\t},\n\t\tcs: {\n\t\t\tms: [\"led\", \"\\u00fano\", \"b\\u0159e\", \"dub\", \"kv\\u011b\", \"\\u010den\", \"\\u010dec\", \"srp\", \"z\\u00e1\\u0159\", \"\\u0159\\u00edj\", \"lis\", \"pro\"],\n\t\t\tml: [\"leden\", \"\\u00fanor\", \"b\\u0159ezen\", \"duben\", \"kv\\u011bten\", \"\\u010derven\", \"\\u010dervenec\", \"srpen\", \"z\\u00e1\\u0159\\u00ed\", \"\\u0159\\u00edjen\", \"listopad\", \"prosinec\"],\n\t\t\tws: [\"Ne\", \"Po\", \"\\u00dat\", \"St\", \"\\u010ct\", \"P\\u00e1\", \"So\"],\n\t\t\twl: [\"Ned\\u011ble\", \"Pond\\u011bl\\u00ed\", \"\\u00dater\\u00fd\", \"St\\u0159eda\", \"\\u010ctvrtek\", \"P\\u00e1tek\", \"Sobota\"],\n\t\t\txf: \"%d.%m.%Y\",\n\t\t\tXf: \"%H:%M:%S\",\n\t\t\tcf: \"%a\\u00a0%d.\\u00a0%B\\u00a0%Y,\\u00a0%H:%M:%S\"\n\t\t},\n\t\tsk: {\n\t\t\tms: [\"jan\", \"feb\", \"mar\", \"apr\", \"m\\u00e1j\", \"j\\u00fan\", \"j\\u00fal\", \"aug\", \"sep\", \"okt\", \"nov\", \"dec\"],\n\t\t\tml: [\"janu\\u00e1r\", \"febru\\u00e1r\", \"marec\", \"apr\\u00edl\", \"m\\u00e1j\", \"j\\u00fan\", \"j\\u00fal\", \"august\", \"september\", \"okt\\u00f3ber\", \"november\", \"december\"],\n\t\t\tws: [\"Ne\", \"Po\", \"Ut\", \"St\", \"\\u0160t\", \"Pi\", \"So\"],\n\t\t\twl: [\"Nede\\u013ea\", \"Pondelok\", \"Utorok\", \"Streda\", \"\\u0160tvrtok\", \"Piatok\", \"Sobota\"],\n\t\t\txf: \"%d.%m.%Y\",\n\t\t\tXf: \"%H:%M:%S\",\n\t\t\tcf: \"%a\\u00a0%d.\\u00a0%B\\u00a0%Y,\\u00a0%H:%M:%S\"\n\t\t},\n\t\tpl: {\n\t\t\tms: [\"sty\", \"lut\", \"mar\", \"kwi\", \"maj\", \"cze\", \"lip\", \"sie\", \"wrz\", \"pa\\u017a\", \"lis\", \"gru\"],\n\t\t\tml: [\"stycze\\u0144\", \"luty\", \"marzec\", \"kwiecie\\u0144\", \"maj\", \"czerwiec\", \"lipiec\", \"sierpie\\u0144\", \"wrzesie\\u0144\", \"pa\\u017adziernik\", \"listopad\", \"grudzie\\u0144\"],\n\t\t\tws: [\"nie\", \"pon\", \"wto\", \"\\u015bro\", \"czw\", \"pi\\u0105\", \"sob\"],\n\t\t\twl: [\"niedziela\", \"poniedzia\\u0142ek\", \"wtorek\", \"\\u015broda\", \"czwartek\", \"pi\\u0105tek\", \"sobota\"],\n\t\t\txf: \"%d.%m.%Y\",\n\t\t\tXf: \"%H:%M:%S\",\n\t\t\tcf: \"%a, %d %b %Y, %H:%M:%S\"\n\t\t},\n\t\thr: {\n\t\t\tms: [\"Sij\", \"Vel\", \"O\\u017eu\", \"Tra\", \"Svi\", \"Lip\", \"Srp\", \"Kol\", \"Ruj\", \"Lis\", \"Stu\", \"Pro\"],\n\t\t\tml: [\"Sije\\u010danj\", \"Velja\\u010da\", \"O\\u017eujak\", \"Travanj\", \"Svibanj\", \"Lipanj\", \"Srpanj\", \"Kolovoz\", \"Rujan\", \"Listopad\", \"Studeni\", \"Prosinac\"],\n\t\t\tws: [\"Ned\", \"Pon\", \"Uto\", \"Sri\", \"\\u010cet\", \"Pet\", \"Sub\"],\n\t\t\twl: [\"Nedjelja\", \"Ponedjeljak\", \"Utorak\", \"Srijeda\", \"\\u010cetvrtak\", \"Petak\", \"Subota\"],\n\t\t\txf: \"%d.%m.%Y\",\n\t\t\tXf: \"%H:%M:%S\",\n\t\t\tcf: \"%a %d %b %Y %H:%M:%S\"\n\t\t},\n\t\tsr: {\n\t\t\tms: [\"\\u0458\\u0430\\u043d\", \"\\u0444\\u0435\\u0431\", \"\\u043c\\u0430\\u0440\", \"\\u0430\\u043f\\u0440\", \"\\u043c\\u0430\\u0458\", \"\\u0458\\u0443\\u043d\", \"\\u0458\\u0443\\u043b\", \"\\u0430\\u0432\\u0433\", \"\\u0441\\u0435\\u043f\", \"\\u043e\\u043a\\u0442\", \"\\u043d\\u043e\\u0432\", \"\\u0434\\u0435\\u0446\"],\n\t\t\tml: [\"\\u0458\\u0430\\u043d\\u0443\\u0430\\u0440\", \"\\u0444\\u0435\\u0431\\u0440\\u0443\\u0430\\u0440\", \"\\u043c\\u0430\\u0440\\u0442\", \"\\u0430\\u043f\\u0440\\u0438\\u043b\", \"\\u043c\\u0430\\u0458\", \"\\u0458\\u0443\\u043d\", \"\\u0458\\u0443\\u043b\", \"\\u0430\\u0432\\u0433\\u0443\\u0441\\u0442\", \"\\u0441\\u0435\\u043f\\u0442\\u0435\\u043c\\u0431\\u0430\\u0440\", \"\\u043e\\u043a\\u0442\\u043e\\u0431\\u0430\\u0440\", \"\\u043d\\u043e\\u0432\\u0435\\u043c\\u0431\\u0430\\u0440\", \"\\u0434\\u0435\\u0446\\u0435\\u043c\\u0431\\u0430\\u0440\"],\n\t\t\tws: [\"\\u043d\\u0435\\u0434\", \"\\u043f\\u043e\\u043d\", \"\\u0443\\u0442\\u043e\", \"\\u0441\\u0440\\u0435\", \"\\u0447\\u0435\\u0442\", \"\\u043f\\u0435\\u0442\", \"\\u0441\\u0443\\u0431\"],\n\t\t\twl: [\"\\u043d\\u0435\\u0434\\u0435\\u0459\\u0430\", \"\\u043f\\u043e\\u043d\\u0435\\u0434\\u0435\\u0459\\u0430\\u043a\", \"\\u0443\\u0442\\u043e\\u0440\\u0430\\u043a\", \"\\u0441\\u0440\\u0435\\u0434\\u0430\", \"\\u0447\\u0435\\u0442\\u0432\\u0440\\u0442\\u0430\\u043a\", \"\\u043f\\u0435\\u0442\\u0430\\u043a\", \"\\u0441\\u0443\\u0431\\u043e\\u0442\\u0430\"],\n\t\t\txf: \"%d.%m.%Y.\",\n\t\t\tXf: \"%H:%M:%S\",\n\t\t\tcf: \"%A, %d. %B %Y. %H:%M:%S\"\n\t\t},\n\t\tro: {\n\t\t\tms: [\"ian\", \"feb\", \"mar\", \"apr\", \"mai\", \"iun\", \"iul\", \"aug\", \"sep\", \"oct\", \"nov\", \"dec\"],\n\t\t\tml: [\"ianuarie\", \"februarie\", \"martie\", \"aprilie\", \"mai\", \"iunie\", \"iulie\", \"august\", \"septembrie\", \"octombrie\", \"noiembrie\", \"decembrie\"],\n\t\t\tws: [\"Du\", \"Lu\", \"Ma\", \"Mi\", \"Jo\", \"Vi\", \"Sb\"],\n\t\t\twl: [\"duminic\\u0103\", \"luni\", \"mar\\u0163i\", \"miercuri\", \"joi\", \"vineri\", \"s\\u00e2mb\\u0103t\\u0103\"],\n\t\t\txf: \"%d.%m.%Y\",\n\t\t\tXf: \"%H:%M:%S\",\n\t\t\tcf: \"%a %d %b %Y %H:%M:%S\"\n\t\t},\n\t\thu: {\n\t\t\tms: [\"jan\", \"febr\", \"m\\u00e1rc\", \"\\u00e1pr\", \"m\\u00e1j\", \"j\\u00fan\", \"j\\u00fal\", \"aug\", \"szept\", \"okt\", \"nov\", \"dec\"],\n\t\t\tml: [\"janu\\u00e1r\", \"febru\\u00e1r\", \"m\\u00e1rcius\", \"\\u00e1prilis\", \"m\\u00e1jus\", \"j\\u00fanius\", \"j\\u00falius\", \"augusztus\", \"szeptember\", \"okt\\u00f3ber\", \"november\", \"december\"],\n\t\t\tws: [\"v\", \"h\", \"k\", \"sze\", \"cs\", \"p\", \"szo\"],\n\t\t\twl: [\"vas\\u00e1rnap\", \"h\\u00e9tf\\u0151\", \"kedd\", \"szerda\", \"cs\\u00fct\\u00f6rt\\u00f6k\", \"p\\u00e9ntek\", \"szombat\"],\n\t\t\txf: \"%Y-%m-%d\",\n\t\t\tXf: \"%H.%M.%S\",\n\t\t\tcf: \"%Y. %b. %d., %A, %H.%M.%S\"\n\t\t},\n\t\ttr: {\n\t\t\tms: [\"Oca\", \"\\u015eub\", \"Mar\", \"Nis\", \"May\", \"Haz\", \"Tem\", \"A\\u011fu\", \"Eyl\", \"Eki\", \"Kas\", \"Ara\"],\n\t\t\tml: [\"Ocak\", \"\\u015eubat\", \"Mart\", \"Nisan\", \"May\\u0131s\", \"Haziran\", \"Temmuz\", \"A\\u011fustos\", \"Eyl\\u00fcl\", \"Ekim\", \"Kas\\u0131m\", \"Aral\\u0131k\"],\n\t\t\tws: [\"Paz\", \"Pzt\", \"Sal\", \"\\u00c7r\\u015f\", \"Pr\\u015f\", \"Cum\", \"Cts\"],\n\t\t\twl: [\"Pazar\", \"Pazartesi\", \"Sal\\u0131\", \"\\u00c7ar\\u015famba\", \"Per\\u015fembe\", \"Cuma\", \"Cumartesi\"],\n\t\t\txf: \"%d-%m-%Y\",\n\t\t\tXf: \"%H:%M:%S\",\n\t\t\tcf: \"%a %d %b %Y %H:%M:%S\"\n\t\t},\n\t\tru: {\n\t\t\tms: [\"\\u042f\\u043d\\u0432\", \"\\u0424\\u0435\\u0432\", \"\\u041c\\u0430\\u0440\", \"\\u0410\\u043f\\u0440\", \"\\u041c\\u0430\\u0439\", \"\\u0418\\u044e\\u043d\", \"\\u0418\\u044e\\u043b\", \"\\u0410\\u0432\\u0433\", \"\\u0421\\u0435\\u043d\", \"\\u041e\\u043a\\u0442\", \"\\u041d\\u043e\\u044f\", \"\\u0414\\u0435\\u043a\"],\n\t\t\tml: [\"\\u042f\\u043d\\u0432\\u0430\\u0440\\u044c\", \"\\u0424\\u0435\\u0432\\u0440\\u0430\\u043b\\u044c\", \"\\u041c\\u0430\\u0440\\u0442\", \"\\u0410\\u043f\\u0440\\u0435\\u043b\\u044c\", \"\\u041c\\u0430\\u0439\", \"\\u0418\\u044e\\u043d\\u044c\", \"\\u0418\\u044e\\u043b\\u044c\", \"\\u0410\\u0432\\u0433\\u0443\\u0441\\u0442\", \"\\u0421\\u0435\\u043d\\u0442\\u044f\\u0431\\u0440\\u044c\", \"\\u041e\\u043a\\u0442\\u044f\\u0431\\u0440\\u044c\", \"\\u041d\\u043e\\u044f\\u0431\\u0440\\u044c\", \"\\u0414\\u0435\\u043a\\u0430\\u0431\\u0440\\u044c\"],\n\t\t\tws: [\"\\u0412\\u0441\\u043a\", \"\\u041f\\u043d\\u0434\", \"\\u0412\\u0442\\u0440\", \"\\u0421\\u0440\\u0434\", \"\\u0427\\u0442\\u0432\", \"\\u041f\\u0442\\u043d\", \"\\u0421\\u0431\\u0442\"],\n\t\t\twl: [\"\\u0412\\u043e\\u0441\\u043a\\u0440\\u0435\\u0441\\u0435\\u043d\\u044c\\u0435\", \"\\u041f\\u043e\\u043d\\u0435\\u0434\\u0435\\u043b\\u044c\\u043d\\u0438\\u043a\", \"\\u0412\\u0442\\u043e\\u0440\\u043d\\u0438\\u043a\", \"\\u0421\\u0440\\u0435\\u0434\\u0430\", \"\\u0427\\u0435\\u0442\\u0432\\u0435\\u0440\\u0433\", \"\\u041f\\u044f\\u0442\\u043d\\u0438\\u0446\\u0430\", \"\\u0421\\u0443\\u0431\\u0431\\u043e\\u0442\\u0430\"],\n\t\t\txf: \"%d.%m.%Y\",\n\t\t\tXf: \"%H:%M:%S\",\n\t\t\tcf: \"%a %d %b %Y %H:%M:%S\"\n\t\t},\n\t\tzh: {\n\t\t\tms: [\" 1\\u6708\", \" 2\\u6708\", \" 3\\u6708\", \" 4\\u6708\", \" 5\\u6708\", \" 6\\u6708\", \" 7\\u6708\", \" 8\\u6708\", \" 9\\u6708\", \"10\\u6708\", \"11\\u6708\", \"12\\u6708\"],\n\t\t\tml: [\"\\u4e00\\u6708\", \"\\u4e8c\\u6708\", \"\\u4e09\\u6708\", \"\\u56db\\u6708\", \"\\u4e94\\u6708\", \"\\u516d\\u6708\", \"\\u4e03\\u6708\", \"\\u516b\\u6708\", \"\\u4e5d\\u6708\", \"\\u5341\\u6708\", \"\\u5341\\u4e00\\u6708\", \"\\u5341\\u4e8c\\u6708\"],\n\t\t\tws: [\"\\u65e5\", \"\\u4e00\", \"\\u4e8c\", \"\\u4e09\", \"\\u56db\", \"\\u4e94\", \"\\u516d\"],\n\t\t\twl: [\"\\u661f\\u671f\\u65e5\", \"\\u661f\\u671f\\u4e00\", \"\\u661f\\u671f\\u4e8c\", \"\\u661f\\u671f\\u4e09\", \"\\u661f\\u671f\\u56db\", \"\\u661f\\u671f\\u4e94\", \"\\u661f\\u671f\\u516d\"],\n\t\t\txf: \"%Y\\u5e74%b%d\\u65e5\",\n\t\t\tXf: \"%H\\u65f6%M\\u5206%S\\u79d2\",\n\t\t\tcf: \"%Y\\u5e74%b%d\\u65e5 %A %H\\u65f6%M\\u5206%S\\u79d2\"\n\t\t},\n\t\tko: {\n\t\t\tms: [\" 1\\uc6d4\", \" 2\\uc6d4\", \" 3\\uc6d4\", \" 4\\uc6d4\", \" 5\\uc6d4\", \" 6\\uc6d4\", \" 7\\uc6d4\", \" 8\\uc6d4\", \" 9\\uc6d4\", \"10\\uc6d4\", \"11\\uc6d4\", \"12\\uc6d4\"],\n\t\t\tml: [\"1\\uc6d4\", \"2\\uc6d4\", \"3\\uc6d4\", \"4\\uc6d4\", \"5\\uc6d4\", \"6\\uc6d4\", \"7\\uc6d4\", \"8\\uc6d4\", \"9\\uc6d4\", \"10\\uc6d4\", \"11\\uc6d4\", \"12\\uc6d4\"],\n\t\t\tws: [\"\\uc77c\", \"\\uc6d4\", \"\\ud654\", \"\\uc218\", \"\\ubaa9\", \"\\uae08\", \"\\ud1a0\"],\n\t\t\twl: [\"\\uc77c\\uc694\\uc77c\", \"\\uc6d4\\uc694\\uc77c\", \"\\ud654\\uc694\\uc77c\", \"\\uc218\\uc694\\uc77c\", \"\\ubaa9\\uc694\\uc77c\", \"\\uae08\\uc694\\uc77c\", \"\\ud1a0\\uc694\\uc77c\"],\n\t\t\txf: \"%Y\\ub144 %B %d\\uc77c\",\n\t\t\tXf: \"%H\\uc2dc %M\\ubd84 %S\\ucd08\",\n\t\t\tcf: \"%Y\\ub144 %B %d\\uc77c (%a) %p %I\\uc2dc %M\\ubd84 %S\\ucd08\"\n\t\t},\n\t\tja: {\n\t\t\tms: [\" 1\\u6708\", \" 2\\u6708\", \" 3\\u6708\", \" 4\\u6708\", \" 5\\u6708\", \" 6\\u6708\", \" 7\\u6708\", \" 8\\u6708\", \" 9\\u6708\", \"10\\u6708\", \"11\\u6708\", \"12\\u6708\"],\n\t\t\tml: [\"1\\u6708\", \"2\\u6708\", \"3\\u6708\", \"4\\u6708\", \"5\\u6708\", \"6\\u6708\", \"7\\u6708\", \"8\\u6708\", \"9\\u6708\", \"10\\u6708\", \"11\\u6708\", \"12\\u6708\"],\n\t\t\tws: [\"\\u65e5\", \"\\u6708\", \"\\u706b\", \"\\u6c34\", \"\\u6728\", \"\\u91d1\", \"\\u571f\"],\n\t\t\twl: [\"\\u65e5\\u66dc\\u65e5\", \"\\u6708\\u66dc\\u65e5\", \"\\u706b\\u66dc\\u65e5\", \"\\u6c34\\u66dc\\u65e5\", \"\\u6728\\u66dc\\u65e5\", \"\\u91d1\\u66dc\\u65e5\", \"\\u571f\\u66dc\\u65e5\"],\n\t\t\txf: \"%Y\\u5e74%B%d\\u65e5\",\n\t\t\tXf: \"%H\\u6642%M\\u5206%S\\u79d2\",\n\t\t\tcf: \"%Y\\u5e74%B%d\\u65e5 %H\\u6642%M\\u5206%S\\u79d2\"\n\t\t}\n\t};\n\n\tvar translation = translations[lang];\n\n\tvar firstday;\n\n\tvar result = [];\n\tvar inspec = false;\n\tfor (var i = 0; i < fmt.length; ++i) {\n\t\tvar c = fmt[i];\n\t\tif (inspec) {\n\t\t\tswitch (c) {\n\t\t\t\tcase \"a\":\n\t\t\t\t\tc = translation.ws[obj.getDay()];\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"A\":\n\t\t\t\t\tc = translation.wl[obj.getDay()];\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"b\":\n\t\t\t\t\tc = translation.ms[obj.getMonth()];\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"B\":\n\t\t\t\t\tc = translation.ml[obj.getMonth()];\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"c\":\n\t\t\t\t\tc = ul4._format(obj, translation.cf, lang);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"d\":\n\t\t\t\t\tc = ul4._lpad(obj.getDate(), \"0\", 2);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"f\":\n\t\t\t\t\tc = ul4._lpad(obj.getMilliseconds(), \"0\", 3) + \"000\";\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"H\":\n\t\t\t\t\tc = ul4._lpad(obj.getHours(), \"0\", 2);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"I\":\n\t\t\t\t\tc = ul4._lpad(((obj.getHours() - 1) % 12) + 1, \"0\", 2);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"j\":\n\t\t\t\t\tc = ul4._lpad(ul4._yearday(obj), \"0\", 3);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"m\":\n\t\t\t\t\tc = ul4._lpad(obj.getMonth() + 1, \"0\", 2);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"M\":\n\t\t\t\t\tc = ul4._lpad(obj.getMinutes(), \"0\", 2);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"p\":\n\t\t\t\t\tc = obj.getHours() < 12 ? \"AM\" : \"PM\";\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"S\":\n\t\t\t\t\tc = ul4._lpad(obj.getSeconds(), \"0\", 2);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"U\":\n\t\t\t\t\tc = ul4._lpad(ul4._week(obj, 6), \"0\", 2);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"w\":\n\t\t\t\t\tc = obj.getDay();\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"W\":\n\t\t\t\t\tc = ul4._lpad(ul4._week(obj, 0), \"0\", 2);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"x\":\n\t\t\t\t\tc = ul4._format(obj, translation.xf, lang);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"X\":\n\t\t\t\t\tc = ul4._format(obj, translation.Xf, lang);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"y\":\n\t\t\t\t\tc = (obj.getFullYear() % 100).toString();\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"Y\":\n\t\t\t\t\tc = obj.getFullYear().toString();\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"z\":\n\t\t\t\t\t// UTC offset in the form +HHMM or -HHMM\n\t\t\t\t\tc = \"\";\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"Z\":\n\t\t\t\t\t// Time zone name\n\t\t\t\t\tc = \"\";\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tresult.push(c);\n\t\t\tinspec = false;\n\t\t}\n\t\telse {\n\t\t\tif (c == \"%\")\n\t\t\t\tinspec = true;\n\t\t\telse\n\t\t\t\tresult.push(c);\n\t\t}\n\t}\n\treturn result.join(\"\");\n};\n\nul4._format_int = function _format_int(obj, fmt, lang) {\n\tvar work = fmt;\n\n\t// Defaults\n\tvar fill = ' ';\n\tvar align = '>'; // '<', '>', '=' or '^'\n\tvar sign = '-'; // '+', '-' or ' '\n\tvar alternate = false;\n\tvar minimumwidth = 0;\n\tvar type = 'd'; // 'b', 'c', 'd', 'o', 'x', 'X' or 'n'\n\n\t// Determine output type\n\tif (/[bcdoxXn]$/.test(work)) {\n\t\ttype = work.substring(work.length - 1);\n\t\twork = work.substring(0, work.length - 1);\n\t}\n\n\t// Extract minimum width\n\tif (/\\d+$/.test(work)) {\n\t\tvar minimumwidthStr = /\\d+$/.exec(work);\n\t\twork = work.replace(/\\d+$/, \"\");\n\t\tif (/^0/.test(minimumwidthStr)) {\n\t\t\talign = '=';\n\t\t\tfill = '0';\n\t\t}\n\t\tminimumwidth = parseInt(minimumwidthStr);\n\t}\n\n\t// Alternate form?\n\tif (/#$/.test(work)) {\n\t\talternate = true;\n\t\twork = work.substring(0, work.length - 1);\n\t}\n\n\t// Determine sign\n\tif (/[+ -]$/.test(work)) {\n\t\tif (type == 'c')\n\t\t\tthrow ul4.ValueError.create(\"sign not allowed for integer format type 'c'\");\n\t\tsign = work.substring(work.length - 1);\n\t\twork = work.substring(0, work.length - 1);\n\t}\n\n\t// Extract fill and align char\n\tif (work.length >= 3)\n\t\tthrow ul4.ValueError.create(\"illegal integer format string \" + ul4._repr(fmt));\n\telse if (work.length == 2) {\n\t\tif (/[<>=^]$/.test(work)) {\n\t\t\talign = work[1];\n\t\t\tfill = work[0];\n\t\t}\n\t\telse\n\t\t\tthrow ul4.ValueError.create(\"illegal integer format string \" + ul4._repr(fmt));\n\t}\n\telse if (work.length == 1) {\n\t\tif (/^[<>=^]$/.test(work))\n\t\t\talign = work;\n\t\telse\n\t\t\tthrow ul4.ValueError.create(\"illegal integer format string \" + ul4._repr(fmt));\n\t}\n\n\t// Basic number formatting\n\tvar neg = obj < 0;\n\n\tif (neg)\n\t\tobj = -obj;\n\n\tvar output;\n\tswitch (type) {\n\t\tcase 'b':\n\t\t\toutput = obj.toString(2);\n\t\t\tbreak;\n\t\tcase 'c':\n\t\t\tif (neg || obj > 65535)\n\t\t\t\tthrow ul4.ValueError.create(\"value out of bounds for c format\");\n\t\t\toutput = String.fromCharCode(obj);\n\t\t\tbreak;\n\t\tcase 'd':\n\t\t\toutput = obj.toString();\n\t\t\tbreak;\n\t\tcase 'o':\n\t\t\toutput = obj.toString(8);\n\t\t\tbreak;\n\t\tcase 'x':\n\t\t\toutput = obj.toString(16);\n\t\t\tbreak;\n\t\tcase 'X':\n\t\t\toutput = obj.toString(16).toUpperCase();\n\t\t\tbreak;\n\t\tcase 'n':\n\t\t\t// FIXME: locale formatting\n\t\t\toutput = obj.toString();\n\t\t\tbreak;\n\t}\n\n\t// The rest of the formatting\n\tif (align === '=') {\n\t\tif (neg || sign !== '-')\n\t\t\t--minimumwidth;\n\t\tif (alternate && (type === 'b' || type === 'o' || type === 'x' || type === 'X'))\n\t\t\tminimumwidth -= 2;\n\n\t\tif (output.length < minimumwidth)\n\t\t\toutput = ul4._str_repeat(fill, minimumwidth - output.length) + output;\n\n\t\tif (alternate && (type === 'b' || type === 'o' || type === 'x' || type === 'X'))\n\t\t\toutput = \"0\" + type + output;\n\n\t\tif (neg)\n\t\t\toutput = \"-\" + output;\n\t\telse if (sign != '-')\n\t\t\toutput = sign + output;\n\t}\n\telse {\n\t\tif (alternate && (type == 'b' || type == 'o' || type == 'x' || type == 'X'))\n\t\t\toutput = \"0\" + type + output;\n\t\tif (neg)\n\t\t\toutput = \"-\" + output;\n\t\telse if (sign != '-')\n\t\t\toutput = sign + output;\n\t\tif (output.length < minimumwidth) {\n\t\t\tif (align == '<')\n\t\t\t\toutput = output + ul4._str_repeat(fill, minimumwidth - output.length);\n\t\t\telse if (align == '>')\n\t\t\t\toutput = ul4._str_repeat(fill, minimumwidth - output.length) + output;\n\t\t\telse // if (align == '^')\n\t\t\t{\n\t\t\t\tvar pad = minimumwidth - output.length;\n\t\t\t\tvar padBefore = Math.floor(pad / 2);\n\t\t\t\tvar padAfter = pad - padBefore;\n\t\t\t\toutput = ul4._str_repeat(fill, padBefore) + output + ul4._str_repeat(fill, padAfter);\n\t\t\t}\n\t\t}\n\t}\n\treturn output;\n};\n\n// Format ``obj`` using the format string ``fmt`` in the language ``lang``\nul4._format = function _format(obj, fmt, lang) {\n\tif (typeof (lang) === \"undefined\" || lang === null)\n\t\tlang = \"en\";\n\telse {\n\t\tvar translations = { de: null, en: null, fr: null, es: null, it: null, da: null, sv: null, nl: null, pt: null, cs: null, sk: null, pl: null, hr: null, sr: null, ro: null, hu: null, tr: null, ru: null, zh: null, ko: null, ja: null };\n\t\tlang = lang.toLowerCase();\n\t\tif (typeof (translations[lang]) === \"undefined\") {\n\t\t\tlang = lang.split(/_/)[0];\n\t\t\tif (typeof (translations[lang]) === \"undefined\")\n\t\t\t\tlang = \"en\";\n\t\t}\n\t}\n\tif (ul4._isdate(obj))\n\t\treturn ul4._format_date(obj, fmt, lang);\n\telse if (ul4._isint(obj))\n\t\treturn ul4._format_int(obj, fmt, lang);\n\telse if (obj === true)\n\t\treturn ul4._format_int(1, fmt, lang);\n\telse if (obj === false)\n\t\treturn ul4._format_int(0, fmt, lang);\n};\n\nul4._lpad = function _lpad(string, pad, len) {\n\tif (typeof (string) === \"number\")\n\t\tstring = string.toString();\n\twhile (string.length < len)\n\t\tstring = pad + string;\n\treturn string;\n};\n\nul4._rpad = function _rpad(string, pad, len) {\n\tif (typeof (string) === \"number\")\n\t\tstring = string.toString();\n\twhile (string.length < len)\n\t\tstring = string + pad;\n\treturn string;\n};\n\nul4.Proto = {\n\t__prototype__: null,\n\t__id__: 0,\n\t_nextid: 1,\n\tisa: function isa(type) {\n\t\tif (this === type)\n\t\t\treturn true;\n\t\tif (this.__prototype__ === null)\n\t\t\treturn false;\n\t\treturn this.__prototype__.isa(type);\n\t},\n\n\tisprotoof: function isprotoof(obj) {\n\t\twhile (true) {\n\t\t\tif (obj === null || Object.prototype.toString.call(obj) !== \"[object Object]\" || typeof (obj.__prototype__) === \"undefined\")\n\t\t\t\treturn false;\n\t\t\tif (obj === this)\n\t\t\t\treturn true;\n\t\t\tobj = obj.__prototype__;\n\t\t}\n\t},\n\n\t// equality comparison of objects defaults to identity comparison\n\t__eq__: function __eq__(other) {\n\t\treturn this === other;\n\t},\n\n\t// To overwrite equality comparison, you only have to overwrite ``__eq__``,\n\t// ``__ne__`` will be synthesized from that\n\t__ne__: function __ne__(other) {\n\t\treturn !this.__eq__(other);\n\t},\n\n\t// For other comparison operators, each method has to be implemented:\n\t// ``<`` calls ``__lt__``, ``<=`` calls ``__le__``, ``>`` calls ``__gt__`` and\n\t// ``>=`` calls ``__ge__``\n\n\t__bool__: function __bool__() {\n\t\treturn true;\n\t}\n};\n\nul4.Signature = ul4._inherit(\n\tul4.Proto,\n\t{\n\t\tcreate: function create() {\n\t\t\tvar signature = ul4._clone(this);\n\t\t\tsignature.args = [];\n\t\t\tsignature.argNames = {};\n\t\t\tsignature.remargs = null;\n\t\t\tsignature.remkwargs = null;\n\n\t\t\tvar nextDefault = false;\n\t\t\tvar lastArgname = null;\n\t\t\tfor (var i = 0; i < arguments.length; ++i) {\n\t\t\t\tvar argName = arguments[i];\n\t\t\t\tif (nextDefault) {\n\t\t\t\t\tsignature.args.push({ name: lastArgname, defaultValue: argName });\n\t\t\t\t\tsignature.argNames[lastArgname] = true;\n\t\t\t\t\tnextDefault = false;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tif (argName.substr(argName.length - 1) === \"=\") {\n\t\t\t\t\t\tlastArgname = argName.substr(0, argName.length - 1);\n\t\t\t\t\t\tnextDefault = true;\n\t\t\t\t\t}\n\t\t\t\t\telse if (argName.substr(0, 2) === \"**\")\n\t\t\t\t\t\tsignature.remkwargs = argName.substr(2);\n\t\t\t\t\telse if (argName.substr(0, 1) === \"*\")\n\t\t\t\t\t\tsignature.remargs = argName.substr(1);\n\t\t\t\t\telse {\n\t\t\t\t\t\tsignature.args.push({ name: argName });\n\t\t\t\t\t\tsignature.argNames[argName] = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn signature;\n\t\t},\n\n\t\t// Create the argument array for calling a function with this signature with the arguments available from ``args``\n\t\tbindArray: function bindArray(name, args, kwargs) {\n\t\t\tvar finalargs = [];\n\t\t\tvar decname = name !== null ? name + \"() \" : \"\";\n\n\t\t\tfor (var i = 0; i < this.args.length; ++i) {\n\t\t\t\tvar arg = this.args[i];\n\t\t\t\tif (i < args.length) {\n\t\t\t\t\tif (kwargs.hasOwnProperty(arg.name))\n\t\t\t\t\t\tthrow ul4.ArgumentError.create(decname + \"argument \" + ul4._repr(arg.name) + \" (position \" + i + \") specified multiple times\");\n\t\t\t\t\tfinalargs.push(args[i]);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tif (kwargs.hasOwnProperty(arg.name))\n\t\t\t\t\t\tfinalargs.push(kwargs[arg.name]);\n\t\t\t\t\telse {\n\t\t\t\t\t\tif (arg.hasOwnProperty(\"defaultValue\"))\n\t\t\t\t\t\t\tfinalargs.push(arg.defaultValue);\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tthrow ul4.ArgumentError.create(\"required \" + decname + \"argument \" + ul4._repr(arg.name) + \" (position \" + i + \") missing\");\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Do we accept additional positional arguments?\n\t\t\tif (this.remargs === null) {\n\t\t\t\t// No, but we have them -> complain\n\t\t\t\tif (args.length > this.args.length) {\n\t\t\t\t\tvar prefix = name === null ? \"expected\" : name + \"() expects\";\n\t\t\t\t\tthrow ul4.ArgumentError.create(prefix + \" at most \" + this.args.length + \" positional argument\" + (this.args.length != 1 ? \"s\" : \"\") + \", \" + args.length + \" given\");\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\t// Put additional positional arguments in the call into the ``*`` argument (if there are none, this pushes an empty list)\n\t\t\t\tfinalargs.push(args.slice(this.args.length));\n\t\t\t}\n\n\t\t\t// Do we accept arbitrary keyword arguments?\n\t\t\tif (this.remkwargs === null) {\n\t\t\t\t// No => complain about unknown ones\n\t\t\t\tfor (var key in kwargs) {\n\t\t\t\t\tif (!this.argNames[key]) {\n\t\t\t\t\t\tif (name === null)\n\t\t\t\t\t\t\tthrow ul4.ArgumentError.create(\"an argument named \" + ul4._repr(key) + \" isn't supported\");\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tthrow ul4.ArgumentError.create(name + \"() doesn't support an argument named \" + ul4._repr(key));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\t// Yes => Put the unknown ones into an object and add that to the arguments array\n\t\t\t\tvar remkwargs = {};\n\t\t\t\tfor (var key in kwargs) {\n\t\t\t\t\tif (!this.argNames[key])\n\t\t\t\t\t\tremkwargs[key] = kwargs[key];\n\t\t\t\t}\n\t\t\t\tfinalargs.push(remkwargs);\n\t\t\t}\n\n\t\t\treturn finalargs;\n\t\t},\n\n\t\t// Create the argument object for calling a function with this signature with the arguments available from ``args``\n\t\tbindObject: function bindObject(name, args, kwargs) {\n\t\t\targs = this.bindArray(name, args, kwargs);\n\t\t\tvar argObject = {};\n\t\t\tvar i;\n\t\t\tfor (i = 0; i < this.args.length; ++i)\n\t\t\t\targObject[this.args[i].name] = args[i];\n\t\t\tif (this.remargs !== null)\n\t\t\t\targObject[this.remargs] = args[i++];\n\t\t\tif (this.remkwargs !== null)\n\t\t\t\targObject[this.remkwargs] = args[i++];\n\t\t\treturn argObject;\n\t\t},\n\n\t\t__repr__: function __repr__() {\n\t\t\treturn \"<Signature \" + this.toString() + \">\";\n\t\t},\n\n\t\t__str__: function __str__() {\n\t\t\treturn this.toString();\n\t\t},\n\n\t\ttoString: function toString() {\n\t\t\tvar v = [];\n\t\t\tfor (var i = 0; i < this.args.length; ++i) {\n\t\t\t\tvar arg = this.args[i];\n\n\t\t\t\tif (arg.hasOwnProperty(\"defaultValue\"))\n\t\t\t\t\tv.push(arg.name + \"=\" + ul4._repr(arg.defaultValue));\n\t\t\t\telse\n\t\t\t\t\tv.push(arg.name);\n\t\t\t}\n\t\t\tif (this.remargs !== null)\n\t\t\t\tv.push(\"*\" + this.remargs);\n\t\t\tif (this.remkwargs !== null)\n\t\t\t\tv.push(\"**\" + this.remkwargs);\n\t\t\treturn \"(\" + v.join(\", \") + \")\";\n\t\t}\n\t}\n);\n\n// Adds name and signature to a function/method and makes the method callable in templates\nul4.expose = function expose(signature, options, f) {\n\tif (typeof (f) === \"undefined\") {\n\t\tf = options;\n\t\toptions = {};\n\t}\n\tif (options.name)\n\t\tf._ul4_name = options.name;\n\tif (ul4._islist(signature))\n\t\tsignature = ul4.Signature.create.apply(ul4.Signature, signature);\n\tf._ul4_signature = signature;\n\tf._ul4_needsobject = options.needsobject || false;\n\tf._ul4_needscontext = options.needscontext || false;\n\n\treturn f;\n};\n\nul4.Context = ul4._inherit(\n\tul4.Proto,\n\t{\n\t\tcreate: function create(vars) {\n\t\t\tif (vars === null || typeof (vars) === \"undefined\")\n\t\t\t\tvars = {};\n\t\t\tvar context = ul4._clone(this);\n\t\t\tcontext.vars = vars;\n\t\t\tcontext.indents = [];\n\t\t\tcontext._output = [];\n\t\t\treturn context;\n\t\t},\n\n\t\t/* Return a clone of the ``Context``, but with a fresh empty ``vars`` objects that inherits from the previous one.\n\t\t * This is used by the various comprehensions to avoid leaking loop variables.\n\t\t */\n\t\tinheritvars: function inheritvars() {\n\t\t\tvar context = ul4._clone(this);\n\t\t\tcontext.vars = ul4._simpleclone(this.vars);\n\t\t\treturn context;\n\t\t},\n\n\t\t/* Return a clone of the ``Context`` with one additional indentation (this is used by ``RenderAST``) */\n\t\twithindent: function withindent(indent) {\n\t\t\tvar context = ul4._clone(this);\n\t\t\tif (indent !== null) {\n\t\t\t\tcontext.indents = this.indents.slice();\n\t\t\t\tcontext.indents.push(indent);\n\t\t\t}\n\t\t\treturn context;\n\t\t},\n\n\t\t/* Return a clone of the ``Context`` with the output buffer replaced (this is used by ``renders`` to collect the output in a separate buffer) */\n\t\treplaceoutput: function replaceoutput() {\n\t\t\tvar context = ul4._clone(this);\n\t\t\tcontext._output = [];\n\t\t\treturn context;\n\t\t},\n\n\t\tclone: function clone(vars) {\n\t\t\treturn ul4._clone(this);\n\t\t},\n\n\t\toutput: function output(value) {\n\t\t\tthis._output.push(value);\n\t\t},\n\n\t\tgetoutput: function getoutput() {\n\t\t\treturn this._output.join(\"\");\n\t\t},\n\n\t\tget: function get(name) {\n\t\t\treturn this.vars[name];\n\t\t},\n\n\t\tset: function set(name, value) {\n\t\t\tthis.vars[name] = value;\n\t\t}\n\t}\n);\n\n/// Exceptions\n\nul4.Exception = ul4._inherit(\n\tul4.Proto,\n\t{\n\t\t__type__: \"ul4.Exception\",\n\t\t\"cause\": null,\n\n\t\t__getattr__: function __getattr__(attrname) {\n\t\t\tswitch (attrname) {\n\t\t\t\tcase \"cause\":\n\t\t\t\t\treturn this.cause;\n\t\t\t\tdefault:\n\t\t\t\t\treturn undefined;\n\t\t\t}\n\t\t}\n\t}\n);\n\n// Exceptions used internally by UL4 for flow control\nul4.InternalException = ul4._inherit(ul4.Exception, {});\n\n// Control flow exceptions\nul4.ReturnException = ul4._inherit(\n\tul4.InternalException,\n\t{\n\t\t__type__: \"ul4.ReturnException\",\n\n\t\tcreate: function create(result) {\n\t\t\tvar exception = ul4._clone(this);\n\t\t\texception.result = result;\n\t\t\treturn exception;\n\t\t}\n\t}\n);\n\nul4.BreakException = ul4._inherit(\n\tul4.InternalException,\n\t{\n\t\t__type__: \"ul4.BreakException\"\n\t}\n);\n\nul4.ContinueException = ul4._inherit(\n\tul4.InternalException,\n\t{\n\t\t__type__: \"ul4.ContinueException\"\n\t}\n);\n\n// Real exceptions raised by various parts of UL4\nul4.SyntaxError = ul4._inherit(\n\tul4.Exception,\n\t{\n\t\t__type__: \"ul4.SyntaxError\"\n\t}\n);\n\nul4.LValueRequiredError = ul4._inherit(\n\tul4.SyntaxError,\n\t{\n\t\t__type__: \"ul4.LValueRequiredError\",\n\n\t\ttoString: function toString() {\n\t\t\treturn \"lvalue required!\";\n\t\t}\n\t}\n);\n\nul4.TypeError = ul4._inherit(\n\tul4.Exception,\n\t{\n\t\t__type__: \"ul4.TypeError\",\n\n\t\tcreate: function create(operation, message) {\n\t\t\tvar exception = ul4._clone(this);\n\t\t\texception.operation = operation;\n\t\t\texception.message = message;\n\t\t\treturn exception;\n\t\t},\n\t\ttoString: function toString() {\n\t\t\treturn this.message;\n\t\t}\n\t}\n);\n\nul4.ValueError = ul4._inherit(\n\tul4.Exception,\n\t{\n\t\t__type__: \"ul4.ValueError\",\n\n\t\tcreate: function create(message) {\n\t\t\tvar exception = ul4._clone(this);\n\t\t\texception.message = message;\n\t\t\treturn exception;\n\t\t},\n\t\ttoString: function toString() {\n\t\t\treturn this.message;\n\t\t}\n\t}\n);\n\nul4.ArgumentError = ul4._inherit(\n\tul4.Exception,\n\t{\n\t\t__type__: \"ul4.ArgumentError\",\n\n\t\tcreate: function create(message) {\n\t\t\tvar exception = ul4._clone(this);\n\t\t\texception.message = message;\n\t\t\treturn exception;\n\t\t},\n\t\ttoString: function toString() {\n\t\t\treturn this.message;\n\t\t}\n\t}\n);\n\n/// Exception that wraps other exceptions while they bubble up the stack\nul4.LocationError = ul4._inherit(\n\tul4.Exception,\n\t{\n\t\t__type__: \"ul4.LocationError\",\n\n\t\tcreate: function create(location, cause) {\n\t\t\tvar exception = ul4._clone(this);\n\t\t\texception.location = location;\n\t\t\texception.cause = cause;\n\t\t\treturn exception;\n\t\t},\n\n\t\t_templateprefix: function (template) {\n\t\t\tvar out = [];\n\t\t\tif (template.parenttemplate !== null)\n\t\t\t\tout.push(\"in local template \");\n\t\t\telse\n\t\t\t\tout.push(\"in template \");\n\t\t\tvar first = true;\n\t\t\twhile (template != null) {\n\t\t\t\tif (first)\n\t\t\t\t\tfirst = false;\n\t\t\t\telse\n\t\t\t\t\tout.push(\" in \");\n\t\t\t\tout.push(template.name !== null ? ul4._repr(template.name) : \"(unnamed)\");\n\t\t\t\ttemplate = template.parenttemplate;\n\t\t\t}\n\t\t\treturn out.join(\"\");\n\t\t},\n\n\t\t_template: function _template() {\n\t\t\tif (ul4.Tag.isprotoof(this.location))\n\t\t\t\treturn this.location.template;\n\t\t\telse\n\t\t\t\treturn this.location.tag.template;\n\t\t},\n\n\t\t_outerpos: function _outerpos() {\n\t\t\tif (ul4.Tag.isprotoof(this.location))\n\t\t\t\treturn this.location.pos;\n\t\t\telse {\n\t\t\t\tvar tag = this.location.tag;\n\t\t\t\tif (tag === null) // A top level template as no tag\n\t\t\t\t\treturn this.location.pos;\n\t\t\t\telse\n\t\t\t\t\treturn tag.pos;\n\t\t\t}\n\t\t},\n\n\t\t_innerpos: function _innerpos() {\n\t\t\treturn this.location.pos;\n\t\t},\n\n\t\ttoString: function toString() {\n\t\t\tvar template = this._template();\n\t\t\tvar templateprefix = this._templateprefix(template);\n\t\t\tvar outerpos = this._outerpos();\n\t\t\tvar innerpos = this._innerpos();\n\n\t\t\tvar prefix = template.source.substring(outerpos.start, innerpos.start);\n\t\t\tvar code = template.source.substring(innerpos.start, innerpos.stop);\n\t\t\tvar suffix = template.source.substring(innerpos.stop, outerpos.stop);\n\t\t\tprefix = ul4._repr(prefix).slice(1, -1);\n\t\t\tcode = ul4._repr(code).slice(1, -1);\n\t\t\tsuffix = ul4._repr(suffix).slice(1, -1);\n\t\t\tvar text = prefix + code + suffix;\n\t\t\tvar underline = ul4._str_repeat(\"\\u00a0\", prefix.length) + ul4._str_repeat(\"~\", code.length);\n\n\t\t\t// find line numbers\n\t\t\tvar lineno = 1, colno = 1;\n\t\t\tfor (var i = 0; i < innerpos.start; ++i) {\n\t\t\t\tif (template.source[i] === \"\\n\") {\n\t\t\t\t\t++lineno;\n\t\t\t\t\tcolno = 1;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t\t++colno;\n\t\t\t}\n\n\t\t\tpos = \"offset \" + this.location.pos.start + \":\" + this.location.pos.stop + \"; line \" + lineno + \"; col \" + colno;\n\n\t\t\treturn templateprefix + \": \" + pos + \"\\n\" + text + \"\\n\" + underline;\n\t\t},\n\n\t\t__getattr__: function __getattr__(attrname) {\n\t\t\tswitch (attrname) {\n\t\t\t\tcase \"cause\":\n\t\t\t\t\treturn this.cause;\n\t\t\t\tcase \"location\":\n\t\t\t\t\treturn this.location;\n\t\t\t\tcase \"template\":\n\t\t\t\t\treturn this._template;\n\t\t\t\tcase \"outerpos\":\n\t\t\t\t\treturn this._outerpos;\n\t\t\t\tcase \"innerpos\":\n\t\t\t\t\treturn this._innerpos;\n\t\t\t\tdefault:\n\t\t\t\t\treturn undefined;\n\t\t\t}\n\t\t}\n\t}\n);\n\n\n/// Classes for the syntax tree\nul4.AST = ul4._inherit(\n\tul4.Proto,\n\t{\n\t\tcreate: function create(pos) {\n\t\t\tvar ast = ul4._clone(this);\n\t\t\tast.pos = pos;\n\t\t\treturn ast;\n\t\t},\n\t\t__str__: function __str__() {\n\t\t\tvar out = [];\n\t\t\tthis._str(out);\n\t\t\treturn ul4._formatsource(out);\n\t\t},\n\t\t__repr__: function __repr__() {\n\t\t\tvar out = [];\n\t\t\tthis._repr(out);\n\t\t\treturn ul4._formatsource(out);\n\t\t},\n\t\t_handle_eval: function _handle_eval(context) {\n\t\t\ttry {\n\t\t\t\treturn this._eval(context);\n\t\t\t}\n\t\t\tcatch (exc) {\n\t\t\t\tif (!ul4.InternalException.isprotoof(exc) && !ul4.LocationError.isprotoof(exc))\n\t\t\t\t\texc = ul4.LocationError.create(this, exc);\n\t\t\t\tthrow exc;\n\t\t\t}\n\t\t},\n\t\t_handle_eval_set: function _handle_eval_set(context, value) {\n\t\t\ttry {\n\t\t\t\treturn this._eval_set(context, value);\n\t\t\t}\n\t\t\tcatch (exc) {\n\t\t\t\tif (!ul4.LocationError.isprotoof(exc))\n\t\t\t\t\texc = ul4.LocationError.create(this, exc);\n\t\t\t\tthrow exc;\n\t\t\t}\n\t\t},\n\t\t_eval_set: function _eval_set(context, value) {\n\t\t\tthrow ul4.LValueRequiredError;\n\t\t},\n\t\t_handle_eval_modify: function _handle_eval_modify(context, operator, value) {\n\t\t\ttry {\n\t\t\t\treturn this._eval_modify(context, operator, value);\n\t\t\t}\n\t\t\tcatch (exc) {\n\t\t\t\tif (!ul4.LocationError.isprotoof(exc))\n\t\t\t\t\texc = ul4.LocationError.create(this, exc);\n\t\t\t\tthrow exc;\n\t\t\t}\n\t\t},\n\t\t_eval_modify: function _eval_modify(context, operator, value) {\n\t\t\tthrow ul4.LValueRequiredError;\n\t\t},\n\t\t_repr: function _repr(out) {\n\t\t},\n\t\t_str: function _str(out) {\n\t\t},\n\t\tul4ondump: function ul4ondump(encoder) {\n\t\t\tfor (var i = 0; i < this._ul4onattrs.length; ++i)\n\t\t\t\tencoder.dump(this[this._ul4onattrs[i]]);\n\t\t},\n\t\tul4onload: function ul4onload(decoder) {\n\t\t\tfor (var i = 0; i < this._ul4onattrs.length; ++i)\n\t\t\t\tthis[this._ul4onattrs[i]] = decoder.load();\n\t\t},\n\t\t__setitem__: function __setitem__(attrname, value) {\n\t\t\tthrow ul4.TypeError.create(\"mutate\", \"object is immutable\");\n\t\t},\n\t\t// used in ul4ondump/ul4ondump to automatically dump these attributes\n\t\t_ul4onattrs: [\"pos\"]\n\t}\n);\n\nul4.TextAST = ul4._inherit(\n\tul4.AST,\n\t{\n\t\tcreate: function create(template, pos) {\n\t\t\tvar text = ul4.AST.create.call(this, pos);\n\t\t\ttext.template = template;\n\t\t\treturn text;\n\t\t},\n\t\t_ul4onattrs: ul4.AST._ul4onattrs.concat([\"template\"]),\n\t\t_text: function _text() {\n\t\t\treturn this.template.source.substring(this.pos.start, this.pos.stop);\n\t\t},\n\t\t_eval: function _eval(context) {\n\t\t\tcontext.output(this._text());\n\t\t},\n\t\t_str: function _str(out) {\n\t\t\tout.push(\"text \");\n\t\t\tout.push(ul4._repr(this._text()));\n\t\t},\n\t\t_repr: function _repr(out) {\n\t\t\tout.push(\"<TextAST \");\n\t\t\tout.push(ul4._repr(this._text()));\n\t\t\tout.push(\">\");\n\t\t}\n\t}\n);\n\nul4.IndentAST = ul4._inherit(\n\tul4.TextAST,\n\t{\n\t\tcreate: function create(template, pos, text) {\n\t\t\tvar indent = ul4.TextAST.create.call(this, template, pos);\n\t\t\tindent._maketext(text);\n\t\t\treturn indent;\n\t\t},\n\t\t_maketext: function _maketext(text) {\n\t\t\tif (typeof (this.template) !== \"undefined\") {\n\t\t\t\tif (text === null)\n\t\t\t\t\tthis.text = this.template.source.substring(this.pos.start, this.pos.stop);\n\t\t\t\telse\n\t\t\t\t\tthis.text = text;\n\t\t\t}\n\t\t\telse\n\t\t\t\tthis.text = null;\n\t\t},\n\t\t_text: function _text() {\n\t\t\tif (this.text === null)\n\t\t\t\treturn this.template.source.substring(this.pos.start, this.pos.stop);\n\t\t\telse\n\t\t\t\treturn this.text;\n\t\t},\n\t\t_eval: function _eval(context) {\n\t\t\tfor (var i = 0; i < context.indents.length; ++i)\n\t\t\t\tcontext.output(context.indents[i]);\n\t\t\tcontext.output(this._text());\n\t\t},\n\t\tul4ondump: function ul4ondump(encoder) {\n\t\t\tul4.TextAST.ul4ondump.call(this, encoder);\n\n\t\t\tif (this.text === this.template.source.substring(this.pos.start, this.pos.stop))\n\t\t\t\tencoder.dump(null);\n\t\t\telse\n\t\t\t\tencoder.dump(this.text);\n\t\t},\n\t\tul4onload: function ul4onload(decoder) {\n\t\t\tul4.TextAST.ul4onload.call(this, decoder);\n\t\t\t// Recreate ``text`` attribute\n\t\t\tthis._maketext(decoder.load());\n\t\t},\n\t\t_str: function _str(out) {\n\t\t\tout.push(\"indent \");\n\t\t\tout.push(ul4._repr(this._text()));\n\t\t},\n\t\t_repr: function _repr(out) {\n\t\t\tout.push(\"<IndentAST \");\n\t\t\tout.push(ul4._repr(this._text()));\n\t\t\tout.push(\">\");\n\t\t}\n\t}\n);\n\nul4.LineEndAST = ul4._inherit(\n\tul4.TextAST,\n\t{\n\t\t_str: function _str(out) {\n\t\t\tout.push(\"lineend \");\n\t\t\tout.push(ul4._repr(this._text()));\n\t\t},\n\t\t_repr: function _repr(out) {\n\t\t\tout.push(\"<LineEndAST \");\n\t\t\tout.push(ul4._repr(this._text()));\n\t\t\tout.push(\">\");\n\t\t}\n\t}\n);\n\nul4.Tag = ul4._inherit(\n\tul4.AST,\n\t{\n\t\tcreate: function create(template, tag, tagpos, codepos) {\n\t\t\tvar tago = ul4.AST.create.call(this, tagpos);\n\t\t\ttago.template = template;\n\t\t\ttago.tag = tag;\n\t\t\ttago.codepos = codepos;\n\t\t\ttago._maketext();\n\t\t\treturn tago;\n\t\t},\n\t\t_maketext: function _maketext() {\n\t\t\tif (typeof (this.template) !== \"undefined\") {\n\t\t\t\tthis.text = this.template.source.substring(this.pos.start, this.pos.stop);\n\t\t\t\tthis.code = this.template.source.substring(this.codepos.start, this.codepos.stop);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.text = null;\n\t\t\t\tthis.code = null;\n\t\t\t}\n\t\t},\n\t\tul4ondump: function ul4ondump(encoder) {\n\t\t\tul4.AST.ul4ondump.call(this, encoder);\n\t\t\tencoder.dump(this.template);\n\t\t\tencoder.dump(this.tag);\n\t\t\tencoder.dump(this.codepos);\n\t\t},\n\t\tul4onload: function ul4onload(decoder) {\n\t\t\tul4.TextAST.ul4onload.call(this, decoder);\n\t\t\tthis.template = decoder.load();\n\t\t\tthis.tag = decoder.load();\n\t\t\tthis.codepos = decoder.load();\n\t\t\t// Recreate ``text`` attribute\n\t\t\tthis._maketext();\n\t\t}\n\t}\n);\n\nul4.CodeAST = ul4._inherit(\n\tul4.AST,\n\t{\n\t\tcreate: function create(tag, pos) {\n\t\t\tvar code = ul4.AST.create.call(this, pos);\n\t\t\tcode.tag = tag;\n\t\t\treturn code;\n\t\t},\n\t\t_ul4onattrs: ul4.AST._ul4onattrs.concat([\"tag\"]),\n\t\t_str: function _str(out) {\n\t\t\tout.push(this.tag.source.substring(this.pos.start, this.pos.stop).replace(/\\r?\\n/g, ' '));\n\t\t}\n\t}\n);\n\nul4.ConstAST = ul4._inherit(\n\tul4.CodeAST,\n\t{\n\t\tcreate: function create(tag, pos, value) {\n\t\t\tvar constant = ul4.CodeAST.create.call(this, tag, pos);\n\t\t\tconstant.value = value;\n\t\t\treturn constant;\n\t\t},\n\t\t_ul4onattrs: ul4.CodeAST._ul4onattrs.concat([\"value\"]),\n\t\t_repr: function _repr(out) {\n\t\t\tout.push(\"<ConstAST value=\");\n\t\t\tout.push(ul4._repr(this.value));\n\t\t\tout.push(\">\");\n\t\t},\n\t\t_eval: function _eval(context) {\n\t\t\treturn this.value;\n\t\t}\n\t}\n);\n\nul4.ItemArgBase = ul4._inherit(\n\tul4.CodeAST,\n\t{\n\t\t_handle_eval_list: function _handle_eval_list(context, result) {\n\t\t\ttry {\n\t\t\t\treturn this._eval_list(context, result);\n\t\t\t}\n\t\t\tcatch (exc) {\n\t\t\t\tif (!ul4.InternalException.isprotoof(exc) && !ul4.LocationError.isprotoof(exc))\n\t\t\t\t\texc = ul4.LocationError.create(this, exc);\n\t\t\t\tthrow exc;\n\t\t\t}\n\t\t},\n\t\t_handle_eval_set: function _handle_eval_set(context, result) {\n\t\t\ttry {\n\t\t\t\treturn this._eval_set(context, result);\n\t\t\t}\n\t\t\tcatch (exc) {\n\t\t\t\tif (!ul4.InternalException.isprotoof(exc) && !ul4.LocationError.isprotoof(exc))\n\t\t\t\t\texc = ul4.LocationError.create(this, exc);\n\t\t\t\tthrow exc;\n\t\t\t}\n\t\t},\n\t\t_handle_eval_dict: function _handle_eval_dict(context, result) {\n\t\t\ttry {\n\t\t\t\treturn this._eval_dict(context, result);\n\t\t\t}\n\t\t\tcatch (exc) {\n\t\t\t\tif (!ul4.InternalException.isprotoof(exc) && !ul4.LocationError.isprotoof(exc))\n\t\t\t\t\texc = ul4.LocationError.create(this, exc);\n\t\t\t\tthrow exc;\n\t\t\t}\n\t\t},\n\t\t_handle_eval_call: function _handle_eval_call(context, args, kwargs) {\n\t\t\ttry {\n\t\t\t\treturn this._eval_call(context, args, kwargs);\n\t\t\t}\n\t\t\tcatch (exc) {\n\t\t\t\tif (!ul4.InternalException.isprotoof(exc) && !ul4.LocationError.isprotoof(exc))\n\t\t\t\t\texc = ul4.LocationError.create(this, exc);\n\t\t\t\tthrow exc;\n\t\t\t}\n\t\t}\n\t}\n);\n\nul4.SeqItemAST = ul4._inherit(\n\tul4.ItemArgBase,\n\t{\n\t\tcreate: function create(tag, pos, value) {\n\t\t\tvar seqitem = ul4.ItemArgBase.create.call(this, tag, pos);\n\t\t\tseqitem.value = value;\n\t\t\treturn seqitem;\n\t\t},\n\t\t_ul4onattrs: ul4.ItemArgBase._ul4onattrs.concat([\"value\"]),\n\t\t_repr: function _repr(out) {\n\t\t\tout.push(\"<SeqItemAST value=\");\n\t\t\tout.push(ul4._repr(this.value));\n\t\t\tout.push(\">\");\n\t\t},\n\t\t_eval_list: function _eval_list(context, result) {\n\t\t\tvar value = this.value._handle_eval(context);\n\t\t\tresult.push(value);\n\t\t},\n\t\t_eval_set: function _eval_set(context, result) {\n\t\t\tvar value = this.value._handle_eval(context);\n\t\t\tresult.add(value);\n\t\t}\n\t}\n);\n\n\nul4.UnpackSeqItemAST = ul4._inherit(\n\tul4.ItemArgBase,\n\t{\n\t\tcreate: function create(tag, pos, value) {\n\t\t\tvar unpackseqitem = ul4.ItemArgBase.create.call(this, tag, pos);\n\t\t\tunpackseqitem.value = value;\n\t\t\treturn unpackseqitem;\n\t\t},\n\t\t_ul4onattrs: ul4.ItemArgBase._ul4onattrs.concat([\"value\"]),\n\t\t_repr: function _repr(out) {\n\t\t\tout.push(\"<UnpackSeqItemAST value=\");\n\t\t\tout.push(ul4._repr(this.value));\n\t\t\tout.push(\">\");\n\t\t},\n\t\t_eval_list: function _eval_list(context, result) {\n\t\t\tvar value = this.value._handle_eval(context);\n\t\t\tfor (var iter = ul4._iter(value); ;) {\n\t\t\t\tvar item = iter.next();\n\t\t\t\tif (item.done)\n\t\t\t\t\tbreak;\n\t\t\t\tresult.push(item.value);\n\t\t\t}\n\t\t},\n\t\t_eval_set: function _eval_set(context, result) {\n\t\t\tvar value = this.value._handle_eval(context);\n\t\t\tfor (var iter = ul4._iter(value); ;) {\n\t\t\t\tvar item = iter.next();\n\t\t\t\tif (item.done)\n\t\t\t\t\tbreak;\n\t\t\t\tresult.add(item.value);\n\t\t\t}\n\t\t}\n\t}\n);\n\nul4.DictItemAST = ul4._inherit(\n\tul4.ItemArgBase,\n\t{\n\t\tcreate: function create(tag, pos, key, value) {\n\t\t\tvar dictitem = ul4.ItemArgBase.create.call(this, tag, pos);\n\t\t\tdictitem.key = key;\n\t\t\tdictitem.value = value;\n\t\t\treturn dictitem;\n\t\t},\n\t\t_ul4onattrs: ul4.ItemArgBase._ul4onattrs.concat([\"key\", \"value\"]),\n\t\t_repr: function _repr(out) {\n\t\t\tout.push(\"<DictItemAST key=\");\n\t\t\tout.push(ul4._repr(this.key));\n\t\t\tout.push(\" value=\");\n\t\t\tout.push(ul4._repr(this.value));\n\t\t\tout.push(\">\");\n\t\t},\n\t\t_eval_dict: function _eval_dict(context, result) {\n\t\t\tvar key = this.key._handle_eval(context);\n\t\t\tvar value = this.value._handle_eval(context);\n\t\t\tul4on._setmap(result, key, value);\n\t\t}\n\t}\n);\n\nul4.UnpackDictItemAST = ul4._inherit(\n\tul4.ItemArgBase,\n\t{\n\t\tcreate: function create(tag, pos, item) {\n\t\t\tvar unpackdictitem = ul4.ItemArgBase.create.call(this, tag, pos);\n\t\t\tunpackdictitem.item = item;\n\t\t\treturn unpackdictitem;\n\t\t},\n\t\t_ul4onattrs: ul4.ItemArgBase._ul4onattrs.concat([\"item\"]),\n\t\t_repr: function _repr(out) {\n\t\t\tout.push(\"<UnpackDictItemAST item=\");\n\t\t\tout.push(ul4._repr(this.item));\n\t\t\tout.push(\">\");\n\t\t},\n\t\t_eval_dict: function _eval_dict(context, result) {\n\t\t\tvar item = this.item._handle_eval(context);\n\t\t\tif (ul4._islist(item)) {\n\t\t\t\tfor (var i = 0; i < item.length; ++i) {\n\t\t\t\t\tif (!ul4._islist(item[i]) || item[i].length != 2)\n\t\t\t\t\t\tthrow ul4.ArgumentError.create(\"** requires a list of (key, value) pairs\");\n\t\t\t\t\tvar key = item[i][0], value = item[i][1];\n\t\t\t\t\tul4on._setmap(result, key, value);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (ul4._ismap(item)) {\n\t\t\t\titem.forEach(function (value, key) {\n\t\t\t\t\tul4on._setmap(result, key, value);\n\t\t\t\t});\n\t\t\t}\n\t\t\telse if (ul4._isobject(item)) {\n\t\t\t\tfor (var key in item)\n\t\t\t\t\tul4on._setmap(result, key, item[key]);\n\t\t\t}\n\t\t}\n\t}\n);\n\nul4.PosArgAST = ul4._inherit(\n\tul4.ItemArgBase,\n\t{\n\t\tcreate: function create(tag, pos, value) {\n\t\t\tvar arg = ul4.ItemArgBase.create.call(this, tag, pos);\n\t\t\targ.value = value;\n\t\t\treturn arg;\n\t\t},\n\t\t_ul4onattrs: ul4.ItemArgBase._ul4onattrs.concat([\"value\"]),\n\t\t_repr: function _repr(out) {\n\t\t\tout.push(\"<PosArgAST value=\");\n\t\t\tthis.value._repr(out);\n\t\t\tout.push(\">\");\n\t\t},\n\t\t_eval_call: function _eval_call(context, args, kwargs) {\n\t\t\tvar value = this.value._handle_eval(context);\n\t\t\targs.push(value);\n\t\t}\n\t}\n);\n\nul4.KeywordArgAST = ul4._inherit(\n\tul4.ItemArgBase,\n\t{\n\t\tcreate: function create(tag, pos, name, value) {\n\t\t\tvar arg = ul4.ItemArgBase.create.call(this, tag, pos);\n\t\t\targ.name = name;\n\t\t\targ.value = value;\n\t\t\treturn arg;\n\t\t},\n\t\t_ul4onattrs: ul4.ItemArgBase._ul4onattrs.concat([\"name\", \"value\"]),\n\t\t_repr: function _repr(out) {\n\t\t\tout.push(\"<KeywordArgAST name=\");\n\t\t\tout.push(ul4._repr(this.name));\n\t\t\tout.push(\" value=\");\n\t\t\tthis.value._repr(out);\n\t\t\tout.push(\">\");\n\t\t},\n\t\t_eval_call: function _eval_call(context, args, kwargs) {\n\t\t\tif (kwargs.hasOwnProperty(this.name))\n\t\t\t\tthrow ul4.ArgumentError.create(\"duplicate keyword argument \" + this.name);\n\t\t\tvar value = this.value._handle_eval(context);\n\t\t\tkwargs[this.name] = value;\n\t\t}\n\t}\n);\n\nul4.UnpackListArgAST = ul4._inherit(\n\tul4.ItemArgBase,\n\t{\n\t\tcreate: function create(tag, pos, item) {\n\t\t\tvar arg = ul4.ItemArgBase.create.call(this, tag, pos);\n\t\t\targ.item = item;\n\t\t\treturn arg;\n\t\t},\n\t\t_ul4onattrs: ul4.ItemArgBase._ul4onattrs.concat([\"item\"]),\n\t\t_repr: function _repr(out) {\n\t\t\tout.push(\"<UnpackListArgAST item=\");\n\t\t\tthis.item._repr(out);\n\t\t\tout.push(\">\");\n\t\t},\n\t\t_eval_call: function _eval_call(context, args, kwargs) {\n\t\t\tvar item = this.item._handle_eval(context);\n\t\t\targs.push.apply(args, item);\n\t\t}\n\t}\n);\n\nul4.UnpackDictArgAST = ul4._inherit(\n\tul4.ItemArgBase,\n\t{\n\t\tcreate: function create(tag, pos, item) {\n\t\t\tvar arg = ul4.ItemArgBase.create.call(this, tag, pos);\n\t\t\targ.item = item;\n\t\t\treturn arg;\n\t\t},\n\t\t_ul4onattrs: ul4.ItemArgBase._ul4onattrs.concat([\"item\"]),\n\t\t_repr: function _repr(out) {\n\t\t\tout.push(\"<UnpackDictArgAST item=\");\n\t\t\tthis.item._repr(out);\n\t\t\tout.push(\">\");\n\t\t},\n\t\t_eval_call: function _eval_call(context, args, kwargs) {\n\t\t\tvar item = this.item._handle_eval(context);\n\t\t\tif (ul4._islist(item)) {\n\t\t\t\tfor (var i = 0; i < item.length; ++i) {\n\t\t\t\t\tif (!ul4._islist(item[i]) || item[i].length != 2)\n\t\t\t\t\t\tthrow ul4.ArgumentError.create(\"** requires a list of (key, value) pairs\");\n\t\t\t\t\tvar key = item[i][0], value = item[i][1];\n\t\t\t\t\tif (kwargs.hasOwnProperty(key))\n\t\t\t\t\t\tthrow ul4.ArgumentError.create(\"duplicate keyword argument \" + key);\n\t\t\t\t\tkwargs[key] = value;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (ul4._ismap(item)) {\n\t\t\t\titem.forEach(function (value, key) {\n\t\t\t\t\tif (kwargs.hasOwnProperty(key))\n\t\t\t\t\t\tthrow ul4.ArgumentError.create(\"duplicate keyword argument \" + key);\n\t\t\t\t\tkwargs[key] = value;\n\t\t\t\t});\n\t\t\t}\n\t\t\telse if (ul4._isobject(item)) {\n\t\t\t\tfor (var key in item) {\n\t\t\t\t\tif (kwargs.hasOwnProperty(key))\n\t\t\t\t\t\tthrow ul4.ArgumentError.create(\"duplicate keyword argument \" + key);\n\t\t\t\t\tkwargs[key] = item[key];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n);\n\nul4.ListAST = ul4._inherit(\n\tul4.CodeAST,\n\t{\n\t\tcreate: function create(tag, pos) {\n\t\t\tvar list = ul4.CodeAST.create.call(this, tag, pos);\n\t\t\tlist.items = [];\n\t\t\treturn list;\n\t\t},\n\t\t_ul4onattrs: ul4.CodeAST._ul4onattrs.concat([\"items\"]),\n\t\t_repr: function _repr(out) {\n\t\t\tout.push(\"<ListAST\");\n\t\t\tfor (var i = 0; i < this.items.length; ++i) {\n\t\t\t\tout.push(\" \");\n\t\t\t\tthis.items[i]._repr(out);\n\t\t\t}\n\t\t\tout.push(\">\");\n\t\t},\n\t\t_eval: function _eval(context) {\n\t\t\tvar result = [];\n\t\t\tfor (var i = 0; i < this.items.length; ++i)\n\t\t\t\tthis.items[i]._handle_eval_list(context, result);\n\t\t\treturn result;\n\t\t}\n\t}\n);\n\nul4.ListCompAST = ul4._inherit(\n\tul4.CodeAST,\n\t{\n\t\tcreate: function create(tag, pos, item, varname, container, condition) {\n\t\t\tvar listcomp = ul4.CodeAST.create.call(this, tag, pos);\n\t\t\tlistcomp.item = item;\n\t\t\tlistcomp.varname = varname;\n\t\t\tlistcomp.container = container;\n\t\t\tlistcomp.condition = condition;\n\t\t\treturn listcomp;\n\t\t},\n\t\t_ul4onattrs: ul4.CodeAST._ul4onattrs.concat([\"item\", \"varname\", \"container\", \"condition\"]),\n\t\t_repr: function _repr(out) {\n\t\t\tout.push(\"<ListCompAST\");\n\t\t\tout.push(\" item=\");\n\t\t\tthis.item._repr(out);\n\t\t\tout.push(\" varname=\");\n\t\t\tout.push(ul4._repr(this.varname));\n\t\t\tout.push(\" container=\");\n\t\t\tthis.container._repr(out);\n\t\t\tif (condition !== null) {\n\t\t\t\tout.push(\" condition=\");\n\t\t\t\tthis.condition._repr(out);\n\t\t\t}\n\t\t\tout.push(\">\");\n\t\t},\n\t\t_eval: function _eval(context) {\n\t\t\tvar container = this.container._handle_eval(context);\n\n\t\t\tvar localcontext = context.inheritvars();\n\n\t\t\tvar result = [];\n\t\t\tfor (var iter = ul4._iter(container); ;) {\n\t\t\t\tvar item = iter.next();\n\t\t\t\tif (item.done)\n\t\t\t\t\tbreak;\n\t\t\t\tvar varitems = ul4._unpackvar(this.varname, item.value);\n\t\t\t\tfor (var i = 0; i < varitems.length; ++i)\n\t\t\t\t\tvaritems[i][0]._handle_eval_set(localcontext, varitems[i][1]);\n\t\t\t\tif (this.condition === null || ul4._bool(this.condition._handle_eval(localcontext)))\n\t\t\t\t\tresult.push(this.item._handle_eval(localcontext));\n\t\t\t}\n\t\t\treturn result;\n\t\t}\n\t}\n);\n\nul4.DictAST = ul4._inherit(\n\tul4.CodeAST,\n\t{\n\t\tcreate: function create(tag, pos) {\n\t\t\tvar dict = ul4.CodeAST.create.call(this, tag, pos);\n\t\t\tdict.items = [];\n\t\t\treturn dict;\n\t\t},\n\t\t_ul4onattrs: ul4.CodeAST._ul4onattrs.concat([\"items\"]),\n\t\t_repr: function _repr(out) {\n\t\t\tout.push(\"<DictAST\");\n\t\t\tfor (var i = 0; i < this.items.length; ++i) {\n\t\t\t\tout.push(\" \");\n\t\t\t\tthis.items[i][0]._repr(out);\n\t\t\t\tout.push(\"=\");\n\t\t\t\tthis.items[i][1]._repr(out);\n\t\t\t}\n\t\t\tout.push(\">\");\n\t\t},\n\t\t_eval: function _eval(context) {\n\t\t\tvar result = ul4on._emptymap();\n\t\t\tfor (var i = 0; i < this.items.length; ++i)\n\t\t\t\tthis.items[i]._handle_eval_dict(context, result);\n\t\t\treturn result;\n\t\t}\n\t}\n);\n\nul4.DictCompAST = ul4._inherit(\n\tul4.CodeAST,\n\t{\n\t\tcreate: function create(tag, pos, key, value, varname, container, condition) {\n\t\t\tvar listcomp = ul4.CodeAST.create.call(this, tag, pos);\n\t\t\tlistcomp.key = key;\n\t\t\tlistcomp.value = value;\n\t\t\tlistcomp.varname = varname;\n\t\t\tlistcomp.container = container;\n\t\t\tlistcomp.condition = condition;\n\t\t\treturn listcomp;\n\t\t},\n\t\t_ul4onattrs: ul4.CodeAST._ul4onattrs.concat([\"key\", \"value\", \"varname\", \"container\", \"condition\"]),\n\t\t_repr: function _repr(out) {\n\t\t\tout.push(\"<DictCompAST\");\n\t\t\tout.push(\" key=\");\n\t\t\tthis.key._repr(out);\n\t\t\tout.push(\" value=\");\n\t\t\tthis.value._repr(out);\n\t\t\tout.push(\" varname=\");\n\t\t\tthis.varname._repr(out);\n\t\t\tout.push(\" container=\");\n\t\t\tthis.container._repr(out);\n\t\t\tif (condition !== null) {\n\t\t\t\tout.push(\" condition=\");\n\t\t\t\tthis.condition._repr(out);\n\t\t\t}\n\t\t\tout.push(\">\");\n\t\t},\n\t\t_eval: function _eval(context) {\n\t\t\tvar container = this.container._handle_eval(context);\n\n\t\t\tvar localcontext = context.inheritvars();\n\n\t\t\tvar result = ul4on._emptymap();\n\n\t\t\tfor (var iter = ul4._iter(container); ;) {\n\t\t\t\tvar item = iter.next();\n\t\t\t\tif (item.done)\n\t\t\t\t\tbreak;\n\t\t\t\tvar varitems = ul4._unpackvar(this.varname, item.value);\n\t\t\t\tfor (var i = 0; i < varitems.length; ++i)\n\t\t\t\t\tvaritems[i][0]._handle_eval_set(localcontext, varitems[i][1]);\n\t\t\t\tif (this.condition === null || ul4._bool(this.condition._handle_eval(localcontext))) {\n\t\t\t\t\tvar key = this.key._handle_eval(localcontext);\n\t\t\t\t\tvar value = this.value._handle_eval(localcontext);\n\t\t\t\t\tul4on._setmap(result, key, value);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn result;\n\t\t}\n\t}\n);\n\nul4.SetAST = ul4._inherit(\n\tul4.CodeAST,\n\t{\n\t\tcreate: function create(tag, pos) {\n\t\t\tvar set = ul4.CodeAST.create.call(this, tag, pos);\n\t\t\tset.items = [];\n\t\t\treturn set;\n\t\t},\n\t\t_ul4onattrs: ul4.CodeAST._ul4onattrs.concat([\"items\"]),\n\t\t_repr: function _repr(out) {\n\t\t\tout.push(\"<SetAST\");\n\t\t\tfor (var i = 0; i < this.items.length; ++i) {\n\t\t\t\tout.push(\" \");\n\t\t\t\tthis.items[i][0]._repr(out);\n\t\t\t\tout.push(\"=\");\n\t\t\t\tthis.items[i][1]._repr(out);\n\t\t\t}\n\t\t\tout.push(\">\");\n\t\t},\n\t\t_eval: function _eval(context) {\n\t\t\tvar result = ul4on._haveset ? new Set() : ul4._Set.create();\n\n\t\t\tfor (var i = 0; i < this.items.length; ++i)\n\t\t\t\tthis.items[i]._handle_eval_set(context, result);\n\n\t\t\treturn result;\n\t\t}\n\t}\n);\n\nul4.SetCompAST = ul4._inherit(\n\tul4.CodeAST,\n\t{\n\t\tcreate: function create(tag, pos, item, varname, container, condition) {\n\t\t\tvar setcomp = ul4.CodeAST.create.call(this, tag, pos);\n\t\t\tsetcomp.item = item;\n\t\t\tsetcomp.container = container;\n\t\t\tsetcomp.condition = condition;\n\t\t\treturn setcomp;\n\t\t},\n\t\t_ul4onattrs: ul4.CodeAST._ul4onattrs.concat([\"item\", \"varname\", \"container\", \"condition\"]),\n\t\t_repr: function _repr(out) {\n\t\t\tout.push(\"<SetCompAST\");\n\t\t\tout.push(\" item=\");\n\t\t\tthis.item._repr(out);\n\t\t\tout.push(\" varname=\");\n\t\t\tthis.varname._repr(out);\n\t\t\tout.push(\" container=\");\n\t\t\tthis.container._repr(out);\n\t\t\tif (condition !== null) {\n\t\t\t\tout.push(\" condition=\");\n\t\t\t\tthis.condition._repr(out);\n\t\t\t}\n\t\t\tout.push(\">\");\n\t\t},\n\t\t_eval: function _eval(context) {\n\t\t\tvar container = this.container._handle_eval(context);\n\n\t\t\tvar localcontext = context.inheritvars();\n\n\t\t\tvar result = ul4on._haveset ? new Set() : ul4._Set.create();\n\t\t\tfor (var iter = ul4._iter(container); ;) {\n\t\t\t\tvar item = iter.next();\n\t\t\t\tif (item.done)\n\t\t\t\t\tbreak;\n\t\t\t\tvar varitems = ul4._unpackvar(this.varname, item.value);\n\t\t\t\tfor (var i = 0; i < varitems.length; ++i)\n\t\t\t\t\tvaritems[i][0]._handle_eval_set(localcontext, varitems[i][1]);\n\t\t\t\tif (this.condition === null || ul4._bool(this.condition._handle_eval(localcontext)))\n\t\t\t\t\tresult.add(this.item._handle_eval(localcontext));\n\t\t\t}\n\n\t\t\treturn result;\n\t\t}\n\t}\n);\n\nul4.GenExprAST = ul4._inherit(\n\tul4.CodeAST,\n\t{\n\t\tcreate: function create(tag, pos, item, varname, container, condition) {\n\t\t\tvar genexp = ul4.CodeAST.create.call(this, tag, pos);\n\t\t\tgenexp.item = item;\n\t\t\tgenexp.varname = varname;\n\t\t\tgenexp.container = container;\n\t\t\tgenexp.condition = condition;\n\t\t\treturn genexp;\n\t\t},\n\t\t_ul4onattrs: ul4.CodeAST._ul4onattrs.concat([\"item\", \"varname\", \"container\", \"condition\"]),\n\t\t_repr: function _repr(out) {\n\t\t\tout.push(\"<GenExprAST\");\n\t\t\tout.push(\" item=\");\n\t\t\tthis.item._repr(out);\n\t\t\tout.push(\" varname=\");\n\t\t\tthis.varname._repr(out);\n\t\t\tout.push(\" container=\");\n\t\t\tthis.container._repr(out);\n\t\t\tif (this.condition !== null) {\n\t\t\t\tout.push(\" condition=\");\n\t\t\t\tthis.condition._repr(out);\n\t\t\t}\n\t\t\tout.push(\">\");\n\t\t},\n\t\t_eval: function _eval(context) {\n\t\t\tvar container = this.container._handle_eval(context);\n\t\t\tvar iter = ul4._iter(container);\n\n\t\t\tvar localcontext = context.inheritvars();\n\n\t\t\tvar self = this;\n\n\t\t\tvar result = {\n\t\t\t\tnext: function () {\n\t\t\t\t\twhile (true) {\n\t\t\t\t\t\tvar item = iter.next();\n\t\t\t\t\t\tif (item.done)\n\t\t\t\t\t\t\treturn item;\n\t\t\t\t\t\tvar varitems = ul4._unpackvar(self.varname, item.value);\n\t\t\t\t\t\tfor (var i = 0; i < varitems.length; ++i)\n\t\t\t\t\t\t\tvaritems[i][0]._handle_eval_set(localcontext, varitems[i][1]);\n\t\t\t\t\t\tif (self.condition === null || ul4._bool(self.condition._handle_eval(localcontext))) {\n\t\t\t\t\t\t\tvar value = self.item._handle_eval(localcontext);\n\t\t\t\t\t\t\treturn { value: value, done: false };\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\n\t\t\treturn result;\n\t\t}\n\t}\n);\n\nul4.VarAST = ul4._inherit(\n\tul4.CodeAST,\n\t{\n\t\tcreate: function create(tag, pos, name) {\n\t\t\tvar variable = ul4.CodeAST.create.call(this, tag, pos);\n\t\t\tvariable.name = name;\n\t\t\treturn variable;\n\t\t},\n\t\t_ul4onattrs: ul4.CodeAST._ul4onattrs.concat([\"name\"]),\n\t\t_repr: function _repr(out) {\n\t\t\tout.push(\"<VarAST name=\");\n\t\t\tout.push(ul4._repr(this.name));\n\t\t\tout.push(\">\");\n\t\t},\n\t\t_eval: function _eval(context) {\n\t\t\treturn this._get(context, this.name);\n\t\t},\n\t\t_eval_set: function _eval_set(context, value) {\n\t\t\tthis._set(context, this.name, value);\n\t\t},\n\t\t_eval_modify: function _eval_modify(context, operator, value) {\n\t\t\tthis._modify(context, operator, this.name, value);\n\t\t},\n\t\t_get: function _get(context, name) {\n\t\t\tvar result = context.get(name);\n\t\t\tif (typeof (result) === \"undefined\")\n\t\t\t\tresult = ul4.functions[name];\n\t\t\treturn result;\n\t\t},\n\t\t_set: function _set(context, name, value) {\n\t\t\tcontext.set(name, value);\n\t\t},\n\t\t_modify: function _modify(context, operator, name, value) {\n\t\t\tvar newvalue = operator._ido(context.get(name), value)\n\t\t\tcontext.set(name, newvalue);\n\t\t}\n\t}\n);\n\nul4.UnaryAST = ul4._inherit(\n\tul4.CodeAST,\n\t{\n\t\tcreate: function create(tag, pos, obj) {\n\t\t\tvar unary = ul4.CodeAST.create.call(this, tag, pos);\n\t\t\tunary.obj = obj;\n\t\t\treturn unary;\n\t\t},\n\t\t_ul4onattrs: ul4.CodeAST._ul4onattrs.concat([\"obj\"]),\n\t\t_repr: function _repr(out) {\n\t\t\tout.push(\"<\");\n\t\t\tout.push(this.typename);\n\t\t\tout.push(\" obj=\");\n\t\t\tthis.obj._repr(out);\n\t\t\tout.push(\">\");\n\t\t},\n\t\t_eval: function _eval(context) {\n\t\t\tvar obj = this.obj._handle_eval(context);\n\t\t\treturn this._do(obj);\n\t\t}\n\t}\n);\n\n// Negation\nul4.NegAST = ul4._inherit(\n\tul4.UnaryAST,\n\t{\n\t\t_do: function _do(obj) {\n\t\t\tif (obj !== null && typeof (obj.__neg__) === \"function\")\n\t\t\t\treturn obj.__neg__();\n\t\t\treturn -obj;\n\t\t}\n\t}\n);\n\n// Bitwise not\nul4.BitNotAST = ul4._inherit(\n\tul4.UnaryAST,\n\t{\n\t\t_do: function _do(obj) {\n\t\t\treturn -obj - 1;\n\t\t}\n\t}\n);\n\n// Not\nul4.NotAST = ul4._inherit(\n\tul4.UnaryAST,\n\t{\n\t\t_do: function _do(obj) {\n\t\t\treturn !ul4._bool(obj);\n\t\t}\n\t}\n);\n\n// If expression\nul4.IfAST = ul4._inherit(\n\tul4.CodeAST,\n\t{\n\t\tcreate: function create(tag, pos, objif, objcond, objelse) {\n\t\t\tvar ifexpr = ul4.CodeAST.create.call(this, tag, pos);\n\t\t\tifexpr.objif = objif;\n\t\t\tifexpr.objcond = objcond;\n\t\t\tifexpr.objelse = objelse;\n\t\t\treturn ifexpr;\n\t\t},\n\t\t_ul4onattrs: ul4.CodeAST._ul4onattrs.concat([\"objif\", \"objcond\", \"objelse\"]),\n\t\t_repr: function _repr(out) {\n\t\t\tout.push(\"<\");\n\t\t\tout.push(this.typename);\n\t\t\tout.push(+1);\n\t\t\tout.push(\"objif=\");\n\t\t\tthis.objif._repr(out);\n\t\t\tout.push(0);\n\t\t\tout.push(\"objcond=\");\n\t\t\tthis.objcond._repr(out);\n\t\t\tout.push(0);\n\t\t\tout.push(\"objelse=\");\n\t\t\tthis.objelse._repr(out);\n\t\t\tout.push(-1);\n\t\t\tout.push(\">\");\n\t\t},\n\t\t_eval: function _eval(context) {\n\t\t\tvar result;\n\t\t\tvar condvalue = this.objcond._handle_eval(context);\n\t\t\tif (ul4._bool(condvalue))\n\t\t\t\tresult = this.objif._handle_eval(context);\n\t\t\telse\n\t\t\t\tresult = this.objelse._handle_eval(context);\n\t\t\treturn result;\n\t\t}\n\t}\n);\n\nul4.ReturnAST = ul4._inherit(\n\tul4.UnaryAST,\n\t{\n\t\t_eval: function _eval(context) {\n\t\t\tvar result = this.obj._handle_eval(context);\n\t\t\tthrow ul4.ReturnException.create(result);\n\t\t},\n\t\t_str: function _str(out) {\n\t\t\tout.push(\"return \");\n\t\t\tthis.obj._str(out);\n\t\t}\n\t}\n);\n\nul4.PrintAST = ul4._inherit(\n\tul4.UnaryAST,\n\t{\n\t\t_eval: function _eval(context) {\n\t\t\tvar obj = this.obj._handle_eval(context);\n\t\t\tvar output = ul4._str(obj);\n\t\t\tcontext.output(output);\n\t\t},\n\t\t_str: function _str(out) {\n\t\t\tout.push(\"print \");\n\t\t\tthis.obj._str(out);\n\t\t}\n\t}\n);\n\nul4.PrintXAST = ul4._inherit(\n\tul4.UnaryAST,\n\t{\n\t\t_eval: function _eval(context) {\n\t\t\tvar obj = this.obj._handle_eval(context);\n\t\t\tvar output = ul4._xmlescape(obj);\n\t\t\tcontext.output(output);\n\t\t},\n\t\t_str: function _str(out) {\n\t\t\tout.push(\"printx \");\n\t\t\tthis.obj._str(out);\n\t\t}\n\t}\n);\n\nul4.BinaryAST = ul4._inherit(\n\tul4.CodeAST,\n\t{\n\t\tcreate: function create(tag, pos, obj1, obj2) {\n\t\t\tvar binary = ul4.CodeAST.create.call(this, tag, pos);\n\t\t\tbinary.obj1 = obj1;\n\t\t\tbinary.obj2 = obj2;\n\t\t\treturn binary;\n\t\t},\n\t\t_ul4onattrs: ul4.CodeAST._ul4onattrs.concat([\"obj1\", \"obj2\"]),\n\t\t_repr: function _repr(out) {\n\t\t\tout.push(\"<\");\n\t\t\tout.push(this.type);\n\t\t\tout.push(\" obj1=\");\n\t\t\tthis.obj1._repr(out);\n\t\t\tout.push(\" obj2=\");\n\t\t\tthis.obj2._repr(out);\n\t\t\tout.push(\">\");\n\t\t},\n\t\t_eval: function _eval(context) {\n\t\t\tvar obj1 = this.obj1._handle_eval(context);\n\t\t\tvar obj2 = this.obj2._handle_eval(context);\n\t\t\treturn this._do(obj1, obj2);\n\t\t}\n\t}\n);\n\n// Item access and assignment: dict[key], list[index], string[index], color[index]\nul4.ItemAST = ul4._inherit(\n\tul4.BinaryAST,\n\t{\n\t\t_do: function _do(obj1, obj2) {\n\t\t\tvar result = this._get(obj1, obj2);\n\t\t\treturn result;\n\t\t},\n\t\t_eval_set: function _eval_set(context, value) {\n\t\t\tvar obj1 = this.obj1._handle_eval(context);\n\t\t\tvar obj2 = this.obj2._handle_eval(context);\n\t\t\tthis._set(obj1, obj2, value);\n\t\t},\n\t\t_eval_modify: function _eval_modify(context, operator, value) {\n\t\t\tvar obj1 = this.obj1._handle_eval(context);\n\t\t\tvar obj2 = this.obj2._handle_eval(context);\n\t\t\tthis._modify(operator, obj1, obj2, value);\n\t\t},\n\t\t_get: function _get(container, key) {\n\t\t\tif (typeof (container) === \"string\" || ul4._islist(container)) {\n\t\t\t\tif (typeof (key) === \"object\" && typeof (key.isa) === \"function\" && key.isa(ul4.slice)) {\n\t\t\t\t\tvar start = key.start, stop = key.stop;\n\t\t\t\t\tif (typeof (start) === \"undefined\" || start === null)\n\t\t\t\t\t\tstart = 0;\n\t\t\t\t\tif (typeof (stop) === \"undefined\" || stop === null)\n\t\t\t\t\t\tstop = container.length;\n\t\t\t\t\treturn container.slice(start, stop);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tvar orgkey = key;\n\t\t\t\t\tif (key < 0)\n\t\t\t\t\t\tkey += container.length;\n\t\t\t\t\treturn container[key];\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (container && typeof (container.__getitem__) === \"function\") // test this before the generic object test\n\t\t\t\treturn container.__getitem__(key);\n\t\t\telse if (ul4._ismap(container))\n\t\t\t\treturn container.get(key);\n\t\t\telse if (Object.prototype.toString.call(container) === \"[object Object]\")\n\t\t\t\treturn container[key];\n\t\t\telse\n\t\t\t\tthrow ul4.TypeError.create(\"[]\", ul4._type(container) + \" object is not subscriptable\");\n\t\t},\n\t\t_set: function _set(container, key, value) {\n\t\t\tif (ul4._islist(container)) {\n\t\t\t\tif (typeof (key) === \"object\" && typeof (key.isa) === \"function\" && key.isa(ul4.slice)) {\n\t\t\t\t\tvar start = key.start, stop = key.stop;\n\t\t\t\t\tif (start === null)\n\t\t\t\t\t\tstart = 0;\n\t\t\t\t\telse if (start < 0)\n\t\t\t\t\t\tstart += container.length;\n\t\t\t\t\tif (start < 0)\n\t\t\t\t\t\tstart = 0;\n\t\t\t\t\telse if (start > container.length)\n\t\t\t\t\t\tstart = container.length;\n\t\t\t\t\tif (stop === null)\n\t\t\t\t\t\tstop = container.length;\n\t\t\t\t\telse if (stop < 0)\n\t\t\t\t\t\tstop += container.length;\n\t\t\t\t\tif (stop < 0)\n\t\t\t\t\t\tstop = 0;\n\t\t\t\t\telse if (stop > container.length)\n\t\t\t\t\t\tstop = container.length;\n\t\t\t\t\tif (stop < start)\n\t\t\t\t\t\tstop = start;\n\t\t\t\t\tcontainer.splice(start, stop - start); // Remove old element\n\t\t\t\t\tfor (var iter = ul4._iter(value); ;) {\n\t\t\t\t\t\tvar item = iter.next();\n\t\t\t\t\t\tif (item.done)\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcontainer.splice(start++, 0, item.value);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tvar orgkey = key;\n\t\t\t\t\tif (key < 0)\n\t\t\t\t\t\tkey += container.length;\n\t\t\t\t\tcontainer[key] = value;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (container && typeof (container.__setitem__) === \"function\") // test this before the generic object test\n\t\t\t\tcontainer.__setitem__(key, value);\n\t\t\telse if (ul4._ismap(container))\n\t\t\t\tcontainer.set(key, value);\n\t\t\telse if (Object.prototype.toString.call(container) === \"[object Object]\")\n\t\t\t\tcontainer[key] = value;\n\t\t\telse\n\t\t\t\tthrow ul4.NotSubscriptableError.create(container);\n\t\t},\n\t\t_modify: function _modify(operator, container, key, value) {\n\t\t\tthis._set(container, key, operator._ido(this._get(container, key), value));\n\t\t}\n\t}\n);\n\n// Identifty test operator ``is``\nul4.IsAST = ul4._inherit(\n\tul4.BinaryAST,\n\t{\n\t\t_do: function _do(obj1, obj2) {\n\t\t\treturn obj1 === obj2;\n\t\t}\n\t}\n);\n\n// Inverted tdentifty test operator ``is not``\nul4.IsNotAST = ul4._inherit(\n\tul4.BinaryAST,\n\t{\n\t\t_do: function _do(obj1, obj2) {\n\t\t\treturn obj1 !== obj2;\n\t\t}\n\t}\n);\n\n// Comparison operator ==\nul4.EQAST = ul4._inherit(\n\tul4.BinaryAST,\n\t{\n\t\t_do: function _do(obj1, obj2) {\n\t\t\treturn ul4._eq(obj1, obj2);\n\t\t}\n\t}\n);\n\n// Comparison operator !=\nul4.NEAST = ul4._inherit(\n\tul4.BinaryAST,\n\t{\n\t\t_do: function _do(obj1, obj2) {\n\t\t\treturn ul4._ne(obj1, obj2);\n\t\t}\n\t}\n);\n\n// Comparison operator <\nul4.LTAST = ul4._inherit(\n\tul4.BinaryAST,\n\t{\n\t\t_do: function _do(obj1, obj2) {\n\t\t\treturn ul4._lt(obj1, obj2);\n\t\t}\n\t}\n);\n\n// Comparison operator <=\nul4.LEAST = ul4._inherit(\n\tul4.BinaryAST,\n\t{\n\t\t_do: function _do(obj1, obj2) {\n\t\t\treturn ul4._le(obj1, obj2);\n\t\t}\n\t}\n);\n\n// Comparison operator >\nul4.GTAST = ul4._inherit(\n\tul4.BinaryAST,\n\t{\n\t\t_do: function _do(obj1, obj2) {\n\t\t\treturn ul4._gt(obj1, obj2);\n\t\t}\n\t}\n);\n\n// Comparison operator >=\nul4.GEAST = ul4._inherit(\n\tul4.BinaryAST,\n\t{\n\t\t_do: function _do(obj1, obj2) {\n\t\t\treturn ul4._ge(obj1, obj2);\n\t\t}\n\t}\n);\n\n// Containment test: string in string, obj in list, key in dict, value in rgb\nul4.ContainsAST = ul4._inherit(\n\tul4.BinaryAST,\n\t{\n\t\t_do: function _do(obj, container) {\n\t\t\tif (typeof (obj) === \"string\" && typeof (container) === \"string\") {\n\t\t\t\treturn container.indexOf(obj) !== -1;\n\t\t\t}\n\t\t\telse if (ul4._islist(container)) {\n\t\t\t\treturn container.indexOf(obj) !== -1;\n\t\t\t}\n\t\t\telse if (container && typeof (container.__contains__) === \"function\") // test this before the generic object test\n\t\t\t\treturn container.__contains__(obj);\n\t\t\telse if (ul4._ismap(container) || ul4._isset(container))\n\t\t\t\treturn container.has(obj);\n\t\t\telse if (ul4._isobject(container)) {\n\t\t\t\tfor (var key in container) {\n\t\t\t\t\tif (key === obj)\n\t\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\telse if (ul4._iscolor(container)) {\n\t\t\t\treturn container._r === obj || container._g === obj || container._b === obj || container._a === obj;\n\t\t\t}\n\t\t\tthrow ul4.TypeError.create(\"in\", ul4._type(container) + \" object is not iterable\");\n\t\t}\n\t}\n);\n\n// Inverted containment test\nul4.NotContainsAST = ul4._inherit(\n\tul4.BinaryAST,\n\t{\n\t\t_do: function _do(obj, container) {\n\t\t\treturn !ul4.ContainsAST._do(obj, container);\n\t\t}\n\t}\n);\n\n// Addition: num + num, string + string\nul4.AddAST = ul4._inherit(\n\tul4.BinaryAST,\n\t{\n\t\t_do: function _do(obj1, obj2) {\n\t\t\tif (obj1 && typeof (obj1.__add__) === \"function\")\n\t\t\t\treturn obj1.__add__(obj2);\n\t\t\telse if (obj2 && typeof (obj2.__radd__) === \"function\")\n\t\t\t\treturn obj2.__radd__(obj1);\n\t\t\tif (obj1 === null || obj2 === null)\n\t\t\t\tthrow ul4.TypeError.create(\"+\", ul4._type(this.obj1) + \" + \" + ul4._type(this.obj2) + \" is not supported\");\n\t\t\tif (ul4._islist(obj1) && ul4._islist(obj2)) {\n\t\t\t\tvar result = [];\n\t\t\t\tul4._append(result, obj1);\n\t\t\t\tul4._append(result, obj2);\n\t\t\t\treturn result;\n\t\t\t}\n\t\t\telse\n\t\t\t\treturn obj1 + obj2;\n\t\t},\n\t\t_ido: function _ido(obj1, obj2) {\n\t\t\tif (ul4._islist(obj1) && ul4._islist(obj2)) {\n\t\t\t\tul4._append(obj1, obj2);\n\t\t\t\treturn obj1;\n\t\t\t}\n\t\t\telse\n\t\t\t\treturn this._do(obj1, obj2);\n\t\t}\n\t}\n);\n\n// Substraction: num - num\nul4.SubAST = ul4._inherit(\n\tul4.BinaryAST,\n\t{\n\t\t_do: function _do(obj1, obj2) {\n\t\t\tif (obj1 && typeof (obj1.__sub__) === \"function\")\n\t\t\t\treturn obj1.__sub__(obj2);\n\t\t\telse if (obj2 && typeof (obj2.__rsub__) === \"function\")\n\t\t\t\treturn obj2.__rsub__(obj1);\n\t\t\telse if (ul4._isdate(obj1) && ul4._isdate(obj2))\n\t\t\t\treturn this._date_sub(obj1, obj2);\n\t\t\tif (obj1 === null || obj2 === null)\n\t\t\t\tthrow ul4.TypeError.create(\"-\", ul4._type(this.obj1) + \" - \" + ul4._type(this.obj2) + \" is not supported\");\n\t\t\treturn obj1 - obj2;\n\t\t},\n\t\t_date_sub: function _date_sub(obj1, obj2) {\n\t\t\tvar swap = (obj2 > obj1);\n\n\t\t\tif (swap) {\n\t\t\t\tvar t = obj1;\n\t\t\t\tobj1 = obj2;\n\t\t\t\tobj2 = t;\n\t\t\t}\n\t\t\t// From now on obj1 is > than obj2\n\n\t\t\tvar year1 = obj1.getFullYear();\n\t\t\tvar yearday1 = ul4._yearday(obj1);\n\t\t\tvar year2 = obj2.getFullYear();\n\t\t\tvar yearday2 = ul4._yearday(obj2);\n\n\t\t\tvar diffdays = 0;\n\n\t\t\twhile (year1 > year2) {\n\t\t\t\tdiffdays += ul4._yearday(ul4._date(year2, 12, 31));\n\t\t\t\t++year2;\n\t\t\t}\n\t\t\tdiffdays += yearday1 - yearday2;\n\n\t\t\tvar hours1 = obj1.getHours();\n\t\t\tvar minutes1 = obj1.getMinutes();\n\t\t\tvar seconds1 = obj1.getSeconds();\n\t\t\tvar hours2 = obj2.getHours();\n\t\t\tvar minutes2 = obj2.getMinutes();\n\t\t\tvar seconds2 = obj2.getSeconds();\n\n\t\t\tvar diffseconds = (seconds1 - seconds2) + 60 * ((minutes1 - minutes2) + 60 * (hours1 - hours2));\n\n\t\t\tvar diffmilliseconds = obj1.getMilliseconds() - obj2.getMilliseconds();\n\n\t\t\tif (swap) {\n\t\t\t\tdiffdays = -diffdays;\n\t\t\t\tdiffseconds = -diffseconds;\n\t\t\t\tdiffmilliseconds = -diffmilliseconds;\n\t\t\t}\n\t\t\treturn ul4.TimeDelta.create(diffdays, diffseconds, 1000 * diffmilliseconds);\n\t\t},\n\t\t_ido: function _ido(obj1, obj2) {\n\t\t\treturn this._do(obj1, obj2);\n\t\t}\n\t}\n);\n\n// Multiplication: num * num, int * str, str * int, int * list, list * int\nul4.MulAST = ul4._inherit(\n\tul4.BinaryAST,\n\t{\n\t\t_do: function _do(obj1, obj2) {\n\t\t\tif (obj1 && typeof (obj1.__mul__) === \"function\")\n\t\t\t\treturn obj1.__mul__(obj2);\n\t\t\telse if (obj2 && typeof (obj2.__rmul__) === \"function\")\n\t\t\t\treturn obj2.__rmul__(obj1);\n\t\t\tif (obj1 === null || obj2 === null)\n\t\t\t\tthrow ul4.TypeError.create(\"*\", ul4._type(obj1) + \" * \" + ul4._type(obj2) + \" not supported\");\n\t\t\telse if (ul4._isint(obj1) || ul4._isbool(obj1)) {\n\t\t\t\tif (typeof (obj2) === \"string\") {\n\t\t\t\t\tif (obj1 < 0)\n\t\t\t\t\t\tthrow ul4.ValueError.create(\"repetition counter must be positive\");\n\t\t\t\t\treturn ul4._str_repeat(obj2, obj1);\n\t\t\t\t}\n\t\t\t\telse if (ul4._islist(obj2)) {\n\t\t\t\t\tif (obj1 < 0)\n\t\t\t\t\t\tthrow ul4.ValueError.create(\"repetition counter must be positive\");\n\t\t\t\t\treturn ul4._list_repeat(obj2, obj1);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (ul4._isint(obj2) || ul4._isbool(obj2)) {\n\t\t\t\tif (typeof (obj1) === \"string\") {\n\t\t\t\t\tif (obj2 < 0)\n\t\t\t\t\t\tthrow ul4.ValueError.create(\"repetition counter must be positive\");\n\t\t\t\t\treturn ul4._str_repeat(obj1, obj2);\n\t\t\t\t}\n\t\t\t\telse if (ul4._islist(obj1)) {\n\t\t\t\t\tif (obj2 < 0)\n\t\t\t\t\t\tthrow ul4.ValueError.create(\"repetition counter must be positive\");\n\t\t\t\t\treturn ul4._list_repeat(obj1, obj2);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn obj1 * obj2;\n\t\t},\n\t\t_ido: function _ido(obj1, obj2) {\n\t\t\tif (ul4._islist(obj1) && ul4._isint(obj2)) {\n\t\t\t\tif (obj2 > 0) {\n\t\t\t\t\tvar i = 0;\n\t\t\t\t\tvar targetsize = obj1.length * obj2;\n\t\t\t\t\twhile (obj1.length < targetsize)\n\t\t\t\t\t\tobj1.push(obj1[i++])\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t\tobj1.splice(0, obj1.length);\n\t\t\t\treturn obj1;\n\t\t\t}\n\t\t\telse\n\t\t\t\treturn this._do(obj1, obj2);\n\t\t}\n\t}\n);\n\n// Truncating division\nul4.FloorDivAST = ul4._inherit(\n\tul4.BinaryAST,\n\t{\n\t\t_do: function _do(obj1, obj2) {\n\t\t\tif (obj1 && typeof (obj1.__floordiv__) === \"function\")\n\t\t\t\treturn obj1.__floordiv__(obj2);\n\t\t\telse if (obj2 && typeof (obj2.__rfloordiv__) === \"function\")\n\t\t\t\treturn obj2.__rfloordiv__(obj1);\n\t\t\tif (obj1 === null || obj2 === null)\n\t\t\t\tthrow ul4.TypeError.create(\"//\", ul4._type(obj1) + \" // \" + ul4._type(obj2) + \" not supported\");\n\t\t\treturn Math.floor(obj1 / obj2);\n\t\t},\n\t\t_ido: function _ido(obj1, obj2) {\n\t\t\treturn this._do(obj1, obj2);\n\t\t}\n\t}\n);\n\n// \"Real\" division\nul4.TrueDivAST = ul4._inherit(\n\tul4.BinaryAST,\n\t{\n\t\t_do: function _do(obj1, obj2) {\n\t\t\tif (obj1 && typeof (obj1.__truediv__) === \"function\")\n\t\t\t\treturn obj1.__truediv__(obj2);\n\t\t\telse if (obj2 && typeof (obj2.__rtruediv__) === \"function\")\n\t\t\t\treturn obj2.__rtruediv__(obj1);\n\t\t\tif (obj1 === null || obj2 === null)\n\t\t\t\tthrow ul4.TypeError.create(\"/\", ul4._type(obj1) + \" / \" + ul4._type(obj2) + \" not supported\");\n\t\t\treturn obj1 / obj2;\n\t\t},\n\t\t_ido: function _ido(obj1, obj2) {\n\t\t\treturn this._do(obj1, obj2);\n\t\t}\n\t}\n);\n\n// Modulo\nul4.ModAST = ul4._inherit(\n\tul4.BinaryAST,\n\t{\n\t\t// (this is non-trivial, because it follows the Python semantic of ``-5 % 2`` being ``1``)\n\t\t_do: function _do(obj1, obj2) {\n\t\t\tvar div = Math.floor(obj1 / obj2);\n\t\t\tvar mod = obj1 - div * obj2;\n\n\t\t\tif (mod !== 0 && ((obj2 < 0 && mod > 0) || (obj2 > 0 && mod < 0))) {\n\t\t\t\tmod += obj2;\n\t\t\t\t--div;\n\t\t\t}\n\t\t\treturn obj1 - div * obj2;\n\t\t},\n\t\t_ido: function _ido(obj1, obj2) {\n\t\t\treturn this._do(obj1, obj2);\n\t\t}\n\t}\n);\n\n// Bitwise left shift\nul4.ShiftLeftAST = ul4._inherit(\n\tul4.BinaryAST,\n\t{\n\t\t_do: function _do(obj1, obj2) {\n\t\t\tif (obj2 === false)\n\t\t\t\tobj2 = 0;\n\t\t\telse if (obj2 === true)\n\t\t\t\tobj2 = 1;\n\t\t\tif (obj2 < 0)\n\t\t\t\treturn ul4.ShiftRightAST._do(obj1, -obj2);\n\t\t\tif (obj1 === false)\n\t\t\t\tobj1 = 0;\n\t\t\telse if (obj1 === true)\n\t\t\t\tobj1 = 1;\n\t\t\twhile (obj2--)\n\t\t\t\tobj1 *= 2;\n\t\t\treturn obj1;\n\t\t},\n\t\t_ido: function _ido(obj1, obj2) {\n\t\t\treturn this._do(obj1, obj2);\n\t\t}\n\t}\n);\n\n// Bitwise right shift\nul4.ShiftRightAST = ul4._inherit(\n\tul4.BinaryAST,\n\t{\n\t\t_do: function _do(obj1, obj2) {\n\t\t\tif (obj2 === false)\n\t\t\t\tobj2 = 0;\n\t\t\telse if (obj2 === true)\n\t\t\t\tobj2 = 1;\n\t\t\tif (obj2 < 0)\n\t\t\t\treturn ul4.ShiftLeftAST._do(obj1, -obj2);\n\t\t\tif (obj1 === false)\n\t\t\t\tobj1 = 0;\n\t\t\telse if (obj1 === true)\n\t\t\t\tobj1 = 1;\n\t\t\twhile (obj2--)\n\t\t\t\tobj1 /= 2;\n\t\t\treturn Math.floor(obj1);\n\t\t},\n\t\t_ido: function _ido(obj1, obj2) {\n\t\t\treturn this._do(obj1, obj2);\n\t\t}\n\t}\n);\n\n// Bitwise and\nul4.BitAndAST = ul4._inherit(\n\tul4.BinaryAST,\n\t{\n\t\t_do: function _do(obj1, obj2) {\n\t\t\tif (obj2 === false)\n\t\t\t\tobj2 = 0;\n\t\t\telse if (obj2 === true)\n\t\t\t\tobj2 = 1;\n\t\t\treturn obj1 & obj2;\n\t\t},\n\t\t_ido: function _ido(obj1, obj2) {\n\t\t\treturn this._do(obj1, obj2);\n\t\t}\n\t}\n);\n\n// Bitwise exclusive or\nul4.BitXOrAST = ul4._inherit(\n\tul4.BinaryAST,\n\t{\n\t\t_do: function _do(obj1, obj2) {\n\t\t\tif (obj2 === false)\n\t\t\t\tobj2 = 0;\n\t\t\telse if (obj2 === true)\n\t\t\t\tobj2 = 1;\n\t\t\treturn obj1 ^ obj2;\n\t\t},\n\t\t_ido: function _ido(obj1, obj2) {\n\t\t\treturn this._do(obj1, obj2);\n\t\t}\n\t}\n);\n\n// Bitwise or\nul4.BitOrAST = ul4._inherit(\n\tul4.BinaryAST,\n\t{\n\t\t_do: function _do(obj1, obj2) {\n\t\t\tif (obj2 === false)\n\t\t\t\tobj2 = 0;\n\t\t\telse if (obj2 === true)\n\t\t\t\tobj2 = 1;\n\t\t\treturn obj1 | obj2;\n\t\t},\n\t\t_ido: function _ido(obj1, obj2) {\n\t\t\treturn this._do(obj1, obj2);\n\t\t}\n\t}\n);\n\nul4.AndAST = ul4._inherit(\n\tul4.BinaryAST,\n\t{\n\t\t_eval: function _eval(context) {\n\t\t\tvar obj1 = this.obj1._handle_eval(context);\n\t\t\tif (!ul4._bool(obj1))\n\t\t\t\treturn obj1;\n\t\t\tvar obj2 = this.obj2._handle_eval(context);\n\t\t\treturn obj2;\n\t\t}\n\t}\n);\n\nul4.OrAST = ul4._inherit(\n\tul4.BinaryAST,\n\t{\n\t\t_eval: function _eval(context) {\n\t\t\tvar obj1 = this.obj1._handle_eval(context);\n\t\t\tif (ul4._bool(obj1))\n\t\t\t\treturn obj1;\n\t\t\tvar obj2 = this.obj2._handle_eval(context);\n\t\t\treturn obj2;\n\t\t}\n\t}\n);\n\nul4.AttrAST = ul4._inherit(\n\tul4.CodeAST,\n\t{\n\t\tcreate: function create(tag, pos, obj, attrname) {\n\t\t\tvar attr = ul4.CodeAST.create.call(this, tag, pos);\n\t\t\tattr.obj = obj;\n\t\t\tattr.attrname = attrname;\n\t\t\treturn attr;\n\t\t},\n\t\t_ul4onattrs: ul4.CodeAST._ul4onattrs.concat([\"obj\", \"attrname\"]),\n\t\t_repr: function _repr(out) {\n\t\t\tout.push(\"<AttrAST\");\n\t\t\tout.push(\" obj=\");\n\t\t\tthis.obj._repr(out);\n\t\t\tout.push(\" attrname=\");\n\t\t\tout.push(ul4._repr(this.attrname));\n\t\t\tout.push(\">\");\n\t\t},\n\t\t_eval: function _eval(context) {\n\t\t\tvar obj = this.obj._handle_eval(context);\n\t\t\tvar result = this._get(obj, this.attrname);\n\t\t\treturn result;\n\t\t},\n\t\t_eval_set: function _eval_set(context, value) {\n\t\t\tvar obj = this.obj._handle_eval(context);\n\t\t\tthis._set(obj, this.attrname, value);\n\t\t},\n\t\t_eval_modify: function _eval_modify(context, operator, value) {\n\t\t\tvar obj = this.obj._handle_eval(context);\n\t\t\tthis._modify(operator, obj, this.attrname, value);\n\t\t},\n\t\t_get: function _get(object, attrname) {\n\t\t\tif (typeof (object) === \"string\") {\n\t\t\t\tswitch (attrname) {\n\t\t\t\t\tcase \"count\":\n\t\t\t\t\t\treturn ul4.expose([\"sub\", \"start=\", null, \"end=\", null], function count(sub, start, end) { return ul4._count(object, sub, start, end); });\n\t\t\t\t\tcase \"find\":\n\t\t\t\t\t\treturn ul4.expose([\"sub\", \"start=\", null, \"end=\", null], function find(sub, start, end) { return ul4._find(object, sub, start, end); });\n\t\t\t\t\tcase \"rfind\":\n\t\t\t\t\t\treturn ul4.expose([\"sub\", \"start=\", null, \"end=\", null], function rfind(sub, start, end) { return ul4._rfind(object, sub, start, end); });\n\t\t\t\t\tcase \"replace\":\n\t\t\t\t\t\treturn ul4.expose([\"old\", \"new\", \"count=\", null], function replace(old, new_, count) { return ul4._replace(object, old, new_, count); });\n\t\t\t\t\tcase \"strip\":\n\t\t\t\t\t\treturn ul4.expose([\"chars=\", null], function strip(chars) { return ul4._strip(object, chars); });\n\t\t\t\t\tcase \"lstrip\":\n\t\t\t\t\t\treturn ul4.expose([\"chars=\", null], function lstrip(chars) { return ul4._lstrip(object, chars); });\n\t\t\t\t\tcase \"rstrip\":\n\t\t\t\t\t\treturn ul4.expose([\"chars=\", null], function rstrip(chars) { return ul4._rstrip(object, chars); });\n\t\t\t\t\tcase \"split\":\n\t\t\t\t\t\treturn ul4.expose([\"sep=\", null, \"count=\", null], function split(sep, count) { return ul4._split(object, sep, count); });\n\t\t\t\t\tcase \"rsplit\":\n\t\t\t\t\t\treturn ul4.expose([\"sep=\", null, \"count=\", null], function rsplit(sep, count) { return ul4._rsplit(object, sep, count); });\n\t\t\t\t\tcase \"splitlines\":\n\t\t\t\t\t\treturn ul4.expose([\"keepends=\", false], function splitlines(keepends) { return ul4._splitlines(object, keepends); });\n\t\t\t\t\tcase \"lower\":\n\t\t\t\t\t\treturn ul4.expose([], function lower() { return object.toLowerCase(); });\n\t\t\t\t\tcase \"upper\":\n\t\t\t\t\t\treturn ul4.expose([], function upper() { return object.toUpperCase(); });\n\t\t\t\t\tcase \"capitalize\":\n\t\t\t\t\t\treturn ul4.expose([], function capitalize() { return ul4._capitalize(object); });\n\t\t\t\t\tcase \"join\":\n\t\t\t\t\t\treturn ul4.expose([\"iterable\"], function join(iterable) { return ul4._join(object, iterable); });\n\t\t\t\t\tcase \"startswith\":\n\t\t\t\t\t\treturn ul4.expose([\"prefix\"], function startswith(prefix) { return ul4._startswith(object, prefix); });\n\t\t\t\t\tcase \"endswith\":\n\t\t\t\t\t\treturn ul4.expose([\"suffix\"], function endswith(suffix) { return ul4._endswith(object, suffix); });\n\t\t\t\t\tdefault:\n\t\t\t\t\t\treturn undefined;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (ul4._islist(object)) {\n\t\t\t\tswitch (attrname) {\n\t\t\t\t\tcase \"append\":\n\t\t\t\t\t\treturn ul4.expose([\"*items\"], function append(items) { return ul4._append(object, items); });\n\t\t\t\t\tcase \"insert\":\n\t\t\t\t\t\treturn ul4.expose([\"pos\", \"*items\"], function insert(pos, items) { return ul4._insert(object, pos, items); });\n\t\t\t\t\tcase \"pop\":\n\t\t\t\t\t\treturn ul4.expose([\"pos=\", -1], function pop(pos) { return ul4._pop(object, pos); });\n\t\t\t\t\tcase \"count\":\n\t\t\t\t\t\treturn ul4.expose([\"sub\", \"start=\", null, \"end=\", null], function count(sub, start, end) { return ul4._count(object, sub, start, end); });\n\t\t\t\t\tcase \"find\":\n\t\t\t\t\t\treturn ul4.expose([\"sub\", \"start=\", null, \"end=\", null], function find(sub, start, end) { return ul4._find(object, sub, start, end); });\n\t\t\t\t\tcase \"rfind\":\n\t\t\t\t\t\treturn ul4.expose([\"sub\", \"start=\", null, \"end=\", null], function rfind(sub, start, end) { return ul4._rfind(object, sub, start, end); });\n\t\t\t\t\tdefault:\n\t\t\t\t\t\treturn undefined;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (ul4._isdate(object)) {\n\t\t\t\tswitch (attrname) {\n\t\t\t\t\tcase \"weekday\":\n\t\t\t\t\t\treturn ul4.expose([], function weekday() { return ul4._weekday(object); });\n\t\t\t\t\tcase \"week\":\n\t\t\t\t\t\treturn ul4.expose([\"firstweekday=\", null], function week(firstweekday) { return ul4._week(object, firstweekday); });\n\t\t\t\t\tcase \"day\":\n\t\t\t\t\t\treturn ul4.expose([], function day() { return object.getDate(); });\n\t\t\t\t\tcase \"month\":\n\t\t\t\t\t\treturn ul4.expose([], function month() { return object.getMonth() + 1; });\n\t\t\t\t\tcase \"year\":\n\t\t\t\t\t\treturn ul4.expose([], function year() { return object.getFullYear(); });\n\t\t\t\t\tcase \"hour\":\n\t\t\t\t\t\treturn ul4.expose([], function hour() { return object.getHours(); });\n\t\t\t\t\tcase \"minute\":\n\t\t\t\t\t\treturn ul4.expose([], function minute() { return object.getMinutes(); });\n\t\t\t\t\tcase \"second\":\n\t\t\t\t\t\treturn ul4.expose([], function second() { return object.getSeconds(); });\n\t\t\t\t\tcase \"microsecond\":\n\t\t\t\t\t\treturn ul4.expose([], function microsecond() { return object.getMilliseconds() * 1000; });\n\t\t\t\t\tcase \"mimeformat\":\n\t\t\t\t\t\treturn ul4.expose([], function mimeformat() { return ul4._mimeformat(object); });\n\t\t\t\t\tcase \"isoformat\":\n\t\t\t\t\t\treturn ul4.expose([], function isoformat() { return ul4._isoformat(object); });\n\t\t\t\t\tcase \"yearday\":\n\t\t\t\t\t\treturn ul4.expose([], function yearday() { return ul4._yearday(object); });\n\t\t\t\t\tdefault:\n\t\t\t\t\t\treturn undefined;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (ul4._ismap(object)) {\n\t\t\t\tswitch (attrname) {\n\t\t\t\t\tcase \"get\":\n\t\t\t\t\t\treturn ul4.expose([\"key\", \"default=\", null], function get(key, default_) { return ul4._get(object, key, default_); });\n\t\t\t\t\tcase \"items\":\n\t\t\t\t\t\treturn ul4.expose([], function items() { return ul4._items(object); });\n\t\t\t\t\tcase \"values\":\n\t\t\t\t\t\treturn ul4.expose([], function values() { return ul4._values(object); });\n\t\t\t\t\tcase \"update\":\n\t\t\t\t\t\treturn ul4.expose([\"*other\", \"**kwargs\"], function update(other, kwargs) { return ul4._update(object, other, kwargs); });\n\t\t\t\t\tcase \"clear\":\n\t\t\t\t\t\treturn ul4.expose([], function clear() { return ul4._clear(object); });\n\t\t\t\t\tdefault:\n\t\t\t\t\t\treturn object.get(attrname);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (ul4._isset(object)) {\n\t\t\t\tswitch (attrname) {\n\t\t\t\t\tcase \"add\":\n\t\t\t\t\t\treturn ul4.expose([\"*items\"], function add(items) { for (var i = 0; i < items.length; ++i) { object.add(items[i]); } });\n\t\t\t\t\tcase \"clear\":\n\t\t\t\t\t\treturn ul4.expose([], function clear() { return ul4._clear(object); });\n\t\t\t\t\tdefault:\n\t\t\t\t\t\treturn undefined;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (Object.prototype.toString.call(object) === \"[object Object]\") {\n\t\t\t\tswitch (attrname) {\n\t\t\t\t\tcase \"get\":\n\t\t\t\t\t\treturn ul4.expose([\"key\", \"default=\", null], function get(key, default_) { return ul4._get(object, key, default_); });\n\t\t\t\t\tcase \"items\":\n\t\t\t\t\t\treturn ul4.expose([], function items() { return ul4._items(object); });\n\t\t\t\t\tcase \"values\":\n\t\t\t\t\t\treturn ul4.expose([], function values() { return ul4._values(object); });\n\t\t\t\t\tcase \"update\":\n\t\t\t\t\t\treturn ul4.expose([\"*other\", \"**kwargs\"], function update(other, kwargs) { return ul4._update(object, other, kwargs); });\n\t\t\t\t\tcase \"clear\":\n\t\t\t\t\t\treturn ul4.expose([], function clear() { return ul4._clear(object); });\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tvar result;\n\t\t\t\t\t\tif (object && typeof (object.__getattr__) === \"function\") // test this before the generic object test\n\t\t\t\t\t\t\tresult = object.__getattr__(attrname);\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tresult = object[attrname];\n\t\t\t\t\t\tif (typeof (result) !== \"function\")\n\t\t\t\t\t\t\treturn result;\n\t\t\t\t\t\tvar realresult = function () {\n\t\t\t\t\t\t\treturn result.apply(object, arguments);\n\t\t\t\t\t\t};\n\t\t\t\t\t\trealresult._ul4_name = result._ul4_name || result.name;\n\t\t\t\t\t\trealresult._ul4_signature = result._ul4_signature;\n\t\t\t\t\t\trealresult._ul4_needsobject = result._ul4_needsobject;\n\t\t\t\t\t\trealresult._ul4_needscontext = result._ul4_needscontext;\n\t\t\t\t\t\treturn realresult;\n\t\t\t\t}\n\t\t\t}\n\t\t\tthrow ul4.TypeError.create(\"get\", ul4._type(object) + \" object has no readable attributes\");\n\t\t},\n\t\t_set: function _set(object, attrname, value) {\n\t\t\tif (typeof (object) === \"object\" && typeof (object.__setattr__) === \"function\")\n\t\t\t\tobject.__setattr__(attrname, value);\n\t\t\telse if (ul4._ismap(object))\n\t\t\t\tobject.set(attrname, value)\n\t\t\telse if (ul4._isobject(object))\n\t\t\t\tobject[attrname] = value;\n\t\t\telse\n\t\t\t\tthrow ul4.TypeError.create(\"set\", ul4._type(object) + \" object has no writable attributes\");\n\t\t},\n\t\t_modify: function _modify(operator, object, attrname, value) {\n\t\t\tvar oldvalue = this._get(object, attrname);\n\t\t\tvar newvalue = operator._ido(oldvalue, value);\n\t\t\tthis._set(object, attrname, newvalue);\n\t\t}\n\t}\n);\n\nul4.CallAST = ul4._inherit(\n\tul4.CodeAST,\n\t{\n\t\tcreate: function create(tag, pos, obj, args) {\n\t\t\tvar call = ul4.CodeAST.create.call(this, tag, pos);\n\t\t\tcall.obj = obj;\n\t\t\tcall.args = args;\n\t\t\treturn call;\n\t\t},\n\t\t_ul4onattrs: ul4.CodeAST._ul4onattrs.concat([\"obj\", \"args\"]),\n\t\t_repr: function _repr(out) {\n\t\t\tout.push(\"<CallAST\");\n\t\t\tout.push(\" obj=\");\n\t\t\tthis.obj._repr(out);\n\t\t\tfor (var i = 0; i < this.args.length; ++i) {\n\t\t\t\tvar arg = this.args[i];\n\t\t\t\tout.push(\" \");\n\t\t\t\targ._repr(out);\n\t\t\t}\n\t\t\tout.push(\">\");\n\t\t},\n\t\t_makeargs: function _makeargs(context) {\n\t\t\tvar args = [], kwargs = {};\n\t\t\tfor (var i = 0; i < this.args.length; ++i)\n\t\t\t\tthis.args[i]._handle_eval_call(context, args, kwargs);\n\t\t\treturn { args: args, kwargs: kwargs };\n\t\t},\n\t\t_handle_eval: function _handle_eval(context) {\n\t\t\ttry {\n\t\t\t\treturn this._eval(context);\n\t\t\t}\n\t\t\tcatch (exc) {\n\t\t\t\texc = ul4.LocationError.create(this, exc);\n\t\t\t\tthrow exc;\n\t\t\t}\n\t\t},\n\t\t_eval: function _eval(context) {\n\t\t\tvar obj = this.obj._handle_eval(context);\n\t\t\tvar args = this._makeargs(context);\n\t\t\tvar result = ul4._call(context, obj, args.args, args.kwargs);\n\t\t\treturn result;\n\t\t}\n\t}\n);\n\nul4.RenderAST = ul4._inherit(\n\tul4.CallAST,\n\t{\n\t\tcreate: function create(tag, pos, obj, args) {\n\t\t\tvar render = ul4.CallAST.create.call(this, tag, pos, obj, args);\n\t\t\trender.indent = null;\n\t\t\treturn render;\n\t\t},\n\t\t_ul4onattrs: ul4.CallAST._ul4onattrs.concat([\"indent\"]),\n\t\t_repr: function _repr(out) {\n\t\t\tout.push(\"<RenderAST\");\n\t\t\tout.push(\" indent=\");\n\t\t\tout.push(ul4._repr(this.indent));\n\t\t\tout.push(\" obj=\");\n\t\t\tthis.obj._repr(out);\n\t\t\tout.push(0);\n\t\t\tfor (var i = 0; i < this.args.length; ++i) {\n\t\t\t\tvar name = this.args[i][0];\n\t\t\t\tvar arg = this.args[i][1];\n\t\t\t\tout.push(\" \");\n\t\t\t\tif (name === null)\n\t\t\t\t\t;\n\t\t\t\telse if (name === \"*\")\n\t\t\t\t\tout.push(\"*\");\n\t\t\t\telse if (name === \"**\")\n\t\t\t\t\tout.push(\"**\");\n\t\t\t\telse\n\t\t\t\t\tout.push(name + \"=\");\n\t\t\t\targ._repr(out);\n\t\t\t\tout.push(0);\n\t\t\t}\n\t\t\tout.push(-1);\n\t\t\tout.push(\">\");\n\t\t},\n\t\t_str: function _str(out) {\n\t\t\tout.push(\"render \");\n\t\t\tout.push(this.tag.source.substring(this.pos.start, this.pos.stop).replace(/\\r?\\n/g, ' '));\n\t\t\tif (this.indent !== null) {\n\t\t\t\tout.push(\" with indent \");\n\t\t\t\tout.push(ul4._repr(this.indent._text()));\n\t\t\t}\n\t\t},\n\t\t_handle_eval: function _handle_eval(context) {\n\t\t\tvar localcontext = context.withindent(this.indent !== null ? this.indent._text() : null);\n\t\t\tvar obj = this.obj._handle_eval(localcontext);\n\t\t\tvar args = this._makeargs(localcontext);\n\n\t\t\ttry {\n\t\t\t\tvar result = ul4._callrender(localcontext, obj, args.args, args.kwargs);\n\t\t\t\treturn result;\n\t\t\t}\n\t\t\tcatch (exc) {\n\t\t\t\texc = ul4.LocationError.create(this, exc);\n\t\t\t\tthrow exc;\n\t\t\t}\n\t\t}\n\t}\n);\n\n// Slice object\nul4.slice = ul4._inherit(\n\tul4.Proto,\n\t{\n\t\tcreate: function create(start, stop) {\n\t\t\tvar slice = ul4._clone(this);\n\t\t\tslice.start = start;\n\t\t\tslice.stop = stop;\n\t\t\treturn slice;\n\t\t},\n\t\t__repr__: function __repr__() {\n\t\t\treturn \"slice(\" + ul4._repr(this.start) + \", \" + ul4._repr(this.stop) + \")\";\n\t\t}\n\t}\n);\n\n\n// List/String slice\nul4.SliceAST = ul4._inherit(\n\tul4.CodeAST,\n\t{\n\t\tcreate: function create(tag, pos, index1, index2) {\n\t\t\tvar slice = ul4.CodeAST.create.call(this, tag, pos);\n\t\t\tslice.index1 = index1;\n\t\t\tslice.index2 = index2;\n\t\t\treturn slice;\n\t\t},\n\t\t_ul4onattrs: ul4.CodeAST._ul4onattrs.concat([\"index1\", \"index2\"]),\n\t\t_repr: function _repr(out) {\n\t\t\tout.push(\"<SliceAST\");\n\t\t\tif (this.index1 !== null) {\n\t\t\t\tout.push(\" index1=\");\n\t\t\t\tthis.index1._repr(out);\n\t\t\t}\n\t\t\tif (this.index2 !== null) {\n\t\t\t\tout.push(\" index2=\");\n\t\t\t\tthis.index2._repr(out);\n\t\t\t}\n\t\t\tout.push(\">\");\n\t\t},\n\t\t_eval: function _eval(context) {\n\t\t\tvar index1 = this.index1 !== null ? this.index1._handle_eval(context) : null;\n\t\t\tvar index2 = this.index2 !== null ? this.index2._handle_eval(context) : null;\n\t\t\treturn ul4.slice.create(index1, index2);\n\t\t}\n\t}\n);\n\n\nul4.SetVarAST = ul4._inherit(\n\tul4.CodeAST,\n\t{\n\t\tcreate: function create(tag, pos, lvalue, value) {\n\t\t\tvar changevar = ul4.CodeAST.create.call(this, tag, pos);\n\t\t\tchangevar.lvalue = lvalue;\n\t\t\tchangevar.value = value;\n\t\t\treturn changevar;\n\t\t},\n\t\t_ul4onattrs: ul4.CodeAST._ul4onattrs.concat([\"lvalue\", \"value\"]),\n\t\t_repr: function _repr(out) {\n\t\t\tout.push(\"<\");\n\t\t\tout.push(this.typename);\n\t\t\tout.push(\" lvalue=\");\n\t\t\tout.push(ul4._repr(this.lvalue));\n\t\t\tout.push(\" value=\");\n\t\t\tthis.value._repr(out);\n\t\t\tout.push(\">\");\n\t\t},\n\t\t_eval: function _eval(context) {\n\t\t\tvar value = this.value._handle_eval(context);\n\t\t\tvar items = ul4._unpackvar(this.lvalue, value);\n\t\t\tfor (var i = 0; i < items.length; ++i) {\n\t\t\t\tvar item = items[i];\n\t\t\t\titem[0]._handle_eval_set(context, item[1]);\n\t\t\t}\n\t\t}\n\t}\n);\n\nul4.ModifyVarAST = ul4._inherit(\n\tul4.SetVarAST,\n\t{\n\t\t_eval: function _eval(context) {\n\t\t\tvar value = this.value._handle_eval(context);\n\t\t\tvar items = ul4._unpackvar(this.lvalue, value);\n\t\t\tfor (var i = 0; i < items.length; ++i) {\n\t\t\t\tvar item = items[i];\n\t\t\t\titem[0]._handle_eval_modify(context, this._operator, item[1]);\n\t\t\t}\n\t\t}\n\t}\n);\n\nul4.AddVarAST = ul4._inherit(ul4.ModifyVarAST, { _operator: ul4.AddAST });\n\nul4.SubVarAST = ul4._inherit(ul4.ModifyVarAST, { _operator: ul4.SubAST });\n\nul4.MulVarAST = ul4._inherit(ul4.ModifyVarAST, { _operator: ul4.MulAST });\n\nul4.TrueDivVarAST = ul4._inherit(ul4.ModifyVarAST, { _operator: ul4.TrueDivAST });\n\nul4.FloorDivVarAST = ul4._inherit(ul4.ModifyVarAST, { _operator: ul4.FloorDivAST });\n\nul4.ModVarAST = ul4._inherit(ul4.ModifyVarAST, { _operator: ul4.ModAST });\n\nul4.ShiftLeftVarAST = ul4._inherit(ul4.ModifyVarAST, { _operator: ul4.ShiftLeftAST });\n\nul4.ShiftRightVarAST = ul4._inherit(ul4.ModifyVarAST, { _operator: ul4.ShiftRightAST });\n\nul4.BitAndVarAST = ul4._inherit(ul4.ModifyVarAST, { _operator: ul4.BitAndAST });\n\nul4.BitXOrVarAST = ul4._inherit(ul4.ModifyVarAST, { _operator: ul4.BitXOrAST });\n\nul4.BitOrVarAST = ul4._inherit(ul4.ModifyVarAST, { _operator: ul4.BitOrAST });\n\nul4.BlockAST = ul4._inherit(\n\tul4.CodeAST,\n\t{\n\t\tcreate: function create(tag, pos) {\n\t\t\tvar block = ul4.CodeAST.create.call(this, tag, pos);\n\t\t\tblock.endtag = null;\n\t\t\tblock.content = [];\n\t\t\treturn block;\n\t\t},\n\t\t_ul4onattrs: ul4.CodeAST._ul4onattrs.concat([\"endtag\", \"content\"]),\n\t\t_eval: function _eval(context) {\n\t\t\tfor (var i = 0; i < this.content.length; ++i)\n\t\t\t\tthis.content[i]._handle_eval(context);\n\t\t},\n\t\t_str: function _str(out) {\n\t\t\tif (this.content.length) {\n\t\t\t\tfor (var i = 0; i < this.content.length; ++i) {\n\t\t\t\t\tthis.content[i]._str(out);\n\t\t\t\t\tout.push(0);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tout.push(\"pass\");\n\t\t\t\tout.push(0);\n\t\t\t}\n\t\t}\n\t}\n);\n\nul4.ForBlockAST = ul4._inherit(\n\tul4.BlockAST,\n\t{\n\t\tcreate: function create(tag, pos, varname, container) {\n\t\t\tvar for_ = ul4.BlockAST.create.call(this, tag, pos);\n\t\t\tfor_.varname = varname;\n\t\t\tfor_.container = container;\n\t\t\treturn for_;\n\t\t},\n\t\t_ul4onattrs: ul4.BlockAST._ul4onattrs.concat([\"varname\", \"container\"]),\n\t\t_repr: function _repr(out) {\n\t\t\tout.push(\"<ForBlockAST\");\n\t\t\tout.push(\" varname=\");\n\t\t\tout.push(ul4._repr(this.varname));\n\t\t\tout.push(\" container=\");\n\t\t\tthis.container._repr(out);\n\t\t\tout.push(\">\");\n\t\t},\n\t\t_str_varname: function _str_varname(out, varname) {\n\t\t\tif (ul4._islist(varname)) {\n\t\t\t\tout.push(\"(\");\n\t\t\t\tfor (var i = 0; i < varname.length; ++i) {\n\t\t\t\t\tif (i)\n\t\t\t\t\t\tout.push(\", \");\n\t\t\t\t\tthis._str_varname(out, varname[i]);\n\t\t\t\t}\n\t\t\t\tif (varname.length == 1)\n\t\t\t\t\tout.push(\",\");\n\t\t\t\tout.push(\")\");\n\t\t\t}\n\t\t\telse\n\t\t\t\tvarname._str(out);\n\t\t},\n\t\t_eval: function _eval(context) {\n\t\t\tvar container = this.container._handle_eval(context);\n\n\t\t\tfor (var iter = ul4._iter(container); ;) {\n\t\t\t\tvar value = iter.next();\n\t\t\t\tif (value.done)\n\t\t\t\t\tbreak;\n\t\t\t\tvar varitems = ul4._unpackvar(this.varname, value.value);\n\t\t\t\tfor (var i = 0; i < varitems.length; ++i)\n\t\t\t\t\tvaritems[i][0]._handle_eval_set(context, varitems[i][1]);\n\t\t\t\ttry {\n\t\t\t\t\t// We can't call _handle_eval() here, as this would in turn call this function again, leading to infinite recursion\n\t\t\t\t\t// But we don't have to, as wrapping original exception in ``Error`` has already been done by the lower levels\n\t\t\t\t\tul4.BlockAST._eval.call(this, context);\n\t\t\t\t}\n\t\t\t\tcatch (exc) {\n\t\t\t\t\tif (exc === ul4.BreakException)\n\t\t\t\t\t\tbreak;\n\t\t\t\t\telse if (exc === ul4.ContinueException)\n\t\t\t\t\t\t;\n\t\t\t\t\telse\n\t\t\t\t\t\tthrow exc;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t_str: function _str(out) {\n\t\t\tout.push(\"for \");\n\t\t\tthis._str_varname(out, this.varname);\n\t\t\tout.push(\" in \");\n\t\t\tthis.container._str(out);\n\t\t\tout.push(\":\");\n\t\t\tout.push(+1);\n\t\t\tul4.BlockAST._str.call(this, out);\n\t\t\tout.push(-1);\n\t\t}\n\t}\n);\n\nul4.WhileBlockAST = ul4._inherit(\n\tul4.BlockAST,\n\t{\n\t\tcreate: function create(tag, pos, condition) {\n\t\t\tvar while_ = ul4.BlockAST.create.call(this, tag, pos);\n\t\t\twhile_.condition = condition;\n\t\t\treturn while_;\n\t\t},\n\t\t_ul4onattrs: ul4.BlockAST._ul4onattrs.concat([\"condition\"]),\n\t\t_repr: function _repr(out) {\n\t\t\tout.push(\"<WhileAST\");\n\t\t\tout.push(\" condition=\");\n\t\t\tthis.condition._repr(out);\n\t\t\tout.push(\">\");\n\t\t},\n\t\t_str: function _str(out) {\n\t\t\tout.push(\"while \"),\n\t\t\t\tthis.container._repr(out);\n\t\t\tout.push(\":\");\n\t\t\tout.push(+1);\n\t\t\tul4.BlockAST._str.call(this, out);\n\t\t\tout.push(-1);\n\t\t},\n\t\t_eval: function _eval(context) {\n\t\t\twhile (true) {\n\t\t\t\tvar cond = this.condition._handle_eval(context);\n\t\t\t\tif (!ul4._bool(cond))\n\t\t\t\t\tbreak;\n\t\t\t\ttry {\n\t\t\t\t\t// We can't call _handle_eval() here, as this would in turn call this function again, leading to infinite recursion\n\t\t\t\t\t// But we don't have to, as wrapping original exception in ``Error`` has already been done by the lower levels\n\t\t\t\t\tul4.BlockAST._eval.call(this, context);\n\t\t\t\t}\n\t\t\t\tcatch (exc) {\n\t\t\t\t\tif (exc === ul4.BreakException)\n\t\t\t\t\t\tbreak;\n\t\t\t\t\telse if (exc === ul4.ContinueException)\n\t\t\t\t\t\t;\n\t\t\t\t\telse\n\t\t\t\t\t\tthrow exc;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t_str: function _str(out) {\n\t\t\tout.push(\"while \");\n\t\t\tul4.AST._str.call(this, out);\n\t\t\tout.push(\":\");\n\t\t\tout.push(+1);\n\t\t\tul4.BlockAST._str.call(this, out);\n\t\t\tout.push(-1);\n\t\t}\n\t}\n);\n\nul4.BreakAST = ul4._inherit(\n\tul4.CodeAST,\n\t{\n\t\t_eval: function _eval(context) {\n\t\t\tthrow ul4.BreakException;\n\t\t},\n\t\t_str: function _str(out) {\n\t\t\tout.push(\"break\");\n\t\t\tout.push(0);\n\t\t},\n\t\t_repr: function _repr(out) {\n\t\t\tout.push(\"<BreakAST>\");\n\t\t}\n\t}\n);\n\nul4.ContinueAST = ul4._inherit(\n\tul4.CodeAST,\n\t{\n\t\t_eval: function _eval(context) {\n\t\t\tthrow ul4.ContinueException;\n\t\t},\n\t\t_str: function _str(out) {\n\t\t\tout.push(\"continue\");\n\t\t\tout.push(0);\n\t\t},\n\t\t_repr: function _repr(out) {\n\t\t\tout.push(\"<ContinueAST>\");\n\t\t}\n\t}\n);\n\nul4.CondBlockAST = ul4._inherit(\n\tul4.BlockAST,\n\t{\n\t\t_eval: function _eval(context) {\n\t\t\tfor (var i = 0; i < this.content.length; ++i) {\n\t\t\t\tvar block = this.content[i];\n\t\t\t\tvar execute = block._execute(context);\n\t\t\t\tif (execute) {\n\t\t\t\t\tblock._handle_eval(context);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n);\n\nul4.ConditionalBlockAST = ul4._inherit(\n\tul4.BlockAST,\n\t{\n\t\tcreate: function create(tag, pos, condition) {\n\t\t\tvar block = ul4.BlockAST.create.call(this, tag, pos);\n\t\t\tblock.condition = condition;\n\t\t\treturn block;\n\t\t},\n\t\t_ul4onattrs: ul4.BlockAST._ul4onattrs.concat([\"condition\"]),\n\t\t_repr: function _repr(out) {\n\t\t\tout.push(\"<\");\n\t\t\tout.push(this.typename);\n\t\t\tout.push(\" condition=\");\n\t\t\tthis.condition._repr(out);\n\t\t\tout.push(\">\");\n\t\t},\n\t\t_str: function _str(out) {\n\t\t\tout.push(this._strname);\n\t\t\tout.push(\" \");\n\t\t\tthis.condition._str(out);\n\t\t\tout.push(\":\");\n\t\t\tout.push(+1);\n\t\t\tul4.BlockAST._str.call(this, out);\n\t\t\tout.push(-1);\n\t\t},\n\t\t_execute: function _execute(context) {\n\t\t\tvar cond = this.condition._handle_eval(context);\n\t\t\tvar result = ul4._bool(cond);\n\t\t\treturn result;\n\t\t}\n\t}\n);\n\nul4.IfBlockAST = ul4._inherit(ul4.ConditionalBlockAST, { _strname: \"if\" });\n\nul4.ElIfBlockAST = ul4._inherit(ul4.ConditionalBlockAST, { _strname: \"else if\" });\n\nul4.ElseBlockAST = ul4._inherit(\n\tul4.BlockAST,\n\t{\n\t\t_repr: function _repr(out) {\n\t\t\tout.push(\"<ElseAST\");\n\t\t\tout.push(\">\");\n\t\t},\n\t\t_str: function _str(out) {\n\t\t\tout.push(\"else:\"),\n\t\t\t\tout.push(+1);\n\t\t\tul4.BlockAST._str.call(this, out);\n\t\t\tout.push(-1);\n\t\t},\n\t\t_execute: function _execute(context) {\n\t\t\treturn true;\n\t\t},\n\t\t_str: function _str(out) {\n\t\t\tout.push(\"else:\");\n\t\t\tout.push(+1);\n\t\t\tul4.BlockAST._str.call(this, out);\n\t\t\tout.push(-1);\n\t\t}\n\t}\n);\n\nul4.Template = ul4._inherit(\n\tul4.BlockAST,\n\t{\n\t\tcreate: function create(tag, pos, source, name, whitespace, startdelim, enddelim, signature) {\n\t\t\tvar template = ul4.BlockAST.create.call(this, tag, pos);\n\t\t\ttemplate.source = source;\n\t\t\ttemplate.name = name;\n\t\t\ttemplate.whitespace = whitespace;\n\t\t\ttemplate.startdelim = startdelim;\n\t\t\ttemplate.enddelim = enddelim;\n\t\t\ttemplate.docpos = null;\n\t\t\ttemplate.signature = signature;\n\t\t\ttemplate._jsfunction = null;\n\t\t\ttemplate._asts = null;\n\t\t\ttemplate._ul4_callsignature = signature;\n\t\t\ttemplate._ul4_rendersignature = signature;\n\t\t\ttemplate.parenttemplate = null;\n\t\t\treturn template;\n\t\t},\n\t\tul4ondump: function ul4ondump(encoder) {\n\t\t\tvar signature;\n\t\t\tencoder.dump(ul4.version);\n\t\t\tencoder.dump(this.name);\n\t\t\tencoder.dump(this.source);\n\t\t\tencoder.dump(this.whitespace);\n\t\t\tencoder.dump(this.startdelim);\n\t\t\tencoder.dump(this.enddelim);\n\t\t\tencoder.dump(this.docpos);\n\t\t\tencoder.dump(this.parenttemplate);\n\t\t\tif (this.signature === null || ul4.SignatureAST.isprotoof(this.signature))\n\t\t\t\tsignature = this.signature;\n\t\t\telse {\n\t\t\t\tsignature = [];\n\t\t\t\tfor (var i = 0; i < this.signature.args.length; ++i) {\n\t\t\t\t\tvar arg = this.signature.args[i];\n\t\t\t\t\tif (typeof (arg.defaultValue) === \"undefined\")\n\t\t\t\t\t\tsignature.push(arg.name);\n\t\t\t\t\telse\n\t\t\t\t\t\tsignature.push(arg.name + \"=\", arg.defaultValue);\n\t\t\t\t}\n\t\t\t\tif (this.signature.remargs !== null)\n\t\t\t\t\tsignature.push(\"*\" + this.signature.remargs);\n\t\t\t\tif (this.signature.remkwargs !== null)\n\t\t\t\t\tsignature.push(\"**\" + this.signature.remkwargs);\n\t\t\t}\n\t\t\tencoder.dump(signature);\n\t\t\tul4.BlockAST.ul4ondump.call(this, encoder);\n\t\t},\n\t\tul4onload: function ul4onload(decoder) {\n\t\t\tvar version = decoder.load();\n\t\t\tvar signature;\n\n\t\t\tif (version === null)\n\t\t\t\tthrow ul4.ValueError.create(\"UL4ON doesn't support templates in 'source' format in Javascript implementation\");\n\n\t\t\tif (version !== ul4.version)\n\t\t\t\tthrow ul4.ValueError.create(\"invalid version, expected \" + ul4.version + \", got \" + version);\n\t\t\tthis.name = decoder.load();\n\t\t\tthis.source = decoder.load();\n\t\t\tthis.whitespace = decoder.load();\n\t\t\tthis.startdelim = decoder.load();\n\t\t\tthis.enddelim = decoder.load();\n\t\t\tthis.docpos = decoder.load();\n\t\t\tthis.parenttemplate = decoder.load();\n\t\t\tsignature = decoder.load();\n\t\t\tif (ul4._islist(signature))\n\t\t\t\tsignature = ul4.Signature.create.apply(ul4.Signature, signature);\n\t\t\tthis.signature = signature;\n\t\t\tthis._ul4_callsignature = signature;\n\t\t\tthis._ul4_rendersignature = signature;\n\t\t\tul4.BlockAST.ul4onload.call(this, decoder);\n\t\t},\n\t\tloads: function loads(string) {\n\t\t\treturn ul4on.loads(string);\n\t\t},\n\t\t_eval: function _eval(context) {\n\t\t\tvar signature = null;\n\t\t\tif (this.signature !== null)\n\t\t\t\tsignature = this.signature._handle_eval(context);\n\t\t\tvar closure = ul4.TemplateClosure.create(this, signature, context.vars);\n\t\t\tcontext.set(this.name, closure);\n\t\t},\n\t\t_repr: function _repr(out) {\n\t\t\tout.push(\"<Template\");\n\t\t\tif (this.name !== null) {\n\t\t\t\tout.push(\" name=\");\n\t\t\t\tout.push(ul4._repr(this.name));\n\t\t\t}\n\t\t\tout.push(\" whitespace=\");\n\t\t\tout.push(ul4._repr(this.whitespace));\n\t\t\tif (this.startdelim !== \"<?\") {\n\t\t\t\tout.push(\" startdelim=\");\n\t\t\t\tout.push(ul4._repr(this.startdelim));\n\t\t\t}\n\t\t\tif (this.enddelim !== \"?>\") {\n\t\t\t\tout.push(\" enddelim=\");\n\t\t\t\tout.push(ul4._repr(this.enddelim));\n\t\t\t}\n\t\t\tout.push(\">\");\n\t\t},\n\t\t_str: function _str(out) {\n\t\t\tout.push(\"def \");\n\t\t\tout.push(this.name ? this.name : \"unnamed\");\n\t\t\tout.push(\":\");\n\t\t\tout.push(+1);\n\t\t\tul4.BlockAST._str.call(this, out);\n\t\t\tout.push(-1);\n\t\t},\n\t\t_ul4_callneedsobject: true,\n\t\t_ul4_callneedscontext: true,\n\t\t_ul4_renderneedsobject: true,\n\t\t_ul4_renderneedscontext: true,\n\t\t_renderbound: function _renderbound(context, vars) {\n\t\t\tvar localcontext = context.clone();\n\t\t\tlocalcontext.vars = vars;\n\t\t\ttry {\n\t\t\t\tul4.BlockAST._eval.call(this, localcontext);\n\t\t\t}\n\t\t\tcatch (exc) {\n\t\t\t\tif (!ul4.ReturnException.isprotoof(exc))\n\t\t\t\t\tthrow exc;\n\t\t\t}\n\t\t},\n\t\t__render__: function __render__(context, vars) {\n\t\t\tthis._renderbound(context, vars);\n\t\t},\n\t\trender: function render(context, vars) {\n\t\t\tthis._renderbound(context, vars);\n\t\t},\n\t\t_rendersbound: function _rendersbound(context, vars) {\n\t\t\tvar localcontext = context.replaceoutput();\n\t\t\tthis._renderbound(localcontext, vars);\n\t\t\treturn localcontext.getoutput();\n\t\t},\n\t\trenders: function renders(vars) {\n\t\t\tvars = vars || {};\n\t\t\tvar context = ul4.Context.create();\n\t\t\tif (this.signature !== null)\n\t\t\t\tvars = this.signature.bindObject(this.name, [], vars);\n\t\t\treturn this._rendersbound(context, vars);\n\t\t},\n\t\tdoc: function doc() {\n\t\t\treturn this.docpos != null ? this.source.substring(this.docpos.start, this.docpos.stop) : null;\n\t\t},\n\t\t__getattr__: function __getattr__(attrname) {\n\t\t\tvar self = this;\n\t\t\tswitch (attrname) {\n\t\t\t\tcase \"tag\":\n\t\t\t\t\treturn this.tag;\n\t\t\t\tcase \"endtag\":\n\t\t\t\t\treturn this.endtag;\n\t\t\t\tcase \"content\":\n\t\t\t\t\treturn this.content;\n\t\t\t\tcase \"source\":\n\t\t\t\t\treturn this.source;\n\t\t\t\tcase \"name\":\n\t\t\t\t\treturn this.name;\n\t\t\t\tcase \"whitespace\":\n\t\t\t\t\treturn this.whitespace;\n\t\t\t\tcase \"startdelim\":\n\t\t\t\t\treturn this.startdelim;\n\t\t\t\tcase \"enddelim\":\n\t\t\t\t\treturn this.enddelim;\n\t\t\t\tcase \"doc\":\n\t\t\t\t\treturn this.doc();\n\t\t\t\tcase \"signature\":\n\t\t\t\t\treturn this.signature;\n\t\t\t\tcase \"parenttemplate\":\n\t\t\t\t\treturn this.parenttemplate;\n\t\t\t\tcase \"render\":\n\t\t\t\t\treturn ul4.expose(this.signature, { needscontext: true, needsobject: true }, function render(context, vars) { self._renderbound(context, vars); });\n\t\t\t\tcase \"renders\":\n\t\t\t\t\treturn ul4.expose(this.signature, { needscontext: true, needsobject: true }, function renders(context, vars) { return self._rendersbound(context, vars); });\n\t\t\t\tdefault:\n\t\t\t\t\treturn undefined;\n\t\t\t}\n\t\t},\n\t\t_callbound: function _callbound(context, vars) {\n\t\t\tvar localcontext = context.clone();\n\t\t\tlocalcontext.vars = vars;\n\t\t\ttry {\n\t\t\t\tul4.BlockAST._eval.call(this, localcontext);\n\t\t\t}\n\t\t\tcatch (exc) {\n\t\t\t\tif (ul4.ReturnException.isprotoof(exc))\n\t\t\t\t\treturn exc.result;\n\t\t\t\telse\n\t\t\t\t\tthrow exc;\n\t\t\t}\n\t\t\treturn null;\n\t\t},\n\t\tcall: function call(vars) {\n\t\t\tvars = vars || {};\n\t\t\tvar context = ul4.Context.create();\n\t\t\tif (this.signature !== null)\n\t\t\t\tvars = this.signature.bindObject(this.name, [], vars);\n\t\t\treturn this._callbound(context, vars);\n\t\t},\n\t\t__call__: function __call__(context, vars) {\n\t\t\treturn this._callbound(context, vars);\n\t\t},\n\t\t__type__: \"ul4.Template\" // used by ``istemplate()``\n\t}\n);\n\nul4.SignatureAST = ul4._inherit(\n\tul4.CodeAST,\n\t{\n\t\tcreate: function create(tag, pos) {\n\t\t\tvar signature = ul4.CodeAST.create.call(this, tag, pos);\n\t\t\tsignature.params = [];\n\t\t\treturn signature;\n\t\t},\n\t\tul4ondump: function ul4ondump(encoder) {\n\t\t\tul4.CodeAST.ul4ondump.call(this, encoder);\n\n\t\t\tvar dump = [];\n\n\t\t\tfor (var i = 0; i < this.params.length; ++i) {\n\t\t\t\tvar param = this.params[i];\n\t\t\t\tif (param[1] === null)\n\t\t\t\t\tdump.push(param[0]);\n\t\t\t\telse\n\t\t\t\t\tdump.push(param);\n\t\t\t}\n\t\t\tencoder.dump(dump);\n\t\t},\n\t\tul4onload: function ul4onload(decoder) {\n\t\t\tul4.AST.ul4onload.call(this, decoder);\n\t\t\tvar dump = decoder.load();\n\t\t\tthis.params = [];\n\t\t\tfor (var i = 0; i < dump.length; ++i) {\n\t\t\t\tvar param = dump[i];\n\t\t\t\tif (typeof (param) === \"string\")\n\t\t\t\t\tthis.params.push([param, null]);\n\t\t\t\telse\n\t\t\t\t\tthis.params.push(param);\n\t\t\t}\n\t\t},\n\t\t_eval: function _eval(context) {\n\t\t\tvar args = [];\n\t\t\tfor (var i = 0; i < this.params.length; ++i) {\n\t\t\t\tvar param = this.params[i];\n\t\t\t\tif (param[1] === null)\n\t\t\t\t\targs.push(param[0]);\n\t\t\t\telse {\n\t\t\t\t\targs.push(param[0] + \"=\");\n\t\t\t\t\targs.push(param[1]._handle_eval(context));\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn ul4.Signature.create.apply(ul4.Signature, args);\n\t\t},\n\t\t_repr: function _repr(out) {\n\t\t\tout.push(\"<\");\n\t\t\tout.push(this.typename);\n\t\t\tout.push(\" params=\");\n\t\t\tthis.params._repr(out);\n\t\t\tout.push(\">\");\n\t\t}\n\t}\n);\n\nul4.TemplateClosure = ul4._inherit(\n\tul4.Proto,\n\t{\n\t\tcreate: function create(template, signature, vars) {\n\t\t\tvar closure = ul4._clone(this);\n\t\t\tclosure.template = template;\n\t\t\tclosure.signature = signature;\n\t\t\tclosure.vars = vars;\n\t\t\tclosure._ul4_callsignature = signature;\n\t\t\tclosure._ul4_rendersignature = signature;\n\t\t\t// Copy over the required attribute from the template\n\t\t\tclosure.name = template.name;\n\t\t\tclosure.tag = template.tag;\n\t\t\tclosure.endtag = template.endtag;\n\t\t\tclosure.source = template.source;\n\t\t\tclosure.startdelim = template.startdelim;\n\t\t\tclosure.enddelim = template.enddelim;\n\t\t\tclosure.docpos = template.docpos;\n\t\t\tclosure.content = template.content;\n\t\t\treturn closure;\n\t\t},\n\t\t_ul4_callneedsobject: true,\n\t\t_ul4_callneedscontext: true,\n\t\t_ul4_renderneedsobject: true,\n\t\t_ul4_renderneedscontext: true,\n\t\t__render__: function __render__(context, vars) {\n\t\t\tthis.template._renderbound(context, ul4._simpleinherit(this.vars, vars));\n\t\t},\n\t\trender: function render(context, vars) {\n\t\t\tthis.template._renderbound(context, ul4._simpleinherit(this.vars, vars));\n\t\t},\n\t\t__call__: function __call__(context, vars) {\n\t\t\treturn this.template._callbound(context, ul4._simpleinherit(this.vars, vars));\n\t\t},\n\t\t_renderbound: function _renderbound(context, vars) {\n\t\t\tthis.template._renderbound(context, ul4._simpleinherit(this.vars, vars));\n\t\t},\n\t\t_rendersbound: function _rendersbound(context, vars) {\n\t\t\treturn this.template._rendersbound(context, ul4._simpleinherit(this.vars, vars));\n\t\t},\n\t\t__getattr__: function __getattr__(attrname) {\n\t\t\tvar self = this;\n\t\t\tswitch (attrname) {\n\t\t\t\tcase \"render\":\n\t\t\t\t\treturn ul4.expose(this.signature, { needscontext: true, needsobject: true }, function render(context, vars) { self._renderbound(context, vars); });\n\t\t\t\tcase \"renders\":\n\t\t\t\t\treturn ul4.expose(this.signature, { needscontext: true, needsobject: true }, function renders(context, vars) { return self._rendersbound(context, vars); });\n\t\t\t\tcase \"signature\":\n\t\t\t\t\treturn this.signature;\n\t\t\t\tdefault:\n\t\t\t\t\treturn this.template.__getattr__(attrname);\n\t\t\t}\n\t\t},\n\t\t__type__: \"ul4.TemplateClosure\" // used by ``istemplate()``\n\t}\n);\n\n// Create a color object from the red, green, blue and alpha values ``r``, ``g``, ``b`` and ``b``\nul4._rgb = function _rgb(r, g, b, a) {\n\treturn this.Color.create(255 * r, 255 * g, 255 * b, 255 * a);\n};\n\n// Convert ``obj`` to a string and escape the characters ``&``, ``<``, ``>``, ``'`` and ``\"`` with their XML character/entity reference\nul4._xmlescape = function _xmlescape(obj) {\n\tobj = ul4._str(obj);\n\tobj = obj.replace(/&/g, \"&amp;\");\n\tobj = obj.replace(/</g, \"&lt;\");\n\tobj = obj.replace(/>/g, \"&gt;\");\n\tobj = obj.replace(/'/g, \"&#39;\");\n\tobj = obj.replace(/\"/g, \"&quot;\");\n\treturn obj;\n};\n\n// Convert ``obj`` to a string suitable for output into a CSV file\nul4._csv = function _csv(obj) {\n\tif (obj === null)\n\t\treturn \"\";\n\telse if (typeof (obj) !== \"string\")\n\t\tobj = ul4._repr(obj);\n\tif (obj.indexOf(\",\") !== -1 || obj.indexOf('\"') !== -1 || obj.indexOf(\"\\n\") !== -1)\n\t\tobj = '\"' + obj.replace(/\"/g, '\"\"') + '\"';\n\treturn obj;\n};\n\n// Return a string containing one character with the codepoint ``i``\nul4._chr = function _chr(i) {\n\tif (typeof (i) != \"number\")\n\t\tthrow ul4.TypeError.create(\"chr()\", \"chr() requires an int\");\n\treturn String.fromCharCode(i);\n};\n\n// Return the codepoint for the one and only character in the string ``c``\nul4._ord = function _ord(c) {\n\tif (typeof (c) != \"string\" || c.length != 1)\n\t\tthrow ul4.TypeError.create(\"ord()\", \"ord() requires a string of length 1\");\n\treturn c.charCodeAt(0);\n};\n\n// Convert an integer to a hexadecimal string\nul4._hex = function _hex(number) {\n\tif (typeof (number) != \"number\")\n\t\tthrow ul4.TypeError.create(\"hex()\", \"hex() requires an int\");\n\tif (number < 0)\n\t\treturn \"-0x\" + number.toString(16).substr(1);\n\telse\n\t\treturn \"0x\" + number.toString(16);\n};\n\n// Convert an integer to a octal string\nul4._oct = function _oct(number) {\n\tif (typeof (number) != \"number\")\n\t\tthrow ul4.TypeError.create(\"oct()\", \"oct() requires an int\");\n\tif (number < 0)\n\t\treturn \"-0o\" + number.toString(8).substr(1);\n\telse\n\t\treturn \"0o\" + number.toString(8);\n};\n\n// Convert an integer to a binary string\nul4._bin = function _bin(number) {\n\tif (typeof (number) != \"number\")\n\t\tthrow ul4.TypeError.create(\"bin()\", \"bin() requires an int\");\n\tif (number < 0)\n\t\treturn \"-0b\" + number.toString(2).substr(1);\n\telse\n\t\treturn \"0b\" + number.toString(2);\n};\n\n// Return the minimum value\nul4._min = function _min(obj) {\n\tif (obj.length == 0)\n\t\tthrow ul4.ArgumentError.create(\"min() requires at least 1 argument, 0 given\");\n\telse if (obj.length == 1)\n\t\tobj = obj[0];\n\tvar iter = ul4._iter(obj);\n\tvar result;\n\tvar first = true;\n\twhile (true) {\n\t\tvar item = iter.next();\n\t\tif (item.done) {\n\t\t\tif (first)\n\t\t\t\tthrow ul4.ValueError.create(\"min() argument is an empty sequence!\");\n\t\t\treturn result;\n\t\t}\n\t\tif (first || (item.value < result))\n\t\t\tresult = item.value;\n\t\tfirst = false;\n\t}\n};\n\n// Return the maximum value\nul4._max = function _max(obj) {\n\tif (obj.length == 0)\n\t\tthrow ul4.ArgumentError.create(\"max() requires at least 1 argument, 0 given\");\n\telse if (obj.length == 1)\n\t\tobj = obj[0];\n\tvar iter = ul4._iter(obj);\n\tvar result;\n\tvar first = true;\n\twhile (true) {\n\t\tvar item = iter.next();\n\t\tif (item.done) {\n\t\t\tif (first)\n\t\t\t\tthrow ul4.ValueError.create(\"max() argument is an empty sequence!\");\n\t\t\treturn result;\n\t\t}\n\t\tif (first || (item.value > result))\n\t\t\tresult = item.value;\n\t\tfirst = false;\n\t}\n};\n\n// Return the of the values from the iterable starting with ``start`` (default ``0``)\nul4._sum = function _sum(iterable, start) {\n\tif (typeof (start) === \"undefined\")\n\t\tstart = 0;\n\n\tfor (var iter = ul4._iter(iterable); ;) {\n\t\tvar item = iter.next();\n\t\tif (item.done)\n\t\t\tbreak;\n\t\tstart += item.value;\n\t}\n\treturn start;\n};\n\n// Return the first value produced by iterating through ``iterable`` (defaulting to ``defaultValue`` if the iterator is empty)\nul4._first = function _first(iterable, defaultValue) {\n\tif (typeof (defaultValue) === \"undefined\")\n\t\tdefaultValue = null;\n\n\tvar item = ul4._iter(iterable).next();\n\treturn item.done ? defaultValue : item.value;\n};\n\n// Return the last value produced by iterating through ``iterable`` (defaulting to ``defaultValue`` if the iterator is empty)\nul4._last = function _last(iterable, defaultValue) {\n\tif (typeof (defaultValue) === \"undefined\")\n\t\tdefaultValue = null;\n\n\tvar value = defaultValue;\n\n\tfor (var iter = ul4._iter(iterable); ;) {\n\t\tvar item = iter.next();\n\t\tif (item.done)\n\t\t\tbreak;\n\t\tvalue = item.value;\n\t}\n\treturn value;\n};\n\n// Return a sorted version of ``iterable``\nul4._sorted = function _sorted(context, iterable, key, reverse) {\n\tvar cmp;\n\tif (key === null) {\n\t\t// FIXME: stability\n\t\tif (reverse) {\n\t\t\tcmp = function cmp(a, b) {\n\t\t\t\treturn -ul4._cmp(\"<=>\", a, b);\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tcmp = function cmp(a, b) {\n\t\t\t\treturn ul4._cmp(\"<=>\", a, b);\n\t\t\t}\n\t\t}\n\t\tvar result = ul4._list(iterable);\n\t\tresult.sort(cmp);\n\t\treturn result;\n\t}\n\telse {\n\t\tvar sort = [];\n\n\t\tfor (var i = 0, iter = ul4._iter(iterable); ; ++i) {\n\t\t\tvar item = iter.next();\n\t\t\tif (item.done)\n\t\t\t\tbreak;\n\t\t\tvar keyvalue = ul4._call(context, key, [item.value], {});\n\t\t\tsort.push([keyvalue, i, item.value]);\n\t\t}\n\t\tcmp = function cmp(s1, s2) {\n\t\t\tvar res = ul4._cmp(\"<=>\", s1[0], s2[0]);\n\t\t\tif (res)\n\t\t\t\treturn reverse ? -res : res;\n\t\t\tres = ul4._cmp(s1[1], s2[1]);\n\t\t\treturn reverse ? -res : res;\n\t\t}\n\n\t\tsort.sort(cmp);\n\n\t\tvar result = [];\n\t\tfor (var i = 0; i < sort.length; ++i) {\n\t\t\tresult.push(sort[i][2]);\n\t\t}\n\t\treturn result;\n\t}\n};\n\n// Return a iterable object iterating from ``start`` upto (but not including) ``stop`` with a step size of ``step``\nul4._range = function _range(args) {\n\tvar start, stop, step;\n\tif (args.length < 1)\n\t\tthrow ul4.ArgumentError.create(\"required range() argument missing\");\n\telse if (args.length > 3)\n\t\tthrow ul4.ArgumentError.create(\"range() expects at most 3 positional arguments, \" + args.length + \" given\");\n\telse if (args.length == 1) {\n\t\tstart = 0;\n\t\tstop = args[0];\n\t\tstep = 1;\n\t}\n\telse if (args.length == 2) {\n\t\tstart = args[0];\n\t\tstop = args[1];\n\t\tstep = 1;\n\t}\n\telse if (args.length == 3) {\n\t\tstart = args[0];\n\t\tstop = args[1];\n\t\tstep = args[2];\n\t}\n\tvar lower, higher;\n\tif (step === 0)\n\t\tthrow ul4.ValueError.create(\"range() requires a step argument != 0\");\n\telse if (step > 0) {\n\t\tlower = start;\n\t\theigher = stop;\n\t}\n\telse {\n\t\tlower = stop;\n\t\theigher = start;\n\t}\n\tvar length = (lower < heigher) ? Math.floor((heigher - lower - 1) / Math.abs(step)) + 1 : 0;\n\n\treturn {\n\t\tindex: 0,\n\t\tnext: function () {\n\t\t\tif (this.index >= length)\n\t\t\t\treturn { done: true };\n\t\t\treturn { value: start + (this.index++) * step, done: false };\n\t\t}\n\t};\n};\n\n// Return a iterable object returning a slice from the argument\nul4._slice = function _slice(args) {\n\tvar iterable, start, stop, step;\n\tif (args.length < 2)\n\t\tthrow ul4.ArgumentError.create(\"required slice() argument missing\");\n\telse if (args.length > 4)\n\t\tthrow ul4.ArgumentError.create(\"slice() expects at most 4 positional arguments, \" + args.length + \" given\");\n\telse if (args.length == 2) {\n\t\titerable = args[0];\n\t\tstart = 0;\n\t\tstop = args[1];\n\t\tstep = 1;\n\t}\n\telse if (args.length == 3) {\n\t\titerable = args[0];\n\t\tstart = args[1] !== null ? args[1] : 0;\n\t\tstop = args[2];\n\t\tstep = 1;\n\t}\n\telse if (args.length == 4) {\n\t\titerable = args[0];\n\t\tstart = args[1] !== null ? args[1] : 0;\n\t\tstop = args[2];\n\t\tstep = args[3] !== null ? args[3] : 1;\n\t}\n\tif (start < 0)\n\t\tthrow ul4.ValueError.create(\"slice() requires a start argument >= 0\");\n\tif (stop < 0)\n\t\tthrow ul4.ValueError.create(\"slice() requires a stop argument >= 0\");\n\tif (step <= 0)\n\t\tthrow ul4.ValueError.create(\"slice() requires a step argument > 0\");\n\n\tvar next = start, count = 0;\n\tvar iter = ul4._iter(iterable);\n\treturn {\n\t\tnext: function () {\n\t\t\tvar result;\n\t\t\twhile (count < next) {\n\t\t\t\tresult = iter.next();\n\t\t\t\tif (result.done)\n\t\t\t\t\treturn result;\n\t\t\t\t++count;\n\t\t\t}\n\t\t\tif (stop !== null && count >= stop)\n\t\t\t\treturn { done: true };\n\t\t\tresult = iter.next();\n\t\t\tif (result.done)\n\t\t\t\treturn result;\n\t\t\t++count;\n\t\t\tnext += step;\n\t\t\tif (stop !== null && next > stop)\n\t\t\t\tnext = stop;\n\t\t\treturn result;\n\t\t}\n\t};\n};\n\n// ``%`` escape unsafe characters in the string ``string``\nul4._urlquote = function _urlquote(string) {\n\treturn encodeURIComponent(string);\n};\n\n// The inverse function of ``urlquote``\nul4._urlunquote = function _urlunquote(string) {\n\treturn decodeURIComponent(string);\n};\n\n// Return a reverse iterator over ``sequence``\nul4._reversed = function _reversed(sequence) {\n\tif (typeof (sequence) != \"string\" && !ul4._islist(sequence)) // We don't have to materialize strings or lists\n\t\tsequence = ul4._list(sequence);\n\treturn {\n\t\tindex: sequence.length - 1,\n\t\tnext: function () {\n\t\t\treturn this.index >= 0 ? { value: sequence[this.index--], done: false } : { done: true };\n\t\t}\n\t};\n};\n\n// Returns a random number in the interval ``[0;1[``\nul4._random = function _random() {\n\treturn Math.random();\n};\n\n// Return a randomly select item from ``range(start, stop, step)``\nul4._randrange = function _randrange(args) {\n\tvar start, stop, step;\n\tif (args.length < 1)\n\t\tthrow ul4.ArgumentError.create(\"required randrange() argument missing\");\n\telse if (args.length > 3)\n\t\tthrow ul4.ArgumentError.create(\"randrange() expects at most 3 positional arguments, \" + args.length + \" given\");\n\telse if (args.length == 1) {\n\t\tstart = 0;\n\t\tstop = args[0];\n\t\tstep = 1;\n\t}\n\telse if (args.length == 2) {\n\t\tstart = args[0];\n\t\tstop = args[1];\n\t\tstep = 1;\n\t}\n\telse if (args.length == 3) {\n\t\tstart = args[0];\n\t\tstop = args[1];\n\t\tstep = args[2];\n\t}\n\tvar width = stop - start;\n\n\tvar value = Math.random();\n\n\tvar n;\n\tif (step > 0)\n\t\tn = Math.floor((width + step - 1) / step);\n\telse if (step < 0)\n\t\tn = Math.floor((width + step + 1) / step);\n\telse\n\t\tthrow ul4.ValueError.create(\"randrange() requires a step argument != 0\");\n\treturn start + step * Math.floor(value * n);\n};\n\n// Return a random item/char from the list/string ``sequence``\nul4._randchoice = function _randchoice(sequence) {\n\tvar iscolor = ul4._iscolor(sequence);\n\tif (typeof (sequence) !== \"string\" && !ul4._islist(sequence) && !iscolor)\n\t\tthrow ul4.TypeError.create(\"randchoice() requires a string or list\");\n\tif (iscolor)\n\t\tsequence = ul4._list(sequence);\n\treturn sequence[Math.floor(Math.random() * sequence.length)];\n};\n\n// Round a number ``x`` to ``digits`` decimal places (may be negative)\nul4._round = function _round(x, digits) {\n\tif (typeof (digits) === \"undefined\")\n\t\tdigits = 0;\n\tif (digits) {\n\t\tvar threshhold = Math.pow(10, digits);\n\t\treturn Math.round(x * threshhold) / threshhold;\n\t}\n\telse\n\t\treturn Math.round(x);\n};\n\n// Return a hex-encode MD5 hash of the argument\n// This uses the m55 function from https://github.com/blueimp/JavaScript-MD5\nul4._md5 = function _md5(string) {\n\treturn md5(string);\n};\n\n// Return an iterator over ``[index, item]`` lists from the iterable object ``iterable``. ``index`` starts at ``start`` (defaulting to 0)\nul4._enumerate = function _enumerate(iterable, start) {\n\tif (typeof (start) === \"undefined\")\n\t\tstart = 0;\n\n\treturn {\n\t\titer: ul4._iter(iterable),\n\t\tindex: start,\n\t\tnext: function () {\n\t\t\tvar item = this.iter.next();\n\t\t\treturn item.done ? item : { value: [this.index++, item.value], done: false };\n\t\t}\n\t};\n};\n\n// Return an iterator over ``[isfirst, item]`` lists from the iterable object ``iterable`` (``isfirst`` is true for the first item, false otherwise)\nul4._isfirst = function _isfirst(iterable) {\n\tvar iter = ul4._iter(iterable);\n\tvar isfirst = true;\n\treturn {\n\t\tnext: function () {\n\t\t\tvar item = iter.next();\n\t\t\tvar result = item.done ? item : { value: [isfirst, item.value], done: false };\n\t\t\tisfirst = false;\n\t\t\treturn result;\n\t\t}\n\t};\n};\n\n// Return an iterator over ``[islast, item]`` lists from the iterable object ``iterable`` (``islast`` is true for the last item, false otherwise)\nul4._islast = function _islast(iterable) {\n\tvar iter = ul4._iter(iterable);\n\tvar lastitem = iter.next();\n\treturn {\n\t\tnext: function () {\n\t\t\tif (lastitem.done)\n\t\t\t\treturn lastitem;\n\t\t\tvar item = iter.next();\n\t\t\tvar result = { value: [item.done, lastitem.value], done: false };\n\t\t\tlastitem = item;\n\t\t\treturn result;\n\t\t}\n\t};\n};\n\n// Return an iterator over ``[isfirst, islast, item]`` lists from the iterable object ``iterable`` (``isfirst`` is true for the first item, ``islast`` is true for the last item. Both are false otherwise)\nul4._isfirstlast = function _isfirstlast(iterable) {\n\tvar iter = ul4._iter(iterable);\n\tvar isfirst = true;\n\tvar lastitem = iter.next();\n\treturn {\n\t\tnext: function () {\n\t\t\tif (lastitem.done)\n\t\t\t\treturn lastitem;\n\t\t\tvar item = iter.next();\n\t\t\tvar result = { value: [isfirst, item.done, lastitem.value], done: false };\n\t\t\tlastitem = item;\n\t\t\tisfirst = false;\n\t\t\treturn result;\n\t\t}\n\t};\n};\n\n// Return an iterator over ``[index, isfirst, islast, item]`` lists from the iterable object ``iterable`` (``isfirst`` is true for the first item, ``islast`` is true for the last item. Both are false otherwise)\nul4._enumfl = function _enumfl(iterable, start) {\n\tvar iter = ul4._iter(iterable);\n\tvar i = start;\n\tvar isfirst = true;\n\tvar lastitem = iter.next();\n\treturn {\n\t\tnext: function () {\n\t\t\tif (lastitem.done)\n\t\t\t\treturn lastitem;\n\t\t\tvar item = iter.next();\n\t\t\tvar result = { value: [i++, isfirst, item.done, lastitem.value], done: false };\n\t\t\tlastitem = item;\n\t\t\tisfirst = false;\n\t\t\treturn result;\n\t\t}\n\t};\n};\n\n// Return an iterator over lists, where the i'th list consists of all i'th items from the arguments (terminating when the shortest argument ends)\nul4._zip = function _zip(iterables) {\n\tvar result;\n\tif (iterables.length) {\n\t\tvar iters = [];\n\t\tfor (var i = 0; i < iterables.length; ++i)\n\t\t\titers.push(ul4._iter(iterables[i]));\n\n\t\treturn {\n\t\t\tnext: function () {\n\t\t\t\tvar items = [];\n\t\t\t\tfor (var i = 0; i < iters.length; ++i) {\n\t\t\t\t\tvar item = iters[i].next();\n\t\t\t\t\tif (item.done)\n\t\t\t\t\t\treturn item;\n\t\t\t\t\titems.push(item.value);\n\t\t\t\t}\n\t\t\t\treturn { value: items, done: false };\n\t\t\t}\n\t\t};\n\t}\n\telse {\n\t\treturn {\n\t\t\tnext: function () {\n\t\t\t\treturn { done: true };\n\t\t\t}\n\t\t};\n\t}\n};\n\n// Return the absolute value for the number ``number``\nul4._abs = function _abs(number) {\n\tif (number !== null && typeof (number.__abs__) === \"function\")\n\t\treturn number.__abs__();\n\treturn Math.abs(number);\n};\n\n// Return a ``Date`` object from the arguments passed in\nul4._date = function _date(year, month, day, hour, minute, second, microsecond) {\n\tif (typeof (hour) === \"undefined\")\n\t\thour = 0;\n\n\tif (typeof (minute) === \"undefined\")\n\t\tminute = 0;\n\n\tif (typeof (second) === \"undefined\")\n\t\tsecond = 0;\n\n\tif (typeof (microsecond) === \"undefined\")\n\t\tmicrosecond = 0;\n\n\treturn new Date(year, month - 1, day, hour, minute, second, microsecond / 1000);\n};\n\n// Return a ``TimeDelta`` object from the arguments passed in\nul4._timedelta = function _timedelta(days, seconds, microseconds) {\n\treturn this.TimeDelta.create(days, seconds, microseconds);\n};\n\n// Return a ``MonthDelta`` object from the arguments passed in\nul4._monthdelta = function _monthdelta(months) {\n\treturn this.MonthDelta.create(months);\n};\n\n// Return a ``Color`` object from the hue, luminescence, saturation and alpha values ``h``, ``l``, ``s`` and ``a`` (i.e. using the HLS color model)\nul4._hls = function _hls(h, l, s, a) {\n\tvar _v = function (m1, m2, hue) {\n\t\thue = hue % 1.0;\n\t\tif (hue < 1 / 6)\n\t\t\treturn m1 + (m2 - m1) * hue * 6.0;\n\t\telse if (hue < 0.5)\n\t\t\treturn m2;\n\t\telse if (hue < 2 / 3)\n\t\t\treturn m1 + (m2 - m1) * (2 / 3 - hue) * 6.0;\n\t\treturn m1;\n\t};\n\n\tvar m1, m2;\n\tif (typeof (a) === \"undefined\")\n\t\ta = 1;\n\tif (s === 0.0)\n\t\treturn ul4._rgb(l, l, l, a);\n\tif (l <= 0.5)\n\t\tm2 = l * (1.0 + s);\n\telse\n\t\tm2 = l + s - (l * s);\n\tm1 = 2.0 * l - m2;\n\treturn ul4._rgb(_v(m1, m2, h + 1 / 3), _v(m1, m2, h), _v(m1, m2, h - 1 / 3), a);\n};\n\n// Return a ``Color`` object from the hue, saturation, value and alpha values ``h``, ``s``, ``v`` and ``a`` (i.e. using the HSV color model)\nul4._hsv = function _hsv(h, s, v, a) {\n\tif (s === 0.0)\n\t\treturn ul4._rgb(v, v, v, a);\n\tvar i = Math.floor(h * 6.0);\n\tvar f = (h * 6.0) - i;\n\tvar p = v * (1.0 - s);\n\tvar q = v * (1.0 - s * f);\n\tvar t = v * (1.0 - s * (1.0 - f));\n\tswitch (i % 6) {\n\t\tcase 0:\n\t\t\treturn ul4._rgb(v, t, p, a);\n\t\tcase 1:\n\t\t\treturn ul4._rgb(q, v, p, a);\n\t\tcase 2:\n\t\t\treturn ul4._rgb(p, v, t, a);\n\t\tcase 3:\n\t\t\treturn ul4._rgb(p, q, v, a);\n\t\tcase 4:\n\t\t\treturn ul4._rgb(t, p, v, a);\n\t\tcase 5:\n\t\t\treturn ul4._rgb(v, p, q, a);\n\t}\n};\n\n// Return the item with the key ``key`` from the dict ``container``. If ``container`` doesn't have this key, return ``defaultvalue``\nul4._get = function _get(container, key, defaultvalue) {\n\tif (ul4._ismap(container)) {\n\t\tif (container.has(key))\n\t\t\treturn container.get(key);\n\t\treturn defaultvalue;\n\t}\n\telse if (ul4._isobject(container)) {\n\t\tvar result = container[key];\n\t\tif (typeof (result) === \"undefined\")\n\t\t\treturn defaultvalue;\n\t\treturn result;\n\t}\n\tthrow ul4.TypeError.create(\"get()\", \"get() requires a dict\");\n};\n\n// Return a ``Date`` object for the current time\nul4.now = function now() {\n\treturn new Date();\n};\n\n// Return a ``Date`` object for the current time in UTC\nul4.utcnow = function utcnow() {\n\tvar now = new Date();\n\t// FIXME: The timezone is wrong for the new ``Date`` object.\n\treturn new Date(now.getUTCFullYear(), now.getUTCMonth(), now.getUTCDate(), now.getUTCHours(), now.getUTCMinutes(), now.getUTCSeconds(), now.getUTCMilliseconds());\n};\n\nul4.functions = {\n\trepr: ul4.expose([\"obj\"], { name: \"repr\" }, ul4._repr),\n\tascii: ul4.expose([\"obj\"], { name: \"ascii\" }, ul4._ascii),\n\tstr: ul4.expose([\"obj=\", \"\"], { name: \"str\" }, ul4._str),\n\tint: ul4.expose([\"obj=\", 0, \"base=\", null], { name: \"int\" }, ul4._int),\n\tfloat: ul4.expose([\"obj=\", 0.0], { name: \"float\" }, ul4._float),\n\tlist: ul4.expose([\"iterable=\", []], { name: \"list\" }, ul4._list),\n\tset: ul4.expose([\"iterable=\", []], { name: \"set\" }, ul4._set),\n\tbool: ul4.expose([\"obj=\", false], { name: \"bool\" }, ul4._bool),\n\tlen: ul4.expose([\"sequence\"], { name: \"len\" }, ul4._len),\n\ttype: ul4.expose([\"obj\"], { name: \"type\" }, ul4._type),\n\tformat: ul4.expose([\"obj\", \"fmt\", \"lang=\", null], { name: \"format\" }, ul4._format),\n\tany: ul4.expose([\"iterable\"], { name: \"any\" }, ul4._any),\n\tall: ul4.expose([\"iterable\"], { name: \"all\" }, ul4._all),\n\tzip: ul4.expose([\"*iterables\"], { name: \"zip\" }, ul4._zip),\n\tisundefined: ul4.expose([\"obj\"], { name: \"isundefined\" }, ul4._isundefined),\n\tisdefined: ul4.expose([\"obj\"], { name: \"isdefined\" }, ul4._isdefined),\n\tisnone: ul4.expose([\"obj\"], { name: \"isnone\" }, ul4._isnone),\n\tisbool: ul4.expose([\"obj\"], { name: \"isbool\" }, ul4._isbool),\n\tisint: ul4.expose([\"obj\"], { name: \"isint\" }, ul4._isint),\n\tisfloat: ul4.expose([\"obj\"], { name: \"isfloat\" }, ul4._isfloat),\n\tisstr: ul4.expose([\"obj\"], { name: \"isstr\" }, ul4._isstr),\n\tisdate: ul4.expose([\"obj\"], { name: \"isdate\" }, ul4._isdate),\n\tiscolor: ul4.expose([\"obj\"], { name: \"iscolor\" }, ul4._iscolor),\n\tistimedelta: ul4.expose([\"obj\"], { name: \"istimedelta\" }, ul4._istimedelta),\n\tismonthdelta: ul4.expose([\"obj\"], { name: \"ismonthdelta\" }, ul4._ismonthdelta),\n\tistemplate: ul4.expose([\"obj\"], { name: \"istemplate\" }, ul4._istemplate),\n\tisfunction: ul4.expose([\"obj\"], { name: \"isfunction\" }, ul4._isfunction),\n\tislist: ul4.expose([\"obj\"], { name: \"islist\" }, ul4._islist),\n\tisset: ul4.expose([\"obj\"], { name: \"isset\" }, ul4on._haveset ? ul4._isset : ul4._isul4set),\n\tisdict: ul4.expose([\"obj\"], { name: \"isdict\" }, ul4._isdict),\n\tisexception: ul4.expose([\"obj\"], { name: \"isexception\" }, ul4._isexception),\n\tasjson: ul4.expose([\"obj\"], { name: \"asjson\" }, ul4._asjson),\n\tfromjson: ul4.expose([\"string\"], { name: \"fromjson\" }, ul4._fromjson),\n\tasul4on: ul4.expose([\"obj\"], { name: \"asul4on\" }, ul4._asul4on),\n\tfromul4on: ul4.expose([\"string\"], { name: \"fromul4on\" }, ul4._fromul4on),\n\tnow: ul4.expose([], ul4.now),\n\tutcnow: ul4.expose([], ul4.utcnow),\n\tenumerate: ul4.expose([\"iterable\", \"start=\", 0], { name: \"enumerate\" }, ul4._enumerate),\n\tisfirst: ul4.expose([\"iterable\"], { name: \"isfirst\" }, ul4._isfirst),\n\tislast: ul4.expose([\"iterable\"], { name: \"islast\" }, ul4._islast),\n\tisfirstlast: ul4.expose([\"iterable\"], { name: \"isfirstlast\" }, ul4._isfirstlast),\n\tenumfl: ul4.expose([\"iterable\", \"start=\", 0], { name: \"enumfl\" }, ul4._enumfl),\n\tabs: ul4.expose([\"number\"], { name: \"abs\" }, ul4._abs),\n\tdate: ul4.expose([\"year\", \"month\", \"day\", \"hour=\", 0, \"minute=\", 0, \"second=\", 0, \"microsecond=\", 0], { name: \"date\" }, ul4._date),\n\ttimedelta: ul4.expose([\"days=\", 0, \"seconds=\", 0, \"microseconds=\", 0], { name: \"timedelta\" }, ul4._timedelta),\n\tmonthdelta: ul4.expose([\"months=\", 0], { name: \"monthdelta\" }, ul4._monthdelta),\n\trgb: ul4.expose([\"r\", \"g\", \"b\", \"a=\", 1.0], { name: \"rgb\" }, ul4._rgb),\n\thls: ul4.expose([\"h\", \"l\", \"s\", \"a=\", 1.0], { name: \"hls\" }, ul4._hls),\n\thsv: ul4.expose([\"h\", \"s\", \"v\", \"a=\", 1.0], { name: \"hsv\" }, ul4._hsv),\n\txmlescape: ul4.expose([\"obj\"], { name: \"xmlescape\" }, ul4._xmlescape),\n\tcsv: ul4.expose([\"obj\"], { name: \"csv\" }, ul4._csv),\n\tchr: ul4.expose([\"i\"], { name: \"chr\" }, ul4._chr),\n\tord: ul4.expose([\"c\"], { name: \"ord\" }, ul4._ord),\n\thex: ul4.expose([\"number\"], { name: \"hex\" }, ul4._hex),\n\toct: ul4.expose([\"number\"], { name: \"oct\" }, ul4._oct),\n\tbin: ul4.expose([\"number\"], { name: \"bin\" }, ul4._bin),\n\tmin: ul4.expose([\"*obj\"], { name: \"min\" }, ul4._min),\n\tmax: ul4.expose([\"*obj\"], { name: \"max\" }, ul4._max),\n\tsum: ul4.expose([\"iterable\", \"start=\", 0], { name: \"sum\" }, ul4._sum),\n\tfirst: ul4.expose([\"iterable\", \"default=\", null], { name: \"first\" }, ul4._first),\n\tlast: ul4.expose([\"iterable\", \"default=\", null], { name: \"last\" }, ul4._last),\n\tsorted: ul4.expose([\"iterable\", \"key=\", null, \"reverse=\", false], { name: \"sorted\", needscontext: true }, ul4._sorted),\n\trange: ul4.expose([\"*args\"], { name: \"range\" }, ul4._range),\n\tslice: ul4.expose([\"*args\"], { name: \"slice\" }, ul4._slice),\n\turlquote: ul4.expose([\"string\"], { name: \"urlquote\" }, ul4._urlquote),\n\turlunquote: ul4.expose([\"string\"], { name: \"urlunquote\" }, ul4._urlunquote),\n\treversed: ul4.expose([\"sequence\"], { name: \"reversed\" }, ul4._reversed),\n\trandom: ul4.expose([], { name: \"random\" }, ul4._random),\n\trandrange: ul4.expose([\"*args\"], { name: \"randrange\" }, ul4._randrange),\n\trandchoice: ul4.expose([\"sequence\"], { name: \"randchoice\" }, ul4._randchoice),\n\tround: ul4.expose([\"x\", \"digit=\", 0], { name: \"round\" }, ul4._round),\n\tmd5: ul4.expose([\"string\"], { name: \"md5\" }, ul4._md5)\n};\n\n// Functions implementing UL4 methods\nul4._replace = function _replace(string, old, new_, count) {\n\tif (count === null)\n\t\tcount = string.length;\n\n\tvar result = [];\n\twhile (string.length) {\n\t\tvar pos = string.indexOf(old);\n\t\tif (pos === -1 || !count--) {\n\t\t\tresult.push(string);\n\t\t\tbreak;\n\t\t}\n\t\tresult.push(string.substr(0, pos));\n\t\tresult.push(new_);\n\t\tstring = string.substr(pos + old.length);\n\t}\n\treturn result.join(\"\");\n};\n\nul4._strip = function _strip(string, chars) {\n\tif (chars === null)\n\t\tchars = \" \\r\\n\\t\";\n\telse if (typeof (chars) !== \"string\")\n\t\tthrow ul4.TypeError.create(\"strip()\", \"strip() requires two strings\");\n\n\twhile (string && chars.indexOf(string[0]) >= 0)\n\t\tstring = string.substr(1);\n\twhile (string && chars.indexOf(string[string.length - 1]) >= 0)\n\t\tstring = string.substr(0, string.length - 1);\n\treturn string;\n};\n\nul4._lstrip = function _lstrip(string, chars) {\n\tif (chars === null)\n\t\tchars = \" \\r\\n\\t\";\n\telse if (typeof (chars) !== \"string\")\n\t\tthrow ul4.TypeError.create(\"lstrip()\", \"lstrip() requires two strings\");\n\n\twhile (string && chars.indexOf(string[0]) >= 0)\n\t\tstring = string.substr(1);\n\treturn string;\n};\n\nul4._rstrip = function _rstrip(string, chars) {\n\tif (chars === null)\n\t\tchars = \" \\r\\n\\t\";\n\telse if (typeof (chars) !== \"string\")\n\t\tthrow ul4.TypeError.create(\"rstrip()\", \"rstrip() requires two strings\");\n\n\twhile (string && chars.indexOf(string[string.length - 1]) >= 0)\n\t\tstring = string.substr(0, string.length - 1);\n\treturn string;\n};\n\nul4._split = function _split(string, sep, count) {\n\tif (sep !== null && typeof (sep) !== \"string\")\n\t\tthrow ul4.TypeError.create(\"split()\", \"split() requires a string\");\n\n\tif (count === null) {\n\t\tvar result = string.split(sep !== null ? sep : /[ \\n\\r\\t]+/);\n\t\tif (sep === null) {\n\t\t\tif (result.length && !result[0].length)\n\t\t\t\tresult.splice(0, 1);\n\t\t\tif (result.length && !result[result.length - 1].length)\n\t\t\t\tresult.splice(-1);\n\t\t}\n\t\treturn result;\n\t}\n\telse {\n\t\tif (sep !== null) {\n\t\t\tvar result = [];\n\t\t\twhile (string.length) {\n\t\t\t\tvar pos = string.indexOf(sep);\n\t\t\t\tif (pos === -1 || !count--) {\n\t\t\t\t\tresult.push(string);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tresult.push(string.substr(0, pos));\n\t\t\t\tstring = string.substr(pos + sep.length);\n\t\t\t}\n\t\t\treturn result;\n\t\t}\n\t\telse {\n\t\t\tvar result = [];\n\t\t\twhile (string.length) {\n\t\t\t\tstring = ul4._lstrip(string, null);\n\t\t\t\tvar part;\n\t\t\t\tif (!count--)\n\t\t\t\t\tpart = string; // Take the rest of the string\n\t\t\t\telse\n\t\t\t\t\tpart = string.split(/[ \\n\\r\\t]+/, 1)[0];\n\t\t\t\tif (part.length)\n\t\t\t\t\tresult.push(part);\n\t\t\t\tstring = string.substr(part.length);\n\t\t\t}\n\t\t\treturn result;\n\t\t}\n\t}\n};\n\nul4._rsplit = function _rsplit(string, sep, count) {\n\tif (sep !== null && typeof (sep) !== \"string\")\n\t\tthrow ul4.TypeError.create(\"rsplit()\", \"rsplit() requires a string as second argument\");\n\n\tif (count === null) {\n\t\tvar result = string.split(sep !== null ? sep : /[ \\n\\r\\t]+/);\n\t\tif (sep === null) {\n\t\t\tif (result.length && !result[0].length)\n\t\t\t\tresult.splice(0, 1);\n\t\t\tif (result.length && !result[result.length - 1].length)\n\t\t\t\tresult.splice(-1);\n\t\t}\n\t\treturn result;\n\t}\n\telse {\n\t\tif (sep !== null) {\n\t\t\tvar result = [];\n\t\t\twhile (string.length) {\n\t\t\t\tvar pos = string.lastIndexOf(sep);\n\t\t\t\tif (pos === -1 || !count--) {\n\t\t\t\t\tresult.unshift(string);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tresult.unshift(string.substr(pos + sep.length));\n\t\t\t\tstring = string.substr(0, pos);\n\t\t\t}\n\t\t\treturn result;\n\t\t}\n\t\telse {\n\t\t\tvar result = [];\n\t\t\twhile (string.length) {\n\t\t\t\tstring = ul4._rstrip(string, null, null);\n\t\t\t\tvar part;\n\t\t\t\tif (!count--)\n\t\t\t\t\tpart = string; // Take the rest of the string\n\t\t\t\telse {\n\t\t\t\t\tpart = string.split(/[ \\n\\r\\t]+/);\n\t\t\t\t\tpart = part[part.length - 1];\n\t\t\t\t}\n\t\t\t\tif (part.length)\n\t\t\t\t\tresult.unshift(part);\n\t\t\t\tstring = string.substr(0, string.length - part.length);\n\t\t\t}\n\t\t\treturn result;\n\t\t}\n\t}\n};\n\nul4._splitlines = function _splitlines(string, keepends) {\n\tvar lookingAtLineEnd = function lookingAtLineEnd() {\n\t\tvar c = string[pos];\n\t\tif (c === '\\n' || c == '\\u000B' || c == '\\u000C' || c == '\\u001C' || c == '\\u001D' || c == '\\u001E' || c == '\\u0085' || c == '\\u2028' || c == '\\u2029')\n\t\t\treturn 1;\n\t\tif (c === '\\r') {\n\t\t\tif (pos == length - 1)\n\t\t\t\treturn 1;\n\t\t\tif (string[pos + 1] === '\\n')\n\t\t\t\treturn 2;\n\t\t\treturn 1;\n\t\t}\n\t\treturn 0;\n\t};\n\n\tvar result = [], length = string.length;\n\n\tfor (var pos = 0, startpos = 0; ;) {\n\t\tif (pos >= length) {\n\t\t\tif (startpos != pos)\n\t\t\t\tresult.push(string.substring(startpos));\n\t\t\treturn result;\n\t\t}\n\t\tvar lineendlen = lookingAtLineEnd();\n\t\tif (!lineendlen)\n\t\t\t++pos;\n\t\telse {\n\t\t\tvar endpos = pos + (keepends ? lineendlen : 0);\n\t\t\tresult.push(string.substring(startpos, endpos));\n\t\t\tpos += lineendlen;\n\t\t\tstartpos = pos;\n\t\t}\n\t}\n};\n\nul4._count = function _count(obj, sub, start, end) {\n\tif (start < 0)\n\t\tstart += obj.length;\n\tif (start === null)\n\t\tstart = 0;\n\n\tif (end < 0)\n\t\tend += obj.length;\n\tif (end === null)\n\t\tend = obj.length;\n\n\tvar isstr = ul4._isstr(obj);\n\n\tif (isstr && !sub.length) {\n\t\tif (end < 0 || start > obj.length || start > end)\n\t\t\treturn 0;\n\t\tvar result = end - start + 1;\n\t\tif (result > obj.length + 1)\n\t\t\tresult = obj.length + 1;\n\t\treturn result;\n\t}\n\n\tstart = ul4._bound(start, obj.length);\n\tend = ul4._bound(end, obj.length);\n\n\tvar count = 0;\n\tif (ul4._islist(obj)) {\n\t\tfor (var i = start; i < end; ++i) {\n\t\t\tif (ul4._eq(obj[i], sub))\n\t\t\t\t++count;\n\t\t}\n\t\treturn count;\n\t}\n\telse // string\n\t{\n\t\tvar lastIndex = start;\n\n\t\tfor (; ;) {\n\t\t\tlastIndex = obj.indexOf(sub, lastIndex);\n\t\t\tif (lastIndex == -1)\n\t\t\t\tbreak;\n\t\t\tif (lastIndex + sub.length > end)\n\t\t\t\tbreak;\n\t\t\t++count;\n\t\t\tlastIndex += sub.length;\n\t\t}\n\t\treturn count;\n\t}\n};\n\nul4._find = function _find(obj, sub, start, end) {\n\tif (start < 0)\n\t\tstart += obj.length;\n\tif (start === null)\n\t\tstart = 0;\n\tif (end < 0)\n\t\tend += obj.length;\n\tif (end === null)\n\t\tend = obj.length;\n\tstart = ul4._bound(start, obj.length);\n\tend = ul4._bound(end, obj.length);\n\n\tif (start !== 0 || end !== obj.length) {\n\t\tif (typeof (obj) == \"string\")\n\t\t\tobj = obj.substring(start, end);\n\t\telse\n\t\t\tobj = obj.slice(start, end);\n\t}\n\tvar result = obj.indexOf(sub);\n\tif (result !== -1)\n\t\tresult += start;\n\treturn result;\n};\n\nul4._rfind = function _rfind(obj, sub, start, end) {\n\tif (start < 0)\n\t\tstart += obj.length;\n\tif (start === null)\n\t\tstart = 0;\n\tif (end < 0)\n\t\tend += obj.length;\n\tif (end === null)\n\t\tend = obj.length;\n\tstart = ul4._bound(start, obj.length);\n\tend = ul4._bound(end, obj.length);\n\n\tif (start !== 0 || end !== obj.length) {\n\t\tif (typeof (obj) == \"string\")\n\t\t\tobj = obj.substring(start, end);\n\t\telse\n\t\t\tobj = obj.slice(start, end);\n\t}\n\tvar result = obj.lastIndexOf(sub);\n\tif (result !== -1)\n\t\tresult += start;\n\treturn result;\n};\n\nul4._capitalize = function _capitalize(obj) {\n\tif (typeof (obj) != \"string\")\n\t\tthrow ul4.TypeError.create(\"capitalize()\", \"capitalize() requires a string\");\n\n\tif (obj.length)\n\t\tobj = obj[0].toUpperCase() + obj.slice(1).toLowerCase();\n\treturn obj;\n};\n\nul4._items = function _items(obj) {\n\tif (ul4._ismap(obj)) {\n\t\tvar result = [];\n\t\tobj.forEach(function (value, key) {\n\t\t\tresult.push([key, value]);\n\t\t});\n\t\treturn result;\n\t}\n\telse if (ul4._isobject(obj)) {\n\t\tvar result = [];\n\t\tfor (var key in obj)\n\t\t\tresult.push([key, obj[key]]);\n\t\treturn result;\n\t}\n\tthrow ul4.TypeError.create(\"items()\", \"items() requires a dict\");\n};\n\nul4._values = function _values(obj) {\n\tif (ul4._ismap(obj)) {\n\t\tvar result = [];\n\t\tobj.forEach(function (value, key) {\n\t\t\tresult.push(value);\n\t\t});\n\t\treturn result;\n\t}\n\telse if (ul4._isobject(obj)) {\n\t\tvar result = [];\n\t\tfor (var key in obj)\n\t\t\tresult.push(obj[key]);\n\t\treturn result;\n\t}\n\tthrow ul4.TypeError.create(\"values()\", \"values() requires a dict\");\n};\n\nul4._join = function _join(sep, iterable) {\n\tvar resultlist = [];\n\tfor (var iter = ul4._iter(iterable); ;) {\n\t\tvar item = iter.next();\n\t\tif (item.done)\n\t\t\tbreak;\n\t\tresultlist.push(item.value);\n\t}\n\treturn resultlist.join(sep);\n};\n\nul4._startswith = function _startswith(string, prefix) {\n\tif (typeof (prefix) !== \"string\")\n\t\tthrow ul4.TypeError.create(\"startswith()\", \"startswith() argument must be string\");\n\n\treturn string.substr(0, prefix.length) === prefix;\n};\n\nul4._endswith = function _endswith(string, suffix) {\n\tif (typeof (suffix) !== \"string\")\n\t\tthrow ul4.TypeError.create(\"endswith()\", \"endswith() argument must be string\");\n\n\treturn string.substr(string.length - suffix.length) === suffix;\n};\n\nul4._isoformat = function _isoformat(obj) {\n\tif (!ul4._isdate(obj))\n\t\tthrow ul4.TypeError.create(\"isoformat()\", \"isoformat() requires a date\");\n\n\tvar result = obj.getFullYear() + \"-\" + ul4._lpad((obj.getMonth() + 1).toString(), \"0\", 2) + \"-\" + ul4._lpad(obj.getDate().toString(), \"0\", 2);\n\tvar hour = obj.getHours();\n\tvar minute = obj.getMinutes();\n\tvar second = obj.getSeconds();\n\tvar ms = obj.getMilliseconds();\n\tif (hour || minute || second || ms) {\n\t\tresult += \"T\" + ul4._lpad(hour.toString(), \"0\", 2) + \":\" + ul4._lpad(minute.toString(), \"0\", 2) + \":\" + ul4._lpad(second.toString(), \"0\", 2);\n\t\tif (ms)\n\t\t\tresult += \".\" + ul4._lpad(ms.toString(), \"0\", 3) + \"000\";\n\t}\n\treturn result;\n};\n\nul4._mimeformat = function _mimeformat(obj) {\n\tvar weekdayname = [\"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\", \"Sun\"];\n\tvar monthname = [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"];\n\n\treturn weekdayname[ul4._weekday(obj)] + \", \" + ul4._lpad(obj.getDate(), \"0\", 2) + \" \" + monthname[obj.getMonth()] + \" \" + obj.getFullYear() + \" \" + ul4._lpad(obj.getHours(), \"0\", 2) + \":\" + ul4._lpad(obj.getMinutes(), \"0\", 2) + \":\" + ul4._lpad(obj.getSeconds(), \"0\", 2) + \" GMT\";\n};\n\nul4._weekday = function _weekday(obj) {\n\tvar d = obj.getDay();\n\treturn d ? d - 1 : 6;\n};\n\nul4._week = function _week(obj, firstweekday) {\n\tif (firstweekday === null)\n\t\tfirstweekday = 0;\n\telse\n\t\tfirstweekday %= 7;\n\n\tvar yearday = ul4._yearday(obj) + 6;\n\tvar jan1 = new Date(obj.getFullYear(), 0, 1);\n\tvar jan1weekday = jan1.getDay();\n\tif (--jan1weekday < 0)\n\t\tjan1weekday = 6;\n\n\twhile (jan1weekday != firstweekday) {\n\t\t--yearday;\n\t\tif (++jan1weekday == 7)\n\t\t\tjan1weekday = 0;\n\t}\n\treturn Math.floor(yearday / 7);\n};\n\nul4._isleap = function _isleap(obj) {\n\treturn new Date(obj.getFullYear(), 1, 29).getMonth() === 1;\n};\n\nul4._yearday = function _yearday(obj) {\n\tvar leap = ul4._isleap(obj) ? 1 : 0;\n\tvar day = obj.getDate();\n\tswitch (obj.getMonth()) {\n\t\tcase 0:\n\t\t\treturn day;\n\t\tcase 1:\n\t\t\treturn 31 + day;\n\t\tcase 2:\n\t\t\treturn 31 + 28 + leap + day;\n\t\tcase 3:\n\t\t\treturn 31 + 28 + leap + 31 + day;\n\t\tcase 4:\n\t\t\treturn 31 + 28 + leap + 31 + 30 + day;\n\t\tcase 5:\n\t\t\treturn 31 + 28 + leap + 31 + 30 + 31 + day;\n\t\tcase 6:\n\t\t\treturn 31 + 28 + leap + 31 + 30 + 31 + 30 + day;\n\t\tcase 7:\n\t\t\treturn 31 + 28 + leap + 31 + 30 + 31 + 30 + 31 + day;\n\t\tcase 8:\n\t\t\treturn 31 + 28 + leap + 31 + 30 + 31 + 30 + 31 + 31 + day;\n\t\tcase 9:\n\t\t\treturn 31 + 28 + leap + 31 + 30 + 31 + 30 + 31 + 31 + 30 + day;\n\t\tcase 10:\n\t\t\treturn 31 + 28 + leap + 31 + 30 + 31 + 30 + 31 + 31 + 30 + 31 + day;\n\t\tcase 11:\n\t\t\treturn 31 + 28 + leap + 31 + 30 + 31 + 30 + 31 + 31 + 30 + 31 + 30 + day;\n\t}\n};\n\nul4._append = function _append(obj, items) {\n\tfor (var i = 0; i < items.length; ++i)\n\t\tobj.push(items[i]);\n\treturn null;\n};\n\nul4._insert = function _insert(obj, pos, items) {\n\tif (pos < 0)\n\t\tpos += obj.length;\n\n\tfor (var i = 0; i < items.length; ++i)\n\t\tobj.splice(pos++, 0, items[i]);\n\treturn null;\n};\n\nul4._pop = function _pop(obj, pos) {\n\tif (pos < 0)\n\t\tpos += obj.length;\n\n\tvar result = obj[pos];\n\tobj.splice(pos, 1);\n\treturn result;\n};\n\nul4._update = function _update(obj, others, kwargs) {\n\tif (!ul4._isdict(obj))\n\t\tthrow ul4.TypeError.create(\"update()\", \"update() requires a dict\");\n\tfor (var i = 0; i < others.length; ++i) {\n\t\tvar other = others[i];\n\t\tif (ul4._ismap(other)) {\n\t\t\tother.forEach(function (value, key) {\n\t\t\t\tul4on._setmap(obj, key, value);\n\t\t\t});\n\t\t}\n\t\telse if (ul4._isobject(other)) {\n\t\t\tfor (var key in other)\n\t\t\t\tul4on._setmap(obj, key, other[key]);\n\t\t}\n\t\telse if (ul4._islist(other)) {\n\t\t\tfor (var j = 0; j < other.length; ++j) {\n\t\t\t\tif (!ul4._islist(other[j]) || (other[j].length != 2))\n\t\t\t\t\tthrow ul4.TypeError.create(\"update()\", \"update() requires a dict or a list of (key, value) pairs\");\n\t\t\t\tul4on._setmap(obj, other[j][0], other[j][1]);\n\t\t\t}\n\t\t}\n\t\telse\n\t\t\tthrow ul4.TypeError.create(\"update()\", \"update() requires a dict or a list of (key, value) pairs\");\n\t}\n\tfor (var key in kwargs)\n\t\tul4on._setmap(obj, key, kwargs[key]);\n\treturn null;\n};\n\nul4._clear = function _clear(obj) {\n\tif (ul4._ismap(obj))\n\t\tobj.clear();\n\telse if (ul4._isset(obj))\n\t\tobj.clear();\n\telse if (ul4._isobject(obj)) {\n\t\tfor (var key in obj)\n\t\t\tdelete obj[key];\n\t}\n\telse\n\t\tthrow ul4.TypeError.create(\"clear()\", \"clear() requires a dict or set\");\n\treturn null;\n};\n\nul4.Color = ul4._inherit(\n\tul4.Proto,\n\t{\n\t\t__type__: \"ul4.Color\",\n\n\t\tcreate: function create(r, g, b, a) {\n\t\t\tvar c = ul4._clone(this);\n\t\t\tc._r = typeof (r) !== \"undefined\" ? r : 0;\n\t\t\tc._g = typeof (g) !== \"undefined\" ? g : 0;\n\t\t\tc._b = typeof (b) !== \"undefined\" ? b : 0;\n\t\t\tc._a = typeof (a) !== \"undefined\" ? a : 255;\n\t\t\treturn c;\n\t\t},\n\n\t\t__repr__: function __repr__() {\n\t\t\tvar r = ul4._lpad(this._r.toString(16), \"0\", 2);\n\t\t\tvar g = ul4._lpad(this._g.toString(16), \"0\", 2);\n\t\t\tvar b = ul4._lpad(this._b.toString(16), \"0\", 2);\n\t\t\tvar a = ul4._lpad(this._a.toString(16), \"0\", 2);\n\t\t\tif (this._a !== 0xff) {\n\t\t\t\tif (r[0] === r[1] && g[0] === g[1] && b[0] === b[1] && a[0] === a[1])\n\t\t\t\t\treturn \"#\" + r[0] + g[0] + b[0] + a[0];\n\t\t\t\telse\n\t\t\t\t\treturn \"#\" + r + g + b + a;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif (r[0] === r[1] && g[0] === g[1] && b[0] === b[1])\n\t\t\t\t\treturn \"#\" + r[0] + g[0] + b[0];\n\t\t\t\telse\n\t\t\t\t\treturn \"#\" + r + g + b;\n\t\t\t}\n\t\t},\n\n\t\t__str__: function __str__() {\n\t\t\tif (this._a !== 0xff) {\n\t\t\t\treturn \"rgba(\" + this._r + \", \" + this._g + \", \" + this._b + \", \" + (this._a / 255) + \")\";\n\t\t\t}\n\t\t\telse {\n\t\t\t\tvar r = ul4._lpad(this._r.toString(16), \"0\", 2);\n\t\t\t\tvar g = ul4._lpad(this._g.toString(16), \"0\", 2);\n\t\t\t\tvar b = ul4._lpad(this._b.toString(16), \"0\", 2);\n\t\t\t\tvar a = ul4._lpad(this._a.toString(16), \"0\", 2);\n\t\t\t\tif (r[0] === r[1] && g[0] === g[1] && b[0] === b[1])\n\t\t\t\t\treturn \"#\" + r[0] + g[0] + b[0];\n\t\t\t\telse\n\t\t\t\t\treturn \"#\" + r + g + b;\n\t\t\t}\n\t\t},\n\n\t\t__iter__: function __iter__() {\n\t\t\treturn {\n\t\t\t\tobj: this,\n\t\t\t\tindex: 0,\n\t\t\t\tnext: function () {\n\t\t\t\t\tif (this.index == 0) {\n\t\t\t\t\t\t++this.index;\n\t\t\t\t\t\treturn { value: this.obj._r, done: false };\n\t\t\t\t\t}\n\t\t\t\t\telse if (this.index == 1) {\n\t\t\t\t\t\t++this.index;\n\t\t\t\t\t\treturn { value: this.obj._g, done: false };\n\t\t\t\t\t}\n\t\t\t\t\telse if (this.index == 2) {\n\t\t\t\t\t\t++this.index;\n\t\t\t\t\t\treturn { value: this.obj._b, done: false };\n\t\t\t\t\t}\n\t\t\t\t\telse if (this.index == 3) {\n\t\t\t\t\t\t++this.index;\n\t\t\t\t\t\treturn { value: this.obj._a, done: false };\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t\treturn { done: true };\n\t\t\t\t}\n\t\t\t};\n\t\t},\n\n\t\t__getattr__: function __getattr__(attrname) {\n\t\t\tvar self = this;\n\t\t\tswitch (attrname) {\n\t\t\t\tcase \"r\":\n\t\t\t\t\treturn ul4.expose([], function r() { return self._r; });\n\t\t\t\tcase \"g\":\n\t\t\t\t\treturn ul4.expose([], function g() { return self._g; });\n\t\t\t\tcase \"b\":\n\t\t\t\t\treturn ul4.expose([], function b() { return self._b; });\n\t\t\t\tcase \"a\":\n\t\t\t\t\treturn ul4.expose([], function a() { return self._a; });\n\t\t\t\tcase \"lum\":\n\t\t\t\t\treturn ul4.expose([], function lum() { return self.lum(); });\n\t\t\t\tcase \"hls\":\n\t\t\t\t\treturn ul4.expose([], function hls() { return self.hls(); });\n\t\t\t\tcase \"hlsa\":\n\t\t\t\t\treturn ul4.expose([], function hlsa() { return self.hlsa(); });\n\t\t\t\tcase \"hsv\":\n\t\t\t\t\treturn ul4.expose([], function hsv() { return self.hsv(); });\n\t\t\t\tcase \"hsva\":\n\t\t\t\t\treturn ul4.expose([], function hsva() { return self.hsva(); });\n\t\t\t\tcase \"witha\":\n\t\t\t\t\treturn ul4.expose([\"a\"], function witha(a) { return self.witha(a); });\n\t\t\t\tcase \"withlum\":\n\t\t\t\t\treturn ul4.expose([\"lum\"], function withlum(lum) { return self.withlum(lum); });\n\t\t\t\tcase \"abslum\":\n\t\t\t\t\treturn ul4.expose([\"lum\"], function abslum(lum) { return self.abslum(lum); });\n\t\t\t\tcase \"rellum\":\n\t\t\t\t\treturn ul4.expose([\"lum\"], function rellum(lum) { return self.rellum(lum); });\n\t\t\t\tdefault:\n\t\t\t\t\treturn undefined;\n\t\t\t}\n\t\t},\n\n\t\t__getitem__: function __getitem__(key) {\n\t\t\tvar orgkey = key;\n\t\t\tif (key < 0)\n\t\t\t\tkey += 4;\n\t\t\tswitch (key) {\n\t\t\t\tcase 0:\n\t\t\t\t\treturn this._r;\n\t\t\t\tcase 1:\n\t\t\t\t\treturn this._g;\n\t\t\t\tcase 2:\n\t\t\t\t\treturn this._b;\n\t\t\t\tcase 3:\n\t\t\t\t\treturn this._a;\n\t\t\t\tdefault:\n\t\t\t\t\treturn undefined;\n\t\t\t}\n\t\t},\n\n\t\t__eq__: function __eq__(other) {\n\t\t\tif (ul4._iscolor(other))\n\t\t\t\treturn this._r == other._r && this._g == other._g && this._b == other._b && this._a == other._a;\n\t\t\treturn false;\n\t\t},\n\n\t\tr: ul4.expose([], function r() { return this._r; }),\n\n\t\tg: ul4.expose([], function g() { return this._g; }),\n\n\t\tb: ul4.expose([], function b() { return this._b; }),\n\n\t\ta: ul4.expose([], function a() { return this._a; }),\n\n\t\tlum: ul4.expose([], function lum() { return this.hls()[1]; }),\n\n\t\thls: ul4.expose([],\n\t\t\tfunction hls() {\n\t\t\t\tvar r = this._r / 255.0;\n\t\t\t\tvar g = this._g / 255.0;\n\t\t\t\tvar b = this._b / 255.0;\n\t\t\t\tvar maxc = Math.max(r, g, b);\n\t\t\t\tvar minc = Math.min(r, g, b);\n\t\t\t\tvar h, l, s;\n\t\t\t\tvar rc, gc, bc;\n\n\t\t\t\tl = (minc + maxc) / 2.0;\n\t\t\t\tif (minc == maxc)\n\t\t\t\t\treturn [0.0, l, 0.0];\n\t\t\t\tif (l <= 0.5)\n\t\t\t\t\ts = (maxc - minc) / (maxc + minc);\n\t\t\t\telse\n\t\t\t\t\ts = (maxc - minc) / (2.0 - maxc - minc);\n\t\t\t\trc = (maxc - r) / (maxc - minc);\n\t\t\t\tgc = (maxc - g) / (maxc - minc);\n\t\t\t\tbc = (maxc - b) / (maxc - minc);\n\t\t\t\tif (r == maxc)\n\t\t\t\t\th = bc - gc;\n\t\t\t\telse if (g == maxc)\n\t\t\t\t\th = 2.0 + rc - bc;\n\t\t\t\telse\n\t\t\t\t\th = 4.0 + gc - rc;\n\t\t\t\th = (h / 6.0) % 1.0;\n\t\t\t\treturn [h, l, s];\n\t\t\t}\n\t\t),\n\n\t\thlsa: ul4.expose([],\n\t\t\tfunction hlsa() {\n\t\t\t\tvar hls = this.hls();\n\t\t\t\treturn hls.concat(this._a / 255.0);\n\t\t\t}\n\t\t),\n\n\t\thsv: ul4.expose([],\n\t\t\tfunction hsv() {\n\t\t\t\tvar r = this._r / 255.0;\n\t\t\t\tvar g = this._g / 255.0;\n\t\t\t\tvar b = this._b / 255.0;\n\t\t\t\tvar maxc = Math.max(r, g, b);\n\t\t\t\tvar minc = Math.min(r, g, b);\n\t\t\t\tvar v = maxc;\n\t\t\t\tif (minc == maxc)\n\t\t\t\t\treturn [0.0, 0.0, v];\n\t\t\t\tvar s = (maxc - minc) / maxc;\n\t\t\t\tvar rc = (maxc - r) / (maxc - minc);\n\t\t\t\tvar gc = (maxc - g) / (maxc - minc);\n\t\t\t\tvar bc = (maxc - b) / (maxc - minc);\n\t\t\t\tvar h;\n\t\t\t\tif (r == maxc)\n\t\t\t\t\th = bc - gc;\n\t\t\t\telse if (g == maxc)\n\t\t\t\t\th = 2.0 + rc - bc;\n\t\t\t\telse\n\t\t\t\t\th = 4.0 + gc - rc;\n\t\t\t\th = (h / 6.0) % 1.0;\n\t\t\t\treturn [h, s, v];\n\t\t\t}\n\t\t),\n\n\t\thsva: ul4.expose([],\n\t\t\tfunction hsva() {\n\t\t\t\tvar hsv = this.hsv();\n\t\t\t\treturn hsv.concat(this._a / 255.0);\n\t\t\t}\n\t\t),\n\n\t\twitha: ul4.expose([\"a\"],\n\t\t\tfunction witha(a) {\n\t\t\t\tif (typeof (a) !== \"number\")\n\t\t\t\t\tthrow ul4.TypeError.create(\"witha()\", \"witha() requires a number\");\n\t\t\t\treturn ul4.Color.create(this._r, this._g, this._b, a);\n\t\t\t}\n\t\t),\n\n\t\twithlum: ul4.expose([\"lum\"],\n\t\t\tfunction withlum(lum) {\n\t\t\t\tif (typeof (lum) !== \"number\")\n\t\t\t\t\tthrow ul4.TypeError.create(\"witha()\", \"witha() requires a number\");\n\t\t\t\tvar hlsa = this.hlsa();\n\t\t\t\treturn ul4._hls(hlsa[0], lum, hlsa[2], hlsa[3]);\n\t\t\t}\n\t\t)\n\t}\n);\n\nul4.TimeDelta = ul4._inherit(\n\tul4.Proto,\n\t{\n\t\t__type__: \"ul4.TimeDelta\",\n\n\t\tcreate: function create(days, seconds, microseconds) {\n\t\t\tvar td = ul4._clone(this);\n\t\t\tif (typeof (days) === \"undefined\")\n\t\t\t\tdays = 0;\n\t\t\tif (typeof (seconds) === \"undefined\")\n\t\t\t\tseconds = 0;\n\t\t\tif (typeof (microseconds) === \"undefined\")\n\t\t\t\tmicroseconds = 0;\n\n\t\t\tvar total_microseconds = Math.floor((days * 86400 + seconds) * 1000000 + microseconds);\n\n\t\t\tmicroseconds = ul4.ModAST._do(total_microseconds, 1000000);\n\t\t\tvar total_seconds = Math.floor(total_microseconds / 1000000);\n\t\t\tseconds = ul4.ModAST._do(total_seconds, 86400);\n\t\t\tdays = Math.floor(total_seconds / 86400);\n\t\t\tif (seconds < 0) {\n\t\t\t\tseconds += 86400;\n\t\t\t\t--days;\n\t\t\t}\n\n\t\t\ttd._microseconds = microseconds;\n\t\t\ttd._seconds = seconds;\n\t\t\ttd._days = days;\n\n\t\t\treturn td;\n\t\t},\n\n\t\t__repr__: function __repr__() {\n\t\t\tif (!this._microseconds) {\n\t\t\t\tif (!this._seconds) {\n\t\t\t\t\tif (!this._days)\n\t\t\t\t\t\treturn \"timedelta()\";\n\t\t\t\t\treturn \"timedelta(\" + this._days + \")\";\n\t\t\t\t}\n\t\t\t\treturn \"timedelta(\" + this._days + \", \" + this._seconds + \")\";\n\t\t\t}\n\t\t\treturn \"timedelta(\" + this._days + \", \" + this._seconds + \", \" + this._microseconds + \")\";\n\t\t},\n\n\t\t__str__: function __str__() {\n\t\t\tvar v = [];\n\t\t\tif (this._days) {\n\t\t\t\tv.push(this._days + \" day\");\n\t\t\t\tif (this._days !== -1 && this._days !== 1)\n\t\t\t\t\tv.push(\"s\");\n\t\t\t\tv.push(\", \");\n\t\t\t}\n\t\t\tvar seconds = this._seconds % 60;\n\t\t\tvar minutes = Math.floor(this._seconds / 60);\n\t\t\tvar hours = Math.floor(minutes / 60);\n\t\t\tminutes = minutes % 60;\n\n\t\t\tv.push(\"\" + hours);\n\t\t\tv.push(\":\");\n\t\t\tv.push(ul4._lpad(minutes.toString(), \"0\", 2));\n\t\t\tv.push(\":\");\n\t\t\tv.push(ul4._lpad(seconds.toString(), \"0\", 2));\n\t\t\tif (this._microseconds) {\n\t\t\t\tv.push(\".\");\n\t\t\t\tv.push(ul4._lpad(this._microseconds.toString(), \"0\", 6));\n\t\t\t}\n\t\t\treturn v.join(\"\");\n\t\t},\n\n\t\t__bool__: function __bool__() {\n\t\t\treturn this._days !== 0 || this._seconds !== 0 || this._microseconds !== 0;\n\t\t},\n\n\t\t__abs__: function __abs__() {\n\t\t\treturn this._days < 0 ? ul4.TimeDelta.create(-this._days, -this._seconds, -this._microseconds) : this;\n\t\t},\n\n\t\t__eq__: function __eq__(other) {\n\t\t\tif (ul4._istimedelta(other))\n\t\t\t\treturn (this._days === other._days) && (this._seconds === other._seconds) && (this._microseconds === other._microseconds);\n\t\t\treturn false;\n\t\t},\n\n\t\t__lt__: function __lt__(other) {\n\t\t\tif (ul4._istimedelta(other)) {\n\t\t\t\tif (this._days != other._days)\n\t\t\t\t\treturn this._days < other._days;\n\t\t\t\tif (this._seconds != other._seconds)\n\t\t\t\t\treturn this._seconds < other._seconds;\n\t\t\t\treturn this._microseconds < other._microseconds;\n\t\t\t}\n\t\t\tul4._unorderable(\"<\", this, other);\n\t\t},\n\n\t\t__le__: function __le__(other) {\n\t\t\tif (ul4._istimedelta(other)) {\n\t\t\t\tif (this._days != other._days)\n\t\t\t\t\treturn this._days < other._days;\n\t\t\t\tif (this._seconds != other._seconds)\n\t\t\t\t\treturn this._seconds < other._seconds;\n\t\t\t\treturn this._microseconds <= other._microseconds;\n\t\t\t}\n\t\t\tul4._unorderable(\"<=\", this, other);\n\t\t},\n\n\t\t__gt__: function __gt__(other) {\n\t\t\tif (ul4._istimedelta(other)) {\n\t\t\t\tif (this._days != other._days)\n\t\t\t\t\treturn this._days > other._days;\n\t\t\t\tif (this._seconds != other._seconds)\n\t\t\t\t\treturn this._seconds > other._seconds;\n\t\t\t\treturn this._microseconds > other._microseconds;\n\t\t\t}\n\t\t\tul4._unorderable(\">\", this, other);\n\t\t},\n\n\t\t__ge__: function __ge__(other) {\n\t\t\tif (ul4._istimedelta(other)) {\n\t\t\t\tif (this._days != other._days)\n\t\t\t\t\treturn this._days > other._days;\n\t\t\t\tif (this._seconds != other._seconds)\n\t\t\t\t\treturn this._seconds > other._seconds;\n\t\t\t\treturn this._microseconds >= other._microseconds;\n\t\t\t}\n\t\t\tul4._unorderable(\">=\", this, other);\n\t\t},\n\n\t\t__neg__: function __neg__() {\n\t\t\treturn ul4.TimeDelta.create(-this._days, -this._seconds, -this._microseconds);\n\t\t},\n\n\t\t_add: function _add(date, days, seconds, microseconds) {\n\t\t\tvar year = date.getFullYear();\n\t\t\tvar month = date.getMonth();\n\t\t\tvar day = date.getDate() + days;\n\t\t\tvar hour = date.getHours();\n\t\t\tvar minute = date.getMinutes();\n\t\t\tvar second = date.getSeconds() + seconds;\n\t\t\tvar millisecond = date.getMilliseconds() + microseconds / 1000;\n\t\t\treturn new Date(year, month, day, hour, minute, second, millisecond);\n\t\t},\n\n\t\t__add__: function __add__(other) {\n\t\t\tif (ul4._istimedelta(other))\n\t\t\t\treturn ul4.TimeDelta.create(this._days + other._days, this._seconds + other._seconds, this._microseconds + other._microseconds);\n\t\t\telse if (ul4._isdate(other))\n\t\t\t\treturn this._add(other, this._days, this._seconds, this._microseconds);\n\t\t\tthrow ul4.TypeError.create(\"+\", ul4._type(this) + \" + \" + ul4._type(other) + \" not supported\");\n\t\t},\n\n\t\t__radd__: function __radd__(other) {\n\t\t\tif (ul4._isdate(other))\n\t\t\t\treturn this._add(other, this._days, this._seconds, this._microseconds);\n\t\t\tthrow ul4.TypeError.create(\"+\", ul4._type(this) + \" + \" + ul4._type(other) + \" not supported\");\n\t\t},\n\n\t\t__sub__: function __sub__(other) {\n\t\t\tif (ul4._istimedelta(other))\n\t\t\t\treturn ul4.TimeDelta.create(this._days - other._days, this._seconds - other._seconds, this._microseconds - other._microseconds);\n\t\t\tthrow ul4.TypeError.create(\"-\", ul4._type(this) + \" - \" + ul4._type(other) + \" not supported\");\n\t\t},\n\n\t\t__rsub__: function __rsub__(other) {\n\t\t\tif (ul4._isdate(other))\n\t\t\t\treturn this._add(other, -this._days, -this._seconds, -this._microseconds);\n\t\t\tthrow ul4.TypeError.create(\"-\", ul4._type(this) + \" - \" + ul4._type(other) + \" not supported\");\n\t\t},\n\n\t\t__mul__: function __mul__(other) {\n\t\t\tif (typeof (other) === \"number\") {\n\t\t\t\treturn ul4.TimeDelta.create(this._days * other, this._seconds * other, this._microseconds * other);\n\t\t\t}\n\t\t\tthrow ul4.TypeError.create(\"*\", ul4._type(this) + \" * \" + ul4._type(other) + \" not supported\");\n\t\t},\n\n\t\t__rmul__: function __rmul__(other) {\n\t\t\tif (typeof (other) === \"number\") {\n\t\t\t\treturn ul4.TimeDelta.create(this._days * other, this._seconds * other, this._microseconds * other);\n\t\t\t}\n\t\t\tthrow ul4.TypeError.create(\"*\", ul4._type(this) + \" * \" + ul4._type(other) + \" not supported\");\n\t\t},\n\n\t\t__truediv__: function __truediv__(other) {\n\t\t\tif (typeof (other) === \"number\") {\n\t\t\t\treturn ul4.TimeDelta.create(this._days / other, this._seconds / other, this._microseconds / other);\n\t\t\t}\n\t\t\telse if (ul4._istimedelta(other)) {\n\t\t\t\tvar myValue = this._days;\n\t\t\t\tvar otherValue = other._days;\n\t\t\t\tvar hasSeconds = this._seconds || other._seconds;\n\t\t\t\tvar hasMicroseconds = this._microseconds || other._microseconds;\n\t\t\t\tif (hasSeconds || hasMicroseconds) {\n\t\t\t\t\tmyValue = myValue * 86400 + this._seconds;\n\t\t\t\t\totherValue = otherValue * 86400 + other._seconds;\n\t\t\t\t\tif (hasMicroseconds) {\n\t\t\t\t\t\tmyValue = myValue * 1000000 + this._microseconds;\n\t\t\t\t\t\totherValue = otherValue * 1000000 + other._microseconds;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn myValue / otherValue;\n\t\t\t}\n\t\t\tthrow ul4.TypeError.create(\"/\", ul4._type(this) + \" / \" + ul4._type(other) + \" not supported\");\n\t\t},\n\n\t\t__getattr__: function __getattr__(attrname) {\n\t\t\tvar self = this;\n\t\t\tswitch (attrname) {\n\t\t\t\tcase \"days\":\n\t\t\t\t\treturn ul4.expose([], function days() { return self._days; });\n\t\t\t\tcase \"seconds\":\n\t\t\t\t\treturn ul4.expose([], function seconds() { return self._seconds; });\n\t\t\t\tcase \"microseconds\":\n\t\t\t\t\treturn ul4.expose([], function microseconds() { return self._microseconds; });\n\t\t\t\tdefault:\n\t\t\t\t\treturn undefined;\n\t\t\t}\n\t\t},\n\n\t\tdays: function days() {\n\t\t\treturn this._days;\n\t\t},\n\n\t\tseconds: function seconds() {\n\t\t\treturn this._seconds;\n\t\t},\n\n\t\tmicroseconds: function microseconds() {\n\t\t\treturn this._microseconds;\n\t\t}\n\t}\n);\n\nul4.MonthDelta = ul4._inherit(\n\tul4.Proto,\n\t{\n\t\t__type__: \"ul4.MonthDelta\",\n\n\t\tcreate: function create(months) {\n\t\t\tvar md = ul4._clone(this);\n\t\t\tmd._months = typeof (months) !== \"undefined\" ? months : 0;\n\t\t\treturn md;\n\t\t},\n\n\t\t__repr__: function __repr__() {\n\t\t\tif (!this._months)\n\t\t\t\treturn \"monthdelta()\";\n\t\t\treturn \"monthdelta(\" + this._months + \")\";\n\t\t},\n\n\t\t__str__: function __str__() {\n\t\t\tif (this._months) {\n\t\t\t\tif (this._months !== -1 && this._months !== 1)\n\t\t\t\t\treturn this._months + \" months\";\n\t\t\t\treturn this._months + \" month\";\n\t\t\t}\n\t\t\treturn \"0 months\";\n\t\t},\n\n\t\t__bool__: function __bool__() {\n\t\t\treturn this._months !== 0;\n\t\t},\n\n\t\t__abs__: function __abs__() {\n\t\t\treturn this._months < 0 ? ul4.MonthDelta.create(-this._months) : this;\n\t\t},\n\n\t\t__eq__: function __eq__(other) {\n\t\t\tif (ul4._ismonthdelta(other))\n\t\t\t\treturn this._months === other._months;\n\t\t\treturn false;\n\t\t},\n\n\t\t__lt__: function __lt__(other) {\n\t\t\tif (ul4._ismonthdelta(other))\n\t\t\t\treturn this._months < other._months;\n\t\t\tul4._unorderable(\"<\", this, other);\n\t\t},\n\n\t\t__le__: function __le__(other) {\n\t\t\tif (ul4._ismonthdelta(other))\n\t\t\t\treturn this._months <= other._months;\n\t\t\tul4._unorderable(\"<=\", this, other);\n\t\t},\n\n\t\t__gt__: function __gt__(other) {\n\t\t\tif (ul4._ismonthdelta(other))\n\t\t\t\treturn this._months > other._months;\n\t\t\tul4._unorderable(\">\", this, other);\n\t\t},\n\n\t\t__ge__: function __ge__(other) {\n\t\t\tif (ul4._ismonthdelta(other))\n\t\t\t\treturn this._months >= other._months;\n\t\t\tul4._unorderable(\">=\", this, other);\n\t\t},\n\n\t\t__neg__: function __neg__() {\n\t\t\treturn ul4.MonthDelta.create(-this._months);\n\t\t},\n\n\t\t_add: function _add(date, months) {\n\t\t\tvar year = date.getFullYear();\n\t\t\tvar month = date.getMonth() + months;\n\t\t\tvar day = date.getDate();\n\t\t\tvar hour = date.getHours();\n\t\t\tvar minute = date.getMinutes();\n\t\t\tvar second = date.getSeconds();\n\t\t\tvar millisecond = date.getMilliseconds();\n\n\t\t\twhile (true) {\n\t\t\t\t// As the month might be out of bounds, we have to find out, what the real target month is\n\t\t\t\tvar targetmonth = new Date(year, month, 1, hour, minute, second, millisecond).getMonth();\n\t\t\t\tvar result = new Date(year, month, day, hour, minute, second, millisecond);\n\t\t\t\tif (result.getMonth() === targetmonth)\n\t\t\t\t\treturn result;\n\t\t\t\t--day;\n\t\t\t}\n\t\t},\n\n\t\t__add__: function __add__(other) {\n\t\t\tif (ul4._ismonthdelta(other))\n\t\t\t\treturn ul4.MonthDelta.create(this._months + other._months);\n\t\t\telse if (ul4._isdate(other))\n\t\t\t\treturn this._add(other, this._months);\n\t\t\tthrow ul4._type(this) + \" + \" + ul4._type(other) + \" not supported\";\n\t\t},\n\n\t\t__radd__: function __radd__(other) {\n\t\t\tif (ul4._isdate(other))\n\t\t\t\treturn this._add(other, this._months);\n\t\t\tthrow ul4._type(this) + \" + \" + ul4._type(other) + \" not supported\";\n\t\t},\n\n\t\t__sub__: function __sub__(other) {\n\t\t\tif (ul4._ismonthdelta(other))\n\t\t\t\treturn ul4.MonthDelta.create(this._months - other._months);\n\t\t\tthrow ul4._type(this) + \" - \" + ul4._type(other) + \" not supported\";\n\t\t},\n\n\t\t__rsub__: function __rsub__(other) {\n\t\t\tif (ul4._isdate(other))\n\t\t\t\treturn this._add(other, -this._months);\n\t\t\tthrow ul4._type(this) + \" - \" + ul4._type(other) + \" not supported\";\n\t\t},\n\n\t\t__mul__: function __mul__(other) {\n\t\t\tif (typeof (other) === \"number\")\n\t\t\t\treturn ul4.MonthDelta.create(this._months * Math.floor(other));\n\t\t\tthrow ul4._type(this) + \" * \" + ul4._type(other) + \" not supported\";\n\t\t},\n\n\t\t__rmul__: function __rmul__(other) {\n\t\t\tif (typeof (other) === \"number\")\n\t\t\t\treturn ul4.MonthDelta.create(this._months * Math.floor(other));\n\t\t\tthrow ul4._type(this) + \" * \" + ul4._type(other) + \" not supported\";\n\t\t},\n\n\t\t__floordiv__: function __floordiv__(other) {\n\t\t\tif (typeof (other) === \"number\")\n\t\t\t\treturn ul4.MonthDelta.create(Math.floor(this._months / other));\n\t\t\telse if (ul4._ismonthdelta(other))\n\t\t\t\treturn Math.floor(this._months / other._months);\n\t\t\tthrow ul4._type(this) + \" // \" + ul4._type(other) + \" not supported\";\n\t\t},\n\n\t\t__truediv__: function __truediv__(other) {\n\t\t\tif (ul4._ismonthdelta(other))\n\t\t\t\treturn this._months / other._months;\n\t\t\tthrow ul4._type(this) + \" / \" + ul4._type(other) + \" not supported\";\n\t\t},\n\n\t\t__getattr__: function __getattr__(attrname) {\n\t\t\tvar self = this;\n\t\t\tswitch (attrname) {\n\t\t\t\tcase \"months\":\n\t\t\t\t\treturn ul4.expose([], function months() { return self._months; });\n\t\t\t\tdefault:\n\t\t\t\t\treturn undefined;\n\t\t\t}\n\t\t},\n\n\t\tmonths: function months() {\n\t\t\treturn this._months;\n\t\t}\n\t}\n);\n\n// When we don't have a real ``Set`` type, emulate one that supports strings\nul4._Set = ul4._inherit(\n\tul4.Proto,\n\t{\n\t\t__type__: \"ul4._Set\",\n\n\t\tcreate: function create() {\n\t\t\tvar set = ul4._clone(this);\n\t\t\tset.items = {};\n\t\t\tset.add.apply(set, arguments);\n\t\t\treturn set;\n\t\t},\n\n\t\tadd: function add() {\n\t\t\tfor (var i = 0; i < arguments.length; ++i) {\n\t\t\t\tthis.items[arguments[i]] = true;\n\t\t\t}\n\t\t},\n\n\t\t__getattr__: function __getattr__(attrname) {\n\t\t\tvar self = this;\n\t\t\tswitch (attrname) {\n\t\t\t\tcase \"add\":\n\t\t\t\t\treturn ul4.expose([\"*items\"], function add(items) { self.add.apply(self, items); });\n\t\t\t\tdefault:\n\t\t\t\t\treturn undefined;\n\t\t\t}\n\t\t},\n\n\t\t__contains__: function __contains__(item) {\n\t\t\treturn this.items[item] || false;\n\t\t},\n\n\t\t__bool__: function __bool__() {\n\t\t\tfor (var item in this.items) {\n\t\t\t\tif (!this.items.hasOwnProperty(item))\n\t\t\t\t\tcontinue;\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\n\t\t__repr__: function __repr__() {\n\t\t\tvar v = [];\n\t\t\tv.push(\"{\");\n\t\t\tvar i = 0;\n\t\t\tfor (var item in this.items) {\n\t\t\t\tif (!this.items.hasOwnProperty(item))\n\t\t\t\t\tcontinue;\n\t\t\t\tif (i++)\n\t\t\t\t\tv.push(\", \");\n\t\t\t\tv.push(ul4._repr(item));\n\t\t\t}\n\t\t\tif (!i)\n\t\t\t\tv.push(\"/\");\n\t\t\tv.push(\"}\");\n\t\t\treturn v.join(\"\");\n\t\t},\n\n\t\t__eq__: function (other) {\n\t\t\t// We'll check that everything in ``this`` is in ``other``\n\t\t\t// and if both have the same number of items they are equal\n\t\t\tif (ul4._isset(other)) {\n\t\t\t\tvar count = 0;\n\t\t\t\tfor (var item in this.items) {\n\t\t\t\t\tif (!other.has(item))\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t// count the number of items we have\n\t\t\t\t\t++count;\n\t\t\t\t}\n\t\t\t\treturn other.size == count;\n\t\t\t}\n\t\t\telse if (ul4._isul4set(other)) {\n\t\t\t\tvar count = 0;\n\t\t\t\tfor (var item in this.items) {\n\t\t\t\t\tif (!other[item])\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t// count the number of items we have\n\t\t\t\t\t++count;\n\t\t\t\t}\n\t\t\t\t// Substract the number of items that ``other`` has\n\t\t\t\tfor (var item in other.items)\n\t\t\t\t\t--count;\n\t\t\t\treturn count == 0;\n\t\t\t}\n\t\t\telse\n\t\t\t\treturn false;\n\t\t},\n\n\t\t__le__: function (other) {\n\t\t\t// check that ``this`` is a subset of ``other``,\n\t\t\t// i.e. everything in ``this`` is also in ``other``\n\t\t\tif (ul4._isset(other)) {\n\t\t\t\tvar count = 0;\n\t\t\t\tfor (var item in this.items) {\n\t\t\t\t\tif (!other.has(item))\n\t\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\telse if (ul4._isul4set(other)) {\n\t\t\t\tvar count = 0;\n\t\t\t\tfor (var item in this.items) {\n\t\t\t\t\tif (!other.items[item])\n\t\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\telse\n\t\t\t\tul4._unorderable(\"<\", this, other);\n\t\t},\n\n\t\t__ge__: function (other) {\n\t\t\t// check that ``this`` is a superset of ``other``,\n\t\t\t// i.e. everything in ``other`` is also in ``this``\n\t\t\tif (ul4._isset(other)) {\n\t\t\t\tvar result = true;\n\t\t\t\tother.forEach(function (value) {\n\t\t\t\t\tif (!this.items[value])\n\t\t\t\t\t\tresult = false;\n\t\t\t\t});\n\t\t\t\treturn result;\n\t\t\t}\n\t\t\telse if (ul4._isul4set(other)) {\n\t\t\t\tvar count = 0;\n\t\t\t\tfor (var item in other.items) {\n\t\t\t\t\tif (!this.items[item])\n\t\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\telse\n\t\t\t\tul4._unorderable(\"<=\", this, other);\n\t\t}\n\t}\n);\n\nvar classes = [\n\t\"TextAST\",\n\t\"IndentAST\",\n\t\"LineEndAST\",\n\t\"Tag\",\n\t\"ConstAST\",\n\t\"SeqItemAST\",\n\t\"UnpackSeqItemAST\",\n\t\"DictItemAST\",\n\t\"UnpackDictItemAST\",\n\t\"PosArgAST\",\n\t\"KeywordArgAST\",\n\t\"UnpackListArgAST\",\n\t\"UnpackDictArgAST\",\n\t\"ListAST\",\n\t\"ListCompAST\",\n\t\"DictAST\",\n\t\"DictCompAST\",\n\t\"SetAST\",\n\t\"SetCompAST\",\n\t\"GenExprAST\",\n\t\"VarAST\",\n\t\"NotAST\",\n\t\"NegAST\",\n\t\"BitNotAST\",\n\t\"IfAST\",\n\t\"ReturnAST\",\n\t\"PrintAST\",\n\t\"PrintXAST\",\n\t\"ItemAST\",\n\t\"IsAST\",\n\t\"IsNotAST\",\n\t\"EQAST\",\n\t\"NEAST\",\n\t\"LTAST\",\n\t\"LEAST\",\n\t\"GTAST\",\n\t\"GEAST\",\n\t\"NotContainsAST\",\n\t\"ContainsAST\",\n\t\"AddAST\",\n\t\"SubAST\",\n\t\"MulAST\",\n\t\"FloorDivAST\",\n\t\"TrueDivAST\",\n\t\"ModAST\",\n\t\"ShiftLeftAST\",\n\t\"ShiftRightAST\",\n\t\"BitAndAST\",\n\t\"BitXOrAST\",\n\t\"BitOrAST\",\n\t\"AndAST\",\n\t\"OrAST\",\n\t\"SliceAST\",\n\t\"AttrAST\",\n\t\"CallAST\",\n\t\"RenderAST\",\n\t\"SetVarAST\",\n\t\"AddVarAST\",\n\t\"SubVarAST\",\n\t\"MulVarAST\",\n\t\"TrueDivVarAST\",\n\t\"FloorDivVarAST\",\n\t\"ModVarAST\",\n\t\"ShiftLeftVarAST\",\n\t\"ShiftRightVarAST\",\n\t\"BitAndVarAST\",\n\t\"BitXOrVarAST\",\n\t\"BitOrVarAST\",\n\t\"ForBlockAST\",\n\t\"WhileBlockAST\",\n\t\"BreakAST\",\n\t\"ContinueAST\",\n\t\"CondBlockAST\",\n\t\"IfBlockAST\",\n\t\"ElIfBlockAST\",\n\t\"ElseBlockAST\",\n\t\"SignatureAST\",\n\t\"Template\"\n];\n\nfor (var i = 0; i < classes.length; ++i) {\n\tvar name = classes[i];\n\tvar ul4onname = name;\n\tif (ul4onname.substr(ul4onname.length - 3) === \"AST\")\n\t\tul4onname = ul4onname.substr(0, ul4onname.length - 3);\n\tul4onname = ul4onname.toLowerCase();\n\tvar object = ul4[name];\n\tobject.typename = name;\n\tobject.type = ul4onname;\n\tul4on.register(\"de.livinglogic.ul4.\" + ul4onname, object);\n}\n","import { ul4, ul4on } from './ul4';\n\nlet la = {};\n\n\nla.Base = ul4._inherit(\n\tul4.Proto,\n\t{\n\t\tcreate: function () {\n\t\t\treturn ul4._clone(this);\n\t\t},\n\n\t\tul4ondump: function ul4ondump(encoder) {\n\t\t\tfor (var i = 0; i < this._ul4onattrs.length; ++i)\n\t\t\t\tencoder.dump(this._dumpUL4ONAttr(this._ul4onattrs[i]));\n\t\t},\n\n\t\t_dumpUL4ONAttr: function _dumpUL4ONAttr(name) {\n\t\t\treturn this[name];\n\t\t},\n\n\t\tul4onload: function ul4onload(decoder) {\n\t\t\tfor (var i = 0, iter = decoder.loadcontent(); ; ++i) {\n\t\t\t\tvar iteritem = iter.next();\n\t\t\t\tif (iteritem.done)\n\t\t\t\t\tbreak;\n\t\t\t\tif (i < this._ul4onattrs.length)\n\t\t\t\t\tthis._loadUL4ONAttr(this._ul4onattrs[i], iteritem.value);\n\t\t\t}\n\t\t\tfor (; i < this._ul4onattrs.length; ++i) {\n\t\t\t\tthis._setDefaultUL4ONAttr(this._ul4onattrs[i]);\n\t\t\t}\n\t\t},\n\n\t\t_loadUL4ONAttr: function _loadUL4ONAttr(name, value) {\n\t\t\tthis[name] = value;\n\t\t},\n\n\t\t_setDefaultUL4ONAttr: function _setDefaultUL4ONAttr(name) {\n\t\t\tthis[name] = null;\n\t\t}\n\t}\n);\n\nla.Globals = ul4._inherit(\n\tla.Base,\n\t{\n\t\t_ul4onattrs: [\"version\", \"platform\", \"user\", \"maxdbactions\", \"maxtemplateruntime\", \"flashmessages\"],\n\n\t\t__repr__: function repr() {\n\t\t\treturn \"<la.Globals version=\" + ul4._repr(this.version) + \">\";\n\t\t},\n\n\t\t// distance between two geo coordinates (see https://de.wikipedia.org/wiki/Orthodrome#Genauere_Formel_zur_Abstandsberechnung_auf_der_Erde)\n\t\tgeodist: function geodist(geo1, geo2) {\n\t\t\tvar sqsin = function sqsin(x) { x = Math.sin(x); return x * x };\n\t\t\tvar sqcos = function sqsos(x) { x = Math.cos(x); return x * x };\n\t\t\tvar deg2rad = Math.PI / 180; // Conversion factor degree -> radians\n\t\t\tvar radius = 6378.137; // Equatorial radius of earth in km\n\t\t\tvar flat = 1 / 298.257223563; // Earth flattening\n\n\t\t\tvar lat1 = geo1.lat * deg2rad;\n\t\t\tvar long1 = geo1.long * deg2rad;\n\t\t\tvar lat2 = geo2.lat * deg2rad;\n\t\t\tvar long2 = geo2.long * deg2rad;\n\t\t\tvar F = (lat1 + lat2) / 2;\n\t\t\tvar G = (lat1 - lat2) / 2;\n\t\t\tvar l = (long1 - long2) / 2;\n\t\t\tvar S = sqsin(G) * sqcos(l) + sqcos(F) * sqsin(l);\n\t\t\tvar C = sqcos(G) * sqcos(l) + sqsin(F) * sqsin(l);\n\t\t\tvar w = Math.atan(Math.sqrt(S / C));\n\t\t\tvar D = 2 * w * radius;\n\t\t\tvar T = Math.sqrt(S * C) / w;\n\t\t\tvar H1 = (3 * T - 1) / (2 * C);\n\t\t\tvar H2 = (3 * T + 1) / (2 * S);\n\t\t\tvar s = D * (1 + flat * H1 * sqsin(F) * sqcos(G) - flat * H2 * sqcos(F) * sqsin(G));\n\t\t\treturn s;\n\t\t}\n\t}\n);\n\nla.FlashMessage = ul4._inherit(\n\tla.Base,\n\t{\n\t\t_ul4onattrs: [\"timestamp\", \"type\", \"title\", \"message\"],\n\n\t\t__repr__: function repr() {\n\t\t\treturn \"<la.FlashMessage type=\" + ul4._repr(this.type) + \" title=\" + ul4._repr(this.title) + \">\";\n\t\t}\n\t}\n);\n\nla.App = ul4._inherit(\n\tla.Base,\n\t{\n\t\t_ul4onattrs: [\"id\", \"globals\", \"name\", \"description\", \"language\", \"startlink\", \"iconlarge\", \"iconsmall\", \"owner\", \"controls\", \"records\", \"recordcount\", \"installation\", \"categories\", \"params\", \"views\", \"datamanagement_identifier\"],\n\n\t\tinsert: function (values) {\n\t\t\treturn this.globals.Login._insert(this, values);\n\t\t},\n\n\t\t__repr__: function repr() {\n\t\t\treturn \"<la.App id=\" + ul4._repr(this.id) + \" name=\" + ul4._repr(this.name) + \">\";\n\t\t}\n\t}\n);\n\nla.View = ul4._inherit(\n\tla.Base,\n\t{\n\t\t_ul4onattrs: [\"id\", \"name\", \"app\", \"order\", \"width\", \"height\", \"start\", \"end\"],\n\n\t\t__repr__: function repr() {\n\t\t\treturn \"<la.View id=\" + ul4._repr(this.id) + \" name=\" + ul4._repr(this.name) + \">\";\n\t\t}\n\t}\n);\n\nla.DataSource = ul4._inherit(\n\tla.Base,\n\t{\n\t\t_ul4onattrs: [\"id\", \"identifier\", \"app\", \"apps\"],\n\n\t\t__repr__: function repr() {\n\t\t\treturn \"<la.DataSource id=\" + ul4._repr(this.id) + \" identifier=\" + ul4._repr(this.identifier) + \">\";\n\t\t}\n\t}\n);\n\nla.Record = ul4._inherit(\n\tla.Base,\n\t{\n\t\t_ul4onattrs: [\"id\", \"app\", \"createdat\", \"createdby\", \"updatedat\", \"updatedby\", \"updatecount\", \"values\", \"attachments\", \"children\"],\n\n\t\tdelete: function () {\n\t\t\treturn this.app.globals.Login._delete(this);\n\t\t},\n\n\t\tupdate: function (values) {\n\t\t\treturn this.app.globals.Login._update(this, values);\n\t\t},\n\n\t\t__repr__: function repr() {\n\t\t\treturn \"<la.Record id=\" + ul4._repr(this.id) + \">\";\n\t\t},\n\n\t\tsearch: function search(search) {\n\t\t\tfor (var identifier in search) {\n\t\t\t\tvar fieldsearch = search[identifier];\n\t\t\t\tif (ul4._bool(fieldsearch)) {\n\t\t\t\t\tif (!this.fields.get(identifier).search(fieldsearch))\n\t\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t},\n\n\t\t_dumpUL4ONAttr: function _dumpUL4ONAttr(name) {\n\t\t\tif (name === \"values\")\n\t\t\t\treturn this._sparsevalues;\n\t\t\telse\n\t\t\t\treturn this[name];\n\t\t},\n\n\t\t_loadUL4ONAttr: function _loadUL4ONAttr(name, value) {\n\t\t\tif (name === \"values\") {\n\t\t\t\tthis._sparsevalues = value;\n\t\t\t\tthis._values = null;\n\t\t\t\tthis._fields = null;\n\t\t\t}\n\t\t\telse\n\t\t\t\tthis[name] = value;\n\t\t}\n\t}\n);\n\nObject.defineProperty(la.Record, \"values\", {\n\tget: function () {\n\t\tif (this._values === null) {\n\t\t\tthis._values = ul4on._havemap ? new Map() : {};\n\t\t\tvar self = this;\n\t\t\tthis.app.controls.forEach(function (control, id) {\n\t\t\t\tvar fieldvalue = self._sparsevalues.get(control.identifier);\n\t\t\t\tif (typeof (fieldvalue) === \"undefined\")\n\t\t\t\t\tfieldvalue = null;\n\t\t\t\tself._values.set(id, fieldvalue);\n\t\t\t});\n\t\t}\n\t\treturn this._values;\n\t}\n});\n\nObject.defineProperty(la.Record, \"fields\", {\n\tget: function () {\n\t\tif (this._fields === null) {\n\t\t\tthis._fields = ul4on._havemap ? new Map() : {};\n\t\t\tvar self = this;\n\t\t\tthis.values.forEach(function (value, id) {\n\t\t\t\tvar field = la.Field.create(self.app.controls.get(id), self.app, value);\n\t\t\t\tself._fields.set(id, field);\n\t\t\t});\n\t\t}\n\t\treturn this._fields;\n\t}\n});\n\nla.Control = ul4._inherit(\n\tla.Base,\n\t{\n\t\ttype: null,\n\t\tsubtype: null,\n\t\t_ul4onattrs: [\"id\", \"identifier\", \"field\", \"app\", \"label\", \"priority\", \"order\", \"default\", \"ininsertprocedure\", \"inupdateprocedure\"],\n\n\t\t__repr__: function repr() {\n\t\t\treturn \"<la.\" + this.__type__ + \" id=\" + ul4._repr(this.id) + \" identifier=\" + ul4._repr(this.identifier) + \">\";\n\t\t},\n\n\t\tasjson: function (value) {\n\t\t\treturn value;\n\t\t},\n\n\t\t_logsearch: function _logsearch(value, search) {\n\t\t\t//console.log(\"Searching for \" + ul4._repr(search.value) + \" in \" + ul4._repr(this) + \" with operator \" + search.operator + \" in value \" + ul4._repr(value));\n\t\t},\n\n\t\t// base implemntation, always returns ``false`` (i.e. \"not found\")\n\t\t// ``value`` is the value of the field\n\t\t// ``search`` is an object with information what we're searching for\n\t\t// keys in ``search`` are: ``operator`` (and ``value`` (if required by the operator))\n\t\tsearch: function search(value, search) {\n\t\t\treturn false;\n\t\t}\n\t}\n);\n\nla.BoolControl = ul4._inherit(\n\tla.Control,\n\t{\n\t\ttype: \"bool\",\n\t\t__type__: \"BoolControl\",\n\n\t\t// ``search`` must by ``null``, ``false`` or ``true``\n\t\tsearch: function search(value, search) {\n\t\t\tthis._logsearch(value, search);\n\t\t\tif (search.operator === \"equals\")\n\t\t\t\treturn search.value === value;\n\t\t\telse\n\t\t\t\treturn false;\n\t\t}\n\t}\n);\n\nla.IntControl = ul4._inherit(\n\tla.Control,\n\t{\n\t\ttype: \"int\",\n\t\t__type__: \"IntControl\",\n\n\t\t// ``search.value`` must by ``null`` or an integer\n\t\tsearch: function search(value, search) {\n\t\t\tthis._logsearch(value, search);\n\t\t\tif (search.operator === \"equals\")\n\t\t\t\treturn search.value === value;\n\t\t\telse\n\t\t\t\treturn false;\n\t\t}\n\t}\n);\n\nla.NumberControl = ul4._inherit(\n\tla.Control,\n\t{\n\t\ttype: \"number\",\n\t\t__type__: \"NumberControl\",\n\n\t\t// ``search.value`` must by ``null`` or an integer\n\t\tsearch: function search(value, search) {\n\t\t\tthis._logsearch(value, search);\n\t\t\tif (search.operator === \"equals\")\n\t\t\t\treturn search.value === value;\n\t\t\telse if (search.operator === \"range\") {\n\t\t\t\tif (value === null)\n\t\t\t\t\treturn false;\n\t\t\t\treturn (search.minvalue === null || search.minvalue <= value) && (search.maxvalue === null || value < search.maxvalue);\n\t\t\t}\n\t\t\telse\n\t\t\t\treturn false;\n\t\t}\n\t}\n);\n\nla.StringControl = ul4._inherit(\n\tla.Control,\n\t{\n\t\ttype: \"string\",\n\n\t\tasjson: function (value) {\n\t\t\treturn value;\n\t\t},\n\n\t\tsearch: function search(value, search) {\n\t\t\tthis._logsearch(value, search);\n\t\t\tif (search.operator === \"equals\")\n\t\t\t\treturn search.value === value;\n\t\t\telse if (search.operator === \"contains\") {\n\t\t\t\tif (search.value === null || value === null)\n\t\t\t\t\treturn search.value === value;\n\t\t\t\telse\n\t\t\t\t\treturn value.toLowerCase().indexOf(search.value.toLowerCase()) >= 0;\n\t\t\t}\n\t\t}\n\t}\n);\n\nla.TextControl = ul4._inherit(\n\tla.StringControl,\n\t{\n\t\tsubtype: \"text\",\n\t\t__type__: \"TextControl\"\n\t}\n);\n\nla.EmailControl = ul4._inherit(\n\tla.StringControl,\n\t{\n\t\tsubtype: \"email\",\n\t\t__type__: \"EmailControl\"\n\t}\n);\n\nla.URLControl = ul4._inherit(\n\tla.StringControl,\n\t{\n\t\tsubtype: \"url\",\n\t\t__type__: \"URLControl\"\n\t}\n);\n\nla.TelControl = ul4._inherit(\n\tla.StringControl,\n\t{\n\t\tsubtype: \"tel\"\n\t}\n);\n\nla.PasswordControl = ul4._inherit(\n\tla.StringControl,\n\t{\n\t\tsubtype: \"password\"\n\t}\n);\n\nla.TextAreaControl = ul4._inherit(\n\tla.StringControl,\n\t{\n\t\tsubtype: \"textarea\",\n\t\t__type__: \"TextAreaControl\"\n\t}\n);\n\nla.DateControl = ul4._inherit(\n\tla.Control,\n\t{\n\t\ttype: \"date\",\n\t\tsubtype: \"date\",\n\t\t__type__: \"DateControl\",\n\n\t\tasjson: function (value) {\n\t\t\tif (value instanceof Date) {\n\t\t\t\tvalue = `${value.getFullYear()}-${value.getMonth() + 1}-${value.getDate()} ${value.getHours()}:${value.getMinutes()}:${value.getSeconds()}`;\n\t\t\t}\n\t\t\treturn value;\n\t\t},\n\n\t\tformatstring: function formatstring(language) {\n\t\t\tlanguage = language || this.app.language;\n\n\t\t\tif (language === \"de\")\n\t\t\t\treturn \"%d.%m.%Y\";\n\t\t\telse\n\t\t\t\treturn \"%m/%d/%Y\";\n\t\t},\n\n\t\t// searchvalue must be ``null``, a ``Date`` object or a string\n\t\tsearch: function search(value, search) {\n\t\t\tthis._logsearch(value, search);\n\n\t\t\tvar searchvalue = search.value;\n\t\t\tif (Object.prototype.toString.call(searchvalue) == \"[object Date]\")\n\t\t\t\tsearchvalue = ul4._format(searchvalue, this.formatstring(), this.app.language);\n\t\t\tif (value !== null)\n\t\t\t\tvalue = ul4._format(value, this.formatstring(), this.app.language);\n\n\t\t\tif (search.operator === \"equals\")\n\t\t\t\treturn searchvalue === value;\n\t\t\telse if (search.operator === \"contains\") {\n\t\t\t\tif (searchvalue === null || value === null)\n\t\t\t\t\treturn searchvalue === value;\n\t\t\t\telse\n\t\t\t\t\treturn value.toLowerCase().indexOf(searchvalue.toLowerCase()) >= 0;\n\t\t\t}\n\t\t\telse\n\t\t\t\treturn false;\n\t\t}\n\t}\n);\n\nla.DatetimeMinuteControl = ul4._inherit(\n\tla.DateControl,\n\t{\n\t\tsubtype: \"datetimeminute\",\n\t\t__type__: \"DatetimeMinuteControl\",\n\n\t\tformatstring: function formatstring(language) {\n\t\t\tlanguage = language || this.app.language;\n\n\t\t\tif (language === \"de\")\n\t\t\t\treturn \"%d.%m.%Y %H:%M\";\n\t\t\telse\n\t\t\t\treturn \"%m/%d/%Y %H:%M\";\n\t\t}\n\t}\n);\n\nla.DatetimeSecondControl = ul4._inherit(\n\tla.DateControl,\n\t{\n\t\tsubtype: \"datetimesecond\",\n\t\t__type__: \"DatetimeMinuteSecond\",\n\n\t\tformatstring: function formatstring(language) {\n\t\t\tlanguage = language || this.app.language;\n\n\t\t\tif (language === \"de\")\n\t\t\t\treturn \"%d.%m.%Y %H:%M:%S\";\n\t\t\telse\n\t\t\t\treturn \"%m/%d/%Y %H:%M:%S\";\n\t\t}\n\t}\n);\n\nla.LookupControl = ul4._inherit(\n\tla.Control,\n\t{\n\t\ttype: \"lookup\",\n\t\t_ul4onattrs: la.Control._ul4onattrs.concat([\"lookupdata\"]),\n\n\t\t// ``search.value`` must be ``null`` or a ``LookupItem`` key\n\t\t// if this control is an applookup ``search.value`` must be an object containing the search criteria for the referenced record\n\t\tsearch: function search(value, search) {\n\t\t\tif (this.lookupapp === null) {\n\t\t\t\tif (search.operator === \"equals\") {\n\t\t\t\t\tif (value === null)\n\t\t\t\t\t\treturn search.value === null;\n\t\t\t\t\telse\n\t\t\t\t\t\treturn value.key === search.value;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t\treturn false;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif (value === null || search.value === null)\n\t\t\t\t\treturn value === search.value;\n\t\t\t\telse\n\t\t\t\t\treturn value.search(search);\n\t\t\t}\n\t\t}\n\t}\n);\n\nla.LookupSelectControl = ul4._inherit(\n\tla.LookupControl,\n\t{\n\t\tsubtype: \"select\",\n\t\t__type__: \"LookupSelectControl\"\n\t}\n);\n\nla.LookupRadioControl = ul4._inherit(\n\tla.LookupControl,\n\t{\n\t\tsubtype: \"radio\",\n\t\t__type__: \"LookupRadioControl\"\n\t}\n);\n\nla.LookupChoiceControl = ul4._inherit(\n\tla.LookupControl,\n\t{\n\t\tsubtype: \"choice\",\n\t\t__type__: \"LookupChoiceControl\"\n\t}\n);\n\nla.AppLookupControl = ul4._inherit(\n\tla.Control,\n\t{\n\t\ttype: \"applookup\",\n\t\t_ul4onattrs: la.Control._ul4onattrs.concat([\"lookupapp\", \"lookupcontrols\"]),\n\n\t\t// ``search.value`` must be an object containing the search criteria for the referenced record\n\t\tsearch: function search(value, search) {\n\t\t\tif (value === null || search.value === null)\n\t\t\t\treturn value === search.value;\n\t\t\telse\n\t\t\t\treturn value.search(search);\n\t\t}\n\t}\n);\n\nla.AppLookupSelectControl = ul4._inherit(\n\tla.AppLookupControl,\n\t{\n\t\tsubtype: \"select\",\n\t\t__type__: \"AppLookupSelectControl\"\n\t}\n);\n\nla.AppLookupRadioControl = ul4._inherit(\n\tla.AppLookupControl,\n\t{\n\t\tsubtype: \"radio\",\n\t\t__type__: \"AppLookupRadioControl\"\n\t}\n);\n\nla.AppLookupChoiceControl = ul4._inherit(\n\tla.AppLookupControl,\n\t{\n\t\tsubtype: \"choice\",\n\t\t__type__: \"AppLookupChoiceControl\"\n\t}\n);\n\nla.MultipleLookupControl = ul4._inherit(\n\tla.LookupControl,\n\t{\n\t\ttype: \"multiplelookup\",\n\n\t\t// search.value must be ``null`` or a ``LookupItem`` key\n\t\t// if this control is an applookup ``search.value`` must be an object containing the search criteria for the referenced record\n\t\tsearch: function search(value, search) {\n\t\t\tif (search.operator === \"equals\") {\n\t\t\t\tif (this.lookupapp === null) {\n\t\t\t\t\tfor (var i = 0; i < value.length; ++i) {\n\t\t\t\t\t\tif (value[i].key === search.value)\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tif (search.value === null)\n\t\t\t\t\t\treturn value.length === 0;\n\t\t\t\t\telse {\n\t\t\t\t\t\tfor (var i = 0; i < value.length; ++i) {\n\t\t\t\t\t\t\tif (value[i].search(search.value))\n\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t\treturn false;\n\t\t}\n\t}\n);\n\nla.MultipleLookupSelectControl = ul4._inherit(\n\tla.MultipleLookupControl,\n\t{\n\t\tsubtype: \"select\",\n\t\t__type__: \"MultipleLookupSelectControl\"\n\t}\n);\n\nla.MultipleLookupCheckboxControl = ul4._inherit(\n\tla.MultipleLookupControl,\n\t{\n\t\tsubtype: \"checkbox\",\n\t\t__type__: \"MultipleLookupCheckboxControl\"\n\t}\n);\n\nla.MultipleAppLookupControl = ul4._inherit(\n\tla.AppLookupControl,\n\t{\n\t\ttype: \"multipleapplookup\",\n\n\t\t// ``search.value`` must be an object containing the search criteria for the referenced record\n\t\tsearch: function search(value, search) {\n\t\t\tif (search.operator === \"equals\") {\n\t\t\t\tif (search.value === null)\n\t\t\t\t\treturn value.length === 0;\n\t\t\t\telse {\n\t\t\t\t\tfor (var i = 0; i < value.length; ++i) {\n\t\t\t\t\t\tif (value[i].search(search.value))\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t\treturn false;\n\t\t}\n\t}\n);\n\nla.MultipleAppLookupSelectControl = ul4._inherit(\n\tla.MultipleAppLookupControl,\n\t{\n\t\tsubtype: \"select\",\n\t\t__type__: \"MultipleAppLookupSelectControl\"\n\t}\n);\n\nla.MultipleAppLookupCheckboxControl = ul4._inherit(\n\tla.MultipleAppLookupControl,\n\t{\n\t\tsubtype: \"checkbox\",\n\t\t__type__: \"MultipleAppLookupCheckboxControl\"\n\t}\n);\n\nla.GeoControl = ul4._inherit(\n\tla.Control,\n\t{\n\t\ttype: \"geo\",\n\n\n\t\tasjson: function (value) {\n\t\t\tif (la.Geo.isprotoof(value))\n\t\t\t\tvalue = `${value.lat}, ${value.long}, ${value.info}`;\n\t\t\treturn value;\n\t\t},\n\n\t\t__type__: \"GeoControl\"\n\t}\n);\n\nla.FileControl = ul4._inherit(\n\tla.Control,\n\t{\n\t\ttype: \"file\",\n\t\t__type__: \"FileControl\"\n\t}\n);\n\nla.ButtonControl = ul4._inherit(\n\tla.Control,\n\t{\n\t\ttype: \"button\",\n\t\t__type__: \"ButtonControl\"\n\t}\n);\n\nla.Field = ul4._inherit(\n\tla.Base,\n\t{\n\t\tcreate: function create(control, record, value) {\n\t\t\tvar field = la.Base.create.call(this);\n\t\t\tfield.control = control;\n\t\t\tfield.record = record;\n\t\t\tfield.value = value;\n\t\t\treturn field;\n\t\t},\n\n\t\tsearch: function search(searchvalue) {\n\t\t\treturn this.control.search(this.value, searchvalue);\n\t\t},\n\n\t\t__repr__: function repr() {\n\t\t\treturn \"<la.Field>\";\n\t\t}\n\t}\n);\n\nla.LookupItem = ul4._inherit(\n\tla.Base,\n\t{\n\t\t_ul4onattrs: [\"key\", \"label\"],\n\n\t\t__repr__: function repr() {\n\t\t\treturn \"<la.LookupItem key=\" + ul4._repr(this.key) + \" label=\" + ul4._repr(this.label) + \">\";\n\t\t}\n\t}\n);\n\nla.User = ul4._inherit(\n\tla.Base,\n\t{\n\t\t_ul4onattrs: [\"_id\", \"id\", \"gender\", \"firstname\", \"surname\", \"initials\", \"email\", \"language\", \"avatarsmall\", \"avatarlarge\", \"keyviews\"],\n\n\t\t__repr__: function repr() {\n\t\t\treturn \"<la.User id=\" + ul4._repr(this.id) + \" firstname=\" + ul4._repr(this.firstname) + \" lastname=\" + ul4._repr(this.lastname) + \" email=\" + ul4._repr(this.email) + \">\";\n\t\t}\n\t}\n);\n\nla.File = ul4._inherit(\n\tla.Base,\n\t{\n\t\t_ul4onattrs: [\"id\", \"url\", \"filename\", \"mimetype\", \"width\", \"height\"],\n\n\t\t__repr__: function repr() {\n\t\t\treturn \"<la.File id=\" + ul4._repr(this.id) + \" url=\" + ul4._repr(this.url) + \" filename=\" + ul4._repr(this.filename) + \">\";\n\t\t}\n\t}\n);\n\nla.Geo = ul4._inherit(\n\tla.Base,\n\t{\n\t\t_ul4onattrs: [\"lat\", \"long\", \"info\"],\n\n\t\t__repr__: function repr() {\n\t\t\treturn \"<la.Geo lat=\" + ul4._repr(this.lat) + \" long=\" + ul4._repr(this.long) + \" info=\" + ul4._repr(this.info) + \">\";\n\t\t}\n\t}\n);\n\nla.Attachment = ul4._inherit(\n\tla.Base,\n\t{\n\t\t_ul4onattrs: [\"id\", \"record\", \"label\", \"active\"],\n\n\t\t__repr__: function repr() {\n\t\t\treturn \"<la.\" + this.__type__ + \" id=\" + ul4._repr(this.id) + \" label=\" + ul4._repr(this.label) + \">\";\n\t\t}\n\t}\n);\n\nla.NoteAttachment = ul4._inherit(\n\tla.Attachment,\n\t{\n\t\ttype: \"noteattachment\",\n\t\t__type__: \"NoteAttachment\",\n\t\t_ul4onattrs: la.Attachment._ul4onattrs.concat([\"value\"])\n\t}\n);\n\nla.URLAttachment = ul4._inherit(\n\tla.Attachment,\n\t{\n\t\ttype: \"urlattachment\",\n\t\t__type__: \"URLAttachment\",\n\t\t_ul4onattrs: la.Attachment._ul4onattrs.concat([\"value\"])\n\t}\n);\n\nla.FileAttachment = ul4._inherit(\n\tla.Attachment,\n\t{\n\t\ttype: \"fileattachment\",\n\t\t__type__: \"FileAttachment\",\n\t\t_ul4onattrs: la.Attachment._ul4onattrs.concat([\"value\"])\n\t}\n);\n\nla.ImageAttachment = ul4._inherit(\n\tla.Attachment,\n\t{\n\t\ttype: \"imageattachment\",\n\t\t__type__: \"ImageAttachment\",\n\t\t_ul4onattrs: la.Attachment._ul4onattrs.concat([\"original\", \"thumb\", \"small\", \"medium\", \"large\"])\n\t}\n);\n\nla.JSONAttachment = ul4._inherit(\n\tla.Attachment,\n\t{\n\t\ttype: \"jsonattachment\",\n\t\t__type__: \"JSONAttachment\",\n\t\t_ul4onattrs: la.Attachment._ul4onattrs.concat([\"value\"]),\n\t\t_dumpUL4ONAttr: function _dumpUL4ONAttr(name) {\n\t\t\tif (name === \"value\")\n\t\t\t\treturn ul4._asjson(this.value);\n\t\t\telse\n\t\t\t\treturn this[name];\n\t\t},\n\n\t\t_loadUL4ONAttr: function _loadUL4ONAttr(name, value) {\n\t\t\tif (name === \"value\")\n\t\t\t\tthis.value = ul4._fromjson(value);\n\t\t\telse\n\t\t\t\tthis[name] = value\n\t\t}\n\t}\n);\n\nla.Installation = ul4._inherit(\n\tla.Base,\n\t{\n\t\t_ul4onattrs: [\"id\", \"name\"],\n\n\t\t__repr__: function repr() {\n\t\t\treturn \"<la.Installation id=\" + ul4._repr(this.id) + \" name=\" + ul4._repr(this.name) + \">\";\n\t\t}\n\t}\n);\n\nla.Category = ul4._inherit(\n\tla.Base,\n\t{\n\t\t_ul4onattrs: [\"id\", \"identifier\", \"name\", \"order\", \"parent\", \"children\", \"apps\"],\n\n\t\t__repr__: function repr() {\n\t\t\tvar v = [];\n\t\t\tvar category = this;\n\t\t\twhile (category !== null) {\n\t\t\t\tv.splice(0, 0, category.identifier);\n\t\t\t\tcategory = category.parent;\n\t\t\t}\n\t\t\treturn \"<la.Category id=\" + ul4._repr(this.id) + \" identifierpath=\" + ul4._repr(v.join(\"/\")) + + \" name=\" + ul4._repr(this.name) + \">\";\n\t\t}\n\t}\n);\n\nla.KeyView = ul4._inherit(\n\tla.Base,\n\t{\n\t\t_ul4onattrs: [\"id\", \"identifier\", \"name\", \"key\", \"user\"],\n\n\t\t__repr__: function repr() {\n\t\t\treturn \"<la.KeyView id=\" + ul4._repr(this.id) + \" identifier=\" + ul4._repr(this.identifier) + \">\";\n\t\t}\n\t}\n);\n\nla.AppParameter = ul4._inherit(\n\tla.Base,\n\t{\n\t\t_ul4onattrs: [\"id\", \"app\", \"identifier\", \"description\", \"value\"],\n\n\t\t__repr__: function repr() {\n\t\t\treturn \"<la.AppParameter id=\" + ul4._repr(this.id) + \" identifier=\" + ul4._repr(this.identifier) + \">\";\n\t\t}\n\t}\n);\n\nvar classes = [\n\t\"Globals\",\n\t\"App\",\n\t\"View\",\n\t\"DataSource\",\n\t\"Record\",\n\t\"BoolControl\",\n\t\"IntControl\",\n\t\"NumberControl\",\n\t\"TextControl\",\n\t\"EmailControl\",\n\t\"URLControl\",\n\t\"TelControl\",\n\t\"PasswordControl\",\n\t\"TextAreaControl\",\n\t\"DateControl\",\n\t\"DatetimeMinuteControl\",\n\t\"DatetimeSecondControl\",\n\t\"LookupControl\",\n\t\"LookupSelectControl\",\n\t\"LookupRadioControl\",\n\t\"LookupChoiceControl\",\n\t\"AppLookupControl\",\n\t\"AppLookupSelectControl\",\n\t\"AppLookupRadioControl\",\n\t\"AppLookupChoiceControl\",\n\t\"MultipleLookupControl\",\n\t\"MultipleLookupSelectControl\",\n\t\"MultipleLookupCheckboxControl\",\n\t\"MultipleAppLookupControl\",\n\t\"MultipleAppLookupSelectControl\",\n\t\"MultipleAppLookupCheckboxControl\",\n\t\"GeoControl\",\n\t\"FileControl\",\n\t\"ButtonControl\",\n\t\"Field\",\n\t\"LookupItem\",\n\t\"User\",\n\t\"File\",\n\t\"Geo\",\n\t\"NoteAttachment\",\n\t\"URLAttachment\",\n\t\"FileAttachment\",\n\t\"ImageAttachment\",\n\t\"JSONAttachment\",\n\t\"Installation\",\n\t\"Category\",\n\t\"KeyView\",\n\t\"AppParameter\"\n];\n\nfor (var i = 0; i < classes.length; ++i) {\n\tvar name = classes[i];\n\tvar object = la[name];\n\tul4on.register(\"de.livingapps.appdd.\" + name.toLowerCase(), object);\n}\n\nexport default la;","import axios, { AxiosResponse } from 'axios';\n///@ts-ignore\nimport livingApi from './modules/livingapi';\n///@ts-ignore\nimport { ul4, ul4on } from './modules/ul4';\nimport * as https from 'https';\n\nexport type Auth_Token = string;\nexport type LivingApi = any;\nexport type LAPIRecord = any;\nlet commonjs = (typeof module === 'object' && module.exports);\nexport interface LivingSDKOptions {\n\turl?: string;\n\tloginRequired?: boolean;\n}\n\nexport class LivingSDK {\n\tprivate _password: string;\n\tprivate _userName: string;\n\tprivate _options: LivingSDKOptions\n\tprivate hostName: string;\n\tprivate session: Promise<string | undefined>;\n\tconstructor(options: LivingSDKOptions = {}, username?: string, password?: string) {\n\t\t/** @type {String} */\n\t\tthis._password = password || '';\n\t\t/** @type {String} */\n\t\tthis._userName = username || '';\n\t\t/** @type {Object} */\n\t\tthis._options = {\n\t\t\t/** @type {String} */\n\t\t\turl: options.url || 'https://my.living-apps.de',\n\t\t\t/** @type {Boolean} */\n\t\t\tloginRequired: options.loginRequired !== undefined ? options.loginRequired : true\n\t\t};\n\t\tthis._options.url = this._options.url.lastIndexOf('/') === this._options.url.length - 1 ? this._options.url : `${this._options.url}/`;\n\t\tthis.hostName = this._options.url.split('//')[1].substr(0, this._options.url.split('//')[1].length - 1);\n\t\tif (this._options.loginRequired && !this._userName) {\n\t\t\tthrow new Error('[LivingSDK] You want to login without a username')\n\t\t}\n\t\tthis.session = this.login();\n\t}\n\n\t/**\n\t * get token for Session\n\t * @return {Promise.<String>}\n\t */\n\tlogin(): Promise<Auth_Token | undefined> {\n\t\tif (!this._options.loginRequired) {\n\t\t\treturn Promise.resolve(undefined);\n\t\t}\n\t\tlet url = `https://${this.hostName}/gateway/login`;\n\t\treturn axios.post(url, {\n\t\t\tusername: this._userName,\n\t\t\tpassword: this._password\n\t\t}, {\n\t\t\t\thttpsAgent: commonjs ? new https.Agent({\n\t\t\t\t\tecdhCurve: 'auto'\n\t\t\t\t}) : undefined,\n\t\t\t\theaders: {\n\t\t\t\t\t\"Content-Type\": \"application/json\"\n\t\t\t\t}\n\t\t\t})\n\t\t\t.then((a: any) => a.data.auth_token);\n\t}\n\n\tget(appId: string, templateName?: string): Promise<LivingApi> {\n\t\treturn this.session.then((auth_token: Auth_Token | undefined) => {\n\t\t\treturn axios.get(`https://${this.hostName}/gateway/apps/${appId}${templateName !== undefined ? '?template=' + templateName : ''}`,\n\t\t\t\t{\n\t\t\t\t\thttpsAgent: commonjs ? new https.Agent({\n\t\t\t\t\t\tecdhCurve: 'auto'\n\t\t\t\t\t}) : undefined,\n\t\t\t\t\theaders: {\n\t\t\t\t\t\t'X-La-Auth-Token': auth_token !== undefined ? auth_token : '',\n\t\t\t\t\t\tAccept: 'application/la-ul4on'\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.then((res: AxiosResponse) => {\n\t\t\t\t\tlet dump: any;\n\t\t\t\t\tdump = ul4on.loads(res.data);\n\t\t\t\t\tdump.get('globals').Login = this;\n\t\t\t\t\treturn <LivingApi>dump;\n\t\t\t\t});\n\t\t});\n\t}\n\n\t_insert(app: any, values: any): Promise<LAPIRecord> {\n\t\treturn this.session.then((auth_token) => {\n\n\t\t\tlet fields: any = {};\n\n\t\t\tfor (let ident in values) {\n\t\t\t\tif (!app.controls.has(ident)) {\n\t\t\t\t\tthrow new Error(`insert() got an unexpected keyword argument ${ident}`);\n\t\t\t\t}\n\n\t\t\t\tfields[ident] = app.controls.get(ident).asjson(values[ident]);\n\t\t\t}\n\t\t\tlet data: any = {}; {\n\t\t\t}\n\t\t\tdata.id = app.id; \n\t\t\tdata.data = [{ 'fields': fields }];\n\t\t\treturn axios.post(`https://${this.hostName}/gateway/v1/appdd/${app.id}.json`, {\n\t\t\t\tappdd: data\n\t\t\t}, {\n\t\t\t\t\thttpsAgent: commonjs ? new https.Agent({\n\t\t\t\t\t\tecdhCurve: 'auto'\n\t\t\t\t\t}) : undefined,\n\t\t\t\t\theaders: {\n\t\t\t\t\t\t'X-La-Auth-Token': auth_token !== undefined ? auth_token : '',\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.then((res: AxiosResponse) => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tHTTPstatusCode: res.status,\n\t\t\t\t\t\trecordid: res.data.id,\n\t\t\t\t\t\tRecord: livingApi.Record.create({\n\t\t\t\t\t\t\tid: res.data.id,\n\t\t\t\t\t\t\tcreatedat: new Date(Date.now()),\n\t\t\t\t\t\t\tupdatedat: null,\n\t\t\t\t\t\t\tupdatedby: null,\n\t\t\t\t\t\t\tupdatecount: 0\n\t\t\t\t\t\t})\n\t\t\t\t\t};\n\t\t\t\t})\n\t\t})\n\n\t}\n\n\t_update(record: LAPIRecord, values: any) {\n\t\treturn this.session.then((auth_token: Auth_Token | undefined) => {\n\t\t\tlet fields: any = {};\n\t\t\tlet app = record.app;\n\t\t\tfor (let ident in values) {\n\t\t\t\tif (!app.controls.has(ident)) {\n\t\t\t\t\tthrow new Error(`update() got an unexpected keyword argument ${ident}`);\n\t\t\t\t}\n\t\t\t\tfields[ident] = values[ident];\n\t\t\t}\n\t\t\tlet data: any = {};\n\t\t\tdata.id = app.id;\n\t\t\tdata.data = [{ 'id': record.id, 'fields': fields }];\n\t\t\tconsole.log(`https://${this.hostName}/gateway/v1/appdd/${app.id}.json`);\n\t\t\treturn axios.post(`https://${this.hostName}/gateway/v1/appdd/${app.id}.json`, {\n\t\t\t\tappdd: data\n\t\t\t}, {\n\t\t\t\t\thttpsAgent: commonjs ? new https.Agent({\n\t\t\t\t\t\tecdhCurve: 'auto'\n\t\t\t\t\t}) : undefined,\n\t\t\t\t\theaders: {\n\t\t\t\t\t\t'X-La-Auth-Token': auth_token !== undefined ? auth_token : '',\n\t\t\t\t\t\t'Content-Type': 'application/json'\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.then((res: AxiosResponse) => {\n\t\t\t\t\tlet body = res.data;\n\t\t\t\t\tfor (let ident in values)\n\t\t\t\t\t\trecord.fields.get(ident).value = values[ident];\n\t\t\t\t\tlet returnObj = {\n\t\t\t\t\t\tHTTPstatusCode: res.status,\n\t\t\t\t\t\trecordid: body.id,\n\t\t\t\t\t\tRecord: record\n\t\t\t\t\t};\n\t\t\t\t\treturn returnObj;\n\t\t\t\t});\n\t\t});\n\t}\n\n\t_delete(record: LAPIRecord) {\n\t\tlet app = record.app;\n\t\treturn this.session.then((auth_token: Auth_Token | undefined) => {\n\t\t\treturn axios.delete(`https://${this.hostName}/gateway/v1/appdd/${app.id}/${record.id}.json`, {\n\t\t\t\thttpsAgent: commonjs ? new https.Agent({\n\t\t\t\t\tecdhCurve: 'auto'\n\t\t\t\t}) : undefined,\n\t\t\t\theaders: {\n\t\t\t\t\t'X-La-Auth-Token': auth_token !== undefined ? auth_token : '',\n\t\t\t\t}\n\t\t\n\t\t\t})\n\t\t})\n\t}\n}\n\t\nexport default LivingSDK;"],"names":["ul4","ul4on","version","_registry","_havemap","Map","prototype","forEach","_havemapconstructor","size","error","_haveset","Set","_havesetconstructor","_makemap","map","i","arguments","length","argument","set","_emptymap","_setmap","key","value","__proto__","_makeset","this","_Set","create","add","register","name","obj","ul4onname","dumps","indent","encoder","Encoder","dump","finish","loads","data","registry","Decoder","load","_clone","_level","_strings2index","_ids2index","_backrefs","_line","line","oldindent","push","join","type","Math","round","index","_str_repr","_iscolor","r","g","b","a","_isdate","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","getMilliseconds","_istimedelta","days","seconds","microseconds","_ismonthdelta","months","_typeof","isa","slice","start","stop","ul4ondump","__id__","_islist","_ismap","_isdict","_isset","decoder","pos","backrefs","readchar","charAt","readcharoreof","readblackchar","re_white","c","match","read","result","substring","backup","readnumber","re_digits","parseFloat","NaN","_repr","_beginfakeloading","oldpos","_endfakeloading","_readescape","escapechar","chars","codepoint","parseInt","isNaN","String","fromCharCode","typecode","delimiter","c2","Color","_r","_g","_b","_a","Date","setFullYear","setDate","setMonth","setHours","setMinutes","setSeconds","setMilliseconds","TimeDelta","_days","_seconds","_microseconds","MonthDelta","_months","proto","ul4onload","loadcontent","self","next","done","_rvalidchars","_rvalidescape","_rvalidtokens","_rvalidbraces","_simpleclone","F","__prototype__","Proto","_nextid","_extend","attrs","_simpleinherit","baseobj","_inherit","_map2object","newobj","TypeError","_bound","upper","_stacktrace","exc","output","_type","s","toString","cause","_internal_call","context","f","functioncontext","signature","needscontext","needsobject","args","kwargs","finalargs","ArgumentError","bindObject","bindArray","unshift","apply","_callfunction","_ul4_name","_ul4_signature","_ul4_needsobject","_ul4_needscontext","repr","_callobject","_ul4_callsignature","_ul4_callneedsobject","_ul4_callneedscontext","__call__","_callrender","_ul4_rendersignature","_ul4_renderneedsobject","_ul4_renderneedscontext","__render__","_call","_unpackvar","lvalue","newvalue","iter","_iter","item","ValueError","concat","_formatsource","out","finalout","level","needlf","j","_eq","obj1","obj2","numbertypes","__eq__","indexOf","getTime","_isobject","hasOwnProperty","has","get","_ne","__ne__","_unorderable","operator","_cmp","v1","v2","res","_isul4set","in1only","in2only","items","_lt","__lt__","_le","__le__","_gt","__gt__","_ge","__ge__","_isiter","__iter__","keys","values","str","ascii","squote","dquote","quote","escape","code","charCodeAt","test","_lpad","_date_repr","year","month","day","hour","minute","second","ms","_map_repr","v","_repr_internal","_list_repr","_set_repr","_object_repr","__repr__","_ascii","_date_str","_str","__str__","_bool","__bool__","_int","base","_isint","floor","_float","_list","_set","_len","sequence","__type__","_istemplate","_isfunction","_any","iterable","_all","_isundefined","_isdefined","_isnone","_isbool","_isfloat","_isstr","Object","call","_isexception","Error","_str_repeat","rep","_list_repeat","list","_str_json","_asjson","_fromjson","string","_strip","root","JSON","parse","replace","Function","_asul4on","_fromul4on","_format_date","fmt","lang","translation","de","ml","ws","wl","xf","Xf","cf","en","fr","es","it","da","sv","nl","pt","cs","sk","pl","hr","sr","ro","hu","tr","ru","zh","ko","ja","inspec","getDay","_format","_yearday","_week","_format_int","work","fill","align","sign","alternate","minimumwidth","minimumwidthStr","exec","neg","toUpperCase","pad","padBefore","padAfter","translations","toLowerCase","split","len","_rpad","isprotoof","other","Signature","argNames","remargs","nextDefault","lastArgname","remkwargs","argName","defaultValue","substr","decname","arg","prefix","argObject","expose","options","Context","vars","indents","_output","inheritvars","withindent","replaceoutput","clone","getoutput","Exception","__getattr__","attrname","InternalException","ReturnException","exception","BreakException","ContinueException","SyntaxError","LValueRequiredError","operation","message","LocationError","location","_templateprefix","template","parenttemplate","first","_template","Tag","tag","_outerpos","_innerpos","templateprefix","outerpos","innerpos","source","suffix","text","underline","lineno","colno","AST","ast","_handle_eval","_eval","_handle_eval_set","_eval_set","_handle_eval_modify","_eval_modify","_ul4onattrs","__setitem__","TextAST","_text","IndentAST","_maketext","LineEndAST","tagpos","codepos","tago","CodeAST","ConstAST","constant","ItemArgBase","_handle_eval_list","_eval_list","_handle_eval_dict","_eval_dict","_handle_eval_call","_eval_call","SeqItemAST","seqitem","UnpackSeqItemAST","unpackseqitem","DictItemAST","dictitem","UnpackDictItemAST","unpackdictitem","PosArgAST","KeywordArgAST","UnpackListArgAST","UnpackDictArgAST","ListAST","ListCompAST","varname","container","condition","listcomp","localcontext","varitems","DictAST","dict","DictCompAST","SetAST","SetCompAST","setcomp","GenExprAST","genexp","VarAST","variable","_get","_modify","functions","_ido","UnaryAST","unary","typename","_do","NegAST","__neg__","BitNotAST","NotAST","IfAST","objif","objcond","objelse","ifexpr","condvalue","ReturnAST","PrintAST","PrintXAST","_xmlescape","BinaryAST","binary","ItemAST","__getitem__","splice","NotSubscriptableError","IsAST","IsNotAST","EQAST","NEAST","LTAST","LEAST","GTAST","GEAST","ContainsAST","__contains__","NotContainsAST","AddAST","__add__","__radd__","_append","SubAST","__sub__","__rsub__","_date_sub","swap","t","year1","yearday1","year2","yearday2","diffdays","_date","hours1","minutes1","seconds1","hours2","minutes2","diffseconds","diffmilliseconds","MulAST","__mul__","__rmul__","targetsize","FloorDivAST","__floordiv__","__rfloordiv__","TrueDivAST","__truediv__","__rtruediv__","ModAST","div","mod","ShiftLeftAST","ShiftRightAST","BitAndAST","BitXOrAST","BitOrAST","AndAST","OrAST","AttrAST","attr","object","sub","end","_count","_find","_rfind","old","new_","count","_replace","_lstrip","_rstrip","sep","_split","_rsplit","keepends","_splitlines","_capitalize","_join","_startswith","_endswith","_insert","_pop","_weekday","firstweekday","_mimeformat","_isoformat","default_","_items","_values","_update","_clear","realresult","__setattr__","oldvalue","CallAST","_makeargs","RenderAST","render","SliceAST","index1","index2","SetVarAST","changevar","ModifyVarAST","_operator","AddVarAST","SubVarAST","MulVarAST","TrueDivVarAST","FloorDivVarAST","ModVarAST","ShiftLeftVarAST","ShiftRightVarAST","BitAndVarAST","BitXOrVarAST","BitOrVarAST","BlockAST","block","endtag","content","ForBlockAST","for_","_str_varname","WhileBlockAST","while_","cond","BreakAST","ContinueAST","CondBlockAST","_execute","ConditionalBlockAST","_strname","IfBlockAST","ElIfBlockAST","ElseBlockAST","Template","whitespace","startdelim","enddelim","docpos","_jsfunction","_asts","SignatureAST","closure","TemplateClosure","_renderbound","_rendersbound","renders","doc","_callbound","params","param","_rgb","_csv","_chr","_ord","_hex","number","_oct","_bin","_min","_max","_sum","_first","_last","_sorted","reverse","cmp","sort","keyvalue","s1","s2","_range","step","lower","heigher","abs","_slice","_urlquote","encodeURIComponent","_urlunquote","decodeURIComponent","_reversed","_random","random","_randrange","n","width","_randchoice","iscolor","_round","x","digits","threshhold","pow","_md5","md5","_enumerate","_isfirst","isfirst","_islast","lastitem","_isfirstlast","_enumfl","_zip","iterables","iters","_abs","__abs__","microsecond","_timedelta","_monthdelta","_hls","h","l","m1","m2","_v","hue","_hsv","p","q","defaultvalue","now","utcnow","getUTCFullYear","getUTCMonth","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","getUTCMilliseconds","int","float","bool","format","any","all","zip","isundefined","isdefined","isnone","isbool","isint","isfloat","isstr","isdate","istimedelta","ismonthdelta","istemplate","isfunction","islist","isset","isdict","isexception","asjson","fromjson","asul4on","fromul4on","enumerate","islast","isfirstlast","enumfl","date","timedelta","monthdelta","rgb","hls","hsv","xmlescape","csv","chr","ord","hex","oct","bin","min","max","sum","last","sorted","range","urlquote","urlunquote","reversed","randrange","randchoice","part","lastIndexOf","startpos","lineendlen","endpos","lastIndex","resultlist","d","yearday","jan1weekday","_isleap","leap","others","clear","lum","hlsa","hsva","witha","withlum","abslum","rellum","rc","gc","bc","maxc","minc","td","total_microseconds","total_seconds","minutes","hours","_add","millisecond","myValue","otherValue","hasSeconds","hasMicroseconds","md","targetmonth","classes","la","Base","_dumpUL4ONAttr","iteritem","_loadUL4ONAttr","_setDefaultUL4ONAttr","Globals","geodist","geo1","geo2","sqsin","sin","sqcos","cos","deg2rad","PI","flat","lat1","lat","long1","long","lat2","G","S","C","w","atan","sqrt","D","T","H2","FlashMessage","title","App","insert","globals","Login","id","View","DataSource","identifier","Record","delete","app","_delete","update","search","fieldsearch","fields","_sparsevalues","_fields","defineProperty","controls","control","fieldvalue","field","Field","Control","subtype","_logsearch","BoolControl","IntControl","NumberControl","minvalue","maxvalue","StringControl","TextControl","EmailControl","URLControl","TelControl","PasswordControl","TextAreaControl","DateControl","formatstring","language","searchvalue","DatetimeMinuteControl","DatetimeSecondControl","LookupControl","lookupapp","LookupSelectControl","LookupRadioControl","LookupChoiceControl","AppLookupControl","AppLookupSelectControl","AppLookupRadioControl","AppLookupChoiceControl","MultipleLookupControl","MultipleLookupSelectControl","MultipleLookupCheckboxControl","MultipleAppLookupControl","MultipleAppLookupSelectControl","MultipleAppLookupCheckboxControl","GeoControl","Geo","info","FileControl","ButtonControl","record","LookupItem","label","User","firstname","lastname","email","File","url","filename","Attachment","NoteAttachment","URLAttachment","FileAttachment","ImageAttachment","JSONAttachment","Installation","Category","category","parent","KeyView","AppParameter","username","loginRequired","_userName","ecdhCurve","commonjs","ident","undefined","httpsAgent"],"mappings":"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"}