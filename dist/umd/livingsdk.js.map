{"version":3,"file":"livingsdk.js","sources":["../es2015/modules/ul4.js","../es2015/modules/livingapi.js","../../src/livingsdk.ts"],"sourcesContent":["/*!\n * UL4/UL4ON JavaScript Library\n * http://www.livinglogic.de/Python/ul4c/\n * http://www.livinglogic.de/Python/ul4on/\n *\n * Copyright 2011-2018 by LivingLogic AG, Bayreuth/Germany\n * Copyright 2011-2018 by Walter DÃ¶rwald\n *\n * All Rights Reserved\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\n/*jslint vars: true */\nexport let ul4 = {};\n\nlet iscommon = (typeof module === 'object' && module.exports);\n\n\tul4.version = \"46\";\n\n\t//\n\t// UL4ON\n\t//\n\n\tul4._registry = {};\n\n\tul4._havemap = (typeof(Map) === \"function\" && typeof(Map.prototype.forEach) === \"function\");\n\n\tul4._havemapconstructor = (function ()\n\t{\n\t\tif (ul4._havemap)\n\t\t{\n\t\t\ttry\n\t\t\t{\n\t\t\t\tif (new Map([[1, 2]]).size == 1)\n\t\t\t\t\treturn true;\n\t\t\t}\n\t\t\tcatch (error)\n\t\t\t{\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t})();\n\n\tul4._haveset = (typeof(Set) === \"function\" && typeof(Set.prototype.forEach) === \"function\");\n\n\tul4._havesetconstructor = (function ()\n\t{\n\t\tif (ul4._haveset)\n\t\t{\n\t\t\ttry\n\t\t\t{\n\t\t\t\tif (new Set([1, 2]).size == 2)\n\t\t\t\t\treturn true;\n\t\t\t}\n\t\t\tcatch (error)\n\t\t\t{\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\t\telse\n\t\t\treturn false;\n\t})();\n\n\t// helper functions that work with Maps and objects\n\tif (ul4._havemap)\n\t{\n\t\tul4._makemap = function _makemap(...items)\n\t\t{\n\t\t\tlet map = new Map();\n\n\t\t\tfor (let i = 0; i < items.length; ++i)\n\t\t\t{\n\t\t\t\tlet [key, value] = items[i];\n\t\t\t\tmap.set(key, value);\n\t\t\t}\n\t\t\treturn map;\n\t\t};\n\n\t\tul4._setmap = function _setmap(map, key, value)\n\t\t{\n\t\t\tif (map.__proto__ === Map.prototype)\n\t\t\t\tmap.set(key, value);\n\t\t\telse\n\t\t\t\tmap[key] = value;\n\t\t};\n\n\t\tul4._emptymap = function _emptymap()\n\t\t{\n\t\t\treturn new Map();\n\t\t};\n\n\t\tul4._getmap = function _getmap(map, key, value)\n\t\t{\n\t\t\tif (map.__proto__ === Map.prototype)\n\t\t\t\treturn map.get(key);\n\t\t\telse\n\t\t\t\treturn map[key];\n\t\t};\n\t}\n\telse\n\t{\n\t\tul4._makemap = function _makemap(...items)\n\t\t{\n\t\t\tlet map = {};\n\n\t\t\tfor (let i = 0; i < items.length; ++i)\n\t\t\t{\n\t\t\t\tlet [key, value] = items[i];\n\t\t\t\tmap[key] = value;\n\t\t\t}\n\t\t\treturn map;\n\t\t};\n\n\t\tul4._setmap = function _setmap(map, key, value)\n\t\t{\n\t\t\tmap[key] = value;\n\t\t};\n\n\t\tul4._emptymap = function _emptymap()\n\t\t{\n\t\t\treturn {};\n\t\t};\n\n\t\tul4._getmap = function _getmap(map, key, value)\n\t\t{\n\t\t\treturn map[key];\n\t\t};\n\t}\n\n\t// Function used for making sets, when the Set constructor doesn't work (or we don't have sets)\n\tif (ul4._haveset)\n\t{\n\t\tul4._emptyset = function _emptyset()\n\t\t{\n\t\t\treturn new Set();\n\t\t};\n\t}\n\telse\n\t{\n\t\tul4._emptyset = function _emptyset()\n\t\t{\n\t\t\treturn new ul4._Set();\n\t\t};\n\t}\n\n\tul4._makeset = function _makeset(...items)\n\t{\n\t\tlet set = ul4._emptyset();\n\n\t\tfor (let i = 0; i < items.length; ++i)\n\t\t\tset.add(items[i]);\n\t\treturn set;\n\t};\n\n\t// Register the constructor function ``f`` under the name ``name`` with the UL4ON machinery\n\tul4.register = function register(name, f)\n\t{\n\t\tf.prototype.ul4onname = name;\n\t\tul4._registry[name] = f;\n\t};\n\n\t// Return a string that contains the object ``obj`` in the UL4ON serialization format\n\tul4.dumps = function dumps(obj, indent)\n\t{\n\t\tlet encoder = new ul4.Encoder(indent);\n\t\tencoder.dump(obj);\n\t\treturn encoder.finish();\n\t};\n\n\t// Load an object from the string ``data``.\n\t// ``data`` must contain the object in the UL4ON serialization format\n\t// ``registry`` may be null or a dictionary mapping type names to constructor functions\n\tul4.loads = function loads(data, registry)\n\t{\n\t\tlet decoder = new ul4.Decoder(data, registry);\n\t\treturn decoder.load();\n\t};\n\n\t// Helper class for encoding\n\tul4.Encoder = class Encoder\n\t{\n\t\t// Create a new Encoder object\n\t\tconstructor(indent=null)\n\t\t{\n\t\t\tthis.indent = indent;\n\t\t\tthis.data = [];\n\t\t\tthis._level = 0;\n\t\t\tthis._strings2index = {};\n\t\t\tthis._ids2index = {};\n\t\t\tthis._backrefs = 0;\n\t\t}\n\n\t\t_line(line, ...args)\n\t\t{\n\t\t\tif (this.indent !== null)\n\t\t\t{\n\t\t\t\tfor (let i = 0; i < this._level; ++i)\n\t\t\t\t\tthis.data.push(this.indent);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tif (this.data.length)\n\t\t\t\t\tthis.data.push(\" \");\n\t\t\t}\n\t\t\tthis.data.push(line);\n\n\t\t\tif (args.length)\n\t\t\t{\n\t\t\t\tlet oldindent = this.indent;\n\t\t\t\tthis.indent = null;\n\t\t\t\tfor (let i = 0; i < args.length; ++i)\n\t\t\t\t\tthis.dump(args[i]);\n\t\t\t\tthis.indent = oldindent;\n\t\t\t}\n\n\t\t\tif (this.indent !== null)\n\t\t\t\tthis.data.push(\"\\n\");\n\t\t}\n\n\t\t// Return the complete string written to the buffer\n\t\tfinish()\n\t\t{\n\t\t\treturn this.data.join(\"\");\n\t\t}\n\n\t\tdump(obj)\n\t\t{\n\t\t\tif (obj === null)\n\t\t\t\tthis._line(\"n\");\n\t\t\telse if (typeof(obj) == \"boolean\")\n\t\t\t\tthis._line(obj ? \"bT\" : \"bF\");\n\t\t\telse if (typeof(obj) == \"number\")\n\t\t\t{\n\t\t\t\tlet type = (Math.round(obj) == obj) ? \"i\" : \"f\";\n\t\t\t\tthis._line(type + obj);\n\t\t\t}\n\t\t\telse if (typeof(obj) == \"string\")\n\t\t\t{\n\t\t\t\tlet index = this._strings2index[obj];\n\t\t\t\tif (typeof(index) !== \"undefined\")\n\t\t\t\t{\n\t\t\t\t\tthis._line(\"^\" + index);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tthis._strings2index[obj] = this._backrefs++;\n\t\t\t\t\tlet dump = ul4._str_repr(obj).replace(\"<\", \"\\\\x3c\");\n\t\t\t\t\tthis._line(\"S\" + dump);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (ul4._iscolor(obj))\n\t\t\t\tthis._line(\"c\", obj.r(), obj.g(), obj.b(), obj.a());\n\t\t\telse if (ul4._isdate(obj))\n\t\t\t\tthis._line(\"x\", obj.year(), obj.month(), obj.day());\n\t\t\telse if (ul4._isdatetime(obj))\n\t\t\t\tthis._line(\"z\", obj.getFullYear(), obj.getMonth()+1, obj.getDate(), obj.getHours(), obj.getMinutes(), obj.getSeconds(), obj.getMilliseconds() * 1000);\n\t\t\telse if (ul4._istimedelta(obj))\n\t\t\t\tthis._line(\"t\", obj.days(), obj.seconds(), obj.microseconds());\n\t\t\telse if (ul4._ismonthdelta(obj))\n\t\t\t\tthis._line(\"m\", obj.months());\n\t\t\telse if (obj instanceof ul4.slice)\n\t\t\t\tthis._line(\"r\", obj.start, obj.stop);\n\t\t\telse if (obj.ul4onname && obj.ul4ondump)\n\t\t\t{\n\t\t\t\tif (obj.__id__)\n\t\t\t\t{\n\t\t\t\t\tlet index = this._ids2index[obj.__id__];\n\t\t\t\t\tif (typeof(index) != \"undefined\")\n\t\t\t\t\t{\n\t\t\t\t\t\tthis._line(\"^\" + index);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tthis._ids2index[obj.__id__] = this._backrefs++;\n\t\t\t\t}\n\t\t\t\tthis._line(\"O\", obj.ul4onname);\n\t\t\t\t++this._level;\n\t\t\t\tobj.ul4ondump(this);\n\t\t\t\t--this._level;\n\t\t\t\tthis._line(\")\");\n\t\t\t}\n\t\t\telse if (ul4._islist(obj))\n\t\t\t{\n\t\t\t\tthis._line(\"l\");\n\t\t\t\t++this._level;\n\t\t\t\tfor (let i = 0; i < obj.length; ++i)\n\t\t\t\t\tthis.dump(obj[i]);\n\t\t\t\t--this._level;\n\t\t\t\tthis._line(\"]\");\n\t\t\t}\n\t\t\telse if (ul4._ismap(obj))\n\t\t\t{\n\t\t\t\tthis._line(\"e\");\n\t\t\t\t++this._level;\n\t\t\t\tobj.forEach(function(value, key) {\n\t\t\t\t\tthis.dump(key);\n\t\t\t\t\tthis.dump(value);\n\t\t\t\t}, this);\n\t\t\t\t--this._level;\n\t\t\t\tthis._line(\"}\");\n\t\t\t}\n\t\t\telse if (ul4._isdict(obj))\n\t\t\t{\n\t\t\t\tthis._line(\"d\");\n\t\t\t\t++this._level;\n\t\t\t\tfor (let key in obj)\n\t\t\t\t{\n\t\t\t\t\tthis.dump(key);\n\t\t\t\t\tthis.dump(obj[key]);\n\t\t\t\t}\n\t\t\t\t--this._level;\n\t\t\t\tthis._line(\"}\");\n\t\t\t}\n\t\t\telse if (ul4._isset(obj))\n\t\t\t{\n\t\t\t\tthis._line(\"y\");\n\t\t\t\t++this._level;\n\t\t\t\tobj.forEach(function(value) {\n\t\t\t\t\tthis.dump(value);\n\t\t\t\t}, this);\n\t\t\t\t--this._level;\n\t\t\t\tthis._line(\"}\");\n\t\t\t}\n\t\t\telse\n\t\t\t\tthrow new ul4.ValueError(\"can't create UL4ON dump of object \" + ul4._repr(obj));\n\t\t}\n\t};\n\n\t// Helper class for decoding\n\tul4.Decoder = class Decoder\n\t{\n\t\t// Creates a new decoder for reading from the string ``data``\n\t\tconstructor(data, registry)\n\t\t{\n\t\t\tthis.data = data;\n\t\t\tthis.pos = 0;\n\t\t\tthis.backrefs = [];\n\t\t\tthis.registry = typeof(registry) === \"undefined\" ? null : registry;\n\t\t\tthis.stack = []; // Use for informative error messages\n\t\t}\n\n\t\t// Read a character from the buffer\n\t\treadchar()\n\t\t{\n\t\t\tif (this.pos >= this.data.length)\n\t\t\t\tthrow new ul4.ValueError(\"UL4 decoder at EOF\");\n\t\t\treturn this.data.charAt(this.pos++);\n\t\t}\n\n\t\t// Read a character from the buffer (return null on eof)\n\t\treadcharoreof()\n\t\t{\n\t\t\tif (this.pos >= this.data.length)\n\t\t\t\treturn null;\n\t\t\treturn this.data.charAt(this.pos++);\n\t\t}\n\n\t\t// Read next not-whitespace character from the buffer\n\t\treadblackchar()\n\t\t{\n\t\t\tlet re_white = /\\s/;\n\n\t\t\tfor (;;)\n\t\t\t{\n\t\t\t\tif (this.pos >= this.data.length)\n\t\t\t\t\tthrow new ul4.ValueError(\"UL4 decoder at EOF at position \" + this.pos + \" with path \" + this.stack.join(\"/\"));\n\t\t\t\tlet c = this.data.charAt(this.pos++);\n\t\t\t\tif (!c.match(re_white))\n\t\t\t\t\treturn c;\n\t\t\t}\n\t\t}\n\n\t\t// Read ``size`` characters from the buffer\n\t\tread(size)\n\t\t{\n\t\t\tif (this.pos+size > this.length)\n\t\t\t\tsize = this.length-this.pos;\n\t\t\tlet result = this.data.substring(this.pos, this.pos+size);\n\t\t\tthis.pos += size;\n\t\t\treturn result;\n\t\t}\n\n\t\t// \"unread\" one character\n\t\tbackup()\n\t\t{\n\t\t\t--this.pos;\n\t\t}\n\n\t\t// Read a number from the buffer\n\t\treadnumber()\n\t\t{\n\t\t\tlet re_digits = /[-+0123456789.eE]/, value = \"\";\n\t\t\tfor (;;)\n\t\t\t{\n\t\t\t\tlet c = this.readcharoreof();\n\t\t\t\tif (c !== null && c.match(re_digits))\n\t\t\t\t\tvalue += c;\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tlet result = parseFloat(value);\n\t\t\t\t\tif (isNaN(result))\n\t\t\t\t\t\tthrow new ul4.ValueError(\"invalid number, got \" + ul4._repr(\"value\") + \" at position \" + this.pos + \" with path \" + this.stack.join(\"/\"));\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t_beginfakeloading()\n\t\t{\n\t\t\tlet oldpos = this.backrefs.length;\n\t\t\tthis.backrefs.push(null);\n\t\t\treturn oldpos;\n\t\t}\n\n\t\t_endfakeloading(oldpos, value)\n\t\t{\n\t\t\tthis.backrefs[oldpos] = value;\n\t\t}\n\n\t\t_readescape(escapechar, length)\n\t\t{\n\t\t\tlet chars = this.read(length);\n\t\t\tif (chars.length != length)\n\t\t\t\tthrow new ul4.ValueError(\"broken escape \" + ul4._repr(\"\\\\\" + escapechar + chars) + \" at position \" + this.pos + \" with path \" + this.stack.join(\"/\"));\n\t\t\tlet codepoint = parseInt(chars, 16);\n\t\t\tif (isNaN(codepoint))\n\t\t\t\tthrow new ul4.ValueError(\"broken escape \" + ul4._repr(\"\\\\\" + escapechar + chars) + \" at position \" + this.pos + \" with path \" + this.stack.join(\"/\"));\n\t\t\treturn String.fromCharCode(codepoint);\n\t\t}\n\n\t\t// Load the next object from the buffer\n\t\tload()\n\t\t{\n\t\t\tlet typecode = this.readblackchar();\n\t\t\tlet result;\n\t\t\tswitch (typecode)\n\t\t\t{\n\t\t\t\tcase \"^\":\n\t\t\t\t\treturn this.backrefs[this.readnumber()];\n\t\t\t\tcase \"n\":\n\t\t\t\tcase \"N\":\n\t\t\t\t\tif (typecode === \"N\")\n\t\t\t\t\t\tthis.backrefs.push(null);\n\t\t\t\t\treturn null;\n\t\t\t\tcase \"b\":\n\t\t\t\tcase \"B\":\n\t\t\t\t\tresult = this.readchar();\n\t\t\t\t\tif (result === \"T\")\n\t\t\t\t\t\tresult = true;\n\t\t\t\t\telse if (result === \"F\")\n\t\t\t\t\t\tresult = false;\n\t\t\t\t\telse\n\t\t\t\t\t\tthrow new ul4.ValueError(\"wrong value for boolean, expected 'T' or 'F', got \" + ul4._repr(result) + \" at position \" + this.pos + \" with path \" + this.stack.join(\"/\"));\n\t\t\t\t\tif (typecode === \"B\")\n\t\t\t\t\t\tthis.backrefs.push(result);\n\t\t\t\t\treturn result;\n\t\t\t\tcase \"i\":\n\t\t\t\tcase \"I\":\n\t\t\t\tcase \"f\":\n\t\t\t\tcase \"F\":\n\t\t\t\t\tresult = this.readnumber();\n\t\t\t\t\tif (typecode === \"I\" || typecode === \"F\")\n\t\t\t\t\t\tthis.backrefs.push(result);\n\t\t\t\t\treturn result;\n\t\t\t\tcase \"s\":\n\t\t\t\tcase \"S\":\n\t\t\t\t\tresult = [];\n\t\t\t\t\tlet delimiter = this.readblackchar();\n\t\t\t\t\tfor (;;)\n\t\t\t\t\t{\n\t\t\t\t\t\tlet c = this.readchar();\n\t\t\t\t\t\tif (c == delimiter)\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tif (c == \"\\\\\")\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlet c2 = this.readchar();\n\t\t\t\t\t\t\tif (c2 == \"\\\\\")\n\t\t\t\t\t\t\t\tresult.push(\"\\\\\");\n\t\t\t\t\t\t\telse if (c2 == \"n\")\n\t\t\t\t\t\t\t\tresult.push(\"\\n\");\n\t\t\t\t\t\t\telse if (c2 == \"r\")\n\t\t\t\t\t\t\t\tresult.push(\"\\r\");\n\t\t\t\t\t\t\telse if (c2 == \"t\")\n\t\t\t\t\t\t\t\tresult.push(\"\\t\");\n\t\t\t\t\t\t\telse if (c2 == \"f\")\n\t\t\t\t\t\t\t\tresult.push(\"\\u000c\");\n\t\t\t\t\t\t\telse if (c2 == \"b\")\n\t\t\t\t\t\t\t\tresult.push(\"\\u0008\");\n\t\t\t\t\t\t\telse if (c2 == \"a\")\n\t\t\t\t\t\t\t\tresult.push(\"\\u0007\");\n\t\t\t\t\t\t\telse if (c2 == \"'\")\n\t\t\t\t\t\t\t\tresult.push(\"'\");\n\t\t\t\t\t\t\telse if (c2 == '\"')\n\t\t\t\t\t\t\t\tresult.push('\"');\n\t\t\t\t\t\t\telse if (c2 == \"x\")\n\t\t\t\t\t\t\t\tresult.push(this._readescape(\"x\", 2));\n\t\t\t\t\t\t\telse if (c2 == \"u\")\n\t\t\t\t\t\t\t\tresult.push(this._readescape(\"u\", 4));\n\t\t\t\t\t\t\telse if (c2 == \"U\")\n\t\t\t\t\t\t\t\tresult.push(this._readescape(\"U\", 8));\n\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\tresult.push(\"\\\\\" + c2);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tresult.push(c);\n\t\t\t\t\t}\n\t\t\t\t\tresult = result.join(\"\");\n\t\t\t\t\tif (typecode === \"S\")\n\t\t\t\t\t\tthis.backrefs.push(result);\n\t\t\t\t\treturn result;\n\t\t\t\tcase \"c\":\n\t\t\t\tcase \"C\":\n\t\t\t\t\tresult = new ul4.Color();\n\t\t\t\t\tif (typecode === \"C\")\n\t\t\t\t\t\tthis.backrefs.push(result);\n\t\t\t\t\tresult._r = this.load();\n\t\t\t\t\tresult._g = this.load();\n\t\t\t\t\tresult._b = this.load();\n\t\t\t\t\tresult._a = this.load();\n\t\t\t\t\treturn result;\n\t\t\t\tcase \"x\":\n\t\t\t\tcase \"X\":\n\t\t\t\t{\n\t\t\t\t\tlet year = this.load();\n\t\t\t\t\tlet month = this.load();\n\t\t\t\t\tlet day = this.load();\n\t\t\t\t\tresult = new ul4.Date(year, month, day);\n\t\t\t\t\tif (typecode === \"X\")\n\t\t\t\t\t\tthis.backrefs.push(result);\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\t\t\t\tcase \"z\":\n\t\t\t\tcase \"Z\":\n\t\t\t\t\tresult = new Date();\n\t\t\t\t\tresult.setFullYear(this.load());\n\t\t\t\t\tresult.setDate(1);\n\t\t\t\t\tresult.setMonth(this.load() - 1);\n\t\t\t\t\tresult.setDate(this.load());\n\t\t\t\t\tresult.setHours(this.load());\n\t\t\t\t\tresult.setMinutes(this.load());\n\t\t\t\t\tresult.setSeconds(this.load());\n\t\t\t\t\tresult.setMilliseconds(this.load()/1000);\n\t\t\t\t\tif (typecode === \"Z\")\n\t\t\t\t\t\tthis.backrefs.push(result);\n\t\t\t\t\treturn result;\n\t\t\t\tcase \"t\":\n\t\t\t\tcase \"T\":\n\t\t\t\t\tresult = new ul4.TimeDelta();\n\t\t\t\t\tresult._days = this.load();\n\t\t\t\t\tresult._seconds = this.load();\n\t\t\t\t\tresult._microseconds = this.load();\n\t\t\t\t\tif (typecode === \"T\")\n\t\t\t\t\t\tthis.backrefs.push(result);\n\t\t\t\t\treturn result;\n\t\t\t\tcase \"r\":\n\t\t\t\tcase \"R\":\n\t\t\t\t\tresult = new ul4.slice();\n\t\t\t\t\tif (typecode === \"R\")\n\t\t\t\t\t\tthis.backrefs.push(result);\n\t\t\t\t\tresult.start = this.load();\n\t\t\t\t\tresult.stop = this.load();\n\t\t\t\t\treturn result;\n\t\t\t\tcase \"m\":\n\t\t\t\tcase \"M\":\n\t\t\t\t\tresult = new ul4.MonthDelta();\n\t\t\t\t\tif (typecode === \"M\")\n\t\t\t\t\t\tthis.backrefs.push(result);\n\t\t\t\t\tresult._months = this.load();\n\t\t\t\t\treturn result;\n\t\t\t\tcase \"l\":\n\t\t\t\tcase \"L\":\n\t\t\t\t\tthis.stack.push(\"list\");\n\t\t\t\t\tresult = [];\n\t\t\t\t\tif (typecode === \"L\")\n\t\t\t\t\t\tthis.backrefs.push(result);\n\t\t\t\t\tfor (;;)\n\t\t\t\t\t{\n\t\t\t\t\t\ttypecode = this.readblackchar();\n\t\t\t\t\t\tif (typecode === \"]\")\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tthis.backup();\n\t\t\t\t\t\tresult.push(this.load());\n\t\t\t\t\t}\n\t\t\t\t\tthis.stack.pop();\n\t\t\t\t\treturn result;\n\t\t\t\tcase \"d\":\n\t\t\t\tcase \"D\":\n\t\t\t\tcase \"e\":\n\t\t\t\tcase \"E\":\n\t\t\t\t\tif (!ul4._havemap && (typecode == \"e\" || typecode == \"E\"))\n\t\t\t\t\t\tthrow new ul4.ValueError(\"ordered dictionaries are not supported at position \" + this.pos + \" with path \" + this.stack.join(\"/\"));\n\t\t\t\t\tresult = ul4._emptymap();\n\t\t\t\t\tthis.stack.push(typecode === \"d\" || typecode === \"D\" ? \"dict\" : \"odict\");\n\t\t\t\t\tif (typecode === \"D\" || typecode === \"E\")\n\t\t\t\t\t\tthis.backrefs.push(result);\n\t\t\t\t\tfor (;;)\n\t\t\t\t\t{\n\t\t\t\t\t\ttypecode = this.readblackchar();\n\t\t\t\t\t\tif (typecode === \"}\")\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tthis.backup();\n\t\t\t\t\t\tlet key = this.load();\n\t\t\t\t\t\tlet value = this.load();\n\t\t\t\t\t\tul4._setmap(result, key, value);\n\t\t\t\t\t}\n\t\t\t\t\tthis.stack.pop();\n\t\t\t\t\treturn result;\n\t\t\t\tcase \"y\":\n\t\t\t\tcase \"Y\":\n\t\t\t\t\tthis.stack.push(\"set\");\n\t\t\t\t\tresult = ul4._makeset();\n\t\t\t\t\tif (typecode === \"Y\")\n\t\t\t\t\t\tthis.backrefs.push(result);\n\t\t\t\t\tfor (;;)\n\t\t\t\t\t{\n\t\t\t\t\t\ttypecode = this.readblackchar();\n\t\t\t\t\t\tif (typecode === \"}\")\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tthis.backup();\n\t\t\t\t\t\tresult.add(this.load());\n\t\t\t\t\t}\n\t\t\t\t\tthis.stack.pop();\n\t\t\t\t\treturn result;\n\t\t\t\tcase \"o\":\n\t\t\t\tcase \"O\":\n\t\t\t\t{\n\t\t\t\t\tlet oldpos;\n\t\t\t\t\tif (typecode === \"O\")\n\t\t\t\t\t\toldpos = this._beginfakeloading();\n\t\t\t\t\tlet name = this.load();\n\t\t\t\t\tthis.stack.push(name);\n\t\t\t\t\tlet constructor;\n\t\t\t\t\tif (this.registry !== null)\n\t\t\t\t\t{\n\t\t\t\t\t\tconstructor = this.registry[name];\n\t\t\t\t\t\tif (typeof(constructor) === \"undefined\")\n\t\t\t\t\t\t\tconstructor = ul4._registry[name];\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t\tconstructor = ul4._registry[name];\n\t\t\t\t\tif (typeof(constructor) === \"undefined\")\n\t\t\t\t\t\tthrow new ul4.ValueError(\"can't load object of type \" + ul4._repr(name) + \" at position \" + this.pos + \" with path \" + this.stack.join(\"/\"));\n\t\t\t\t\tresult = new constructor();\n\t\t\t\t\tif (typecode === \"O\")\n\t\t\t\t\t\tthis._endfakeloading(oldpos, result);\n\t\t\t\t\tresult.ul4onload(this);\n\t\t\t\t\ttypecode = this.readblackchar();\n\t\t\t\t\tif (typecode !== \")\")\n\t\t\t\t\t\tthrow new ul4.ValueError(\"object terminator ')' for object of type '\" + name + \"' expected, got \" + ul4._repr(typecode) + \" at position \" + this.pos + \" with path \" + this.stack.join(\"/\"));\n\t\t\t\t\tthis.stack.pop();\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\t\t\t\tdefault:\n\t\t\t\t\tthrow new ul4.ValueError(\"unknown typecode \" + ul4._repr(typecode) + \" at position \" + this.pos + \" with path \" + this.stack.join(\"/\"));\n\t\t\t}\n\t\t}\n\n\t\t// Return an iterator for loading the content of a object\n\t\tloadcontent()\n\t\t{\n\t\t\tlet self = this;\n\t\t\treturn {\n\t\t\t\tnext: function()\n\t\t\t\t{\n\t\t\t\t\tlet typecode = self.readblackchar();\n\t\t\t\t\t// Always \"unread\" the typecode even at the end\n\t\t\t\t\t// so that at the end of a call to ul4onload()\n\t\t\t\t\t// the next input is the \"end of object\" marker\n\t\t\t\t\t// no matter whether ul4onload() uses loadcontent() or not.\n\t\t\t\t\tself.backup();\n\t\t\t\t\tif (typecode == \")\")\n\t\t\t\t\t\treturn {done: true};\n\t\t\t\t\telse\n\t\t\t\t\t\treturn {done: false, value: self.load()};\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t};\n\n\t//\n\t// UL4\n\t//\n\n\t// REs for parsing JSON\n\tul4._rvalidchars = /^[\\],:{}\\s]*$/;\n\tul4._rvalidescape = /\\\\(?:[\"\\\\\\/bfnrt]|u[0-9a-fA-F]{4})/g;\n\tul4._rvalidtokens = /\"[^\"\\\\\\n\\r]*\"|true|false|null|-?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?/g;\n\tul4._rvalidbraces = /(?:^|:|,)(?:\\s*\\[)+/g;\n\n\t/// Helper functions\n\n\t// Clone an object and extend it\n\tul4._inherit = function _inherit(baseobj, attrs)\n\t{\n\t\treturn Object.assign(Object.create(baseobj), attrs);\n\t};\n\n\t// Convert a map to an object\n\tul4._map2object = function _map2object(obj)\n\t{\n\t\tif (ul4._ismap(obj))\n\t\t{\n\t\t\tlet newobj = {};\n\t\t\tobj.forEach(function(value, key){\n\t\t\t\tif (typeof(key) !== \"string\")\n\t\t\t\t\tthrow new ul4.TypeError(\"keys must be strings\");\n\t\t\t\tnewobj[key] = value;\n\t\t\t});\n\t\t\treturn newobj;\n\t\t}\n\t\treturn obj;\n\t};\n\n\t// Clip a number to the range [0;max)\n\tul4._bound = function _bound(value, upper)\n\t{\n\t\tif (value < 0)\n\t\t\treturn 0;\n\t\telse if (value > upper)\n\t\t\treturn upper;\n\t\telse\n\t\t\treturn value;\n\t};\n\n\t// Create a pretty stacktrace from an exception\n\tul4._stacktrace = function _stacktrace(exc)\n\t{\n\t\tlet output = (exc instanceof ul4.Exception ? exc.constructor.name + \": \" : \"\") + exc.toString();\n\t\tif (exc.context)\n\t\t\toutput = ul4._stacktrace(exc.context) + \"\\n\\n\" + output;\n\t\treturn output;\n\t};\n\n\t// Call a function ``f`` with UL4 argument handling\n\tul4._internal_call = function _internal_call(context, f, name, functioncontext, signature, needscontext, needsobject, args, kwargs)\n\t{\n\t\tlet finalargs;\n\t\tif (needsobject)\n\t\t{\n\t\t\tif (signature === null)\n\t\t\t{\n\t\t\t\tif (args.length)\n\t\t\t\t\tthrow new ul4.ArgumentError(ul4._repr(f) + \" doesn't support positional arguments!\");\n\t\t\t\tfinalargs = [kwargs];\n\t\t\t}\n\t\t\telse\n\t\t\t\tfinalargs = [signature.bindObject(name, args, kwargs)];\n\t\t}\n\t\telse\n\t\t{\n\t\t\tif (signature === null)\n\t\t\t\tthrow new ul4.ArgumentError(ul4._repr(f) + \" doesn't support positional arguments!\");\n\t\t\tfinalargs = signature.bindArray(name, args, kwargs);\n\t\t}\n\t\tif (needscontext)\n\t\t\tfinalargs.unshift(context);\n\t\treturn f.apply(functioncontext, finalargs);\n\t};\n\n\tul4._callfunction = function _callfunction(context, f, args, kwargs)\n\t{\n\t\tlet name = f._ul4_name || f.name;\n\t\tif (typeof(f._ul4_signature) === \"undefined\" || typeof(f._ul4_needsobject) === \"undefined\" || typeof(f._ul4_needscontext) === \"undefined\")\n\t\t\tthrow new ul4.TypeError(ul4._repr(f) + \" is not callable by UL4\");\n\t\treturn ul4._internal_call(context, f, name, ul4, f._ul4_signature, f._ul4_needscontext, f._ul4_needsobject, args, kwargs);\n\t};\n\n\tul4._callobject = function _callobject(context, obj, args, kwargs)\n\t{\n\t\tif (typeof(obj._ul4_callsignature) === \"undefined\" || typeof(obj._ul4_callneedsobject) === \"undefined\" || typeof(obj._ul4_callneedscontext) === \"undefined\")\n\t\t\tthrow new ul4.TypeError(ul4._repr(obj) + \" is not callable by UL4\");\n\t\treturn ul4._internal_call(context, obj.__call__, obj.name, obj, obj._ul4_callsignature, obj._ul4_callneedscontext, obj._ul4_callneedsobject, args, kwargs);\n\t};\n\n\tul4._callrender = function _callrender(context, obj, args, kwargs)\n\t{\n\t\tif (typeof(obj._ul4_rendersignature) === \"undefined\" || typeof(obj._ul4_renderneedsobject) === \"undefined\" || typeof(obj._ul4_renderneedscontext) === \"undefined\")\n\t\t\tthrow new ul4.TypeError(ul4._repr(obj) + \" is not renderable by UL4\");\n\t\treturn ul4._internal_call(context, obj.__render__, obj.name, obj, obj._ul4_rendersignature, obj._ul4_renderneedscontext, obj._ul4_renderneedsobject, args, kwargs);\n\t};\n\n\tul4._call = function _call(context, f, args, kwargs)\n\t{\n\t\tif (typeof(f) === \"function\")\n\t\t\treturn ul4._callfunction(context, f, args, kwargs);\n\t\telse if (f && typeof(f.__call__) === \"function\")\n\t\t\treturn ul4._callobject(context, f, args, kwargs);\n\t\telse\n\t\t\tthrow new ul4.TypeError(ul4._type(f) + \" is not callable\");\n\t};\n\n\tul4._unpackvar = function _unpackvar(lvalue, value)\n\t{\n\t\tif (!ul4._islist(lvalue))\n\t\t\treturn [[lvalue, value]];\n\t\telse\n\t\t{\n\t\t\tlet newvalue = [];\n\t\t\tlet iter = ul4._iter(value);\n\n\t\t\tfor (let i = 0;;++i)\n\t\t\t{\n\t\t\t\tlet item = iter.next();\n\n\t\t\t\tif (item.done)\n\t\t\t\t{\n\t\t\t\t\tif (i === lvalue.length)\n\t\t\t\t\t\tbreak;\n\t\t\t\t\telse\n\t\t\t\t\t\tthrow new ul4.ValueError(\"need \" + lvalue.length + \" value\" + (lvalue.length === 1 ? \"\" : \"s\") + \" to unpack, got \" + i);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tif (i < lvalue.length)\n\t\t\t\t\t\tnewvalue = newvalue.concat(ul4._unpackvar(lvalue[i], item.value));\n\t\t\t\t\telse\n\t\t\t\t\t\tthrow new ul4.ValueError(\"too many values to unpack (expected \" + lvalue.length + \")\");\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn newvalue;\n\t\t}\n\t};\n\n\tul4._formatsource = function _formatsource(out)\n\t{\n\t\tlet finalout = [];\n\t\tlet level = 0, needlf = false;\n\t\tfor (let i = 0; i < out.length; ++i)\n\t\t{\n\t\t\tlet part = out[i];\n\t\t\tif (typeof(part) === \"number\")\n\t\t\t{\n\t\t\t\tlevel += part;\n\t\t\t\tneedlf = true;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tif (needlf)\n\t\t\t\t{\n\t\t\t\t\tfinalout.push(\"\\n\");\n\t\t\t\t\tfor (let j = 0; j < level; ++j)\n\t\t\t\t\t\tfinalout.push(\"\\t\");\n\t\t\t\t\tneedlf = false;\n\t\t\t\t}\n\t\t\t\tfinalout.push(part);\n\t\t\t}\n\t\t}\n\t\tif (needlf)\n\t\t\tfinalout.push(\"\\n\");\n\t\treturn finalout.join(\"\");\n\t};\n\n\t// Compare ``obj1`` and ``obj2`` if they have the same value\n\tul4._eq = function _eq(obj1, obj2)\n\t{\n\t\tlet numbertypes = [\"boolean\", \"number\"];\n\n\t\tif (obj1 && typeof(obj1.__eq__) === \"function\")\n\t\t\treturn obj1.__eq__(obj2);\n\t\telse if (obj2 && typeof(obj2.__eq__) === \"function\")\n\t\t\treturn obj2.__eq__(obj1);\n\t\telse if (obj1 === null)\n\t\t\treturn obj2 === null;\n\t\telse if (numbertypes.indexOf(typeof(obj1)) != -1)\n\t\t{\n\t\t\tif (numbertypes.indexOf(typeof(obj2)) != -1)\n\t\t\t\treturn obj1 == obj2;\n\t\t\telse\n\t\t\t\treturn false;\n\t\t}\n\t\telse if (typeof(obj1) === \"string\")\n\t\t{\n\t\t\tif (typeof(obj2) === \"string\")\n\t\t\t\treturn obj1 == obj2;\n\t\t\telse\n\t\t\t\treturn false;\n\t\t}\n\t\telse if (ul4._isdatetime(obj1))\n\t\t{\n\t\t\tif (ul4._isdatetime(obj2))\n\t\t\t\treturn obj1.getTime() == obj2.getTime();\n\t\t\telse\n\t\t\t\treturn false;\n\t\t}\n\t\telse if (ul4._islist(obj1))\n\t\t{\n\t\t\tif (ul4._islist(obj2))\n\t\t\t{\n\t\t\t\t// Shortcut, if it's the same object\n\t\t\t\tif (obj1 === obj2)\n\t\t\t\t\treturn true;\n\t\t\t\tif (obj1.length != obj2.length)\n\t\t\t\t\treturn false;\n\t\t\t\tfor (let i = 0; i < obj1.length; ++i)\n\t\t\t\t{\n\t\t\t\t\tif (!ul4._eq(obj1[i], obj2[i])) // This might lead to infinite recursion and a stackoverflow, but it does in all implementations\n\t\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\telse\n\t\t\t\treturn false;\n\t\t}\n\t\telse if (ul4._isobject(obj1))\n\t\t{\n\t\t\tif (ul4._isobject(obj2))\n\t\t\t{\n\t\t\t\t// Shortcut, if it's the same object\n\t\t\t\tif (obj1 === obj2)\n\t\t\t\t\treturn true;\n\t\t\t\t// Test that each attribute of ``obj1`` can also be found in ``obj2`` and has the same value\n\t\t\t\tfor (let key in obj1)\n\t\t\t\t{\n\t\t\t\t\tif (obj2.hasOwnProperty(key))\n\t\t\t\t\t{\n\t\t\t\t\t\tif (!ul4._eq(obj1[key], obj2[key]))\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\t// Test that each attribute of ``obj2`` is also in ``obj1`` (the value has been tested before)\n\t\t\t\tfor (let key in obj2)\n\t\t\t\t{\n\t\t\t\t\tif (!obj1.hasOwnProperty(key))\n\t\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\telse if (ul4._ismap(obj2))\n\t\t\t{\n\t\t\t\t// Test that each attribute of ``obj1`` can also be found in ``obj2`` and has the same value\n\t\t\t\tfor (let key in obj1)\n\t\t\t\t{\n\t\t\t\t\tif (obj2.has(key))\n\t\t\t\t\t{\n\t\t\t\t\t\tif (!ul4._eq(obj1[key], obj2.get(key)))\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\t// Test that each attribute of ``obj2`` is also in ``obj1`` (the value has been tested before)\n\t\t\t\tlet result = true;\n\t\t\t\tobj2.forEach(function(value, key) {\n\t\t\t\t\tif (!obj1.hasOwnProperty(key))\n\t\t\t\t\t\tresult = false;\n\t\t\t\t}, this);\n\t\t\t\treturn result;\n\t\t\t}\n\t\t\telse\n\t\t\t\treturn false;\n\t\t}\n\t\telse if (ul4._ismap(obj1))\n\t\t{\n\t\t\tif (ul4._isobject(obj2))\n\t\t\t{\n\t\t\t\t// Test that each attribute of ``obj1`` can also be found in ``obj2`` and has the same value\n\t\t\t\tobj1.forEach(function(value, key) {\n\t\t\t\t\tif (!obj2.hasOwnProperty(key))\n\t\t\t\t\t\treturn false;\n\t\t\t\t\telse if (!ul4._eq(obj1.get(key), obj2[key]))\n\t\t\t\t\t\treturn false;\n\t\t\t\t}, this);\n\t\t\t\t// Test that each attribute of ``obj2`` is also in ``obj1`` (the value has been tested before)\n\t\t\t\tfor (let key in obj2)\n\t\t\t\t{\n\t\t\t\t\tif (!obj1.has(key))\n\t\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\telse if (ul4._ismap(obj2))\n\t\t\t{\n\t\t\t\t// Shortcut, if it's the same object\n\t\t\t\tif (obj1 === obj2)\n\t\t\t\t\treturn true;\n\t\t\t\tif (obj1.size != obj2.size)\n\t\t\t\t\treturn false;\n\t\t\t\tlet result = true;\n\t\t\t\t// Test that each attribute of ``obj1`` can also be found in ``obj2`` and has the same value\n\t\t\t\tobj1.forEach(function(value, key) {\n\t\t\t\t\tif (!obj2.has(key))\n\t\t\t\t\t\tresult = false;\n\t\t\t\t\telse if (!ul4._eq(obj1.get(key), obj2.get(key)))\n\t\t\t\t\t\tresult = false;\n\t\t\t\t});\n\t\t\t\treturn result;\n\t\t\t}\n\t\t\telse\n\t\t\t\treturn false;\n\t\t}\n\t\telse if (ul4._isset(obj1))\n\t\t{\n\t\t\t// We don't have to test for ``ul4._Set`` as ``ul4._Set`` implements ``__eq__``\n\t\t\tif (ul4._isset(obj2))\n\t\t\t{\n\t\t\t\t// Shortcut, if it's the same object\n\t\t\t\tif (obj1 === obj2)\n\t\t\t\t\treturn true;\n\t\t\t\tif (obj1.size != obj2.size)\n\t\t\t\t\treturn false;\n\t\t\t\tlet result = true;\n\t\t\t\tobj1.forEach(function(value) {\n\t\t\t\t\tif (!obj2.has(value))\n\t\t\t\t\t\tresult = false;\n\t\t\t\t});\n\t\t\t\treturn result;\n\t\t\t}\n\t\t\telse\n\t\t\t\treturn false;\n\t\t}\n\t\telse\n\t\t\treturn obj1 === obj2;\n\t};\n\n\t// Compare ``obj1`` and ``obj2`` if they don't have the same value\n\tul4._ne = function _ne(obj1, obj2)\n\t{\n\t\tif (obj1 && typeof(obj1.__ne__) === \"function\")\n\t\t\treturn obj1.__ne__(obj2);\n\t\telse if (obj2 && typeof(obj2.__ne__) === \"function\")\n\t\t\treturn obj2.__ne__(obj1);\n\t\telse\n\t\t\treturn !ul4._eq(obj1, obj2);\n\t};\n\n\tul4._unorderable = function _unorderable(operator, obj1, obj2)\n\t{\n\t\tthrow new ul4.TypeError(\"unorderable types: \" + ul4._type(obj1) + \" \" + operator + \" \" + ul4._type(obj2));\n\t};\n\n\t// Return:\n\t// -1 when ``obj1 < obj2``,\n\t//  0 when ``obj1 == obj2``,\n\t//  1 when ``obj1 > obj2``,\n\t//  null when ``obj1`` and ``obj2`` are comparable, but neither of the previous cases holds (only for sets)\n\t// raise TypeError if objects are uncomparable\n\t// This the purpose of ``_cmp`` is to support implementation of <, <=, > and >=\n\t// and dicts/maps are not comparable with the operator ``_cmp`` does not support dicts/maps\n\n\tul4._cmp = function _cmp(operator, obj1, obj2)\n\t{\n\t\tlet numbertypes = [\"boolean\", \"number\"];\n\n\t\tif (numbertypes.indexOf(typeof(obj1)) != -1)\n\t\t{\n\t\t\tif (numbertypes.indexOf(typeof(obj2)) != -1)\n\t\t\t\treturn (obj1 > obj2) - (obj1 < obj2);\n\t\t}\n\t\telse if (typeof(obj1) === \"string\")\n\t\t{\n\t\t\tif (typeof(obj2) === \"string\")\n\t\t\t\treturn (obj1 > obj2) - (obj1 < obj2);\n\t\t}\n\t\telse if (ul4._isdatetime(obj1))\n\t\t{\n\t\t\tif (ul4._isdatetime(obj2))\n\t\t\t{\n\t\t\t\tlet v1 = obj1.getTime(), v2 = obj2.getTime();\n\t\t\t\treturn (v1 > v2) - (v1 < v2);\n\t\t\t}\n\t\t}\n\t\telse if (ul4._islist(obj1))\n\t\t{\n\t\t\tif (ul4._islist(obj2))\n\t\t\t{\n\t\t\t\tif (obj1 === obj2)\n\t\t\t\t\treturn 0;\n\t\t\t\tfor (let i = 0; i < obj1.length; ++i)\n\t\t\t\t{\n\t\t\t\t\tif (i >= obj2.length)\n\t\t\t\t\t\treturn 1;\n\t\t\t\t\tlet res = ul4._cmp(operator, obj1[i], obj2[i]);\n\t\t\t\t\tif (res)\n\t\t\t\t\t\treturn res;\n\t\t\t\t}\n\t\t\t\treturn obj2.length > obj1.length ? -1 : 0;\n\t\t\t}\n\t\t}\n\t\telse if (ul4._isset(obj1) || ul4._isul4set(obj1))\n\t\t{\n\t\t\tif (ul4._isset(obj2) || ul4._isul4set(obj2))\n\t\t\t{\n\t\t\t\tlet in1only = false;\n\t\t\t\tlet in2only = false;\n\n\t\t\t\tfor (let iter = _iter(obj1);;)\n\t\t\t\t{\n\t\t\t\t\tlet item = iter.next();\n\t\t\t\t\tif (item.done)\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tif (!obj2.has(item.value))\n\t\t\t\t\t{\n\t\t\t\t\t\tin1only = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tfor (let iter = _iter(obj2);;)\n\t\t\t\t{\n\t\t\t\t\tlet item = iter.next();\n\t\t\t\t\tif (item.done)\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tif (!obj1.has(item.value))\n\t\t\t\t\t{\n\t\t\t\t\t\tin2only = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (in1only)\n\t\t\t\t{\n\t\t\t\t\tif (in2only)\n\t\t\t\t\t\treturn null;\n\t\t\t\t\telse\n\t\t\t\t\t\treturn 1;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tif (in2only)\n\t\t\t\t\t\treturn -1;\n\t\t\t\t\telse\n\t\t\t\t\t\treturn 0;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn ul4._unorderable(operator, obj1, obj2);\n\t};\n\n\t// Return whether ``obj1 < obj2``\n\tul4._lt = function _lt(obj1, obj2)\n\t{\n\t\tlet numbertypes = [\"boolean\", \"number\"];\n\n\t\tif (obj1 && typeof(obj1.__lt__) === \"function\")\n\t\t\treturn obj1.__lt__(obj2);\n\t\telse if (numbertypes.indexOf(typeof(obj1)) != -1)\n\t\t{\n\t\t\tif (numbertypes.indexOf(typeof(obj2)) != -1)\n\t\t\t\treturn obj1 < obj2;\n\t\t}\n\t\telse if (typeof(obj1) === \"string\")\n\t\t{\n\t\t\tif (typeof(obj2) === \"string\")\n\t\t\t\treturn obj1 < obj2;\n\t\t}\n\t\telse if (ul4._isdatetime(obj1))\n\t\t{\n\t\t\tif (ul4._isdatetime(obj2))\n\t\t\t\treturn obj1.getTime() < obj2.getTime();\n\t\t}\n\t\telse if (ul4._islist(obj1))\n\t\t{\n\t\t\tif (ul4._islist(obj2))\n\t\t\t{\n\t\t\t\tif (obj1 === obj2)\n\t\t\t\t\treturn false;\n\t\t\t\tfor (let i = 0; i < obj1.length; ++i)\n\t\t\t\t{\n\t\t\t\t\tif (i >= obj2.length)\n\t\t\t\t\t\treturn false;\n\t\t\t\t\tlet eq = ul4._eq(obj1[i], obj2[i]);\n\t\t\t\t\tif (!eq)\n\t\t\t\t\t\treturn ul4._lt(obj1[i], obj2[i]);\n\t\t\t\t}\n\t\t\t\treturn obj1.length < obj2.length;\n\t\t\t}\n\t\t}\n\t\t// FIXME: Set comparison\n\t\telse if (ul4._isset(obj1))\n\t\t{\n\t\t\tif (ul4._isset(obj2))\n\t\t\t{\n\t\t\t\tif (ul4._isset(obj2))\n\t\t\t\t{\n\t\t\t\t\tfor (let key in obj1)\n\t\t\t\t\t{\n\t\t\t\t\t\tif (!obj2.has(obj1[key]))\n\t\t\t\t\t\t\tin1only = true;\n\t\t\t\t\t}\n\t\t\t\t\tfor (let key in obj2)\n\t\t\t\t\t{\n\t\t\t\t\t\tif (!obj1.has(obj2[key]))\n\t\t\t\t\t\t\tin2only = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if (ul4._isul4set(obj2))\n\t\t\t\t{\n\t\t\t\t\tfor (let key in obj1)\n\t\t\t\t\t{\n\t\t\t\t\t\tif (!obj2.items[obj1[key]])\n\t\t\t\t\t\t\tin1only = true;\n\t\t\t\t\t}\n\t\t\t\t\tfor (let value in obj2.items)\n\t\t\t\t\t{\n\t\t\t\t\t\tif (!obj1.has(value))\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tin2only = true;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (ul4._isul4set(obj2))\n\t\t\t{\n\t\t\t\tif (ul4._isset(obj2))\n\t\t\t\t{\n\t\t\t\t\tfor (let value in obj1.items)\n\t\t\t\t\t{\n\t\t\t\t\t\tif (!obj2.has(value))\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tin1only = true;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tfor (let key in obj2)\n\t\t\t\t\t{\n\t\t\t\t\t\tif (!obj1.items[obj2[key]])\n\t\t\t\t\t\t\tin2only = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if (ul4._isul4set(obj2))\n\t\t\t\t{\n\t\t\t\t\tfor (let value in obj1.items)\n\t\t\t\t\t{\n\t\t\t\t\t\tif (!obj2.items[value])\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tin1only = true;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tfor (let value in obj2.items)\n\t\t\t\t\t{\n\t\t\t\t\t\tif (!obj1.items[value])\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tin2only = true;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t\tul4._unorderable(operator, obj1, obj2);\n\n\t\t\tif (in1only)\n\t\t\t{\n\t\t\t\tif (in2only)\n\t\t\t\t\treturn null;\n\t\t\t\telse\n\t\t\t\t\treturn 1;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tif (in2only)\n\t\t\t\t\treturn -1;\n\t\t\t\telse\n\t\t\t\t\treturn 0;\n\t\t\t}\n\t\t}\n\t\tul4._unorderable(\"<\", obj1, obj2);\n\t};\n\n\t// Return whether ``obj1 <= obj2``\n\tul4._le = function _le(obj1, obj2)\n\t{\n\t\tlet numbertypes = [\"boolean\", \"number\"];\n\n\t\tif (obj1 && typeof(obj1.__le__) === \"function\")\n\t\t\treturn obj1.__le__(obj2);\n\t\tif (numbertypes.indexOf(typeof(obj1)) != -1)\n\t\t{\n\t\t\tif (numbertypes.indexOf(typeof(obj2)) != -1)\n\t\t\t\treturn obj1 <= obj2;\n\t\t}\n\t\telse if (typeof(obj1) === \"string\")\n\t\t{\n\t\t\tif (typeof(obj2) === \"string\")\n\t\t\t\treturn obj1 <= obj2;\n\t\t}\n\t\telse if (ul4._isdatetime(obj1))\n\t\t{\n\t\t\tif (ul4._isdatetime(obj2))\n\t\t\t\treturn obj1.getTime() <= obj2.getTime();\n\t\t}\n\t\telse if (ul4._islist(obj1))\n\t\t{\n\t\t\tif (ul4._islist(obj2))\n\t\t\t{\n\t\t\t\tif (obj1 === obj2)\n\t\t\t\t\treturn true;\n\t\t\t\tfor (let i = 0; i < obj1.length; ++i)\n\t\t\t\t{\n\t\t\t\t\tif (i >= obj2.length)\n\t\t\t\t\t\treturn false;\n\t\t\t\t\tlet eq = ul4._eq(obj1[i], obj2[i]);\n\t\t\t\t\tif (!eq)\n\t\t\t\t\t\treturn ul4._lt(obj1[i], obj2[i]);\n\t\t\t\t}\n\t\t\t\treturn obj1.length <= obj2.length;\n\t\t\t}\n\t\t}\n\t\t// FIXME: Set comparison\n\t\telse if (ul4._isset(obj1) || ul4._isul4set(obj1))\n\t\t{\n\t\t\tlet in1only = false;\n\t\t\tlet in2only = false;\n\n\t\t\tif (ul4._isset(obj2))\n\t\t\t{\n\t\t\t\tif (ul4._isset(obj2))\n\t\t\t\t{\n\t\t\t\t\tobj1.forEach(function(value) {\n\t\t\t\t\t\tif (!obj2.has(value))\n\t\t\t\t\t\t\tin1only = true;\n\t\t\t\t\t});\n\t\t\t\t\tobj2.forEach(function(value) {\n\t\t\t\t\t\tif (!obj1.has(value))\n\t\t\t\t\t\t\tin2only = true;\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\telse if (ul4._isul4set(obj2))\n\t\t\t\t{\n\t\t\t\t\tobj1.forEach(function(value) {\n\t\t\t\t\t\tif (!obj2.items[value])\n\t\t\t\t\t\t\tin1only = true;\n\t\t\t\t\t});\n\t\t\t\t\tfor (let value in obj2.items)\n\t\t\t\t\t{\n\t\t\t\t\t\tif (!obj1.has(value))\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tin2only = true;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (ul4._isul4set(obj2))\n\t\t\t{\n\t\t\t\tif (ul4._isset(obj2))\n\t\t\t\t{\n\t\t\t\t\tfor (let value in obj1.items)\n\t\t\t\t\t{\n\t\t\t\t\t\tif (!obj2.has(value))\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tin1only = true;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tobj2.forEach(function(value) {\n\t\t\t\t\t\tif (!obj1.items[value])\n\t\t\t\t\t\t\tin2only = true;\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\telse if (ul4._isul4set(obj2))\n\t\t\t\t{\n\t\t\t\t\tfor (let value in obj1.items)\n\t\t\t\t\t{\n\t\t\t\t\t\tif (!obj2.items[value])\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tin1only = true;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tfor (let value in obj2.items)\n\t\t\t\t\t{\n\t\t\t\t\t\tif (!obj1.items[value])\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tin2only = true;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t\tul4._unorderable(operator, obj1, obj2);\n\n\t\t\tif (in1only)\n\t\t\t{\n\t\t\t\tif (in2only)\n\t\t\t\t\treturn null;\n\t\t\t\telse\n\t\t\t\t\treturn 1;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tif (in2only)\n\t\t\t\t\treturn -1;\n\t\t\t\telse\n\t\t\t\t\treturn 0;\n\t\t\t}\n\t\t}\n\t\tul4._unorderable(\"<=\", obj1, obj2);\n\t};\n\n\t// Return whether ``obj1 > obj2``\n\tul4._gt = function _gt(obj1, obj2)\n\t{\n\t\tlet numbertypes = [\"boolean\", \"number\"];\n\n\t\tif (obj1 && typeof(obj1.__gt__) === \"function\")\n\t\t\treturn obj1.__gt__(obj2);\n\t\tif (numbertypes.indexOf(typeof(obj1)) != -1)\n\t\t{\n\t\t\tif (numbertypes.indexOf(typeof(obj2)) != -1)\n\t\t\t\treturn obj1 > obj2;\n\t\t}\n\t\telse if (typeof(obj1) === \"string\")\n\t\t{\n\t\t\tif (typeof(obj2) === \"string\")\n\t\t\t\treturn obj1 > obj2;\n\t\t}\n\t\telse if (ul4._isdatetime(obj1))\n\t\t{\n\t\t\tif (ul4._isdatetime(obj2))\n\t\t\t\treturn obj1.getTime() > obj2.getTime();\n\t\t}\n\t\telse if (ul4._islist(obj1))\n\t\t{\n\t\t\tif (ul4._islist(obj2))\n\t\t\t{\n\t\t\t\tif (obj1 === obj2)\n\t\t\t\t\treturn false;\n\t\t\t\tfor (let i = 0; i < obj1.length; ++i)\n\t\t\t\t{\n\t\t\t\t\tif (i >= obj2.length)\n\t\t\t\t\t\treturn true;\n\t\t\t\t\tlet eq = ul4._eq(obj1[i], obj2[i]);\n\t\t\t\t\tif (!eq)\n\t\t\t\t\t\treturn ul4._gt(obj1[i], obj2[i]);\n\t\t\t\t}\n\t\t\t\treturn obj1.length > obj2.length;\n\t\t\t}\n\t\t}\n\t\t// FIXME: Set comparison\n\t\telse if (ul4._isset(obj1) || ul4._isul4set(obj1))\n\t\t{\n\t\t\tlet in1only = false;\n\t\t\tlet in2only = false;\n\n\t\t\tif (ul4._isset(obj2))\n\t\t\t{\n\t\t\t\tif (ul4._isset(obj2))\n\t\t\t\t{\n\t\t\t\t\tobj1.forEach(function(value) {\n\t\t\t\t\t\tif (!obj2.has(value))\n\t\t\t\t\t\t\tin1only = true;\n\t\t\t\t\t});\n\t\t\t\t\tobj2.forEach(function(value) {\n\t\t\t\t\t\tif (!obj1.has(value))\n\t\t\t\t\t\t\tin2only = true;\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\telse if (ul4._isul4set(obj2))\n\t\t\t\t{\n\t\t\t\t\tobj1.forEach(function(value) {\n\t\t\t\t\t\tif (!obj2.items[value])\n\t\t\t\t\t\t\tin1only = true;\n\t\t\t\t\t});\n\t\t\t\t\tobj2.forEach(function(value) {\n\t\t\t\t\t\tif (!obj1.has(value))\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tin2only = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (ul4._isul4set(obj2))\n\t\t\t{\n\t\t\t\tif (ul4._isset(obj2))\n\t\t\t\t{\n\t\t\t\t\tfor (let value in obj1.items)\n\t\t\t\t\t{\n\t\t\t\t\t\tif (!obj2.has(value))\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tin1only = true;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tobj2.forEach(function(value) {\n\t\t\t\t\t\tif (!obj1.items[value])\n\t\t\t\t\t\t\tin2only = true;\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\telse if (ul4._isul4set(obj2))\n\t\t\t\t{\n\t\t\t\t\tfor (let value in obj1.items)\n\t\t\t\t\t{\n\t\t\t\t\t\tif (!obj2.items[value])\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tin1only = true;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tfor (let value in obj2.items)\n\t\t\t\t\t{\n\t\t\t\t\t\tif (!obj1.items[value])\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tin2only = true;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t\tul4._unorderable(operator, obj1, obj2);\n\n\t\t\tif (in1only)\n\t\t\t{\n\t\t\t\tif (in2only)\n\t\t\t\t\treturn null;\n\t\t\t\telse\n\t\t\t\t\treturn 1;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tif (in2only)\n\t\t\t\t\treturn -1;\n\t\t\t\telse\n\t\t\t\t\treturn 0;\n\t\t\t}\n\t\t}\n\t\tul4._unorderable(\">\", obj1, obj2);\n\t};\n\n\t// Return whether ``obj1 >= obj2``\n\tul4._ge = function _ge(obj1, obj2)\n\t{\n\t\tlet numbertypes = [\"boolean\", \"number\"];\n\n\t\tif (obj1 && typeof(obj1.__ge__) === \"function\")\n\t\t\treturn obj1.__ge__(obj2);\n\t\telse if (numbertypes.indexOf(typeof(obj1)) != -1)\n\t\t{\n\t\t\tif (numbertypes.indexOf(typeof(obj2)) != -1)\n\t\t\t\treturn obj1 >= obj2;\n\t\t}\n\t\telse if (typeof(obj1) === \"string\")\n\t\t{\n\t\t\tif (typeof(obj2) === \"string\")\n\t\t\t\treturn obj1 >= obj2;\n\t\t}\n\t\telse if (ul4._isdatetime(obj1))\n\t\t{\n\t\t\tif (ul4._isdatetime(obj2))\n\t\t\t\treturn obj1.getTime() >= obj2.getTime();\n\t\t}\n\t\telse if (ul4._islist(obj1))\n\t\t{\n\t\t\tif (ul4._islist(obj2))\n\t\t\t{\n\t\t\t\tif (obj1 === obj2)\n\t\t\t\t\treturn true;\n\t\t\t\tfor (let i = 0; i < obj1.length; ++i)\n\t\t\t\t{\n\t\t\t\t\tif (i >= obj2.length)\n\t\t\t\t\t\treturn true;\n\t\t\t\t\tlet eq = ul4._eq(obj1[i], obj2[i]);\n\t\t\t\t\tif (!eq)\n\t\t\t\t\t\treturn ul4._gt(obj1[i], obj2[i]);\n\t\t\t\t}\n\t\t\t\treturn obj1.length >= obj2.length;\n\t\t\t}\n\t\t}\n\t\t// FIXME: Set comparison\n\t\telse if (ul4._isset(obj1) || ul4._isul4set(obj1))\n\t\t{\n\t\t\tlet in1only = false;\n\t\t\tlet in2only = false;\n\n\t\t\tif (ul4._isset(obj2))\n\t\t\t{\n\t\t\t\tif (ul4._isset(obj2))\n\t\t\t\t{\n\t\t\t\t\tobj1.forEach(function(value) {\n\t\t\t\t\t\tif (!obj2.has(value))\n\t\t\t\t\t\t\tin1only = true;\n\t\t\t\t\t});\n\t\t\t\t\tobj2.forEach(function(value) {\n\t\t\t\t\t\tif (!obj1.has(value))\n\t\t\t\t\t\t\tin2only = true;\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\telse if (ul4._isul4set(obj2))\n\t\t\t\t{\n\t\t\t\t\tobj1.forEach(function(value) {\n\t\t\t\t\t\tif (!obj2.items[value])\n\t\t\t\t\t\t\tin1only = true;\n\t\t\t\t\t});\n\t\t\t\t\tfor (let value in obj2.items)\n\t\t\t\t\t{\n\t\t\t\t\t\tif (!obj1.has(value))\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tin2only = true;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (ul4._isul4set(obj2))\n\t\t\t{\n\t\t\t\tif (ul4._isset(obj2))\n\t\t\t\t{\n\t\t\t\t\tfor (let value in obj1.items)\n\t\t\t\t\t{\n\t\t\t\t\t\tif (!obj2.has(value))\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tin1only = true;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tobj2.forEach(function(value, key) {\n\t\t\t\t\t\tif (!obj1.items[value])\n\t\t\t\t\t\t\tin2only = true;\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\telse if (ul4._isul4set(obj2))\n\t\t\t\t{\n\t\t\t\t\tfor (let value in obj1.items)\n\t\t\t\t\t{\n\t\t\t\t\t\tif (!obj2.items[value])\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tin1only = true;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tfor (let value in obj2.items)\n\t\t\t\t\t{\n\t\t\t\t\t\tif (!obj1.items[value])\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tin2only = true;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t\tul4._unorderable(operator, obj1, obj2);\n\n\t\t\tif (in1only)\n\t\t\t{\n\t\t\t\tif (in2only)\n\t\t\t\t\treturn null;\n\t\t\t\telse\n\t\t\t\t\treturn 1;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tif (in2only)\n\t\t\t\t\treturn -1;\n\t\t\t\telse\n\t\t\t\t\treturn 0;\n\t\t\t}\n\t\t}\n\t\tul4._unorderable(\">=\", obj1, obj2);\n\t};\n\n\t// Return an iterator for ``obj``\n\tul4._iter = function _iter(obj)\n\t{\n\t\tif (typeof(obj) === \"string\" || ul4._islist(obj))\n\t\t{\n\t\t\treturn {\n\t\t\t\tindex: 0,\n\t\t\t\tnext: function()\n\t\t\t\t{\n\t\t\t\t\tif (this.index < obj.length)\n\t\t\t\t\t\treturn {value: obj[this.index++], done: false};\n\t\t\t\t\telse\n\t\t\t\t\t\treturn {done: true};\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t\telse if (ul4._isiter(obj))\n\t\t\treturn obj;\n\t\telse if (obj !== null && typeof(obj.__iter__) === \"function\")\n\t\t\treturn obj.__iter__();\n\t\telse if (ul4._ismap(obj))\n\t\t{\n\t\t\tlet keys = [];\n\t\t\tobj.forEach(function(value, key) {\n\t\t\t\tkeys.push(key);\n\t\t\t});\n\t\t\treturn {\n\t\t\t\tindex: 0,\n\t\t\t\tnext: function()\n\t\t\t\t{\n\t\t\t\t\tif (this.index >= keys.length)\n\t\t\t\t\t\treturn {done: true};\n\t\t\t\t\treturn {value: keys[this.index++], done: false};\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t\telse if (ul4._isset(obj))\n\t\t{\n\t\t\tlet values = [];\n\t\t\tobj.forEach(function(item) {\n\t\t\t\tvalues.push(item);\n\t\t\t});\n\t\t\treturn {\n\t\t\t\tindex: 0,\n\t\t\t\tnext: function()\n\t\t\t\t{\n\t\t\t\t\tif (this.index >= values.length)\n\t\t\t\t\t\treturn {done: true};\n\t\t\t\t\treturn {value: values[this.index++], done: false};\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t\telse if (ul4._isul4set(obj))\n\t\t{\n\t\t\treturn ul4._iter(obj.items);\n\t\t}\n\t\telse if (ul4._isobject(obj))\n\t\t{\n\t\t\tlet keys = [];\n\t\t\tfor (let key in obj)\n\t\t\t\tkeys.push(key);\n\t\t\treturn {\n\t\t\t\tindex: 0,\n\t\t\t\tnext: function()\n\t\t\t\t{\n\t\t\t\t\tif (this.index >= keys.length)\n\t\t\t\t\t\treturn {done: true};\n\t\t\t\t\treturn {value: keys[this.index++], done: false};\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t\tthrow new ul4.TypeError(ul4._type(obj) + \" object is not iterable\");\n\t};\n\n\tul4._str_repr = function _str_repr(str, ascii)\n\t{\n\t\tlet result = \"\";\n\t\tlet squote = false, dquote = false;\n\n\t\tfor (let i = 0; i < str.length; ++i)\n\t\t{\n\t\t\tlet c = str[i];\n\t\t\tif (c == '\"')\n\t\t\t{\n\t\t\t\tdquote = true;\n\t\t\t\tif (squote)\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\telse if (c == \"'\")\n\t\t\t{\n\t\t\t\tsquote = true;\n\t\t\t\tif (dquote)\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\t// Prefer single quotes: Only use double quotes if the string contains single quotes, but no double quotes\n\t\tlet quote = (squote && !dquote) ? '\"' : \"'\";\n\n\t\tfor (let i = 0; i < str.length; ++i)\n\t\t{\n\t\t\tlet c = str[i];\n\t\t\tswitch (c)\n\t\t\t{\n\t\t\t\tcase '\"':\n\t\t\t\t\tresult += (quote == c) ? '\\\\\"' : c;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"'\":\n\t\t\t\t\tresult += (quote == c) ? \"\\\\'\" : c;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"\\\\\":\n\t\t\t\t\tresult += \"\\\\\\\\\";\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"\\t\":\n\t\t\t\t\tresult += \"\\\\t\";\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"\\n\":\n\t\t\t\t\tresult += \"\\\\n\";\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"\\r\":\n\t\t\t\t\tresult += \"\\\\r\";\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tlet code = c.charCodeAt(0);\n\t\t\t\t\tlet escape;\n\t\t\t\t\tif (code < 32)\n\t\t\t\t\t\tescape = 2;\n\t\t\t\t\telse if (code < 0x7f)\n\t\t\t\t\t\tescape = 0;\n\t\t\t\t\telse if (!ascii && !/[\\u007f-\\u00a0\\u00ad\\u0378-\\u0379\\u0380-\\u0383\\u038b\\u038d\\u03a2\\u0530\\u0557-\\u0558\\u0560\\u0588\\u058b-\\u058c\\u0590\\u05c8-\\u05cf\\u05eb-\\u05ef\\u05f5-\\u0605\\u061c-\\u061d\\u06dd\\u070e-\\u070f\\u074b-\\u074c\\u07b2-\\u07bf\\u07fb-\\u07ff\\u082e-\\u082f\\u083f\\u085c-\\u085d\\u085f-\\u089f\\u08b5-\\u08e2\\u0984\\u098d-\\u098e\\u0991-\\u0992\\u09a9\\u09b1\\u09b3-\\u09b5\\u09ba-\\u09bb\\u09c5-\\u09c6\\u09c9-\\u09ca\\u09cf-\\u09d6\\u09d8-\\u09db\\u09de\\u09e4-\\u09e5\\u09fc-\\u0a00\\u0a04\\u0a0b-\\u0a0e\\u0a11-\\u0a12\\u0a29\\u0a31\\u0a34\\u0a37\\u0a3a-\\u0a3b\\u0a3d\\u0a43-\\u0a46\\u0a49-\\u0a4a\\u0a4e-\\u0a50\\u0a52-\\u0a58\\u0a5d\\u0a5f-\\u0a65\\u0a76-\\u0a80\\u0a84\\u0a8e\\u0a92\\u0aa9\\u0ab1\\u0ab4\\u0aba-\\u0abb\\u0ac6\\u0aca\\u0ace-\\u0acf\\u0ad1-\\u0adf\\u0ae4-\\u0ae5\\u0af2-\\u0af8\\u0afa-\\u0b00\\u0b04\\u0b0d-\\u0b0e\\u0b11-\\u0b12\\u0b29\\u0b31\\u0b34\\u0b3a-\\u0b3b\\u0b45-\\u0b46\\u0b49-\\u0b4a\\u0b4e-\\u0b55\\u0b58-\\u0b5b\\u0b5e\\u0b64-\\u0b65\\u0b78-\\u0b81\\u0b84\\u0b8b-\\u0b8d\\u0b91\\u0b96-\\u0b98\\u0b9b\\u0b9d\\u0ba0-\\u0ba2\\u0ba5-\\u0ba7\\u0bab-\\u0bad\\u0bba-\\u0bbd\\u0bc3-\\u0bc5\\u0bc9\\u0bce-\\u0bcf\\u0bd1-\\u0bd6\\u0bd8-\\u0be5\\u0bfb-\\u0bff\\u0c04\\u0c0d\\u0c11\\u0c29\\u0c3a-\\u0c3c\\u0c45\\u0c49\\u0c4e-\\u0c54\\u0c57\\u0c5b-\\u0c5f\\u0c64-\\u0c65\\u0c70-\\u0c77\\u0c80\\u0c84\\u0c8d\\u0c91\\u0ca9\\u0cb4\\u0cba-\\u0cbb\\u0cc5\\u0cc9\\u0cce-\\u0cd4\\u0cd7-\\u0cdd\\u0cdf\\u0ce4-\\u0ce5\\u0cf0\\u0cf3-\\u0d00\\u0d04\\u0d0d\\u0d11\\u0d3b-\\u0d3c\\u0d45\\u0d49\\u0d4f-\\u0d56\\u0d58-\\u0d5e\\u0d64-\\u0d65\\u0d76-\\u0d78\\u0d80-\\u0d81\\u0d84\\u0d97-\\u0d99\\u0db2\\u0dbc\\u0dbe-\\u0dbf\\u0dc7-\\u0dc9\\u0dcb-\\u0dce\\u0dd5\\u0dd7\\u0de0-\\u0de5\\u0df0-\\u0df1\\u0df5-\\u0e00\\u0e3b-\\u0e3e\\u0e5c-\\u0e80\\u0e83\\u0e85-\\u0e86\\u0e89\\u0e8b-\\u0e8c\\u0e8e-\\u0e93\\u0e98\\u0ea0\\u0ea4\\u0ea6\\u0ea8-\\u0ea9\\u0eac\\u0eba\\u0ebe-\\u0ebf\\u0ec5\\u0ec7\\u0ece-\\u0ecf\\u0eda-\\u0edb\\u0ee0-\\u0eff\\u0f48\\u0f6d-\\u0f70\\u0f98\\u0fbd\\u0fcd\\u0fdb-\\u0fff\\u10c6\\u10c8-\\u10cc\\u10ce-\\u10cf\\u1249\\u124e-\\u124f\\u1257\\u1259\\u125e-\\u125f\\u1289\\u128e-\\u128f\\u12b1\\u12b6-\\u12b7\\u12bf\\u12c1\\u12c6-\\u12c7\\u12d7\\u1311\\u1316-\\u1317\\u135b-\\u135c\\u137d-\\u137f\\u139a-\\u139f\\u13f6-\\u13f7\\u13fe-\\u13ff\\u1680\\u169d-\\u169f\\u16f9-\\u16ff\\u170d\\u1715-\\u171f\\u1737-\\u173f\\u1754-\\u175f\\u176d\\u1771\\u1774-\\u177f\\u17de-\\u17df\\u17ea-\\u17ef\\u17fa-\\u17ff\\u180e-\\u180f\\u181a-\\u181f\\u1878-\\u187f\\u18ab-\\u18af\\u18f6-\\u18ff\\u191f\\u192c-\\u192f\\u193c-\\u193f\\u1941-\\u1943\\u196e-\\u196f\\u1975-\\u197f\\u19ac-\\u19af\\u19ca-\\u19cf\\u19db-\\u19dd\\u1a1c-\\u1a1d\\u1a5f\\u1a7d-\\u1a7e\\u1a8a-\\u1a8f\\u1a9a-\\u1a9f\\u1aae-\\u1aaf\\u1abf-\\u1aff\\u1b4c-\\u1b4f\\u1b7d-\\u1b7f\\u1bf4-\\u1bfb\\u1c38-\\u1c3a\\u1c4a-\\u1c4c\\u1c80-\\u1cbf\\u1cc8-\\u1ccf\\u1cf7\\u1cfa-\\u1cff\\u1df6-\\u1dfb\\u1f16-\\u1f17\\u1f1e-\\u1f1f\\u1f46-\\u1f47\\u1f4e-\\u1f4f\\u1f58\\u1f5a\\u1f5c\\u1f5e\\u1f7e-\\u1f7f\\u1fb5\\u1fc5\\u1fd4-\\u1fd5\\u1fdc\\u1ff0-\\u1ff1\\u1ff5\\u1fff-\\u200f\\u2028-\\u202f\\u205f-\\u206f\\u2072-\\u2073\\u208f\\u209d-\\u209f\\u20bf-\\u20cf\\u20f1-\\u20ff\\u218c-\\u218f\\u23fb-\\u23ff\\u2427-\\u243f\\u244b-\\u245f\\u2b74-\\u2b75\\u2b96-\\u2b97\\u2bba-\\u2bbc\\u2bc9\\u2bd2-\\u2beb\\u2bf0-\\u2bff\\u2c2f\\u2c5f\\u2cf4-\\u2cf8\\u2d26\\u2d28-\\u2d2c\\u2d2e-\\u2d2f\\u2d68-\\u2d6e\\u2d71-\\u2d7e\\u2d97-\\u2d9f\\u2da7\\u2daf\\u2db7\\u2dbf\\u2dc7\\u2dcf\\u2dd7\\u2ddf\\u2e43-\\u2e7f\\u2e9a\\u2ef4-\\u2eff\\u2fd6-\\u2fef\\u2ffc-\\u3000\\u3040\\u3097-\\u3098\\u3100-\\u3104\\u312e-\\u3130\\u318f\\u31bb-\\u31bf\\u31e4-\\u31ef\\u321f\\u32ff\\u4db6-\\u4dbf\\u9fd6-\\u9fff\\ua48d-\\ua48f\\ua4c7-\\ua4cf\\ua62c-\\ua63f\\ua6f8-\\ua6ff\\ua7ae-\\ua7af\\ua7b8-\\ua7f6\\ua82c-\\ua82f\\ua83a-\\ua83f\\ua878-\\ua87f\\ua8c5-\\ua8cd\\ua8da-\\ua8df\\ua8fe-\\ua8ff\\ua954-\\ua95e\\ua97d-\\ua97f\\ua9ce\\ua9da-\\ua9dd\\ua9ff\\uaa37-\\uaa3f\\uaa4e-\\uaa4f\\uaa5a-\\uaa5b\\uaac3-\\uaada\\uaaf7-\\uab00\\uab07-\\uab08\\uab0f-\\uab10\\uab17-\\uab1f\\uab27\\uab2f\\uab66-\\uab6f\\uabee-\\uabef\\uabfa-\\uabff\\ud7a4-\\ud7af\\ud7c7-\\ud7ca\\ud7fc-\\uf8ff\\ufa6e-\\ufa6f\\ufada-\\ufaff\\ufb07-\\ufb12\\ufb18-\\ufb1c\\ufb37\\ufb3d\\ufb3f\\ufb42\\ufb45\\ufbc2-\\ufbd2\\ufd40-\\ufd4f\\ufd90-\\ufd91\\ufdc8-\\ufdef\\ufdfe-\\ufdff\\ufe1a-\\ufe1f\\ufe53\\ufe67\\ufe6c-\\ufe6f\\ufe75\\ufefd-\\uff00\\uffbf-\\uffc1\\uffc8-\\uffc9\\uffd0-\\uffd1\\uffd8-\\uffd9\\uffdd-\\uffdf\\uffe7\\uffef-\\ufffb\\ufffe-\\uffff]/.test(c))\n\t\t\t\t\t\tescape = 0;\n\t\t\t\t\telse if (code <= 0xff)\n\t\t\t\t\t\tescape = 2;\n\t\t\t\t\telse if (code <= 0xffff)\n\t\t\t\t\t\tescape = 4;\n\t\t\t\t\telse\n\t\t\t\t\t\tescape = 8;\n\n\t\t\t\t\tif (escape === 0)\n\t\t\t\t\t\tresult += c;\n\t\t\t\t\telse if (escape === 2)\n\t\t\t\t\t\tresult += \"\\\\x\" + ul4._lpad(code.toString(16), \"0\", 2);\n\t\t\t\t\telse if (escape === 4)\n\t\t\t\t\t\tresult += \"\\\\u\" + ul4._lpad(code.toString(16), \"0\", 4);\n\t\t\t\t\telse\n\t\t\t\t\t\tresult += \"\\\\U\" + ul4._lpad(code.toString(16), \"0\", 8);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\treturn quote + result + quote;\n\t};\n\n\tul4._date_repr = function _date_repr(obj, ascii)\n\t{\n\t\tlet year = obj._date.getFullYear();\n\t\tlet month = obj._date.getMonth()+1;\n\t\tlet day = obj._date.getDate();\n\t\tlet result = \"@(\" + year + \"-\" + ul4._lpad(month.toString(), \"0\", 2) + \"-\" + ul4._lpad(day.toString(), \"0\", 2) + \")\";\n\t\treturn result;\n\t};\n\n\tul4._datetime_repr = function _datetime_repr(obj, ascii)\n\t{\n\t\tlet year = obj.getFullYear();\n\t\tlet month = obj.getMonth()+1;\n\t\tlet day = obj.getDate();\n\t\tlet hour = obj.getHours();\n\t\tlet minute = obj.getMinutes();\n\t\tlet second = obj.getSeconds();\n\t\tlet ms = obj.getMilliseconds();\n\t\tlet result = \"@(\" + year + \"-\" + ul4._lpad(month.toString(), \"0\", 2) + \"-\" + ul4._lpad(day.toString(), \"0\", 2) + \"T\";\n\n\t\tif (hour || minute || second || ms)\n\t\t{\n\t\t\tresult += ul4._lpad(hour.toString(), \"0\", 2) + \":\" + ul4._lpad(minute.toString(), \"0\", 2);\n\t\t\tif (second || ms)\n\t\t\t{\n\t\t\t\tresult += \":\" + ul4._lpad(second.toString(), \"0\", 2);\n\t\t\t\tif (ms)\n\t\t\t\t\tresult += \".\" + ul4._lpad(ms.toString(), \"0\", 3) + \"000\";\n\t\t\t}\n\t\t}\n\t\tresult += \")\";\n\n\t\treturn result;\n\t};\n\n\tul4._map_repr = function _map_repr(obj, ascii)\n\t{\n\t\tlet v = [];\n\t\tv.push(\"{\");\n\n\t\tlet i = 0;\n\t\tobj.forEach(function(value, key) {\n\t\t\tif (i++)\n\t\t\t\tv.push(\", \");\n\t\t\tv.push(ul4._repr_internal(key, ascii));\n\t\t\tv.push(\": \");\n\t\t\tv.push(ul4._repr_internal(value, ascii));\n\t\t});\n\n\t\tv.push(\"}\");\n\t\treturn v.join(\"\");\n\t};\n\n\tul4._list_repr = function _list_repr(obj, ascii)\n\t{\n\t\tlet v = [];\n\t\tv.push(\"[\");\n\t\tfor (let i = 0; i < obj.length; ++i)\n\t\t{\n\t\t\tlet item = obj[i];\n\t\t\tif (i)\n\t\t\t\tv.push(\", \");\n\t\t\tv.push(ul4._repr_internal(item, ascii));\n\t\t}\n\t\tv.push(\"]\");\n\t\treturn v.join(\"\");\n\t};\n\n\tul4._set_repr = function _set_repr(obj, ascii)\n\t{\n\t\tlet v = [];\n\t\tv.push(\"{\");\n\t\tif (!obj.size)\n\t\t\tv.push(\"/\");\n\t\telse\n\t\t{\n\t\t\tlet i = 0;\n\t\t\tobj.forEach(function(value) {\n\t\t\t\tif (i++)\n\t\t\t\t\tv.push(\", \");\n\t\t\t\tv.push(ul4._repr_internal(value, ascii));\n\t\t\t});\n\t\t}\n\t\tv.push(\"}\");\n\t\treturn v.join(\"\");\n\t};\n\n\tul4._object_repr = function _object_repr(obj, ascii)\n\t{\n\t\tlet v = [];\n\t\tv.push(\"{\");\n\t\tlet i = 0;\n\t\tfor (let key in obj)\n\t\t{\n\t\t\tif (!obj.hasOwnProperty(key))\n\t\t\t\tcontinue;\n\t\t\tif (i++)\n\t\t\t\tv.push(\", \");\n\t\t\tv.push(ul4._repr_internal(key, ascii));\n\t\t\tv.push(\": \");\n\t\t\tv.push(ul4._repr_internal(obj[key], ascii));\n\t\t}\n\t\tv.push(\"}\");\n\t\treturn v.join(\"\");\n\t};\n\n\tul4._repr_internal = function _repr_internal(obj, ascii)\n\t{\n\t\tif (obj === null)\n\t\t\treturn \"None\";\n\t\telse if (obj === false)\n\t\t\treturn \"False\";\n\t\telse if (obj === true)\n\t\t\treturn \"True\";\n\t\telse if (typeof(obj) === \"string\")\n\t\t\treturn ul4._str_repr(obj, ascii);\n\t\telse if (typeof(obj) === \"number\")\n\t\t\treturn \"\" + obj;\n\t\telse if (typeof(obj) === \"function\")\n\t\t\tif (obj._ul4_name || obj.name)\n\t\t\t\treturn \"<function \" + (obj._ul4_name || obj.name) + \">\";\n\t\t\telse\n\t\t\t\treturn \"<anonymous function>\";\n\t\telse if (ul4._isdate(obj))\n\t\t\treturn ul4._date_repr(obj, ascii);\n\t\telse if (ul4._isdatetime(obj))\n\t\t\treturn ul4._datetime_repr(obj, ascii);\n\t\telse if (typeof(obj) === \"undefined\")\n\t\t\treturn \"<undefined>\";\n\t\telse if (typeof(obj) === \"object\" && typeof(obj.__repr__) === \"function\")\n\t\t\treturn obj.__repr__();\n\t\telse if (ul4._islist(obj))\n\t\t\treturn ul4._list_repr(obj, ascii);\n\t\telse if (ul4._ismap(obj))\n\t\t\treturn ul4._map_repr(obj, ascii);\n\t\telse if (ul4._isset(obj))\n\t\t\treturn ul4._set_repr(obj, ascii);\n\t\telse if (ul4._isobject(obj))\n\t\t\treturn ul4._object_repr(obj, ascii);\n\t\treturn \"?\";\n\t};\n\n\t// Return a string representation of ``obj``: If possible this should be an object literal supported by UL4, otherwise the output should be bracketed with ``<`` and ``>``\n\tul4._repr = function _repr(obj)\n\t{\n\t\treturn ul4._repr_internal(obj, false);\n\t};\n\n\tul4._ascii = function _ascii(obj)\n\t{\n\t\treturn ul4._repr_internal(obj, true);\n\t};\n\n\tul4._date_str = function _date_str(obj)\n\t{\n\t\tlet year = obj._date.getFullYear();\n\t\tlet month = obj._date.getMonth()+1;\n\t\tlet day = obj._date.getDate();\n\n\t\treturn year + \"-\" + ul4._lpad(month.toString(), \"0\", 2) + \"-\" + ul4._lpad(day.toString(), \"0\", 2);\n\t};\n\n\tul4._datetime_str = function _datetime_str(obj)\n\t{\n\t\tlet year = obj.getFullYear();\n\t\tlet month = obj.getMonth()+1;\n\t\tlet day = obj.getDate();\n\t\tlet hour = obj.getHours();\n\t\tlet minute = obj.getMinutes();\n\t\tlet second = obj.getSeconds();\n\t\tlet ms = obj.getMilliseconds();\n\n\t\tlet result = year + \"-\" + ul4._lpad(month.toString(), \"0\", 2) + \"-\" + ul4._lpad(day.toString(), \"0\", 2) + \" \" + ul4._lpad(hour.toString(), \"0\", 2) + \":\" + ul4._lpad(minute.toString(), \"0\", 2);\n\t\tif (second || ms)\n\t\t{\n\t\t\tresult += \":\" + ul4._lpad(second.toString(), \"0\", 2);\n\t\t\tif (ms)\n\t\t\t\tresult += \".\" + ul4._lpad(ms.toString(), \"0\", 3) + \"000\";\n\t\t}\n\t\treturn result;\n\t};\n\n\tul4._str = function _str(obj)\n\t{\n\t\tif (typeof(obj) === \"undefined\")\n\t\t\treturn \"\";\n\t\telse if (obj === null)\n\t\t\treturn \"\";\n\t\telse if (obj === false)\n\t\t\treturn \"False\";\n\t\telse if (obj === true)\n\t\t\treturn \"True\";\n\t\telse if (typeof(obj) === \"string\")\n\t\t\treturn obj;\n\t\telse if (typeof(obj) === \"number\")\n\t\t\treturn obj.toString();\n\t\telse if (ul4._isdate(obj))\n\t\t\treturn ul4._date_str(obj);\n\t\telse if (ul4._isdatetime(obj))\n\t\t\treturn ul4._datetime_str(obj);\n\t\telse if (ul4._islist(obj))\n\t\t\treturn ul4._list_repr(obj);\n\t\telse if (ul4._isset(obj))\n\t\t\treturn ul4._set_repr(obj);\n\t\telse if (ul4._ismap(obj))\n\t\t\treturn ul4._map_repr(obj);\n\t\telse if (typeof(obj) === \"object\" && typeof(obj.__str__) === \"function\")\n\t\t\treturn obj.__str__();\n\t\telse if (typeof(obj) === \"object\" && typeof(obj.__repr__) === \"function\")\n\t\t\treturn obj.__repr__();\n\t\telse if (ul4._isobject(obj))\n\t\t\treturn ul4._object_repr(obj);\n\t\treturn \"?\";\n\t};\n\n\t// Convert ``obj`` to bool, according to its \"truth value\"\n\tul4._bool = function _bool(obj)\n\t{\n\t\tif (typeof(obj) === \"undefined\" || obj === null || obj === false || obj === 0 || obj === \"\")\n\t\t\treturn false;\n\t\telse\n\t\t{\n\t\t\tif (typeof(obj) === \"object\", typeof(obj.__bool__) === \"function\")\n\t\t\t\treturn obj.__bool__();\n\t\t\tif (ul4._islist(obj))\n\t\t\t\treturn obj.length !== 0;\n\t\t\telse if (ul4._ismap(obj) || ul4._isset(obj))\n\t\t\t\treturn obj.size != 0;\n\t\t\telse if (ul4._isobject(obj))\n\t\t\t{\n\t\t\t\tfor (let key in obj)\n\t\t\t\t{\n\t\t\t\t\tif (!obj.hasOwnProperty(key))\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t};\n\n\t// Convert ``obj`` to an integer (if ``base`` is given ``obj`` must be a string and ``base`` is the base for the conversion (default is 10))\n\tul4._int = function _int(obj, base)\n\t{\n\t\tlet result;\n\t\tif (base !== null)\n\t\t{\n\t\t\tif (typeof(obj) !== \"string\" || !ul4._isint(base))\n\t\t\t\tthrow new ul4.TypeError(\"int() requires a string and an integer\");\n\t\t\tresult = parseInt(obj, base);\n\t\t\tif (result.toString() == \"NaN\")\n\t\t\t\tthrow new ul4.TypeError(\"invalid literal for int()\");\n\t\t\treturn result;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tif (typeof(obj) == \"string\")\n\t\t\t{\n\t\t\t\tresult = parseInt(obj);\n\t\t\t\tif (result.toString() == \"NaN\")\n\t\t\t\tthrow new ul4.TypeError(\"invalid literal for int()\");\n\t\t\t\treturn result;\n\t\t\t}\n\t\t\telse if (typeof(obj) == \"number\")\n\t\t\t\treturn Math.floor(obj);\n\t\t\telse if (obj === true)\n\t\t\t\treturn 1;\n\t\t\telse if (obj === false)\n\t\t\t\treturn 0;\n\t\t\tthrow new ul4.TypeError(\"int() argument must be a string or a number\");\n\t\t}\n\t};\n\n\t// Convert ``obj`` to a float\n\tul4._float = function _float(obj)\n\t{\n\t\tif (typeof(obj) === \"string\")\n\t\t\treturn parseFloat(obj);\n\t\telse if (typeof(obj) === \"number\")\n\t\t\treturn obj;\n\t\telse if (obj === true)\n\t\t\treturn 1.0;\n\t\telse if (obj === false)\n\t\t\treturn 0.0;\n\t\tthrow new ul4.TypeError(\"float() argument must be a string or a number\");\n\t};\n\n\t// Convert ``obj`` to a list\n\tul4._list = function _list(obj)\n\t{\n\t\tlet iter = ul4._iter(obj);\n\n\t\tlet result = [];\n\t\tfor (;;)\n\t\t{\n\t\t\tlet value = iter.next();\n\t\t\tif (value.done)\n\t\t\t\treturn result;\n\t\t\tresult.push(value.value);\n\t\t}\n\t};\n\n\t// Convert ``obj`` to a set\n\tul4._set = function _set(obj)\n\t{\n\t\tlet iter = ul4._iter(obj);\n\n\t\tlet result = ul4._emptyset();\n\t\tfor (;;)\n\t\t{\n\t\t\tlet value = iter.next();\n\t\t\tif (value.done)\n\t\t\t\treturn result;\n\t\t\tresult.add(value.value);\n\t\t}\n\t};\n\n\t// Return the length of ``sequence``\n\tul4._len = function _len(sequence)\n\t{\n\t\tif (typeof(sequence) == \"string\" || ul4._islist(sequence))\n\t\t\treturn sequence.length;\n\t\telse if (ul4._ismap(sequence) || ul4._isset(sequence))\n\t\t\treturn sequence.size;\n\t\telse if (ul4._isobject(sequence))\n\t\t{\n\t\t\tlet i = 0;\n\t\t\tfor (let key in sequence)\n\t\t\t\t++i;\n\t\t\treturn i;\n\t\t}\n\t\tthrow new ul4.TypeError(\"object of type '\" + ul4._type(sequence) + \"' has no len()\");\n\t};\n\n\tul4._type = function _type(obj)\n\t{\n\t\tif (obj === null)\n\t\t\treturn \"none\";\n\t\telse if (obj === false || obj === true)\n\t\t\treturn \"bool\";\n\t\telse if (typeof(obj) === \"undefined\")\n\t\t\treturn \"undefined\";\n\t\telse if (typeof(obj) === \"number\")\n\t\t\treturn Math.round(obj) == obj ? \"int\" : \"float\";\n\t\telse if (typeof(obj) === \"function\")\n\t\t\treturn \"function\";\n\t\telse\n\t\t{\n\t\t\tif (typeof(obj.ul4type) === \"function\")\n\t\t\t\treturn obj.ul4type();\n\t\t\telse\n\t\t\t\treturn ul4.Protocol.get(obj).ul4type(obj);\n\t\t}\n\t};\n\n\t// (this is non-trivial, because it follows the Python semantic of ``-5 % 2`` being ``1``)\n\tul4._mod = function _mod(obj1, obj2)\n\t{\n\t\tlet div = Math.floor(obj1 / obj2);\n\t\tlet mod = obj1 - div * obj2;\n\n\t\tif (mod !== 0 && ((obj2 < 0 && mod > 0) || (obj2 > 0 && mod < 0)))\n\t\t{\n\t\t\tmod += obj2;\n\t\t\t--div;\n\t\t}\n\t\treturn obj1 - div * obj2;\n\t},\n\n\t// Return the attribute with the name ``attrname`` of the object ``obj``\n\t// If ``obj`` doesn't have such an attribute, return ``default_``\n\tul4._getattr = function _getattr(obj, attrname, default_=null)\n\t{\n\t\tlet proto = ul4.Protocol.get(obj);\n\t\ttry\n\t\t{\n\t\t\treturn proto.getattr(obj, attrname);\n\t\t}\n\t\tcatch (exc)\n\t\t{\n\t\t\tif (exc instanceof ul4.AttributeError && exc.obj === obj)\n\t\t\t\treturn default_;\n\t\t\telse\n\t\t\t\tthrow exc;\n\t\t}\n\t};\n\n\t// Return wether the object ``obj`` has an attribute with the name ``attrname``\n\tul4._hasattr = function _hasattr(obj, attrname)\n\t{\n\t\tlet proto = ul4.Protocol.get(obj);\n\t\treturn proto.hasattr(obj, attrname);\n\t};\n\n\t// Return the names of the attributes of the object ``obj`` as a set.\n\tul4._dir = function _dir(obj)\n\t{\n\t\tlet proto = ul4.Protocol.get(obj);\n\t\treturn proto.dir();\n\t};\n\n\t// Return whether any of the items in ``iterable`` are true\n\tul4._any = function _any(iterable)\n\t{\n\t\tif (typeof(iterable) == \"string\")\n\t\t{\n\t\t\tfor (let i = 0; i < iterable.length; ++i)\n\t\t\t{\n\t\t\t\tif (iterable[i] !== '\\x00')\n\t\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tfor (let iter = ul4._iter(iterable);;)\n\t\t\t{\n\t\t\t\tlet item = iter.next();\n\t\t\t\tif (item.done)\n\t\t\t\t\treturn false;\n\t\t\t\tif (ul4._bool(item.value))\n\t\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t};\n\n\t// Return whether all of the items in ``iterable`` are true\n\tul4._all = function _all(iterable)\n\t{\n\t\tif (typeof(iterable) == \"string\")\n\t\t{\n\t\t\tfor (let i = 0; i < iterable.length; ++i)\n\t\t\t{\n\t\t\t\tif (iterable[i] === '\\x00')\n\t\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tfor (let iter = ul4._iter(iterable);;)\n\t\t\t{\n\t\t\t\tlet item = iter.next();\n\t\t\t\tif (item.done)\n\t\t\t\t\treturn true;\n\t\t\t\tif (!ul4._bool(item.value))\n\t\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t};\n\n\t// Check if ``obj`` is undefined\n\tul4._isundefined = function _isundefined(obj)\n\t{\n\t\treturn typeof(obj) === \"undefined\";\n\t};\n\n\n\t// Check if ``obj`` is *not* undefined\n\tul4._isdefined = function _isdefined(obj)\n\t{\n\t\treturn typeof(obj) !== \"undefined\";\n\t};\n\n\t// Check if ``obj`` is ``None``\n\tul4._isnone = function _isnone(obj)\n\t{\n\t\treturn obj === null;\n\t};\n\n\t// Check if ``obj`` is a boolean\n\tul4._isbool = function _isbool(obj)\n\t{\n\t\treturn typeof(obj) == \"boolean\";\n\t};\n\n\t// Check if ``obj`` is a int\n\tul4._isint = function _isint(obj)\n\t{\n\t\treturn (typeof(obj) == \"number\") && Math.round(obj) == obj;\n\t};\n\n\t// Check if ``obj`` is a float\n\tul4._isfloat = function _isfloat(obj)\n\t{\n\t\treturn (typeof(obj) == \"number\") && Math.round(obj) != obj;\n\t};\n\n\t// Check if ``obj`` is a string\n\tul4._isstr = function _isstr(obj)\n\t{\n\t\treturn typeof(obj) == \"string\";\n\t};\n\n\t// Check if ``obj`` is a datetime\n\tul4._isdatetime = function _isdate(obj)\n\t{\n\t\treturn Object.prototype.toString.call(obj) == \"[object Date]\";\n\t};\n\n\tul4._isdate = function _isdate(obj)\n\t{\n\t\treturn (obj instanceof ul4.Date);\n\t};\n\n\t// Check if ``obj`` is a color\n\tul4._iscolor = function _iscolor(obj)\n\t{\n\t\treturn (obj instanceof ul4.Color);\n\t};\n\n\t// Check if ``obj`` is a timedelta object\n\tul4._istimedelta = function _istimedelta(obj)\n\t{\n\t\treturn (obj instanceof ul4.TimeDelta);\n\t};\n\n\t// Check if ``obj`` is a monthdelta object\n\tul4._ismonthdelta = function _ismonthdelta(obj)\n\t{\n\t\treturn (obj instanceof ul4.MonthDelta);\n\t};\n\n\t// Check if ``obj`` is a template\n\tul4._istemplate = function _istemplate(obj)\n\t{\n\t\treturn (obj instanceof ul4.Template || obj instanceof ul4.TemplateClosure);\n\t};\n\n\t// Check if ``obj`` is a function\n\tul4._isfunction = function _isfunction(obj)\n\t{\n\t\treturn typeof(obj) === \"function\" || (Object.prototype.toString.call(obj) == \"[object Object]\" && (obj instanceof ul4.Template || obj instanceof ul4.TemplateClosure));\n\t};\n\n\t// Check if ``obj`` is a list\n\tul4._islist = function _islist(obj)\n\t{\n\t\treturn Object.prototype.toString.call(obj) == \"[object Array]\";\n\t};\n\n\t// Check if ``obj`` is a set\n\tul4._isset = function _isset(obj)\n\t{\n\t\treturn Object.prototype.toString.call(obj) == \"[object Set]\";\n\t};\n\n\t// Check if ``obj`` is an exception (at least a UL4 exception)\n\tul4._isexception = function _isexception(obj)\n\t{\n\t\treturn (obj instanceof ul4.Exception);\n\t};\n\n\tul4._isul4set = function _isul4set(obj)\n\t{\n\t\treturn (obj instanceof ul4._Set);\n\t};\n\n\tul4._isanyset = function _isanyset(obj)\n\t{\n\t\treturn (ul4._isset(obj) || ul4._isul4set(obj));\n\t};\n\n\t// Check if ``obj`` is an iterator\n\tul4._isiter = function _isiter(obj)\n\t{\n\t\treturn obj !== null && typeof(obj) === \"object\" && typeof(obj.next) === \"function\";\n\t};\n\n\t// Check if ``obj`` is a JS object\n\tul4._isobject = function _isobject(obj)\n\t{\n\t\treturn Object.prototype.toString.call(obj) == \"[object Object]\" && typeof(obj.__type__) === \"undefined\" && !(obj instanceof ul4.Proto);\n\t};\n\n\tif (ul4._havemap)\n\t{\n\t\t// Check if ``obj`` is a ``Map``\n\t\tul4._ismap = function _ismap(obj)\n\t\t{\n\t\t\treturn obj !== null && typeof(obj) === \"object\" && typeof(obj.__proto__) === \"object\" && obj.__proto__ === Map.prototype;\n\t\t};\n\n\t\t// Check if ``obj`` is a dict (i.e. a normal Javascript object or a ``Map``)\n\t\tul4._isdict = function _isdict(obj)\n\t\t{\n\t\t\treturn ul4._isobject(obj) || ul4._ismap(obj);\n\t\t};\n\t}\n\telse\n\t{\n\t\tul4._ismap = function _ismap(obj)\n\t\t{\n\t\t\treturn false;\n\t\t};\n\n\t\tul4._isdict = function _isdict(obj)\n\t\t{\n\t\t\treturn ul4._isobject(obj);\n\t\t};\n\t}\n\n\t// Repeat string ``str`` ``rep`` times\n\tul4._str_repeat = function _str_repeat(str, rep)\n\t{\n\t\tlet result = \"\";\n\t\tfor (; rep>0; --rep)\n\t\t\tresult += str;\n\t\treturn result;\n\t};\n\n\tul4._list_repeat = function _list_repeat(list, rep)\n\t{\n\t\tlet result = [];\n\t\tfor (; rep>0; --rep)\n\t\t\tfor (let i = 0; i < list.length; ++i)\n\t\t\t\tresult.push(list[i]);\n\t\treturn result;\n\t};\n\n\tul4._str_json = function _str_json(str)\n\t{\n\t\tlet result = \"\";\n\t\tfor (let i = 0; i < str.length; ++i)\n\t\t{\n\t\t\tlet c = str[i];\n\t\t\tswitch (c)\n\t\t\t{\n\t\t\t\tcase \"\\r\":\n\t\t\t\t\tresult += \"\\\\r\";\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"\\n\":\n\t\t\t\t\tresult += \"\\\\n\";\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"\\t\":\n\t\t\t\t\tresult += \"\\\\t\";\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"\\\\\":\n\t\t\t\t\tresult += \"\\\\\\\\\";\n\t\t\t\t\tbreak;\n\t\t\t\tcase '\"':\n\t\t\t\t\tresult += '\\\\\"';\n\t\t\t\t\tbreak;\n\t\t\t\tcase '<':\n\t\t\t\t\tresult += '\\\\u003c';\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tlet code = c.charCodeAt(0);\n\t\t\t\t\tif (code >= 32 && code < 128)\n\t\t\t\t\t\tresult += c;\n\t\t\t\t\telse\n\t\t\t\t\t\tresult += \"\\\\u\" + ul4._lpad(code.toString(16), \"0\", 4);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\treturn '\"' + result + '\"';\n\t};\n\n\t// Encodes ``obj`` in the Javascript Object Notation (see http://json.org/; with support for dates, colors and templates)\n\tul4._asjson = function _asjson(obj)\n\t{\n\t\tif (obj === null)\n\t\t\treturn \"null\";\n\t\telse if (typeof(obj) === \"undefined\")\n\t\t\treturn \"undefined\";\n\t\telse if (obj === false)\n\t\t\treturn \"false\";\n\t\telse if (obj === true)\n\t\t\treturn \"true\";\n\t\telse if (typeof(obj) === \"string\")\n\t\t\treturn ul4._str_json(obj);\n\t\telse if (typeof(obj) === \"number\")\n\t\t{\n\t\t\treturn \"\" + obj;\n\t\t}\n\t\telse if (ul4._islist(obj))\n\t\t{\n\t\t\tlet v = [];\n\t\t\tv.push(\"[\");\n\t\t\tfor (let i = 0; i < obj.length; ++i)\n\t\t\t{\n\t\t\t\tif (i != 0)\n\t\t\t\t\tv.push(\", \");\n\t\t\t\tv.push(ul4._asjson(obj[i]));\n\t\t\t}\n\t\t\tv.push(\"]\");\n\t\t\treturn v.join(\"\");\n\t\t}\n\t\telse if (ul4._ismap(obj))\n\t\t{\n\t\t\tlet v = [];\n\t\t\tv.push(\"{\");\n\t\t\tlet i = 0;\n\t\t\tobj.forEach(function(value, key) {\n\t\t\t\tif (i++)\n\t\t\t\t\tv.push(\", \");\n\t\t\t\tv.push(ul4._asjson(key));\n\t\t\t\tv.push(\": \");\n\t\t\t\tv.push(ul4._asjson(value));\n\t\t\t});\n\t\t\tv.push(\"}\");\n\t\t\treturn v.join(\"\");\n\t\t}\n\t\telse if (ul4._isobject(obj))\n\t\t{\n\t\t\tlet v = [];\n\t\t\tv.push(\"{\");\n\t\t\tlet i = 0;\n\t\t\tfor (let key in obj)\n\t\t\t{\n\t\t\t\tif (i++)\n\t\t\t\t\tv.push(\", \");\n\t\t\t\tv.push(ul4._asjson(key));\n\t\t\t\tv.push(\": \");\n\t\t\t\tv.push(ul4._asjson(obj[key]));\n\t\t\t}\n\t\t\tv.push(\"}\");\n\t\t\treturn v.join(\"\");\n\t\t}\n\t\telse if (ul4._isdate(obj))\n\t\t{\n\t\t\treturn \"new ul4.Date(\" + obj._date.getFullYear() + \", \" + (obj._date.getMonth()+1) + \", \" + obj._date.getDate() + \")\";\n\t\t}\n\t\telse if (ul4._isdatetime(obj))\n\t\t{\n\t\t\treturn \"new Date(\" + obj.getFullYear() + \", \" + obj.getMonth() + \", \" + obj.getDate() + \", \" + obj.getHours() + \", \" + obj.getMinutes() + \", \" + obj.getSeconds() + \", \" + obj.getMilliseconds() + \")\";\n\t\t}\n\t\telse if (ul4._istimedelta(obj))\n\t\t{\n\t\t\treturn \"new ul4.TimeDelta(\" + obj._days + \", \" + obj._seconds + \", \" + obj._microseconds + \")\";\n\t\t}\n\t\telse if (ul4._ismonthdelta(obj))\n\t\t{\n\t\t\treturn \"new ul4.MonthDelta(\" + obj._months + \")\";\n\t\t}\n\t\telse if (ul4._iscolor(obj))\n\t\t{\n\t\t\treturn \"new ul4.Color(\" + obj._r + \", \" + obj._g + \", \" + obj._b + \", \" + obj._a + \")\";\n\t\t}\n\t\telse if (ul4._istemplate(obj))\n\t\t{\n\t\t\treturn \"ul4.Template.loads(\" + ul4._repr(obj.dumps()) + \")\";\n\t\t}\n\t\tthrow new ul4.TypeError(\"asjson() requires a serializable object\");\n\t};\n\n\t// Decodes the string ``string`` from the Javascript Object Notation (see http://json.org/) and returns the resulting object\n\tul4._fromjson = function _fromjson(string)\n\t{\n\t\t// The following is from jQuery's parseJSON function\n\t\tstring = ul4.StrProtocol.strip(string);\n\t\tif (root.JSON && root.JSON.parse)\n\t\t\treturn root.JSON.parse(string);\n\t\tif (ul4._rvalidchars.test(string.replace(ul4._rvalidescape, \"@\").replace(ul4._rvalidtokens, \"]\").replace(ul4._rvalidbraces, \"\")))\n\t\t\treturn (new Function(\"return \" + string))();\n\t\tthrow new ul4.TypeError(\"invalid JSON\");\n\t};\n\n\t// Encodes ``obj`` in the UL4 Object Notation format\n\tul4._asul4on = function _asul4on(obj)\n\t{\n\t\treturn ul4.dumps(obj);\n\t};\n\n\t// Decodes the string ``string`` from the UL4 Object Notation format and returns the resulting decoded object\n\tul4._fromul4on = function _fromul4on(string)\n\t{\n\t\treturn ul4.loads(string);\n\t};\n\n\tul4._format_datetime = function _format_datetime(obj, fmt, lang)\n\t{\n\t\tlet translations = {\n\t\t\tde: {\n\t\t\t\tms: [\"Jan\", \"Feb\", \"M\\u00e4r\", \"Apr\", \"Mai\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Okt\", \"Nov\", \"Dez\"],\n\t\t\t\tml: [\"Januar\", \"Februar\", \"M\\u00e4rz\", \"April\", \"Mai\", \"Juni\", \"Juli\", \"August\", \"September\", \"Oktober\", \"November\", \"Dezember\"],\n\t\t\t\tws: [\"So\", \"Mo\", \"Di\", \"Mi\", \"Do\", \"Fr\", \"Sa\"],\n\t\t\t\twl: [\"Sonntag\", \"Montag\", \"Dienstag\", \"Mittwoch\", \"Donnerstag\", \"Freitag\", \"Samstag\"],\n\t\t\t\txf: \"%d.%m.%Y\",\n\t\t\t\tXf: \"%H:%M:%S\",\n\t\t\t\tcf: \"%a %d %b %Y %H:%M:%S\"\n\t\t\t},\n\t\t\ten: {\n\t\t\t\tms: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"],\n\t\t\t\tml: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n\t\t\t\tws: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n\t\t\t\twl: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\n\t\t\t\txf: \"%m/%d/%Y\",\n\t\t\t\tXf: \"%H:%M:%S\",\n\t\t\t\tcf: \"%a %d %b %Y %I:%M:%S %p\"\n\t\t\t},\n\t\t\tfr: {\n\t\t\t\tms: [\"janv.\", \"f\\u00e9vr.\", \"mars\", \"avril\", \"mai\", \"juin\", \"juil.\", \"ao\\u00fbt\", \"sept.\", \"oct.\", \"nov.\", \"d\\u00e9c.\"],\n\t\t\t\tml: [\"janvier\", \"f\\u00e9vrier\", \"mars\", \"avril\", \"mai\", \"juin\", \"juillet\", \"ao\\u00fbt\", \"septembre\", \"octobre\", \"novembre\", \"d\\u00e9cembre\"],\n\t\t\t\tws: [\"dim.\", \"lun.\", \"mar.\", \"mer.\", \"jeu.\", \"ven.\", \"sam.\"],\n\t\t\t\twl: [\"dimanche\", \"lundi\", \"mardi\", \"mercredi\", \"jeudi\", \"vendredi\", \"samedi\"],\n\t\t\t\txf: \"%d/%m/%Y\",\n\t\t\t\tXf: \"%H:%M:%S\",\n\t\t\t\tcf: \"%a %d %b %Y %H:%M:%S\"\n\t\t\t},\n\t\t\tes: {\n\t\t\t\tms: [\"ene\", \"feb\", \"mar\", \"abr\", \"may\", \"jun\", \"jul\", \"ago\", \"sep\", \"oct\", \"nov\", \"dic\"],\n\t\t\t\tml: [\"enero\", \"febrero\", \"marzo\", \"abril\", \"mayo\", \"junio\", \"julio\", \"agosto\", \"septiembre\", \"octubre\", \"noviembre\", \"diciembre\"],\n\t\t\t\tws: [\"dom\", \"lun\", \"mar\", \"mi\\u00e9\", \"jue\", \"vie\", \"s\\u00e1b\"],\n\t\t\t\twl: [\"domingo\", \"lunes\", \"martes\", \"mi\\u00e9rcoles\", \"jueves\", \"viernes\", \"s\\u00e1bado\"],\n\t\t\t\txf: \"%d/%m/%y\",\n\t\t\t\tXf: \"%H:%M:%S\",\n\t\t\t\tcf: \"%a %d %b %Y %H:%M:%S\"\n\t\t\t},\n\t\t\tit: {\n\t\t\t\tms: [\"gen\", \"feb\", \"mar\", \"apr\", \"mag\", \"giu\", \"lug\", \"ago\", \"set\", \"ott\", \"nov\", \"dic\"],\n\t\t\t\tml: [\"gennaio\", \"febbraio\", \"marzo\", \"aprile\", \"maggio\", \"giugno\", \"luglio\", \"agosto\", \"settembre\", \"ottobre\", \"novembre\", \"dicembre\"],\n\t\t\t\tws: [\"dom\", \"lun\", \"mar\", \"mer\", \"gio\", \"ven\", \"sab\"],\n\t\t\t\twl: [\"domenica\", \"luned\\u00ec\", \"marted\\u00ec\", \"mercoled\\u00ec\", \"gioved\\u00ec\", \"venerd\\u00ec\", \"sabato\"],\n\t\t\t\txf: \"%d/%m/%Y\",\n\t\t\t\tXf: \"%H:%M:%S\",\n\t\t\t\tcf: \"%a %d %b %Y %H:%M:%S\"\n\t\t\t},\n\t\t\tda: {\n\t\t\t\tms: [\"jan\", \"feb\", \"mar\", \"apr\", \"maj\", \"jun\", \"jul\", \"aug\", \"sep\", \"okt\", \"nov\", \"dec\"],\n\t\t\t\tml: [\"januar\", \"februar\", \"marts\", \"april\", \"maj\", \"juni\", \"juli\", \"august\", \"september\", \"oktober\", \"november\", \"december\"],\n\t\t\t\tws: [\"s\\u00f8n\", \"man\", \"tir\", \"ons\", \"tor\", \"fre\", \"l\\u00f8r\"],\n\t\t\t\twl: [\"s\\u00f8ndag\", \"mandag\", \"tirsdag\", \"onsdag\", \"torsdag\", \"fredag\", \"l\\u00f8rdag\"],\n\t\t\t\txf: \"%d-%m-%Y\",\n\t\t\t\tXf: \"%H:%M:%S\",\n\t\t\t\tcf: \"%a %d %b %Y %H:%M:%S\"\n\t\t\t},\n\t\t\tsv: {\n\t\t\t\tms: [\"jan\", \"feb\", \"mar\", \"apr\", \"maj\", \"jun\", \"jul\", \"aug\", \"sep\", \"okt\", \"nov\", \"dec\"],\n\t\t\t\tml: [\"januari\", \"februari\", \"mars\", \"april\", \"maj\", \"juni\", \"juli\", \"augusti\", \"september\", \"oktober\", \"november\", \"december\"],\n\t\t\t\tws: [\"s\\u00f6n\", \"m\\u00e5n\", \"tis\", \"ons\", \"tor\", \"fre\", \"l\\u00f6r\"],\n\t\t\t\twl: [\"s\\u00f6ndag\", \"m\\u00e5ndag\", \"tisdag\", \"onsdag\", \"torsdag\", \"fredag\", \"l\\u00f6rdag\"],\n\t\t\t\txf: \"%Y-%m-%d\",\n\t\t\t\tXf: \"%H.%M.%S\",\n\t\t\t\tcf: \"%a %d %b %Y %H.%M.%S\"\n\t\t\t},\n\t\t\tnl: {\n\t\t\t\tms: [\"jan\", \"feb\", \"mrt\", \"apr\", \"mei\", \"jun\", \"jul\", \"aug\", \"sep\", \"okt\", \"nov\", \"dec\"],\n\t\t\t\tml: [\"januari\", \"februari\", \"maart\", \"april\", \"mei\", \"juni\", \"juli\", \"augustus\", \"september\", \"oktober\", \"november\", \"december\"],\n\t\t\t\tws: [\"zo\", \"ma\", \"di\", \"wo\", \"do\", \"vr\", \"za\"],\n\t\t\t\twl: [\"zondag\", \"maandag\", \"dinsdag\", \"woensdag\", \"donderdag\", \"vrijdag\", \"zaterdag\"],\n\t\t\t\txf: \"%d-%m-%y\",\n\t\t\t\tXf: \"%H:%M:%S\",\n\t\t\t\tcf: \"%a %d %b %Y %H:%M:%S\"\n\t\t\t},\n\t\t\tpt: {\n\t\t\t\tms: [\"Jan\", \"Fev\", \"Mar\", \"Abr\", \"Mai\", \"Jun\", \"Jul\", \"Ago\", \"Set\", \"Out\", \"Nov\", \"Dez\"],\n\t\t\t\tml: [\"Janeiro\", \"Fevereiro\", \"Mar\\u00e7o\", \"Abril\", \"Maio\", \"Junho\", \"Julho\", \"Agosto\", \"Setembro\", \"Outubro\", \"Novembro\", \"Dezembro\"],\n\t\t\t\tws: [\"Dom\", \"Seg\", \"Ter\", \"Qua\", \"Qui\", \"Sex\", \"S\\u00e1b\"],\n\t\t\t\twl: [\"Domingo\", \"Segunda\", \"Ter\\u00e7a\", \"Quarta\", \"Quinta\", \"Sexta\", \"S\\u00e1bado\"],\n\t\t\t\txf: \"%d-%m-%Y\",\n\t\t\t\tXf: \"%H:%M:%S\",\n\t\t\t\tcf: \"%a %d %b %Y %H:%M:%S\"\n\t\t\t},\n\t\t\tcs: {\n\t\t\t\tms: [\"led\", \"\\u00fano\", \"b\\u0159e\", \"dub\", \"kv\\u011b\", \"\\u010den\", \"\\u010dec\", \"srp\", \"z\\u00e1\\u0159\", \"\\u0159\\u00edj\", \"lis\", \"pro\"],\n\t\t\t\tml: [\"leden\", \"\\u00fanor\", \"b\\u0159ezen\", \"duben\", \"kv\\u011bten\", \"\\u010derven\", \"\\u010dervenec\", \"srpen\", \"z\\u00e1\\u0159\\u00ed\", \"\\u0159\\u00edjen\", \"listopad\", \"prosinec\"],\n\t\t\t\tws: [\"Ne\", \"Po\", \"\\u00dat\", \"St\", \"\\u010ct\", \"P\\u00e1\", \"So\"],\n\t\t\t\twl: [\"Ned\\u011ble\", \"Pond\\u011bl\\u00ed\", \"\\u00dater\\u00fd\", \"St\\u0159eda\", \"\\u010ctvrtek\", \"P\\u00e1tek\", \"Sobota\"],\n\t\t\t\txf: \"%d.%m.%Y\",\n\t\t\t\tXf: \"%H:%M:%S\",\n\t\t\t\tcf: \"%a\\u00a0%d.\\u00a0%B\\u00a0%Y,\\u00a0%H:%M:%S\"\n\t\t\t},\n\t\t\tsk: {\n\t\t\t\tms: [\"jan\", \"feb\", \"mar\", \"apr\", \"m\\u00e1j\", \"j\\u00fan\", \"j\\u00fal\", \"aug\", \"sep\", \"okt\", \"nov\", \"dec\"],\n\t\t\t\tml: [\"janu\\u00e1r\", \"febru\\u00e1r\", \"marec\", \"apr\\u00edl\", \"m\\u00e1j\", \"j\\u00fan\", \"j\\u00fal\", \"august\", \"september\", \"okt\\u00f3ber\", \"november\", \"december\"],\n\t\t\t\tws: [\"Ne\", \"Po\", \"Ut\", \"St\", \"\\u0160t\", \"Pi\", \"So\"],\n\t\t\t\twl: [\"Nede\\u013ea\", \"Pondelok\", \"Utorok\", \"Streda\", \"\\u0160tvrtok\", \"Piatok\", \"Sobota\"],\n\t\t\t\txf: \"%d.%m.%Y\",\n\t\t\t\tXf: \"%H:%M:%S\",\n\t\t\t\tcf: \"%a\\u00a0%d.\\u00a0%B\\u00a0%Y,\\u00a0%H:%M:%S\"\n\t\t\t},\n\t\t\tpl: {\n\t\t\t\tms: [\"sty\", \"lut\", \"mar\", \"kwi\", \"maj\", \"cze\", \"lip\", \"sie\", \"wrz\", \"pa\\u017a\", \"lis\", \"gru\"],\n\t\t\t\tml: [\"stycze\\u0144\", \"luty\", \"marzec\", \"kwiecie\\u0144\", \"maj\", \"czerwiec\", \"lipiec\", \"sierpie\\u0144\", \"wrzesie\\u0144\", \"pa\\u017adziernik\", \"listopad\", \"grudzie\\u0144\"],\n\t\t\t\tws: [\"nie\", \"pon\", \"wto\", \"\\u015bro\", \"czw\", \"pi\\u0105\", \"sob\"],\n\t\t\t\twl: [\"niedziela\", \"poniedzia\\u0142ek\", \"wtorek\", \"\\u015broda\", \"czwartek\", \"pi\\u0105tek\", \"sobota\"],\n\t\t\t\txf: \"%d.%m.%Y\",\n\t\t\t\tXf: \"%H:%M:%S\",\n\t\t\t\tcf: \"%a, %d %b %Y, %H:%M:%S\"\n\t\t\t},\n\t\t\thr: {\n\t\t\t\tms: [\"Sij\", \"Vel\", \"O\\u017eu\", \"Tra\", \"Svi\", \"Lip\", \"Srp\", \"Kol\", \"Ruj\", \"Lis\", \"Stu\", \"Pro\"],\n\t\t\t\tml: [\"Sije\\u010danj\", \"Velja\\u010da\", \"O\\u017eujak\", \"Travanj\", \"Svibanj\", \"Lipanj\", \"Srpanj\", \"Kolovoz\", \"Rujan\", \"Listopad\", \"Studeni\", \"Prosinac\"],\n\t\t\t\tws: [\"Ned\", \"Pon\", \"Uto\", \"Sri\", \"\\u010cet\", \"Pet\", \"Sub\"],\n\t\t\t\twl: [\"Nedjelja\", \"Ponedjeljak\", \"Utorak\", \"Srijeda\", \"\\u010cetvrtak\", \"Petak\", \"Subota\"],\n\t\t\t\txf: \"%d.%m.%Y\",\n\t\t\t\tXf: \"%H:%M:%S\",\n\t\t\t\tcf: \"%a %d %b %Y %H:%M:%S\"\n\t\t\t},\n\t\t\tsr: {\n\t\t\t\tms: [\"\\u0458\\u0430\\u043d\", \"\\u0444\\u0435\\u0431\", \"\\u043c\\u0430\\u0440\", \"\\u0430\\u043f\\u0440\", \"\\u043c\\u0430\\u0458\", \"\\u0458\\u0443\\u043d\", \"\\u0458\\u0443\\u043b\", \"\\u0430\\u0432\\u0433\", \"\\u0441\\u0435\\u043f\", \"\\u043e\\u043a\\u0442\", \"\\u043d\\u043e\\u0432\", \"\\u0434\\u0435\\u0446\"],\n\t\t\t\tml: [\"\\u0458\\u0430\\u043d\\u0443\\u0430\\u0440\", \"\\u0444\\u0435\\u0431\\u0440\\u0443\\u0430\\u0440\", \"\\u043c\\u0430\\u0440\\u0442\", \"\\u0430\\u043f\\u0440\\u0438\\u043b\", \"\\u043c\\u0430\\u0458\", \"\\u0458\\u0443\\u043d\", \"\\u0458\\u0443\\u043b\", \"\\u0430\\u0432\\u0433\\u0443\\u0441\\u0442\", \"\\u0441\\u0435\\u043f\\u0442\\u0435\\u043c\\u0431\\u0430\\u0440\", \"\\u043e\\u043a\\u0442\\u043e\\u0431\\u0430\\u0440\", \"\\u043d\\u043e\\u0432\\u0435\\u043c\\u0431\\u0430\\u0440\", \"\\u0434\\u0435\\u0446\\u0435\\u043c\\u0431\\u0430\\u0440\"],\n\t\t\t\tws: [\"\\u043d\\u0435\\u0434\", \"\\u043f\\u043e\\u043d\", \"\\u0443\\u0442\\u043e\", \"\\u0441\\u0440\\u0435\", \"\\u0447\\u0435\\u0442\", \"\\u043f\\u0435\\u0442\", \"\\u0441\\u0443\\u0431\"],\n\t\t\t\twl: [\"\\u043d\\u0435\\u0434\\u0435\\u0459\\u0430\", \"\\u043f\\u043e\\u043d\\u0435\\u0434\\u0435\\u0459\\u0430\\u043a\", \"\\u0443\\u0442\\u043e\\u0440\\u0430\\u043a\", \"\\u0441\\u0440\\u0435\\u0434\\u0430\", \"\\u0447\\u0435\\u0442\\u0432\\u0440\\u0442\\u0430\\u043a\", \"\\u043f\\u0435\\u0442\\u0430\\u043a\", \"\\u0441\\u0443\\u0431\\u043e\\u0442\\u0430\"],\n\t\t\t\txf: \"%d.%m.%Y.\",\n\t\t\t\tXf: \"%H:%M:%S\",\n\t\t\t\tcf: \"%A, %d. %B %Y. %H:%M:%S\"\n\t\t\t},\n\t\t\tro: {\n\t\t\t\tms: [\"ian\", \"feb\", \"mar\", \"apr\", \"mai\", \"iun\", \"iul\", \"aug\", \"sep\", \"oct\", \"nov\", \"dec\"],\n\t\t\t\tml: [\"ianuarie\", \"februarie\", \"martie\", \"aprilie\", \"mai\", \"iunie\", \"iulie\", \"august\", \"septembrie\", \"octombrie\", \"noiembrie\", \"decembrie\"],\n\t\t\t\tws: [\"Du\", \"Lu\", \"Ma\", \"Mi\", \"Jo\", \"Vi\", \"Sb\"],\n\t\t\t\twl: [\"duminic\\u0103\", \"luni\", \"mar\\u0163i\", \"miercuri\", \"joi\", \"vineri\", \"s\\u00e2mb\\u0103t\\u0103\"],\n\t\t\t\txf: \"%d.%m.%Y\",\n\t\t\t\tXf: \"%H:%M:%S\",\n\t\t\t\tcf: \"%a %d %b %Y %H:%M:%S\"\n\t\t\t},\n\t\t\thu: {\n\t\t\t\tms: [\"jan\", \"febr\", \"m\\u00e1rc\", \"\\u00e1pr\", \"m\\u00e1j\", \"j\\u00fan\", \"j\\u00fal\", \"aug\", \"szept\", \"okt\", \"nov\", \"dec\"],\n\t\t\t\tml: [\"janu\\u00e1r\", \"febru\\u00e1r\", \"m\\u00e1rcius\", \"\\u00e1prilis\", \"m\\u00e1jus\", \"j\\u00fanius\", \"j\\u00falius\", \"augusztus\", \"szeptember\", \"okt\\u00f3ber\", \"november\", \"december\"],\n\t\t\t\tws: [\"v\", \"h\", \"k\", \"sze\", \"cs\", \"p\", \"szo\"],\n\t\t\t\twl: [\"vas\\u00e1rnap\", \"h\\u00e9tf\\u0151\", \"kedd\", \"szerda\", \"cs\\u00fct\\u00f6rt\\u00f6k\", \"p\\u00e9ntek\", \"szombat\"],\n\t\t\t\txf: \"%Y-%m-%d\",\n\t\t\t\tXf: \"%H.%M.%S\",\n\t\t\t\tcf: \"%Y. %b. %d., %A, %H.%M.%S\"\n\t\t\t},\n\t\t\ttr: {\n\t\t\t\tms: [\"Oca\", \"\\u015eub\", \"Mar\", \"Nis\", \"May\", \"Haz\", \"Tem\", \"A\\u011fu\", \"Eyl\", \"Eki\", \"Kas\", \"Ara\"],\n\t\t\t\tml: [\"Ocak\", \"\\u015eubat\", \"Mart\", \"Nisan\", \"May\\u0131s\", \"Haziran\", \"Temmuz\", \"A\\u011fustos\", \"Eyl\\u00fcl\", \"Ekim\", \"Kas\\u0131m\", \"Aral\\u0131k\"],\n\t\t\t\tws: [\"Paz\", \"Pzt\", \"Sal\", \"\\u00c7r\\u015f\", \"Pr\\u015f\", \"Cum\", \"Cts\"],\n\t\t\t\twl: [\"Pazar\", \"Pazartesi\", \"Sal\\u0131\", \"\\u00c7ar\\u015famba\", \"Per\\u015fembe\", \"Cuma\", \"Cumartesi\"],\n\t\t\t\txf: \"%d-%m-%Y\",\n\t\t\t\tXf: \"%H:%M:%S\",\n\t\t\t\tcf: \"%a %d %b %Y %H:%M:%S\"\n\t\t\t},\n\t\t\tru: {\n\t\t\t\tms: [\"\\u042f\\u043d\\u0432\", \"\\u0424\\u0435\\u0432\", \"\\u041c\\u0430\\u0440\", \"\\u0410\\u043f\\u0440\", \"\\u041c\\u0430\\u0439\", \"\\u0418\\u044e\\u043d\", \"\\u0418\\u044e\\u043b\", \"\\u0410\\u0432\\u0433\", \"\\u0421\\u0435\\u043d\", \"\\u041e\\u043a\\u0442\", \"\\u041d\\u043e\\u044f\", \"\\u0414\\u0435\\u043a\"],\n\t\t\t\tml: [\"\\u042f\\u043d\\u0432\\u0430\\u0440\\u044c\", \"\\u0424\\u0435\\u0432\\u0440\\u0430\\u043b\\u044c\", \"\\u041c\\u0430\\u0440\\u0442\", \"\\u0410\\u043f\\u0440\\u0435\\u043b\\u044c\", \"\\u041c\\u0430\\u0439\", \"\\u0418\\u044e\\u043d\\u044c\", \"\\u0418\\u044e\\u043b\\u044c\", \"\\u0410\\u0432\\u0433\\u0443\\u0441\\u0442\", \"\\u0421\\u0435\\u043d\\u0442\\u044f\\u0431\\u0440\\u044c\", \"\\u041e\\u043a\\u0442\\u044f\\u0431\\u0440\\u044c\", \"\\u041d\\u043e\\u044f\\u0431\\u0440\\u044c\", \"\\u0414\\u0435\\u043a\\u0430\\u0431\\u0440\\u044c\"],\n\t\t\t\tws: [\"\\u0412\\u0441\\u043a\", \"\\u041f\\u043d\\u0434\", \"\\u0412\\u0442\\u0440\", \"\\u0421\\u0440\\u0434\", \"\\u0427\\u0442\\u0432\", \"\\u041f\\u0442\\u043d\", \"\\u0421\\u0431\\u0442\"],\n\t\t\t\twl: [\"\\u0412\\u043e\\u0441\\u043a\\u0440\\u0435\\u0441\\u0435\\u043d\\u044c\\u0435\", \"\\u041f\\u043e\\u043d\\u0435\\u0434\\u0435\\u043b\\u044c\\u043d\\u0438\\u043a\", \"\\u0412\\u0442\\u043e\\u0440\\u043d\\u0438\\u043a\", \"\\u0421\\u0440\\u0435\\u0434\\u0430\", \"\\u0427\\u0435\\u0442\\u0432\\u0435\\u0440\\u0433\", \"\\u041f\\u044f\\u0442\\u043d\\u0438\\u0446\\u0430\", \"\\u0421\\u0443\\u0431\\u0431\\u043e\\u0442\\u0430\"],\n\t\t\t\txf: \"%d.%m.%Y\",\n\t\t\t\tXf: \"%H:%M:%S\",\n\t\t\t\tcf: \"%a %d %b %Y %H:%M:%S\"\n\t\t\t},\n\t\t\tzh: {\n\t\t\t\tms: [\" 1\\u6708\", \" 2\\u6708\", \" 3\\u6708\", \" 4\\u6708\", \" 5\\u6708\", \" 6\\u6708\", \" 7\\u6708\", \" 8\\u6708\", \" 9\\u6708\", \"10\\u6708\", \"11\\u6708\", \"12\\u6708\"],\n\t\t\t\tml: [\"\\u4e00\\u6708\", \"\\u4e8c\\u6708\", \"\\u4e09\\u6708\", \"\\u56db\\u6708\", \"\\u4e94\\u6708\", \"\\u516d\\u6708\", \"\\u4e03\\u6708\", \"\\u516b\\u6708\", \"\\u4e5d\\u6708\", \"\\u5341\\u6708\", \"\\u5341\\u4e00\\u6708\", \"\\u5341\\u4e8c\\u6708\"],\n\t\t\t\tws: [\"\\u65e5\", \"\\u4e00\", \"\\u4e8c\", \"\\u4e09\", \"\\u56db\", \"\\u4e94\", \"\\u516d\"],\n\t\t\t\twl: [\"\\u661f\\u671f\\u65e5\", \"\\u661f\\u671f\\u4e00\", \"\\u661f\\u671f\\u4e8c\", \"\\u661f\\u671f\\u4e09\", \"\\u661f\\u671f\\u56db\", \"\\u661f\\u671f\\u4e94\", \"\\u661f\\u671f\\u516d\"],\n\t\t\t\txf: \"%Y\\u5e74%b%d\\u65e5\",\n\t\t\t\tXf: \"%H\\u65f6%M\\u5206%S\\u79d2\",\n\t\t\t\tcf: \"%Y\\u5e74%b%d\\u65e5 %A %H\\u65f6%M\\u5206%S\\u79d2\"\n\t\t\t},\n\t\t\tko: {\n\t\t\t\tms: [\" 1\\uc6d4\", \" 2\\uc6d4\", \" 3\\uc6d4\", \" 4\\uc6d4\", \" 5\\uc6d4\", \" 6\\uc6d4\", \" 7\\uc6d4\", \" 8\\uc6d4\", \" 9\\uc6d4\", \"10\\uc6d4\", \"11\\uc6d4\", \"12\\uc6d4\"],\n\t\t\t\tml: [\"1\\uc6d4\", \"2\\uc6d4\", \"3\\uc6d4\", \"4\\uc6d4\", \"5\\uc6d4\", \"6\\uc6d4\", \"7\\uc6d4\", \"8\\uc6d4\", \"9\\uc6d4\", \"10\\uc6d4\", \"11\\uc6d4\", \"12\\uc6d4\"],\n\t\t\t\tws: [\"\\uc77c\", \"\\uc6d4\", \"\\ud654\", \"\\uc218\", \"\\ubaa9\", \"\\uae08\", \"\\ud1a0\"],\n\t\t\t\twl: [\"\\uc77c\\uc694\\uc77c\", \"\\uc6d4\\uc694\\uc77c\", \"\\ud654\\uc694\\uc77c\", \"\\uc218\\uc694\\uc77c\", \"\\ubaa9\\uc694\\uc77c\", \"\\uae08\\uc694\\uc77c\", \"\\ud1a0\\uc694\\uc77c\"],\n\t\t\t\txf: \"%Y\\ub144 %B %d\\uc77c\",\n\t\t\t\tXf: \"%H\\uc2dc %M\\ubd84 %S\\ucd08\",\n\t\t\t\tcf: \"%Y\\ub144 %B %d\\uc77c (%a) %p %I\\uc2dc %M\\ubd84 %S\\ucd08\"\n\t\t\t},\n\t\t\tja: {\n\t\t\t\tms: [\" 1\\u6708\", \" 2\\u6708\", \" 3\\u6708\", \" 4\\u6708\", \" 5\\u6708\", \" 6\\u6708\", \" 7\\u6708\", \" 8\\u6708\", \" 9\\u6708\", \"10\\u6708\", \"11\\u6708\", \"12\\u6708\"],\n\t\t\t\tml: [\"1\\u6708\", \"2\\u6708\", \"3\\u6708\", \"4\\u6708\", \"5\\u6708\", \"6\\u6708\", \"7\\u6708\", \"8\\u6708\", \"9\\u6708\", \"10\\u6708\", \"11\\u6708\", \"12\\u6708\"],\n\t\t\t\tws: [\"\\u65e5\", \"\\u6708\", \"\\u706b\", \"\\u6c34\", \"\\u6728\", \"\\u91d1\", \"\\u571f\"],\n\t\t\t\twl: [\"\\u65e5\\u66dc\\u65e5\", \"\\u6708\\u66dc\\u65e5\", \"\\u706b\\u66dc\\u65e5\", \"\\u6c34\\u66dc\\u65e5\", \"\\u6728\\u66dc\\u65e5\", \"\\u91d1\\u66dc\\u65e5\", \"\\u571f\\u66dc\\u65e5\"],\n\t\t\t\txf: \"%Y\\u5e74%B%d\\u65e5\",\n\t\t\t\tXf: \"%H\\u6642%M\\u5206%S\\u79d2\",\n\t\t\t\tcf: \"%Y\\u5e74%B%d\\u65e5 %H\\u6642%M\\u5206%S\\u79d2\"\n\t\t\t}\n\t\t};\n\n\t\tlet translation = translations[lang];\n\n\t\tlet result = [];\n\t\tlet inspec = false;\n\t\tfor (let i = 0; i < fmt.length; ++i)\n\t\t{\n\t\t\tlet c = fmt[i];\n\t\t\tif (inspec)\n\t\t\t{\n\t\t\t\tswitch (c)\n\t\t\t\t{\n\t\t\t\t\tcase \"a\":\n\t\t\t\t\t\tc = translation.ws[obj.getDay()];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"A\":\n\t\t\t\t\t\tc = translation.wl[obj.getDay()];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"b\":\n\t\t\t\t\t\tc = translation.ms[obj.getMonth()];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"B\":\n\t\t\t\t\t\tc = translation.ml[obj.getMonth()];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"c\":\n\t\t\t\t\t\tc = ul4._format(obj, translation.cf, lang);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"d\":\n\t\t\t\t\t\tc = ul4._lpad(obj.getDate(), \"0\", 2);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"f\":\n\t\t\t\t\t\tc = ul4._lpad(obj.getMilliseconds(), \"0\", 3) + \"000\";\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"H\":\n\t\t\t\t\t\tc = ul4._lpad(obj.getHours(), \"0\", 2);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"I\":\n\t\t\t\t\t\tc = ul4._lpad(((obj.getHours()-1) % 12)+1, \"0\", 2);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"j\":\n\t\t\t\t\t\tc = ul4._lpad(ul4.DateTimeProtocol.yearday(obj), \"0\", 3);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"m\":\n\t\t\t\t\t\tc = ul4._lpad(obj.getMonth()+1, \"0\", 2);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"M\":\n\t\t\t\t\t\tc = ul4._lpad(obj.getMinutes(), \"0\", 2);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"p\":\n\t\t\t\t\t\tc = obj.getHours() < 12 ? \"AM\" : \"PM\";\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"S\":\n\t\t\t\t\t\tc = ul4._lpad(obj.getSeconds(), \"0\", 2);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"U\":\n\t\t\t\t\t\tc = ul4._lpad(ul4._week4format(obj, 6), \"0\", 2);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"w\":\n\t\t\t\t\t\tc = obj.getDay();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"W\":\n\t\t\t\t\t\tc = ul4._lpad(ul4._week4format(obj, 0), \"0\", 2);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"x\":\n\t\t\t\t\t\tc = ul4._format(obj, translation.xf, lang);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"X\":\n\t\t\t\t\t\tc = ul4._format(obj, translation.Xf, lang);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"y\":\n\t\t\t\t\t\tc = (obj.getFullYear() % 100).toString();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"Y\":\n\t\t\t\t\t\tc = obj.getFullYear().toString();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"z\":\n\t\t\t\t\t\t// UTC offset in the form +HHMM or -HHMM\n\t\t\t\t\t\tc = \"\";\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"Z\":\n\t\t\t\t\t\t// Time zone name\n\t\t\t\t\t\tc = \"\";\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tresult.push(c);\n\t\t\t\tinspec = false;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tif (c == \"%\")\n\t\t\t\t\tinspec = true;\n\t\t\t\telse\n\t\t\t\t\tresult.push(c);\n\t\t\t}\n\t\t}\n\t\treturn result.join(\"\");\n\t};\n\n\tul4._format_int = function _format_int(obj, fmt, lang)\n\t{\n\t\tlet work = fmt;\n\n\t\t// Defaults\n\t\tlet fill = ' ';\n\t\tlet align = '>'; // '<', '>', '=' or '^'\n\t\tlet sign = '-'; // '+', '-' or ' '\n\t\tlet alternate = false;\n\t\tlet minimumwidth = 0;\n\t\tlet type = 'd'; // 'b', 'c', 'd', 'o', 'x', 'X' or 'n'\n\n\t\t// Determine output type\n\t\tif (/[bcdoxXn]$/.test(work))\n\t\t{\n\t\t\ttype = work.substring(work.length-1);\n\t\t\twork = work.substring(0, work.length-1);\n\t\t}\n\n\t\t// Extract minimum width\n\t\tif (/\\d+$/.test(work))\n\t\t{\n\t\t\tlet minimumwidthStr = /\\d+$/.exec(work);\n\t\t\twork = work.replace(/\\d+$/, \"\");\n\t\t\tif (/^0/.test(minimumwidthStr))\n\t\t\t{\n\t\t\t\talign = '=';\n\t\t\t\tfill = '0';\n\t\t\t}\n\t\t\tminimumwidth = parseInt(minimumwidthStr);\n\t\t}\n\n\t\t// Alternate form?\n\t\tif (/#$/.test(work))\n\t\t{\n\t\t\talternate = true;\n\t\t\twork = work.substring(0, work.length-1);\n\t\t}\n\n\t\t// Determine sign\n\t\tif (/[+ -]$/.test(work))\n\t\t{\n\t\t\tif (type == 'c')\n\t\t\t\tthrow new ul4.ValueError(\"sign not allowed for integer format type 'c'\");\n\t\t\tsign = work.substring(work.length-1);\n\t\t\twork = work.substring(0, work.length-1);\n\t\t}\n\n\t\t// Extract fill and align char\n\t\tif (work.length >= 3)\n\t\t\tthrow new ul4.ValueError(\"illegal integer format string \" + ul4._repr(fmt));\n\t\telse if (work.length == 2)\n\t\t{\n\t\t\tif (/[<>=^]$/.test(work))\n\t\t\t{\n\t\t\t\talign = work[1];\n\t\t\t\tfill = work[0];\n\t\t\t}\n\t\t\telse\n\t\t\t\tthrow new ul4.ValueError(\"illegal integer format string \" + ul4._repr(fmt));\n\t\t}\n\t\telse if (work.length == 1)\n\t\t{\n\t\t\tif (/^[<>=^]$/.test(work))\n\t\t\t\talign = work;\n\t\t\telse\n\t\t\t\tthrow new ul4.ValueError(\"illegal integer format string \" + ul4._repr(fmt));\n\t\t}\n\n\t\t// Basic number formatting\n\t\tlet neg = obj < 0;\n\n\t\tif (neg)\n\t\t\tobj = -obj;\n\n\t\tlet output;\n\t\tswitch (type)\n\t\t{\n\t\t\tcase 'b':\n\t\t\t\toutput = obj.toString(2);\n\t\t\t\tbreak;\n\t\t\tcase 'c':\n\t\t\t\tif (neg || obj > 65535)\n\t\t\t\t\tthrow new ul4.ValueError(\"value out of bounds for c format\");\n\t\t\t\toutput = String.fromCharCode(obj);\n\t\t\t\tbreak;\n\t\t\tcase 'd':\n\t\t\t\toutput = obj.toString();\n\t\t\t\tbreak;\n\t\t\tcase 'o':\n\t\t\t\toutput = obj.toString(8);\n\t\t\t\tbreak;\n\t\t\tcase 'x':\n\t\t\t\toutput = obj.toString(16);\n\t\t\t\tbreak;\n\t\t\tcase 'X':\n\t\t\t\toutput = obj.toString(16).toUpperCase();\n\t\t\t\tbreak;\n\t\t\tcase 'n':\n\t\t\t\t// FIXME: locale formatting\n\t\t\t\toutput = obj.toString();\n\t\t\t\tbreak;\n\t\t}\n\n\t\t// The rest of the formatting\n\t\tif (align === '=')\n\t\t{\n\t\t\tif (neg || sign !== '-')\n\t\t\t\t--minimumwidth;\n\t\t\tif (alternate && (type === 'b' || type === 'o' || type === 'x' || type === 'X'))\n\t\t\t\tminimumwidth -= 2;\n\n\t\t\tif (output.length < minimumwidth)\n\t\t\t\toutput = ul4._str_repeat(fill, minimumwidth-output.length) + output;\n\n\t\t\tif (alternate && (type === 'b' || type === 'o' || type === 'x' || type === 'X'))\n\t\t\t\toutput = \"0\" + type + output;\n\n\t\t\tif (neg)\n\t\t\t\toutput = \"-\" + output;\n\t\t\telse if (sign != '-')\n\t\t\t\toutput = sign + output;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tif (alternate && (type == 'b' || type == 'o' || type == 'x' || type == 'X'))\n\t\t\t\toutput = \"0\" + type + output;\n\t\t\tif (neg)\n\t\t\t\toutput = \"-\" + output;\n\t\t\telse if (sign != '-')\n\t\t\t\toutput = sign + output;\n\t\t\tif (output.length < minimumwidth)\n\t\t\t{\n\t\t\t\tif (align == '<')\n\t\t\t\t\toutput = output + ul4._str_repeat(fill, minimumwidth-output.length);\n\t\t\t\telse if (align == '>')\n\t\t\t\t\toutput = ul4._str_repeat(fill, minimumwidth-output.length) + output;\n\t\t\t\telse // if (align == '^')\n\t\t\t\t{\n\t\t\t\t\tlet pad = minimumwidth - output.length;\n\t\t\t\t\tlet padBefore = Math.floor(pad/2);\n\t\t\t\t\tlet padAfter = pad-padBefore;\n\t\t\t\t\toutput = ul4._str_repeat(fill, padBefore) + output + ul4._str_repeat(fill, padAfter);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn output;\n\t};\n\n\t// Format ``obj`` using the format string ``fmt`` in the language ``lang``\n\tul4._format = function _format(obj, fmt, lang)\n\t{\n\t\tif (typeof(lang) === \"undefined\" || lang === null)\n\t\t\tlang = \"en\";\n\t\telse\n\t\t{\n\t\t\tlet translations = {de: null, en: null, fr: null, es: null, it: null, da: null, sv: null, nl: null, pt: null, cs: null, sk: null, pl: null, hr: null, sr: null, ro: null, hu: null, tr: null, ru: null, zh: null, ko: null, ja: null};\n\t\t\tlang = lang.toLowerCase();\n\t\t\tif (typeof(translations[lang]) === \"undefined\")\n\t\t\t{\n\t\t\t\tlang = lang.split(/_/)[0];\n\t\t\t\tif (typeof(translations[lang]) === \"undefined\")\n\t\t\t\t\tlang = \"en\";\n\t\t\t}\n\t\t}\n\t\tif (ul4._isdate(obj))\n\t\t\treturn ul4._format_datetime(obj._date, fmt, lang);\n\t\tif (ul4._isdatetime(obj))\n\t\t\treturn ul4._format_datetime(obj, fmt, lang);\n\t\telse if (ul4._isint(obj))\n\t\t\treturn ul4._format_int(obj, fmt, lang);\n\t\telse if (obj === true)\n\t\t\treturn ul4._format_int(1, fmt, lang);\n\t\telse if (obj === false)\n\t\t\treturn ul4._format_int(0, fmt, lang);\n\t};\n\n\tul4._lpad = function _lpad(string, pad, len)\n\t{\n\t\tif (typeof(string) === \"number\")\n\t\t\tstring = string.toString();\n\t\twhile (string.length < len)\n\t\t\tstring = pad + string;\n\t\treturn string;\n\t};\n\n\tul4._rpad = function _rpad(string, pad, len)\n\t{\n\t\tif (typeof(string) === \"number\")\n\t\t\tstring = string.toString();\n\t\twhile (string.length < len)\n\t\t\tstring = string + pad;\n\t\treturn string;\n\t};\n\n\t// This is outside of ``Proto`` on purpose\n\t// This way reactive frameworks like ``Vue.js`` don't get to see it\n\t// and complain about mutating render functions when those create new objects.\n\tlet _nextid = 1;\n\n\tul4.Proto = class Proto\n\t{\n\t\tconstructor()\n\t\t{\n\t\t\tthis.__id__ = _nextid++;\n\t\t}\n\n\t\tul4type()\n\t\t{\n\t\t\treturn this.constructor.name;\n\t\t}\n\n\t\t// equality comparison of objects defaults to identity comparison\n\t\t__eq__(other)\n\t\t{\n\t\t\treturn this === other;\n\t\t}\n\n\t\t// To overwrite equality comparison, you only have to overwrite ``__eq__``,\n\t\t// ``__ne__`` will be synthesized from that\n\t\t__ne__(other)\n\t\t{\n\t\t\treturn !this.__eq__(other);\n\t\t}\n\n\t\t// For other comparison operators, each method has to be implemented:\n\t\t// ``<`` calls ``__lt__``, ``<=`` calls ``__le__``, ``>`` calls ``__gt__`` and\n\t\t// ``>=`` calls ``__ge__``\n\n\t\t__bool__()\n\t\t{\n\t\t\treturn true;\n\t\t}\n\t};\n\n\tul4.Signature = class Signature extends ul4.Proto\n\t{\n\t\tconstructor(...args)\n\t\t{\n\t\t\tsuper();\n\t\t\tthis.args = [];\n\t\t\tthis.argNames = {};\n\t\t\tthis.remargs = null;\n\t\t\tthis.remkwargs = null;\n\n\t\t\tlet nextDefault = false;\n\t\t\tlet lastArgname = null;\n\t\t\tfor (let i = 0; i < args.length; ++i)\n\t\t\t{\n\t\t\t\tlet argName = args[i];\n\t\t\t\tif (nextDefault)\n\t\t\t\t{\n\t\t\t\t\tthis.args.push({name: lastArgname, defaultValue: argName});\n\t\t\t\t\tthis.argNames[lastArgname] = true;\n\t\t\t\t\tnextDefault = false;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tif (argName.substr(argName.length-1) === \"=\")\n\t\t\t\t\t{\n\t\t\t\t\t\tlastArgname = argName.substr(0, argName.length-1);\n\t\t\t\t\t\tnextDefault = true;\n\t\t\t\t\t}\n\t\t\t\t\telse if (argName.substr(0, 2) === \"**\")\n\t\t\t\t\t\tthis.remkwargs = argName.substr(2);\n\t\t\t\t\telse if (argName.substr(0, 1) === \"*\")\n\t\t\t\t\t\tthis.remargs = argName.substr(1);\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.args.push({name: argName});\n\t\t\t\t\t\tthis.argNames[argName] = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Create the argument array for calling a function with this signature with the arguments available from ``args``\n\t\tbindArray(name, args, kwargs)\n\t\t{\n\t\t\tlet finalargs = [];\n\t\t\tlet decname = name !== null ? name + \"() \" : \"\";\n\n\t\t\tfor (let i = 0; i < this.args.length; ++i)\n\t\t\t{\n\t\t\t\tlet arg = this.args[i];\n\t\t\t\tif (i < args.length)\n\t\t\t\t{\n\t\t\t\t\tif (kwargs.hasOwnProperty(arg.name))\n\t\t\t\t\t\tthrow new ul4.ArgumentError(decname + \"argument \" + ul4._repr(arg.name) + \" (position \" + i + \") specified multiple times\");\n\t\t\t\t\tfinalargs.push(args[i]);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tif (kwargs.hasOwnProperty(arg.name))\n\t\t\t\t\t\tfinalargs.push(kwargs[arg.name]);\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tif (arg.hasOwnProperty(\"defaultValue\"))\n\t\t\t\t\t\t\tfinalargs.push(arg.defaultValue);\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tthrow new ul4.ArgumentError(\"required \" + decname + \"argument \" + ul4._repr(arg.name) + \" (position \" + i + \") missing\");\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Do we accept additional positional arguments?\n\t\t\tif (this.remargs === null)\n\t\t\t{\n\t\t\t\t// No, but we have them -> complain\n\t\t\t\tif (args.length > this.args.length)\n\t\t\t\t{\n\t\t\t\t\tlet prefix = name === null ? \"expected\" : name + \"() expects\";\n\t\t\t\t\tthrow new ul4.ArgumentError(prefix + \" at most \" + this.args.length + \" positional argument\" + (this.args.length != 1 ? \"s\" : \"\") + \", \" + args.length + \" given\");\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\t// Put additional positional arguments in the call into the ``*`` argument (if there are none, this pushes an empty list)\n\t\t\t\tfinalargs.push(args.slice(this.args.length));\n\t\t\t}\n\n\t\t\t// Do we accept arbitrary keyword arguments?\n\t\t\tif (this.remkwargs === null)\n\t\t\t{\n\t\t\t\t// No => complain about unknown ones\n\t\t\t\tfor (let key in kwargs)\n\t\t\t\t{\n\t\t\t\t\tif (!this.argNames[key])\n\t\t\t\t\t{\n\t\t\t\t\t\tif (name === null)\n\t\t\t\t\t\t\tthrow new ul4.ArgumentError(\"an argument named \" + ul4._repr(key) + \" isn't supported\");\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tthrow new ul4.ArgumentError(name + \"() doesn't support an argument named \" + ul4._repr(key));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\t// Yes => Put the unknown ones into an object and add that to the arguments array\n\t\t\t\tlet remkwargs = ul4._emptymap();\n\t\t\t\tfor (let key in kwargs)\n\t\t\t\t{\n\t\t\t\t\tif (!this.argNames[key])\n\t\t\t\t\t\tul4._setmap(remkwargs, key, kwargs[key]);\n\t\t\t\t}\n\t\t\t\tfinalargs.push(remkwargs);\n\t\t\t}\n\n\t\t\treturn finalargs;\n\t\t}\n\n\t\t// Create the argument object for calling a function with this signature with the arguments available from ``args``\n\t\tbindObject(name, args, kwargs)\n\t\t{\n\t\t\targs = this.bindArray(name, args, kwargs);\n\t\t\tlet argObject = {};\n\t\t\tlet i;\n\t\t\tfor (i = 0; i < this.args.length; ++i)\n\t\t\t\targObject[this.args[i].name] = args[i];\n\t\t\tif (this.remargs !== null)\n\t\t\t\targObject[this.remargs] = args[i++];\n\t\t\tif (this.remkwargs !== null)\n\t\t\t\targObject[this.remkwargs] = args[i++];\n\t\t\treturn argObject;\n\t\t}\n\n\t\t__repr__()\n\t\t{\n\t\t\treturn \"<Signature \" + this.toString() + \">\";\n\t\t}\n\n\t\t__str__()\n\t\t{\n\t\t\treturn this.toString();\n\t\t}\n\n\t\ttoString()\n\t\t{\n\t\t\tlet v = [];\n\t\t\tfor (let i = 0; i < this.args.length; ++i)\n\t\t\t{\n\t\t\t\tlet arg = this.args[i];\n\t\t\t\tif (arg.hasOwnProperty(\"defaultValue\"))\n\t\t\t\t\tv.push(arg.name + \"=\" + ul4._repr(arg.defaultValue));\n\t\t\t\telse\n\t\t\t\t\tv.push(arg.name);\n\t\t\t}\n\t\t\tif (this.remargs !== null)\n\t\t\t\tv.push(\"*\" + this.remargs);\n\t\t\tif (this.remkwargs !== null)\n\t\t\t\tv.push(\"**\" + this.remkwargs);\n\t\t\treturn \"(\" + v.join(\", \") + \")\";\n\t\t}\n\t};\n\n\t// When we don't have a real ``Set`` type, emulate one that supports strings\n\tul4._Set = class _Set\n\t{\n\t\tconstructor(...items)\n\t\t{\n\t\t\tthis.items = {};\n\t\t\tthis.add(...items);\n\t\t}\n\n\t\tadd(...items)\n\t\t{\n\t\t\tfor (let i = 0; i < items.length; ++i)\n\t\t\t\tthis.items[items[i]] = true;\n\t\t}\n\n\t\tclear()\n\t\t{\n\t\t\tthis.items = {};\n\t\t}\n\n\t\t__getattr__(attrname)\n\t\t{\n\t\t\tlet self = this;\n\t\t\tswitch (attrname)\n\t\t\t{\n\t\t\t\tcase \"add\":\n\t\t\t\t\treturn ul4.expose(function add(items){ self.add(...items); }, [\"*items\"]);\n\t\t\t\tdefault:\n\t\t\t\t\tthrow new ul4.AttributeError(this, attrname);\n\t\t\t}\n\t\t}\n\n\t\t__contains__(item)\n\t\t{\n\t\t\treturn this.items[item] || false;\n\t\t}\n\n\t\thas(item)\n\t\t{\n\t\t\treturn this.items[item] || false;\n\t\t}\n\n\t\t__bool__()\n\t\t{\n\t\t\tfor (let item in this.items)\n\t\t\t{\n\t\t\t\tif (!this.items.hasOwnProperty(item))\n\t\t\t\t\tcontinue;\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\n\t\t__repr__()\n\t\t{\n\t\t\tlet v = [];\n\t\t\tv.push(\"{\");\n\t\t\tlet i = 0;\n\t\t\tfor (let item in this.items)\n\t\t\t{\n\t\t\t\tif (!this.items.hasOwnProperty(item))\n\t\t\t\t\tcontinue;\n\t\t\t\tif (i++)\n\t\t\t\t\tv.push(\", \");\n\t\t\t\tv.push(ul4._repr(item));\n\t\t\t}\n\t\t\tif (!i)\n\t\t\t\tv.push(\"/\");\n\t\t\tv.push(\"}\");\n\t\t\treturn v.join(\"\");\n\t\t}\n\n\t\t__eq__(other)\n\t\t{\n\t\t\t// We'll check that everything in ``this`` is in ``other``\n\t\t\t// and if both have the same number of items they are equal\n\t\t\tif (ul4._isset(other))\n\t\t\t{\n\t\t\t\tlet count = 0;\n\t\t\t\tfor (let item in this.items)\n\t\t\t\t{\n\t\t\t\t\tif (!other.has(item))\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t// count the number of items we have\n\t\t\t\t\t++count;\n\t\t\t\t}\n\t\t\t\treturn other.size == count;\n\t\t\t}\n\t\t\telse if (ul4._isul4set(other))\n\t\t\t{\n\t\t\t\tlet count = 0;\n\t\t\t\tfor (let item in this.items)\n\t\t\t\t{\n\t\t\t\t\tif (!other[item])\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t// count the number of items we have\n\t\t\t\t\t++count;\n\t\t\t\t}\n\t\t\t\t// Subtract the number of items that ``other`` has\n\t\t\t\tfor (let item in other.items)\n\t\t\t\t\t--count;\n\t\t\t\treturn count == 0;\n\t\t\t}\n\t\t\telse\n\t\t\t\treturn false;\n\t\t}\n\n\t\t__le__(other)\n\t\t{\n\t\t\t// check that ``this`` is a subset of ``other``,\n\t\t\t// i.e. everything in ``this`` is also in ``other``\n\t\t\tif (ul4._isset(other))\n\t\t\t{\n\t\t\t\tlet count = 0;\n\t\t\t\tfor (let item in this.items)\n\t\t\t\t{\n\t\t\t\t\tif (!other.has(item))\n\t\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\telse if (ul4._isul4set(other))\n\t\t\t{\n\t\t\t\tlet count = 0;\n\t\t\t\tfor (let item in this.items)\n\t\t\t\t{\n\t\t\t\t\tif (!other.items[item])\n\t\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\telse\n\t\t\t\tul4._unorderable(\"<\", this, other);\n\t\t}\n\n\t\t__ge__(other)\n\t\t{\n\t\t\t// check that ``this`` is a superset of ``other``,\n\t\t\t// i.e. everything in ``other`` is also in ``this``\n\t\t\tif (ul4._isset(other))\n\t\t\t{\n\t\t\t\tother.forEach(function(value) {\n\t\t\t\t\tif (!this.items[value])\n\t\t\t\t\t\treturn false;\n\t\t\t\t}, this);\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\telse if (ul4._isul4set(other))\n\t\t\t{\n\t\t\t\tlet count = 0;\n\t\t\t\tfor (let key in other.items)\n\t\t\t\t{\n\t\t\t\t\tif (!this.items[key])\n\t\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\telse\n\t\t\t\tul4._unorderable(\"<=\", this, other);\n\t\t}\n\t};\n\n\tul4._Set.prototype.__type__ = \"set\";\n\n\t// Adds name and signature to a function/method and makes the method callable in templates\n\tul4.expose = function expose(f, signature, options)\n\t{\n\t\toptions = options || {};\n\t\tif (options.name)\n\t\t\tf._ul4_name = options.name;\n\t\tif (ul4._islist(signature))\n\t\t\tsignature = new ul4.Signature(...signature);\n\t\tf._ul4_signature = signature;\n\t\tf._ul4_needsobject = options.needsobject || false;\n\t\tf._ul4_needscontext = options.needscontext || false;\n\t};\n\n\t// Protocol objects for all builtin types\n\t// These objects are singleton, so we replace the constructor with the prototype object afterwards\n\tul4.Protocol = class Protocol\n\t{\n\t\tul4type()\n\t\t{\n\t\t\treturn this.constructor.name;\n\t\t}\n\n\t\tdir()\n\t\t{\n\t\t\treturn this.attrs;\n\t\t}\n\n\t\tget(obj)\n\t\t{\n\t\t\tif (ul4._isstr(obj))\n\t\t\t\treturn ul4.StrProtocol;\n\t\t\telse if (ul4._islist(obj))\n\t\t\t\treturn ul4.ListProtocol;\n\t\t\telse if (ul4._isdate(obj))\n\t\t\t\treturn ul4.DateProtocol;\n\t\t\telse if (ul4._isset(obj))\n\t\t\t\treturn ul4.SetProtocol;\n\t\t\telse if (ul4._ismap(obj))\n\t\t\t\treturn ul4.MapProtocol;\n\t\t\telse if (ul4._isdatetime(obj))\n\t\t\t\treturn ul4.DateTimeProtocol;\n\t\t\telse if (ul4._isobject(obj))\n\t\t\t\treturn ul4.ObjectProtocol;\n\t\t\telse\n\t\t\t\treturn ul4.Protocol;\n\t\t}\n\n\t\tgetattr(obj, attrname)\n\t\t{\n\t\t\tif (obj === null || typeof(obj) === \"undefined\")\n\t\t\t\tthrow new ul4.AttributeError(obj, attrname);\n\t\t\telse if (typeof(obj.__getattr__) === \"function\")\n\t\t\t\treturn obj.__getattr__(attrname);\n\t\t\telse if (this.attrs.has(attrname))\n\t\t\t{\n\t\t\t\tlet attr = this[attrname];\n\t\t\t\tlet realattr = function realattr(...args) {\n\t\t\t\t\treturn attr.apply(this, [obj, ...args]);\n\t\t\t\t};\n\t\t\t\trealattr.name = attr.name;\n\t\t\t\trealattr._ul4_name = attr._ul4_name || attr.name;\n\t\t\t\trealattr._ul4_signature = attr._ul4_signature;\n\t\t\t\trealattr._ul4_needsobject = attr._ul4_needsobject;\n\t\t\t\trealattr._ul4_needscontext = attr._ul4_needscontext;\n\t\t\t\treturn realattr;\n\t\t\t}\n\t\t\telse\n\t\t\t\tthrow new ul4.AttributeError(obj, attrname);\n\t\t}\n\n\t\thasattr(obj, attrname)\n\t\t{\n\t\t\tif (obj === null || typeof(obj) === \"undefined\")\n\t\t\t\treturn false;\n\t\t\telse if (typeof(obj.__getattr__) === \"function\")\n\t\t\t{\n\t\t\t\ttry\n\t\t\t\t{\n\t\t\t\t\tobj.__getattr__(attrname);\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\tcatch (exc)\n\t\t\t\t{\n\t\t\t\t\tif (exc instanceof ul4.AttributeError && exc.obj === object)\n\t\t\t\t\t\treturn false;\n\t\t\t\t\telse\n\t\t\t\t\t\tthrow exc;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t\treturn this.attrs.has(attrname);\n\t\t}\n\t};\n\n\tul4.Protocol = ul4.Protocol.prototype;\n\tul4.Protocol.attrs = ul4._emptyset();\n\n\tul4.StrProtocol = class StrProtocol extends ul4.Protocol.constructor\n\t{\n\t\tul4type(obj)\n\t\t{\n\t\t\treturn \"str\";\n\t\t}\n\n\t\tcount(obj, sub, start=null, end=null)\n\t\t{\n\t\t\treturn ul4._count(obj, sub, start, end);\n\t\t}\n\n\t\tfind(obj, sub, start=null, end=null)\n\t\t{\n\t\t\treturn ul4._find(obj, sub, start, end);\n\t\t}\n\n\t\trfind(obj, sub, start=null, end=null)\n\t\t{\n\t\t\treturn ul4._rfind(obj, sub, start, end);\n\t\t}\n\n\t\treplace(obj, old, new_, count=null)\n\t\t{\n\t\t\tif (count === null)\n\t\t\t\tcount = obj.length;\n\n\t\t\tlet result = [];\n\t\t\twhile (obj.length)\n\t\t\t{\n\t\t\t\tlet pos = obj.indexOf(old);\n\t\t\t\tif (pos === -1 || !count--)\n\t\t\t\t{\n\t\t\t\t\tresult.push(obj);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tresult.push(obj.substr(0, pos));\n\t\t\t\tresult.push(new_);\n\t\t\t\tobj = obj.substr(pos + old.length);\n\t\t\t}\n\t\t\treturn result.join(\"\");\n\t\t}\n\n\t\tstrip(obj, chars=null)\n\t\t{\n\t\t\tchars = chars || \" \\r\\n\\t\";\n\t\t\tif (typeof(chars) !== \"string\")\n\t\t\t\tthrow new ul4.TypeError(\"strip() requires a string argument\");\n\n\t\t\twhile (obj && chars.indexOf(obj[0]) >= 0)\n\t\t\t\tobj = obj.substr(1);\n\t\t\twhile (obj && chars.indexOf(obj[obj.length-1]) >= 0)\n\t\t\t\tobj = obj.substr(0, obj.length-1);\n\t\t\treturn obj;\n\t\t}\n\n\t\tlstrip(obj, chars=null)\n\t\t{\n\t\t\tchars = chars || \" \\r\\n\\t\";\n\t\t\tif (typeof(chars) !== \"string\")\n\t\t\t\tthrow new ul4.TypeError(\"lstrip() requires a string argument\");\n\n\t\t\twhile (obj && chars.indexOf(obj[0]) >= 0)\n\t\t\t\tobj = obj.substr(1);\n\t\t\treturn obj;\n\t\t}\n\n\t\trstrip(obj, chars=null)\n\t\t{\n\t\t\tchars = chars || \" \\r\\n\\t\";\n\t\t\tif (typeof(chars) !== \"string\")\n\t\t\t\tthrow new ul4.TypeError(\"rstrip() requires a string argument\");\n\n\t\t\twhile (obj && chars.indexOf(obj[obj.length-1]) >= 0)\n\t\t\t\tobj = obj.substr(0, obj.length-1);\n\t\t\treturn obj;\n\t\t}\n\n\t\tsplit(obj, sep=null, count=null)\n\t\t{\n\t\t\tif (sep !== null && typeof(sep) !== \"string\")\n\t\t\t\tthrow new ul4.TypeError(\"split() requires a string\");\n\n\t\t\tif (count === null)\n\t\t\t{\n\t\t\t\tlet result = obj.split(sep !== null ? sep : /[ \\n\\r\\t]+/);\n\t\t\t\tif (sep === null)\n\t\t\t\t{\n\t\t\t\t\tif (result.length && !result[0].length)\n\t\t\t\t\t\tresult.splice(0, 1);\n\t\t\t\t\tif (result.length && !result[result.length-1].length)\n\t\t\t\t\t\tresult.splice(-1);\n\t\t\t\t}\n\t\t\t\treturn result;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tif (sep !== null)\n\t\t\t\t{\n\t\t\t\t\tlet result = [];\n\t\t\t\t\twhile (obj.length)\n\t\t\t\t\t{\n\t\t\t\t\t\tlet pos = obj.indexOf(sep);\n\t\t\t\t\t\tif (pos === -1 || !count--)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tresult.push(obj);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tresult.push(obj.substr(0, pos));\n\t\t\t\t\t\tobj = obj.substr(pos + sep.length);\n\t\t\t\t\t}\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tlet result = [];\n\t\t\t\t\twhile (obj.length)\n\t\t\t\t\t{\n\t\t\t\t\t\tobj = ul4.StrProtocol.lstrip(obj, null);\n\t\t\t\t\t\tlet part;\n\t\t\t\t\t\tif (!count--)\n\t\t\t\t\t\t\t part = obj; // Take the rest of the string\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tpart = obj.split(/[ \\n\\r\\t]+/, 1)[0];\n\t\t\t\t\t\tif (part.length)\n\t\t\t\t\t\t\tresult.push(part);\n\t\t\t\t\t\tobj = obj.substr(part.length);\n\t\t\t\t\t}\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\trsplit(obj, sep=null, count=null)\n\t\t{\n\t\t\tif (sep !== null && typeof(sep) !== \"string\")\n\t\t\t\tthrow new ul4.TypeError(\"rsplit() requires a string as second argument\");\n\n\t\t\tif (count === null)\n\t\t\t{\n\t\t\t\tlet result = obj.split(sep !== null ? sep : /[ \\n\\r\\t]+/);\n\t\t\t\tif (sep === null)\n\t\t\t\t{\n\t\t\t\t\tif (result.length && !result[0].length)\n\t\t\t\t\t\tresult.splice(0, 1);\n\t\t\t\t\tif (result.length && !result[result.length-1].length)\n\t\t\t\t\t\tresult.splice(-1);\n\t\t\t\t}\n\t\t\t\treturn result;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tif (sep !== null)\n\t\t\t\t{\n\t\t\t\t\tlet result = [];\n\t\t\t\t\twhile (obj.length)\n\t\t\t\t\t{\n\t\t\t\t\t\tlet pos = obj.lastIndexOf(sep);\n\t\t\t\t\t\tif (pos === -1 || !count--)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tresult.unshift(obj);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tresult.unshift(obj.substr(pos+sep.length));\n\t\t\t\t\t\tobj = obj.substr(0, pos);\n\t\t\t\t\t}\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tlet result = [];\n\t\t\t\t\twhile (obj.length)\n\t\t\t\t\t{\n\t\t\t\t\t\tobj = ul4.StrProtocol.rstrip(obj);\n\t\t\t\t\t\tlet part;\n\t\t\t\t\t\tif (!count--)\n\t\t\t\t\t\t\t part = obj; // Take the rest of the string\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tpart = obj.split(/[ \\n\\r\\t]+/);\n\t\t\t\t\t\t\tpart = part[part.length-1];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (part.length)\n\t\t\t\t\t\t\tresult.unshift(part);\n\t\t\t\t\t\tobj = obj.substr(0, obj.length-part.length);\n\t\t\t\t\t}\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tsplitlines(obj, keepends=false)\n\t\t{\n\t\t\tlet pos = 0;\n\t\t\tlet lookingAtLineEnd = function lookingAtLineEnd()\n\t\t\t{\n\t\t\t\tlet c = obj[pos];\n\t\t\t\tif (c === '\\n' || c == '\\u000B' || c == '\\u000C' || c == '\\u001C' || c == '\\u001D' || c == '\\u001E' || c == '\\u0085' || c == '\\u2028' || c == '\\u2029')\n\t\t\t\t\treturn 1;\n\t\t\t\tif (c === '\\r')\n\t\t\t\t{\n\t\t\t\t\tif (pos == length-1)\n\t\t\t\t\t\treturn 1;\n\t\t\t\t\tif (obj[pos+1] === '\\n')\n\t\t\t\t\t\treturn 2;\n\t\t\t\t\treturn 1;\n\t\t\t\t}\n\t\t\t\treturn 0;\n\t\t\t};\n\n\t\t\tlet result = [], length = obj.length;\n\n\t\t\tfor (pos = 0, startpos = 0;;)\n\t\t\t{\n\t\t\t\tif (pos >= length)\n\t\t\t\t{\n\t\t\t\t\tif (startpos != pos)\n\t\t\t\t\t\tresult.push(obj.substring(startpos));\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\t\t\t\tlet lineendlen = lookingAtLineEnd();\n\t\t\t\tif (!lineendlen)\n\t\t\t\t\t++pos;\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tlet endpos = pos + (keepends ? lineendlen : 0);\n\t\t\t\t\tresult.push(obj.substring(startpos, endpos));\n\t\t\t\t\tpos += lineendlen;\n\t\t\t\t\tstartpos = pos;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tlower(obj)\n\t\t{\n\t\t\treturn obj.toLowerCase();\n\t\t}\n\n\t\tupper(obj)\n\t\t{\n\t\t\treturn obj.toUpperCase();\n\t\t}\n\n\t\tcapitalize(obj)\n\t\t{\n\t\t\tif (obj.length)\n\t\t\t\tobj = obj[0].toUpperCase() + obj.slice(1).toLowerCase();\n\t\t\treturn obj;\n\t\t}\n\n\t\tjoin(obj, iterable)\n\t\t{\n\t\t\tlet resultlist = [];\n\t\t\tfor (let iter = ul4._iter(iterable);;)\n\t\t\t{\n\t\t\t\tlet item = iter.next();\n\t\t\t\tif (item.done)\n\t\t\t\t\tbreak;\n\t\t\t\tresultlist.push(item.value);\n\t\t\t}\n\t\t\treturn resultlist.join(obj);\n\t\t}\n\n\t\tstartswith(obj, prefix)\n\t\t{\n\t\t\tif (typeof(prefix) === \"string\")\n\t\t\t\treturn obj.substr(0, prefix.length) === prefix;\n\t\t\telse if (ul4._islist(prefix))\n\t\t\t{\n\t\t\t\tfor (let i = 0; i < prefix.length; ++i)\n\t\t\t\t{\n\t\t\t\t\tlet singlepre = prefix[i];\n\t\t\t\t\tif (obj.substr(0, singlepre.length) === singlepre)\n\t\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\telse\n\t\t\t\tthrow new ul4.TypeError(\"startswith() argument must be string\");\n\t\t}\n\n\t\tendswith(obj, suffix)\n\t\t{\n\t\t\tif (typeof(suffix) === \"string\")\n\t\t\t\treturn obj.substr(obj.length-suffix.length) === suffix;\n\t\t\telse if (ul4._islist(suffix))\n\t\t\t{\n\t\t\t\tfor (let i = 0; i < suffix.length; ++i)\n\t\t\t\t{\n\t\t\t\t\tlet singlesuf = suffix[i];\n\t\t\t\t\tif (obj.substr(obj.length-singlesuf.length) === singlesuf)\n\t\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\telse\n\t\t\t\tthrow new ul4.TypeError(\"endswith() argument must be string or list of strings\");\n\t\t}\n\t};\n\n\tul4.StrProtocol = ul4.StrProtocol.prototype;\n\tul4.StrProtocol.attrs = ul4._makeset(\n\t\t\"split\",\n\t\t\"rsplit\",\n\t\t\"splitlines\",\n\t\t\"strip\",\n\t\t\"lstrip\",\n\t\t\"rstrip\",\n\t\t\"upper\",\n\t\t\"lower\",\n\t\t\"capitalize\",\n\t\t\"startswith\",\n\t\t\"endswith\",\n\t\t\"replace\",\n\t\t\"count\",\n\t\t\"find\",\n\t\t\"rfind\",\n\t\t\"join\"\n\t);\n\n\tul4.expose(ul4.StrProtocol.count, [\"sub\", \"start=\", null, \"end=\", null]);\n\tul4.expose(ul4.StrProtocol.find, [\"sub\", \"start=\", null, \"end=\", null]);\n\tul4.expose(ul4.StrProtocol.rfind, [\"sub\", \"start=\", null, \"end=\", null]);\n\tul4.expose(ul4.StrProtocol.replace, [\"old\", \"new\", \"count=\", null]);\n\tul4.expose(ul4.StrProtocol.strip, [\"chars=\", null]);\n\tul4.expose(ul4.StrProtocol.lstrip, [\"chars=\", null]);\n\tul4.expose(ul4.StrProtocol.rstrip, [\"chars=\", null]);\n\tul4.expose(ul4.StrProtocol.split, [\"sep=\", null, \"count=\", null]);\n\tul4.expose(ul4.StrProtocol.rsplit, [\"sep=\", null, \"count=\", null]);\n\tul4.expose(ul4.StrProtocol.splitlines, [\"keepends=\", false]);\n\tul4.expose(ul4.StrProtocol.lower, []);\n\tul4.expose(ul4.StrProtocol.upper, []);\n\tul4.expose(ul4.StrProtocol.capitalize, []);\n\tul4.expose(ul4.StrProtocol.join, [\"iterable\"]);\n\tul4.expose(ul4.StrProtocol.startswith, [\"prefix\"]);\n\tul4.expose(ul4.StrProtocol.endswith, [\"suffix\"]);\n\n\tul4.ListProtocol = class ListProtocol extends ul4.Protocol.constructor\n\t{\n\t\tul4type(obj)\n\t\t{\n\t\t\treturn \"list\";\n\t\t}\n\n\t\tappend(obj, items)\n\t\t{\n\t\t\tfor (let i = 0; i < items.length; ++i)\n\t\t\t\tobj.push(items[i]);\n\t\t\treturn null;\n\t\t}\n\n\t\tinsert(obj, pos, items)\n\t\t{\n\t\t\tif (pos < 0)\n\t\t\t\tpos += obj.length;\n\n\t\t\tfor (let i = 0; i < items.length; ++i)\n\t\t\t\tobj.splice(pos++, 0, items[i]);\n\t\t\treturn null;\n\t\t}\n\n\t\tpop(obj, pos)\n\t\t{\n\t\t\tif (pos < 0)\n\t\t\t\tpos += obj.length;\n\n\t\t\tlet result = obj[pos];\n\t\t\tobj.splice(pos, 1);\n\t\t\treturn result;\n\t\t}\n\n\t\tcount(obj, sub, start=null, end=null)\n\t\t{\n\t\t\treturn ul4._count(obj, sub, start, end);\n\t\t}\n\n\t\tfind(obj, sub, start=null, end=null)\n\t\t{\n\t\t\treturn ul4._find(obj, sub, start, end);\n\t\t}\n\n\t\trfind(obj, sub, start=null, end=null)\n\t\t{\n\t\t\treturn ul4._rfind(obj, sub, start, end);\n\t\t}\n\t};\n\n\tul4.ListProtocol = ul4.ListProtocol.prototype;\n\tul4.ListProtocol.attrs = ul4._makeset(\n\t\t\"append\",\n\t\t\"insert\",\n\t\t\"pop\",\n\t\t\"count\",\n\t\t\"find\",\n\t\t\"rfind\"\n\t);\n\n\tul4.expose(ul4.ListProtocol.append, [\"*items\"]);\n\tul4.expose(ul4.ListProtocol.insert, [\"pos\", \"*items\"]);\n\tul4.expose(ul4.ListProtocol.pop, [\"pos=\", -1]);\n\tul4.expose(ul4.ListProtocol.count, [\"sub\", \"start=\", null, \"end=\", null]);\n\tul4.expose(ul4.ListProtocol.find, [\"sub\", \"start=\", null, \"end=\", null]);\n\tul4.expose(ul4.ListProtocol.rfind, [\"sub\", \"start=\", null, \"end=\", null]);\n\n\tul4.MapProtocol = class MapProtocol extends ul4.Protocol.constructor\n\t{\n\t\tul4type(obj)\n\t\t{\n\t\t\treturn \"dict\";\n\t\t}\n\n\t\tgetattr(obj, attrname)\n\t\t{\n\t\t\tif (this.attrs.has(attrname))\n\t\t\t{\n\t\t\t\tlet attr = this[attrname];\n\t\t\t\tlet realattr = function realattr(...args) {\n\t\t\t\t\treturn attr.apply(this, [obj, ...args]);\n\t\t\t\t};\n\t\t\t\trealattr.name = attr.name;\n\t\t\t\trealattr._ul4_name = attr._ul4_name || attr.name;\n\t\t\t\trealattr._ul4_signature = attr._ul4_signature;\n\t\t\t\trealattr._ul4_needsobject = attr._ul4_needsobject;\n\t\t\t\trealattr._ul4_needscontext = attr._ul4_needscontext;\n\t\t\t\treturn realattr;\n\t\t\t}\n\t\t\telse\n\t\t\t\treturn obj.get(attrname);\n\t\t}\n\n\t\tget(obj, key, default_=null)\n\t\t{\n\t\t\tif (obj.has(key))\n\t\t\t\treturn obj.get(key);\n\t\t\treturn default_;\n\t\t}\n\n\t\titems(obj)\n\t\t{\n\t\t\tlet result = [];\n\t\t\tobj.forEach(function(value, key) {\n\t\t\t\tresult.push([key, value]);\n\t\t\t});\n\t\t\treturn result;\n\t\t}\n\n\t\tvalues(obj)\n\t\t{\n\t\t\tlet result = [];\n\t\t\tobj.forEach(function(value, key) {\n\t\t\t\tresult.push(value);\n\t\t\t});\n\t\t\treturn result;\n\t\t}\n\n\t\tupdate(obj, other, kwargs)\n\t\t{\n\t\t\treturn ul4._update(obj, other, kwargs);\n\t\t}\n\n\t\tclear(obj)\n\t\t{\n\t\t\tobj.clear();\n\t\t\treturn null;\n\t\t}\n\t};\n\n\tul4.MapProtocol = ul4.MapProtocol.prototype;\n\tul4.MapProtocol.attrs = ul4._makeset(\"get\", \"items\", \"values\", \"update\", \"clear\");\n\n\tul4.expose(ul4.MapProtocol.get, [\"key\", \"default=\", null]);\n\tul4.expose(ul4.MapProtocol.items, []);\n\tul4.expose(ul4.MapProtocol.values, []);\n\tul4.expose(ul4.MapProtocol.update, [\"*other\", \"**kwargs\"]);\n\tul4.expose(ul4.MapProtocol.clear, []);\n\n\tul4.SetProtocol = class SetProtocol extends ul4.Protocol.constructor\n\t{\n\t\tul4type(obj)\n\t\t{\n\t\t\treturn \"set\";\n\t\t}\n\n\t\tadd(obj, items)\n\t\t{\n\t\t\tfor (let i = 0; i < items.length; ++i)\n\t\t\t{\n\t\t\t\tobj.add(items[i]);\n\t\t\t}\n\t\t}\n\n\t\tclear(obj)\n\t\t{\n\t\t\tobj.clear();\n\t\t\treturn null;\n\t\t}\n\t};\n\n\tul4.SetProtocol = ul4.SetProtocol.prototype;\n\tul4.SetProtocol.attrs = ul4._makeset(\"add\", \"clear\");\n\n\tul4.expose(ul4.SetProtocol.add, [\"*items\"]);\n\tul4.expose(ul4.SetProtocol.clear, []);\n\n\tul4.DateProtocol = class DateProtocol extends ul4.Protocol.constructor\n\t{\n\t\tul4type(obj)\n\t\t{\n\t\t\treturn \"date\";\n\t\t}\n\n\t\tweekday(obj)\n\t\t{\n\t\t\treturn ul4.DateTimeProtocol.weekday(obj._date);\n\t\t}\n\n\t\tcalendar(obj, firstweekday=0, mindaysinfirstweek=4)\n\t\t{\n\t\t\treturn ul4.DateTimeProtocol.calendar(obj._date, firstweekday, mindaysinfirstweek);\n\t\t}\n\n\t\tweek(obj, firstweekday=0, mindaysinfirstweek=4)\n\t\t{\n\t\t\treturn ul4.DateProtocol.calendar(obj, firstweekday, mindaysinfirstweek)[1];\n\t\t}\n\n\t\tday(obj)\n\t\t{\n\t\t\treturn obj._date.getDate();\n\t\t}\n\n\t\tmonth(obj)\n\t\t{\n\t\t\treturn obj._date.getMonth()+1;\n\t\t}\n\n\t\tyear(obj)\n\t\t{\n\t\t\treturn obj._date.getFullYear();\n\t\t}\n\n\t\tmimeformat(obj)\n\t\t{\n\t\t\tlet weekdayname = [\"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\", \"Sun\"];\n\t\t\tlet monthname = [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"];\n\t\t\tlet d = obj._date;\n\n\t\t\treturn weekdayname[ul4.DateTimeProtocol.weekday(d)] + \", \" + ul4._lpad(d.getDate(), \"0\", 2) + \" \" + monthname[d.getMonth()] + \" \" + d.getFullYear();\n\t\t}\n\n\t\tisoformat(obj)\n\t\t{\n\t\t\tlet d = obj._date;\n\t\t\treturn d.getFullYear() + \"-\" + ul4._lpad((d.getMonth()+1).toString(), \"0\", 2) + \"-\" + ul4._lpad(d.getDate().toString(), \"0\", 2);\n\t\t}\n\n\t\tyearday(obj)\n\t\t{\n\t\t\treturn ul4.DateTimeProtocol.yearday(obj._date);\n\t\t}\n\t};\n\n\tul4.DateProtocol = ul4.DateProtocol.prototype;\n\tul4.DateProtocol.attrs = ul4._makeset(\"weekday\", \"week\", \"calendar\", \"day\", \"month\", \"year\", \"mimeformat\", \"isoformat\", \"yearday\");\n\n\tul4.expose(ul4.DateProtocol.weekday, []);\n\tul4.expose(ul4.DateProtocol.calendar, [\"firstweekday=\", 0, \"mindaysinfirstweek=\", 4]);\n\tul4.expose(ul4.DateProtocol.week, [\"firstweekday=\", 0, \"mindaysinfirstweek=\", 4]);\n\tul4.expose(ul4.DateProtocol.day, []);\n\tul4.expose(ul4.DateProtocol.month, []);\n\tul4.expose(ul4.DateProtocol.year, []);\n\tul4.expose(ul4.DateProtocol.mimeformat, []);\n\tul4.expose(ul4.DateProtocol.isoformat, []);\n\tul4.expose(ul4.DateProtocol.yearday, []);\n\n\tul4.DateTimeProtocol = class DatetimeProtocol extends ul4.Protocol.constructor\n\t{\n\t\tul4type(obj)\n\t\t{\n\t\t\treturn \"datetime\";\n\t\t}\n\n\t\tweekday(obj)\n\t\t{\n\t\t\tlet d = obj.getDay();\n\t\t\treturn d ? d-1 : 6;\n\t\t}\n\n\t\tcalendar(obj, firstweekday=0, mindaysinfirstweek=4)\n\t\t{\n\t\t\t// Normalize parameters\n\t\t\tfirstweekday = ul4._mod(firstweekday, 7);\n\t\t\tif (mindaysinfirstweek < 1)\n\t\t\t\tmindaysinfirstweek = 1;\n\t\t\telse if (mindaysinfirstweek > 7)\n\t\t\t\tmindaysinfirstweek = 7;\n\n\t\t\t// ``obj`` might be in the first week of the next year, or last week of\n\t\t\t// the previous year, so we might have to try those too.\n\t\t\tfor (let offset = +1; offset >= -1; --offset)\n\t\t\t{\n\t\t\t\tlet year = obj.getFullYear() + offset;\n\t\t\t\t// ``refdate`` will always be in week 1\n\t\t\t\tlet refDate = new Date(year, 0, mindaysinfirstweek);\n\t\t\t\t// Go back to the start of ``refdate``s week (i.e. day 1 of week 1)\n\t\t\t\tlet weekDayDiff = ul4._mod(ul4.DateTimeProtocol.weekday(refDate) - firstweekday, 7);\n\t\t\t\tlet weekStartYear = refDate.getFullYear();\n\t\t\t\tlet weekStartMonth = refDate.getMonth();\n\t\t\t\tlet weekStartDay = refDate.getDate() - weekDayDiff;\n\t\t\t\tlet weekStart = new Date(weekStartYear, weekStartMonth, weekStartDay);\n\t\t\t\t// Is our date ``obj`` at or after day 1 of week 1?\n\t\t\t\tif (obj.getTime() >= weekStart.getTime())\n\t\t\t\t{\n\t\t\t\t\tlet diff = ul4.SubAST.prototype._do(obj, weekStart);\n\t\t\t\t\t// Add 1, because the first week is week 1, not week 0\n\t\t\t\t\tlet week = Math.floor(diff.days()/7) + 1;\n\t\t\t\t\treturn [year, week, ul4.DateTimeProtocol.weekday(obj)];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tweek(obj, firstweekday=0, mindaysinfirstweek=4)\n\t\t{\n\t\t\treturn ul4.DateTimeProtocol.calendar(obj, firstweekday, mindaysinfirstweek)[1];\n\t\t}\n\n\t\tday(obj)\n\t\t{\n\t\t\treturn obj.getDate();\n\t\t}\n\n\t\tmonth(obj)\n\t\t{\n\t\t\treturn obj.getMonth()+1;\n\t\t}\n\n\t\tyear(obj)\n\t\t{\n\t\t\treturn obj.getFullYear();\n\t\t}\n\n\t\thour(obj)\n\t\t{\n\t\t\treturn obj.getHours();\n\t\t}\n\n\t\tminute(obj)\n\t\t{\n\t\t\treturn obj.getMinutes();\n\t\t}\n\n\t\tsecond(obj)\n\t\t{\n\t\t\treturn obj.getSeconds();\n\t\t}\n\n\t\tmicrosecond(obj)\n\t\t{\n\t\t\treturn obj.getMilliseconds() * 1000;\n\t\t}\n\n\t\tmimeformat(obj)\n\t\t{\n\t\t\tlet weekdayname = [\"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\", \"Sun\"];\n\t\t\tlet monthname = [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"];\n\n\t\t\treturn weekdayname[ul4.DateTimeProtocol.weekday(obj)] + \", \" + ul4._lpad(obj.getDate(), \"0\", 2) + \" \" + monthname[obj.getMonth()] + \" \" + obj.getFullYear() + \" \" + ul4._lpad(obj.getHours(), \"0\", 2) + \":\" + ul4._lpad(obj.getMinutes(), \"0\", 2) + \":\" + ul4._lpad(obj.getSeconds(), \"0\", 2) + \" GMT\";\n\t\t}\n\n\t\tisoformat(obj)\n\t\t{\n\t\t\tlet year = obj.getFullYear();\n\t\t\tlet month = obj.getMonth()+1;\n\t\t\tlet day = obj.getDate();\n\t\t\tlet hour = obj.getHours();\n\t\t\tlet minute = obj.getMinutes();\n\t\t\tlet second = obj.getSeconds();\n\t\t\tlet ms = obj.getMilliseconds();\n\t\t\tlet result = year + \"-\" + ul4._lpad(month.toString(), \"0\", 2) + \"-\" + ul4._lpad(day.toString(), \"0\", 2) + \"T\" + ul4._lpad(hour.toString(), \"0\", 2) + \":\" + ul4._lpad(minute.toString(), \"0\", 2) + \":\" + ul4._lpad(second.toString(), \"0\", 2);\n\t\t\tif (ms)\n\t\t\t\tresult += \".\" + ul4._lpad(ms.toString(), \"0\", 3) + \"000\";\n\t\t\treturn result;\n\t\t}\n\n\t\tyearday(obj)\n\t\t{\n\t\t\tlet leap = ul4._isleap(obj) ? 1 : 0;\n\t\t\tlet day = obj.getDate();\n\t\t\tswitch (obj.getMonth())\n\t\t\t{\n\t\t\t\tcase 0:\n\t\t\t\t\treturn day;\n\t\t\t\tcase 1:\n\t\t\t\t\treturn 31 + day;\n\t\t\t\tcase 2:\n\t\t\t\t\treturn 31 + 28 + leap + day;\n\t\t\t\tcase 3:\n\t\t\t\t\treturn 31 + 28 + leap + 31 + day;\n\t\t\t\tcase 4:\n\t\t\t\t\treturn 31 + 28 + leap + 31 + 30 + day;\n\t\t\t\tcase 5:\n\t\t\t\t\treturn 31 + 28 + leap + 31 + 30 + 31 + day;\n\t\t\t\tcase 6:\n\t\t\t\t\treturn 31 + 28 + leap + 31 + 30 + 31 + 30 + day;\n\t\t\t\tcase 7:\n\t\t\t\t\treturn 31 + 28 + leap + 31 + 30 + 31 + 30 + 31 + day;\n\t\t\t\tcase 8:\n\t\t\t\t\treturn 31 + 28 + leap + 31 + 30 + 31 + 30 + 31 + 31 + day;\n\t\t\t\tcase 9:\n\t\t\t\t\treturn 31 + 28 + leap + 31 + 30 + 31 + 30 + 31 + 31 + 30 + day;\n\t\t\t\tcase 10:\n\t\t\t\t\treturn 31 + 28 + leap + 31 + 30 + 31 + 30 + 31 + 31 + 30 + 31 + day;\n\t\t\t\tcase 11:\n\t\t\t\t\treturn 31 + 28 + leap + 31 + 30 + 31 + 30 + 31 + 31 + 30 + 31 + 30 + day;\n\t\t\t}\n\t\t}\n\t};\n\n\tul4.DateTimeProtocol = ul4.DateTimeProtocol.prototype;\n\tul4.DateTimeProtocol.attrs = ul4._makeset(\"weekday\", \"week\", \"calendar\", \"day\", \"month\", \"year\", \"hour\", \"minute\", \"second\", \"microsecond\", \"mimeformat\", \"isoformat\", \"yearday\");\n\n\tul4.expose(ul4.DateTimeProtocol.weekday, []);\n\tul4.expose(ul4.DateTimeProtocol.calendar, [\"firstweekday=\", 0, \"mindaysinfirstweek=\", 4]);\n\tul4.expose(ul4.DateTimeProtocol.week, [\"firstweekday=\", 0, \"mindaysinfirstweek=\", 4]);\n\tul4.expose(ul4.DateTimeProtocol.day, []);\n\tul4.expose(ul4.DateTimeProtocol.month, []);\n\tul4.expose(ul4.DateTimeProtocol.year, []);\n\tul4.expose(ul4.DateTimeProtocol.hour, []);\n\tul4.expose(ul4.DateTimeProtocol.minute, []);\n\tul4.expose(ul4.DateTimeProtocol.second, []);\n\tul4.expose(ul4.DateTimeProtocol.microsecond, []);\n\tul4.expose(ul4.DateTimeProtocol.mimeformat, []);\n\tul4.expose(ul4.DateTimeProtocol.isoformat, []);\n\tul4.expose(ul4.DateTimeProtocol.yearday, []);\n\n\tul4.ObjectProtocol = class ObjectProtocol extends ul4.Protocol.constructor\n\t{\n\t\tul4type(obj)\n\t\t{\n\t\t\treturn \"dict\";\n\t\t}\n\n\t\tgetattr(obj, attrname)\n\t\t{\n\t\t\tlet result;\n\t\t\tif (obj && typeof(obj.__getattr__) === \"function\") // test this before the generic object test\n\t\t\t\tresult = obj.__getattr__(attrname);\n\t\t\telse\n\t\t\t\tresult = obj[attrname];\n\t\t\tif (typeof(result) !== \"function\")\n\t\t\t\treturn result;\n\t\t\tlet realresult = function(...args) {\n\t\t\t\t// We can use ``apply`` here, as we know that ``obj`` is a real object.\n\t\t\t\treturn result.apply(obj, args);\n\t\t\t};\n\t\t\trealresult._ul4_name = result._ul4_name || result.name;\n\t\t\trealresult._ul4_signature = result._ul4_signature;\n\t\t\trealresult._ul4_needsobject = result._ul4_needsobject;\n\t\t\trealresult._ul4_needscontext = result._ul4_needscontext;\n\t\t\treturn realresult;\n\t\t}\n\n\t\tget(obj, key, default_=null)\n\t\t{\n\t\t\tlet result = obj[key];\n\t\t\tif (typeof(result) === \"undefined\")\n\t\t\t\treturn default_;\n\t\t\treturn result;\n\t\t}\n\n\t\titems(obj)\n\t\t{\n\t\t\tlet result = [];\n\t\t\tfor (let key in obj)\n\t\t\t\tresult.push([key, obj[key]]);\n\t\t\treturn result;\n\t\t}\n\n\t\tvalues(obj)\n\t\t{\n\t\t\tlet result = [];\n\t\t\tfor (let key in obj)\n\t\t\t\tresult.push(obj[key]);\n\t\t\treturn result;\n\t\t}\n\n\t\tclear(obj)\n\t\t{\n\t\t\tfor (let key in obj)\n\t\t\t\tdelete obj[key];\n\t\t}\n\t};\n\n\tul4.ObjectProtocol = ul4.ObjectProtocol.prototype;\n\tul4.ObjectProtocol.attrs = ul4._makeset(\"get\", \"items\", \"values\", \"update\", \"clear\");\n\n\tul4.expose(ul4.ObjectProtocol.get, [\"key\", \"default=\", null]);\n\tul4.expose(ul4.ObjectProtocol.items, []);\n\tul4.expose(ul4.ObjectProtocol.values, []);\n\tul4.expose(ul4.ObjectProtocol.clear, []);\n\n\tul4.Context = class Context\n\t{\n\t\tconstructor(vars)\n\t\t{\n\t\t\tif (vars === null || typeof(vars) === \"undefined\")\n\t\t\t\tvars = {};\n\t\t\tthis.vars = vars;\n\t\t\tthis.indents = [];\n\t\t\tthis.escapes = [];\n\t\t\tthis._output = [];\n\t\t}\n\n\t\t/* Return a clone of the ``Context``, but with a fresh empty ``vars`` objects that inherits from the previous one.\n\t\t * This is used by the various comprehensions to avoid leaking loop variables.\n\t\t */\n\t\tinheritvars()\n\t\t{\n\t\t\tlet context = Object.create(this);\n\t\t\tcontext.vars = Object.create(this.vars);\n\t\t\treturn context;\n\t\t}\n\n\t\t/* Return a clone of the ``Context`` with one additional indentation (this is used by ``RenderAST``) */\n\t\twithindent(indent)\n\t\t{\n\t\t\tlet context = Object.create(this);\n\t\t\tif (indent !== null)\n\t\t\t{\n\t\t\t\tcontext.indents = this.indents.slice();\n\t\t\t\tcontext.indents.push(indent);\n\t\t\t}\n\t\t\treturn context;\n\t\t}\n\n\t\t/* Return a clone of the ``Context`` with the output buffer replaced (this is used by ``renders`` to collect the output in a separate buffer) */\n\t\treplaceoutput()\n\t\t{\n\t\t\tlet context = Object.create(this);\n\t\t\tcontext._output = [];\n\t\t\treturn context;\n\t\t}\n\n\t\tclone(vars)\n\t\t{\n\t\t\treturn Object.create(this);\n\t\t}\n\n\t\toutput(value)\n\t\t{\n\t\t\tfor (let i = 0; i < this.escapes.length; ++i)\n\t\t\t{\n\t\t\t\tlet escape = this.escapes[i];\n\t\t\t\tvalue = escape(value);\n\t\t\t}\n\t\t\tthis._output.push(value);\n\t\t}\n\n\t\tgetoutput()\n\t\t{\n\t\t\treturn this._output.join(\"\");\n\t\t}\n\n\t\tget(name)\n\t\t{\n\t\t\treturn this.vars[name];\n\t\t}\n\n\t\tset(name, value)\n\t\t{\n\t\t\tthis.vars[name] = value;\n\t\t}\n\t};\n\n\t/// Exceptions\n\n\t// Note that extending ``Error`` doesn't work, so we do it the \"classic\" way\n\tul4.Exception = function Exception(message, fileName, lineNumber)\n\t{\n\t\tlet instance = new Error(message, fileName, lineNumber);\n\t\tObject.setPrototypeOf(instance, Object.getPrototypeOf(this));\n\t\tinstance.__id__ = _nextid++;\n\t\tinstance.context = null;\n\t\treturn instance;\n\t};\n\n\tul4.Exception.prototype = Object.create(Error.prototype, {\n\t\tconstructor: {\n\t\t\tvalue: Error,\n\t\t\tenumerable: false,\n\t\t\twritable: true,\n\t\t\tconfigurable: true\n\t\t}\n\t});\n\n\tif (Object.setPrototypeOf)\n\t\tObject.setPrototypeOf(ul4.Exception, Error);\n\telse\n\t\tul4.Exception.__proto__ = Error;\n\n\tul4.Exception.prototype.__getattr__ = function __getattr__(attrname)\n\t{\n\t\tswitch (attrname)\n\t\t{\n\t\t\tcase \"context\":\n\t\t\t\treturn this.context;\n\t\t\tdefault:\n\t\t\t\tthrow new ul4.AttributeError(this, attrname);\n\t\t}\n\t};\n\n\t// Exceptions used internally by UL4 for flow control\n\tul4.InternalException = class InternalException extends ul4.Exception\n\t{\n\t};\n\n\t// Control flow exceptions\n\tul4.ReturnException = class ReturnException extends ul4.InternalException\n\t{\n\t\tconstructor(result)\n\t\t{\n\t\t\tsuper(\"return\");\n\t\t\tthis.result = result;\n\t\t}\n\t};\n\n\tul4.BreakException = class BreakException extends ul4.InternalException\n\t{\n\t\tconstructor()\n\t\t{\n\t\t\tsuper(\"break\");\n\t\t}\n\t};\n\n\tul4.ContinueException = class ContinueException extends ul4.InternalException\n\t{\n\t\tconstructor()\n\t\t{\n\t\t\tsuper(\"continue\");\n\t\t}\n\t};\n\n\t// Real exceptions raised by various parts of UL4\n\tul4.SyntaxError = class SyntaxError extends ul4.Exception\n\t{\n\t};\n\n\tul4.LValueRequiredError = class LValueRequiredError extends ul4.SyntaxError\n\t{\n\t\tconstructor()\n\t\t{\n\t\t\tsuper(\"lvalue required\");\n\t\t}\n\t};\n\n\tul4.TypeError = class TypeError extends ul4.Exception\n\t{\n\t};\n\n\tul4.ValueError = class ValueError extends ul4.Exception\n\t{\n\t};\n\n\tul4.ArgumentError = class ArgumentError extends ul4.Exception\n\t{\n\t};\n\n\tul4.NotSubscriptableError = class NotSubscriptableError extends ul4.Exception\n\t{\n\t\tconstructor(obj)\n\t\t{\n\t\t\tsuper(\"Object of type \" + _type(obj) + \" is not subscriptable\");\n\t\t\tthis.obj = obj;\n\t\t}\n\n\t\ttoString()\n\t\t{\n\t\t\treturn \"Object of type \" + _type(this.obj) + \" is not subscriptable\";\n\t\t}\n\t};\n\n\tul4.ZeroDivisionError = class ZeroDivisionError extends ul4.Exception\n\t{\n\t\tconstructor()\n\t\t{\n\t\t\tsuper(\"division by zero\");\n\t\t}\n\t};\n\n\tul4.IndexError = class IndexError extends ul4.Exception\n\t{\n\t\tconstructor(obj, index)\n\t\t{\n\t\t\tsuper(\"index \" + ul4._repr(index) + \" out of range\");\n\t\t\tthis.obj = obj;\n\t\t\tthis.index = index;\n\t\t}\n\n\t\ttoString()\n\t\t{\n\t\t\treturn \"index \" + this.index + \" out of range for \" + ul4._type(this.obj);\n\t\t}\n\t};\n\n\tul4.AttributeError = class AttributeError extends ul4.Exception\n\t{\n\t\tconstructor(obj, attrname)\n\t\t{\n\t\t\tsuper(\"object of type \" + ul4._type(obj) + \" has no attribute \" + ul4._repr(attrname));\n\t\t\tthis.obj = obj;\n\t\t\tthis.attrname = attrname;\n\t\t}\n\t};\n\n\t/// Exception that wraps other exceptions while they bubble up the stack\n\tul4.LocationError = class LocationError extends ul4.Exception\n\t{\n\t\tconstructor(location)\n\t\t{\n\t\t\tsuper(\"nested exception in \" + ul4._repr(location));\n\t\t\tthis.location = location;\n\t\t}\n\n\t\t_templateprefix()\n\t\t{\n\t\t\tlet template = this.location.template;\n\t\t\tlet out = [];\n\t\t\tif (template.parenttemplate !== null)\n\t\t\t\tout.push(\"in local template \");\n\t\t\telse\n\t\t\t\tout.push(\"in template \");\n\t\t\tlet first = true;\n\t\t\twhile (template != null)\n\t\t\t{\n\t\t\t\tif (first)\n\t\t\t\t\tfirst = false;\n\t\t\t\telse\n\t\t\t\t\tout.push(\" in \");\n\t\t\t\tout.push(template.name ? ul4._repr(template.name) : \"(unnamed)\");\n\t\t\t\ttemplate = template.parenttemplate;\n\t\t\t}\n\t\t\treturn out.join(\"\");\n\t\t}\n\n\t\ttoString()\n\t\t{\n\t\t\tlet template = this.location.template;\n\t\t\tlet templateprefix = this._templateprefix();\n\n\t\t\tlet prefix = this.location.sourceprefix;\n\t\t\tlet code = this.location.source;\n\t\t\tlet suffix = this.location.sourcesuffix;\n\t\t\tprefix = ul4._repr(prefix).slice(1, -1);\n\t\t\tcode = ul4._repr(code).slice(1, -1);\n\t\t\tsuffix = ul4._repr(suffix).slice(1, -1);\n\n\t\t\tlet text = prefix + code + suffix;\n\t\t\tlet underline = ul4._str_repeat(\"\\u00a0\", prefix.length) + ul4._str_repeat(\"~\", code.length);\n\n\t\t\tlet pos = \"offset \" + this.location.pos.start + \":\" + this.location.pos.stop + \"; line \" + this.location.line + \"; col \" + this.location.col;\n\n\t\t\tlet message = templateprefix + \": \" + pos + \"\\n\" + text + \"\\n\" + underline;\n\t\t\treturn message;\n\t\t}\n\n\t\t__getattr__(attrname)\n\t\t{\n\t\t\tswitch (attrname)\n\t\t\t{\n\t\t\t\tcase \"context\":\n\t\t\t\t\treturn this.context;\n\t\t\t\tcase \"location\":\n\t\t\t\t\treturn this.location;\n\t\t\t\tdefault:\n\t\t\t\t\tthrow new ul4.AttributeError(this, attrname);\n\t\t\t}\n\t\t}\n\t};\n\n\t/// Classes for the syntax tree\n\tul4.AST = class AST extends ul4.Proto\n\t{\n\t\tconstructor(template, pos)\n\t\t{\n\t\t\tsuper();\n\t\t\tthis.template = template;\n\t\t\tthis.pos = pos;\n\t\t\tthis._line = null;\n\t\t\tthis._col = null;\n\t\t}\n\n\t\tget fullsource()\n\t\t{\n\t\t\treturn this.template._source;\n\t\t}\n\n\t\tget source()\n\t\t{\n\t\t\treturn this.pos.of(this.template._source);\n\t\t}\n\n\t\tget sourceprefix()\n\t\t{\n\t\t\tlet outerstartpos = this.pos.start;\n\t\t\tlet innerstartpos = outerstartpos;\n\t\t\tlet source = this.fullsource;\n\n\t\t\tlet maxprefix = 40;\n\t\t\tlet preprefix = \"\\u2026\";\n\t\t\twhile (maxprefix > 0)\n\t\t\t{\n\t\t\t\t// We arrived at the start of the source code\n\t\t\t\tif (outerstartpos === 0)\n\t\t\t\t{\n\t\t\t\t\tpreprefix = \"\";\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\t// We arrived at the start of the line\n\t\t\t\tif (source.charAt(outerstartpos-1) === \"\\n\")\n\t\t\t\t{\n\t\t\t\t\tpreprefix = \"\";\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\t--maxprefix;\n\t\t\t\t--outerstartpos;\n\t\t\t}\n\t\t\treturn preprefix + source.substring(outerstartpos, innerstartpos);\n\t\t}\n\n\t\tget sourcesuffix()\n\t\t{\n\t\t\tlet outerstoppos = this.pos.stop;\n\t\t\tlet innerstoppos = outerstoppos;\n\t\t\tlet source = this.fullsource;\n\n\t\t\tlet maxsuffix = 40;\n\t\t\tlet postsuffix = \"\\u2026\";\n\t\t\twhile (maxsuffix > 0)\n\t\t\t{\n\t\t\t\t// We arrived at the ed of the source code\n\t\t\t\tif (outerstoppos >= source.length)\n\t\t\t\t{\n\t\t\t\t\tpostsuffix = \"\";\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\t// We arrived at the end of the line\n\t\t\t\tif (source.charAt(outerstoppos) === \"\\n\")\n\t\t\t\t{\n\t\t\t\t\tpostsuffix = \"\";\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\t--maxsuffix;\n\t\t\t\t++outerstoppos;\n\t\t\t}\n\t\t\treturn source.substring(innerstoppos, outerstoppos) + postsuffix;\n\t\t}\n\n\t\tget line()\n\t\t{\n\t\t\tif (this._line === null)\n\t\t\t\tthis._calculateLineCol();\n\t\t\treturn this._line;\n\t\t}\n\n\t\tget col()\n\t\t{\n\t\t\tif (this._col === null)\n\t\t\t\tthis._calculateLineCol();\n\t\t\treturn this._col;\n\t\t}\n\n\t\t_calculateLineCol()\n\t\t{\n\t\t\tthis._line = 1\n\t\t\tthis._col = 1;\n\t\t\tlet stop = this.pos.start;\n\t\t\tfor (let i = 0; i < stop; ++i)\n\t\t\t{\n\t\t\t\tif (this.template.source[i] === \"\\n\")\n\t\t\t\t{\n\t\t\t\t\t++this._line;\n\t\t\t\t\tthis._col = 1;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t\t++this._col;\n\t\t\t}\n\t\t}\n\n\t\t__getattr__(attrname)\n\t\t{\n\t\t\tif (attrname === \"type\" || attrname === \"fullsource\" || attrname === \"source\" || attrname === \"sourceprefix\" || attrname === \"sourcesuffix\" || attrname === \"line\" || attrname === \"col\")\n\t\t\t\treturn this[attrname];\n\t\t\telse if (this._ul4onattrs.indexOf(attrname) >= 0)\n\t\t\t\treturn this[attrname];\n\t\t\tthrow new ul4.AttributeError(this, attrname);\n\t\t}\n\n\t\t__setitem__(attrname, value)\n\t\t{\n\t\t\tthrow new ul4.TypeError(\"object is immutable\");\n\t\t}\n\n\t\t__str__()\n\t\t{\n\t\t\tlet out = [];\n\t\t\tthis._str(out);\n\t\t\treturn ul4._formatsource(out);\n\t\t}\n\n\t\t__repr__()\n\t\t{\n\t\t\tlet out = [];\n\t\t\tthis._repr(out);\n\t\t\treturn ul4._formatsource(out);\n\t\t}\n\n\t\t_decorate_exception(exc)\n\t\t{\n\t\t\twhile (exc.context !== undefined && exc.context !== null)\n\t\t\t\texc = exc.context;\n\t\t\texc.context = new ul4.LocationError(this);\n\t\t}\n\n\t\t_handle_eval(context)\n\t\t{\n\t\t\ttry\n\t\t\t{\n\t\t\t\treturn this._eval(context);\n\t\t\t}\n\t\t\tcatch (exc)\n\t\t\t{\n\t\t\t\tif (!(exc instanceof ul4.InternalException) && !(exc instanceof ul4.LocationError))\n\t\t\t\t\tthis._decorate_exception(exc);\n\t\t\t\tthrow exc;\n\t\t\t}\n\t\t}\n\n\t\t_handle_eval_set(context, value)\n\t\t{\n\t\t\ttry\n\t\t\t{\n\t\t\t\treturn this._eval_set(context, value);\n\t\t\t}\n\t\t\tcatch (exc)\n\t\t\t{\n\t\t\t\tif (!(exc instanceof ul4.LocationError))\n\t\t\t\t\tthis._decorate_exception(exc);\n\t\t\t\tthrow exc;\n\t\t\t}\n\t\t}\n\n\t\t_eval_set(context, value)\n\t\t{\n\t\t\tthrow new ul4.LValueRequiredError();\n\t\t}\n\n\t\t_handle_eval_modify(context, operator, value)\n\t\t{\n\t\t\ttry\n\t\t\t{\n\t\t\t\treturn this._eval_modify(context, operator, value);\n\t\t\t}\n\t\t\tcatch (exc)\n\t\t\t{\n\t\t\t\tif (!(exc instanceof ul4.LocationError))\n\t\t\t\t\tthis._decorate_exception(exc);\n\t\t\t\tthrow exc;\n\t\t\t}\n\t\t}\n\n\t\t_eval_modify(context, operator, value)\n\t\t{\n\t\t\tthrow new ul4.LValueRequiredError();\n\t\t}\n\n\t\t_repr(out)\n\t\t{\n\t\t}\n\n\t\t_str(out)\n\t\t{\n\t\t\tout.push(this.source.replace(/\\r?\\n/g, ' '));\n\t\t}\n\n\t\tul4ondump(encoder)\n\t\t{\n\t\t\tfor (let i = 0; i < this._ul4onattrs.length; ++i)\n\t\t\t{\n\t\t\t\tlet attrname = this._ul4onattrs[i];\n\t\t\t\tencoder.dump(this[attrname]);\n\t\t\t}\n\t\t}\n\n\t\tul4onload(decoder)\n\t\t{\n\t\t\tfor (let i = 0; i < this._ul4onattrs.length; ++i)\n\t\t\t{\n\t\t\t\tlet attrname = this._ul4onattrs[i];\n\t\t\t\tthis[attrname] = decoder.load();\n\t\t\t}\n\t\t}\n\t};\n\n\t// used in ul4ondump/ul4ondump to automatically dump these attributes\n\tul4.AST.prototype._ul4onattrs = [\"template\", \"pos\"];\n\n\tul4.TextAST = class TextAST extends ul4.AST\n\t{\n\t\tconstructor(template, pos)\n\t\t{\n\t\t\tsuper(template, pos);\n\t\t}\n\n\t\tget text()\n\t\t{\n\t\t\treturn this.source;\n\t\t}\n\n\t\t_eval(context)\n\t\t{\n\t\t\tcontext.output(this.text);\n\t\t}\n\n\t\t_str(out)\n\t\t{\n\t\t\tout.push(\"text \");\n\t\t\tout.push(ul4._repr(this.text));\n\t\t}\n\n\t\t_repr(out)\n\t\t{\n\t\t\tout.push(\"<TextAST \");\n\t\t\tout.push(ul4._repr(this.text));\n\t\t\tout.push(\">\");\n\t\t}\n\t};\n\n\tul4.IndentAST = class IndentAST extends ul4.TextAST\n\t{\n\t\tconstructor(template, pos, text)\n\t\t{\n\t\t\tsuper(template, pos);\n\t\t\tthis._text = text;\n\t\t}\n\n\t\tget text()\n\t\t{\n\t\t\tif (typeof(this.template) !== \"undefined\")\n\t\t\t\treturn this._text === null ? this.source : this._text;\n\t\t\telse\n\t\t\t\treturn null;\n\t\t}\n\n\t\t_eval(context)\n\t\t{\n\t\t\tfor (let i = 0; i < context.indents.length; ++i)\n\t\t\t{\n\t\t\t\tlet indent = context.indents[i];\n\t\t\t\tcontext.output(indent);\n\t\t\t}\n\t\t\tcontext.output(this.text);\n\t\t}\n\n\t\tul4ondump(encoder)\n\t\t{\n\t\t\tsuper.ul4ondump(encoder);\n\n\t\t\tif (this._text === this.source)\n\t\t\t\tencoder.dump(null);\n\t\t\telse\n\t\t\t\tencoder.dump(this._text);\n\t\t}\n\n\t\tul4onload(decoder)\n\t\t{\n\t\t\tsuper.ul4onload(decoder);\n\t\t\tthis._text = decoder.load();\n\t\t}\n\n\t\t_str(out)\n\t\t{\n\t\t\tout.push(\"indent \");\n\t\t\tout.push(ul4._repr(this.text));\n\t\t}\n\n\t\t_repr(out)\n\t\t{\n\t\t\tout.push(\"<IndentAST \");\n\t\t\tout.push(ul4._repr(this.text));\n\t\t\tout.push(\">\");\n\t\t}\n\t};\n\n\tul4.LineEndAST = class LineEndAST extends ul4.TextAST\n\t{\n\t\t_str(out)\n\t\t{\n\t\t\tout.push(\"lineend \");\n\t\t\tout.push(ul4._repr(this.text));\n\t\t}\n\n\t\t_repr(out)\n\t\t{\n\t\t\tout.push(\"<LineEndAST \");\n\t\t\tout.push(ul4._repr(this.text));\n\t\t\tout.push(\">\");\n\t\t}\n\t};\n\n\tul4.CodeAST = class CodeAST extends ul4.AST\n\t{\n\t};\n\n\tul4.ConstAST = class ConstAST extends ul4.CodeAST\n\t{\n\t\tconstructor(template, pos, value)\n\t\t{\n\t\t\tsuper(template, pos);\n\t\t\tthis.value = value;\n\t\t}\n\n\t\t_repr(out)\n\t\t{\n\t\t\tout.push(\"<ConstAST value=\");\n\t\t\tout.push(ul4._repr(this.value));\n\t\t\tout.push(\">\");\n\t\t}\n\n\t\t_eval(context)\n\t\t{\n\t\t\treturn this.value;\n\t\t}\n\t};\n\n\tul4.ConstAST.prototype._ul4onattrs = ul4.CodeAST.prototype._ul4onattrs.concat([\"value\"]);\n\n\tul4.ItemArgBase = class ItemArgBase extends ul4.CodeAST\n\t{\n\t\t_handle_eval_list(context, result)\n\t\t{\n\t\t\ttry\n\t\t\t{\n\t\t\t\treturn this._eval_list(context, result);\n\t\t\t}\n\t\t\tcatch (exc)\n\t\t\t{\n\t\t\t\tif (!(exc instanceof ul4.InternalException) && !(exc instanceof ul4.LocationError))\n\t\t\t\t\tthis._decorate_exception(exc);\n\t\t\t\tthrow exc;\n\t\t\t}\n\t\t}\n\n\t\t_handle_eval_set(context, result)\n\t\t{\n\t\t\ttry\n\t\t\t{\n\t\t\t\treturn this._eval_set(context, result);\n\t\t\t}\n\t\t\tcatch (exc)\n\t\t\t{\n\t\t\t\tif (!(exc instanceof ul4.InternalException) && !(exc instanceof ul4.LocationError))\n\t\t\t\t\tthis._decorate_exception(exc);\n\t\t\t\tthrow exc;\n\t\t\t}\n\t\t}\n\n\t\t_handle_eval_dict(context, result)\n\t\t{\n\t\t\ttry\n\t\t\t{\n\t\t\t\treturn this._eval_dict(context, result);\n\t\t\t}\n\t\t\tcatch (exc)\n\t\t\t{\n\t\t\t\tif (!(exc instanceof ul4.InternalException) && !(exc instanceof ul4.LocationError))\n\t\t\t\t\tthis._decorate_exception(exc);\n\t\t\t\tthrow exc;\n\t\t\t}\n\t\t}\n\n\t\t_handle_eval_call(context, args, kwargs)\n\t\t{\n\t\t\ttry\n\t\t\t{\n\t\t\t\treturn this._eval_call(context, args, kwargs);\n\t\t\t}\n\t\t\tcatch (exc)\n\t\t\t{\n\t\t\t\tif (!(exc instanceof ul4.InternalException) && !(exc instanceof ul4.LocationError))\n\t\t\t\t\tthis._decorate_exception(exc);\n\t\t\t\tthrow exc;\n\t\t\t}\n\t\t}\n\t};\n\n\tul4.SeqItemAST = class SeqItemAST extends ul4.ItemArgBase\n\t{\n\t\tconstructor(template, pos, value)\n\t\t{\n\t\t\tsuper(template, pos);\n\t\t\tthis.value = value;\n\t\t}\n\n\t\t_repr(out)\n\t\t{\n\t\t\tout.push(\"<SeqItemAST value=\");\n\t\t\tout.push(ul4._repr(this.value));\n\t\t\tout.push(\">\");\n\t\t}\n\n\t\t_eval_list(context, result)\n\t\t{\n\t\t\tlet value = this.value._handle_eval(context);\n\t\t\tresult.push(value);\n\t\t}\n\n\t\t_eval_set(context, result)\n\t\t{\n\t\t\tlet value = this.value._handle_eval(context);\n\t\t\tresult.add(value);\n\t\t}\n\t};\n\n\tul4.SeqItemAST.prototype._ul4onattrs = ul4.ItemArgBase.prototype._ul4onattrs.concat([\"value\"]);\n\n\tul4.UnpackSeqItemAST = class UnpackSeqItemAST extends ul4.ItemArgBase\n\t{\n\t\tconstructor(template, pos, value)\n\t\t{\n\t\t\tsuper(template, pos);\n\t\t\tthis.value = value;\n\t\t}\n\n\t\t_repr(out)\n\t\t{\n\t\t\tout.push(\"<UnpackSeqItemAST value=\");\n\t\t\tout.push(ul4._repr(this.value));\n\t\t\tout.push(\">\");\n\t\t}\n\n\t\t_eval_list(context, result)\n\t\t{\n\t\t\tlet value = this.value._handle_eval(context);\n\t\t\tfor (let iter = ul4._iter(value);;)\n\t\t\t{\n\t\t\t\tlet item = iter.next();\n\t\t\t\tif (item.done)\n\t\t\t\t\tbreak;\n\t\t\t\tresult.push(item.value);\n\t\t\t}\n\t\t}\n\n\t\t_eval_set(context, result)\n\t\t{\n\t\t\tlet value = this.value._handle_eval(context);\n\t\t\tfor (let iter = ul4._iter(value);;)\n\t\t\t{\n\t\t\t\tlet item = iter.next();\n\t\t\t\tif (item.done)\n\t\t\t\t\tbreak;\n\t\t\t\tresult.add(item.value);\n\t\t\t}\n\t\t}\n\t};\n\n\tul4.UnpackSeqItemAST.prototype._ul4onattrs = ul4.ItemArgBase.prototype._ul4onattrs.concat([\"value\"]);\n\n\tul4.DictItemAST = class DictItemAST extends ul4.ItemArgBase\n\t{\n\t\tconstructor(template, pos, key, value)\n\t\t{\n\t\t\tsuper(template, pos);\n\t\t\tthis.key = key;\n\t\t\tthis.value = value;\n\t\t}\n\n\t\t_repr(out)\n\t\t{\n\t\t\tout.push(\"<DictItemAST key=\");\n\t\t\tout.push(ul4._repr(this.key));\n\t\t\tout.push(\" value=\");\n\t\t\tout.push(ul4._repr(this.value));\n\t\t\tout.push(\">\");\n\t\t}\n\n\t\t_eval_dict(context, result)\n\t\t{\n\t\t\tlet key = this.key._handle_eval(context);\n\t\t\tlet value = this.value._handle_eval(context);\n\t\t\tul4._setmap(result, key, value);\n\t\t}\n\t};\n\n\tul4.DictItemAST.prototype._ul4onattrs = ul4.ItemArgBase.prototype._ul4onattrs.concat([\"key\", \"value\"]),\n\n\tul4.UnpackDictItemAST = class UnpackDictItemAST extends ul4.ItemArgBase\n\t{\n\t\tconstructor(template, pos, item)\n\t\t{\n\t\t\tsuper(template, pos);\n\t\t\tthis.item = item;\n\t\t}\n\n\t\t_repr(out)\n\t\t{\n\t\t\tout.push(\"<UnpackDictItemAST item=\");\n\t\t\tout.push(ul4._repr(this.item));\n\t\t\tout.push(\">\");\n\t\t}\n\n\t\t_eval_dict(context, result)\n\t\t{\n\t\t\tlet item = this.item._handle_eval(context);\n\t\t\tif (ul4._islist(item))\n\t\t\t{\n\t\t\t\tfor (let i = 0; i < item.length; ++i)\n\t\t\t\t{\n\t\t\t\t\tlet subitem = item[i];\n\t\t\t\t\tif (!ul4._islist(subitem) || subitem.length != 2)\n\t\t\t\t\t\tthrow new ul4.ArgumentError(\"** requires a list of (key, value) pairs\");\n\t\t\t\t\tul4._setmap(result, subitem[0], subitem[1]);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (ul4._ismap(item))\n\t\t\t{\n\t\t\t\titem.forEach(function(value, key) {\n\t\t\t\t\tul4._setmap(result, key, value);\n\t\t\t\t});\n\t\t\t}\n\t\t\telse if (ul4._isobject(item))\n\t\t\t{\n\t\t\t\tfor (let key in item)\n\t\t\t\t\tul4._setmap(result, key, item[key]);\n\t\t\t}\n\t\t}\n\t};\n\n\tul4.UnpackDictItemAST.prototype._ul4onattrs = ul4.ItemArgBase.prototype._ul4onattrs.concat([\"item\"]);\n\n\tul4.PosArgAST = class PosArgAST extends ul4.ItemArgBase\n\t{\n\t\tconstructor(template, pos, value)\n\t\t{\n\t\t\tsuper(template, pos);\n\t\t\tthis.value = value;\n\t\t}\n\n\t\t_repr(out)\n\t\t{\n\t\t\tout.push(\"<PosArgAST value=\");\n\t\t\tthis.value._repr(out);\n\t\t\tout.push(\">\");\n\t\t}\n\n\t\t_eval_call(context, args, kwargs)\n\t\t{\n\t\t\tlet value = this.value._handle_eval(context);\n\t\t\targs.push(value);\n\t\t}\n\t};\n\n\tul4.PosArgAST.prototype._ul4onattrs = ul4.ItemArgBase.prototype._ul4onattrs.concat([\"value\"]);\n\n\tul4.KeywordArgAST = class KeywordArgAST extends ul4.ItemArgBase\n\t{\n\t\tconstructor(template, pos, name, value)\n\t\t{\n\t\t\tsuper(template, pos);\n\t\t\tthis.name = name;\n\t\t\tthis.value = value;\n\t\t}\n\n\t\t_repr(out)\n\t\t{\n\t\t\tout.push(\"<KeywordArgAST name=\");\n\t\t\tout.push(ul4._repr(this.name));\n\t\t\tout.push(\" value=\");\n\t\t\tthis.value._repr(out);\n\t\t\tout.push(\">\");\n\t\t}\n\n\t\t_eval_call(context, args, kwargs)\n\t\t{\n\t\t\tif (kwargs.hasOwnProperty(this.name))\n\t\t\t\tthrow new ul4.ArgumentError(\"duplicate keyword argument \" + this.name);\n\t\t\tlet value = this.value._handle_eval(context);\n\t\t\tkwargs[this.name] = value;\n\t\t}\n\t};\n\n\tul4.KeywordArgAST.prototype._ul4onattrs = ul4.ItemArgBase.prototype._ul4onattrs.concat([\"name\", \"value\"]);\n\n\tul4.UnpackListArgAST = class UnpackListArgAST extends ul4.ItemArgBase\n\t{\n\t\tconstructor(template, pos, item)\n\t\t{\n\t\t\tsuper(template, pos);\n\t\t\tthis.item = item;\n\t\t}\n\n\t\t_repr(out)\n\t\t{\n\t\t\tout.push(\"<UnpackListArgAST item=\");\n\t\t\tthis.item._repr(out);\n\t\t\tout.push(\">\");\n\t\t}\n\n\t\t_eval_call(context, args, kwargs)\n\t\t{\n\t\t\tlet item = this.item._handle_eval(context);\n\t\t\targs.push(...item);\n\t\t}\n\t};\n\n\tul4.UnpackListArgAST.prototype._ul4onattrs = ul4.ItemArgBase.prototype._ul4onattrs.concat([\"item\"]);\n\n\tul4.UnpackDictArgAST = class UnpackDictArgAST extends ul4.ItemArgBase\n\t{\n\t\tconstructor(template, pos, item)\n\t\t{\n\t\t\tsuper(template, pos);\n\t\t\tthis.item = item;\n\t\t}\n\n\t\t_repr(out)\n\t\t{\n\t\t\tout.push(\"<UnpackDictArgAST item=\");\n\t\t\tthis.item._repr(out);\n\t\t\tout.push(\">\");\n\t\t}\n\n\t\t_eval_call(context, args, kwargs)\n\t\t{\n\t\t\tlet item = this.item._handle_eval(context);\n\t\t\tif (ul4._islist(item))\n\t\t\t{\n\t\t\t\tfor (let i = 0; i < item.length; ++i)\n\t\t\t\t{\n\t\t\t\t\tlet subitem = item[i];\n\t\t\t\t\tif (!ul4._islist(subitem) || subitem.length != 2)\n\t\t\t\t\t\tthrow new ul4.ArgumentError(\"** requires a list of (key, value) pairs\");\n\t\t\t\t\tlet [key, value] = subitem;\n\t\t\t\t\tif (kwargs.hasOwnProperty(key))\n\t\t\t\t\t\tthrow new ul4.ArgumentError(\"duplicate keyword argument \" + key);\n\t\t\t\t\tkwargs[key] = value;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (ul4._ismap(item))\n\t\t\t{\n\t\t\t\titem.forEach(function(value, key) {\n\t\t\t\t\tif (kwargs.hasOwnProperty(key))\n\t\t\t\t\t\tthrow new ul4.ArgumentError(\"duplicate keyword argument \" + key);\n\t\t\t\t\tkwargs[key] = value;\n\t\t\t\t});\n\t\t\t}\n\t\t\telse if (ul4._isobject(item))\n\t\t\t{\n\t\t\t\tfor (let key in item)\n\t\t\t\t{\n\t\t\t\t\tif (kwargs.hasOwnProperty(key))\n\t\t\t\t\t\tthrow new ul4.ArgumentError(\"duplicate keyword argument \" + key);\n\t\t\t\t\tkwargs[key] = item[key];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\tul4.UnpackDictArgAST.prototype._ul4onattrs = ul4.ItemArgBase.prototype._ul4onattrs.concat([\"item\"]);\n\n\tul4.ListAST = class ListAST extends ul4.CodeAST\n\t{\n\t\tconstructor(template, pos)\n\t\t{\n\t\t\tsuper(template, pos);\n\t\t\tthis.items = [];\n\t\t}\n\n\t\t_repr(out)\n\t\t{\n\t\t\tout.push(\"<ListAST\");\n\t\t\tfor (let i = 0; i < this.items.length; ++i)\n\t\t\t{\n\t\t\t\tlet item = this.items[i];\n\t\t\t\tout.push(\" \");\n\t\t\t\titem._repr(out);\n\t\t\t}\n\t\t\tout.push(\">\");\n\t\t}\n\n\t\t_eval(context)\n\t\t{\n\t\t\tlet result = [];\n\t\t\tfor (let i = 0; i < this.items.length; ++i)\n\t\t\t{\n\t\t\t\tlet item = this.items[i];\n\t\t\t\titem._handle_eval_list(context, result);\n\t\t\t}\n\t\t\treturn result;\n\t\t}\n\t};\n\n\tul4.ListAST.prototype._ul4onattrs = ul4.CodeAST.prototype._ul4onattrs.concat([\"items\"]);\n\n\tul4.ListCompAST = class ListCompAST extends ul4.CodeAST\n\t{\n\t\tconstructor(template, pos, item, varname, container, condition)\n\t\t{\n\t\t\tsuper(template, pos);\n\t\t\tthis.item = item;\n\t\t\tthis.varname = varname;\n\t\t\tthis.container = container;\n\t\t\tthis.condition = condition;\n\t\t}\n\n\t\t_repr(out)\n\t\t{\n\t\t\tout.push(\"<ListCompAST\");\n\t\t\tout.push(\" item=\");\n\t\t\tthis.item._repr(out);\n\t\t\tout.push(\" varname=\");\n\t\t\tout.push(ul4._repr(this.varname));\n\t\t\tout.push(\" container=\");\n\t\t\tthis.container._repr(out);\n\t\t\tif (this.condition !== null)\n\t\t\t{\n\t\t\t\tout.push(\" condition=\");\n\t\t\t\tthis.condition._repr(out);\n\t\t\t}\n\t\t\tout.push(\">\");\n\t\t}\n\n\t\t_eval(context)\n\t\t{\n\t\t\tlet container = this.container._handle_eval(context);\n\n\t\t\tlet localcontext = context.inheritvars();\n\n\t\t\tlet result = [];\n\t\t\tfor (let iter = ul4._iter(container);;)\n\t\t\t{\n\t\t\t\tlet item = iter.next();\n\t\t\t\tif (item.done)\n\t\t\t\t\tbreak;\n\t\t\t\tlet varitems = ul4._unpackvar(this.varname, item.value);\n\t\t\t\tfor (let i = 0; i < varitems.length; ++i)\n\t\t\t\t{\n\t\t\t\t\tlet [lvalue, value] = varitems[i];\n\t\t\t\t\tlvalue._handle_eval_set(localcontext, value);\n\t\t\t\t}\n\t\t\t\tif (this.condition === null || ul4._bool(this.condition._handle_eval(localcontext)))\n\t\t\t\t\tresult.push(this.item._handle_eval(localcontext));\n\t\t\t}\n\t\t\treturn result;\n\t\t}\n\t};\n\n\tul4.ListCompAST.prototype._ul4onattrs = ul4.CodeAST.prototype._ul4onattrs.concat([\"item\", \"varname\", \"container\", \"condition\"]);\n\n\tul4.SetAST = class SetAST extends ul4.CodeAST\n\t{\n\t\tconstructor(template, pos)\n\t\t{\n\t\t\tsuper(template, pos);\n\t\t\tthis.items = [];\n\t\t}\n\n\t\t_repr(out)\n\t\t{\n\t\t\tout.push(\"<SetAST\");\n\t\t\tfor (let i = 0; i < this.items.length; ++i)\n\t\t\t{\n\t\t\t\tlet item = this.items[i];\n\t\t\t\tout.push(\" \");\n\t\t\t\titem._repr(out);\n\t\t\t}\n\t\t\tout.push(\">\");\n\t\t}\n\n\t\t_eval(context)\n\t\t{\n\t\t\tlet result = ul4._emptyset();\n\n\t\t\tfor (let i = 0; i < this.items.length; ++i)\n\t\t\t{\n\t\t\t\tlet item = this.items[i];\n\t\t\t\titem._handle_eval_set(context, result);\n\t\t\t}\n\n\t\t\treturn result;\n\t\t}\n\t};\n\n\tul4.SetAST.prototype._ul4onattrs = ul4.CodeAST.prototype._ul4onattrs.concat([\"items\"]);\n\n\tul4.SetCompAST = class SetCompAST extends ul4.CodeAST\n\t{\n\t\tconstructor(template, pos, item, varname, container, condition)\n\t\t{\n\t\t\tsuper(template, pos);\n\t\t\tthis.item = item;\n\t\t\tthis.varname = varname;\n\t\t\tthis.container = container;\n\t\t\tthis.condition = condition;\n\t\t}\n\n\t\t__getattr__(attrname)\n\t\t{\n\t\t\tswitch (attrname)\n\t\t\t{\n\t\t\t\tcase \"item\":\n\t\t\t\t\treturn this.item;\n\t\t\t\tcase \"varname\":\n\t\t\t\t\treturn this.varname;\n\t\t\t\tcase \"container\":\n\t\t\t\t\treturn this.container;\n\t\t\t\tcase \"condition\":\n\t\t\t\t\treturn this.condition;\n\t\t\t\tdefault:\n\t\t\t\t\treturn super.__getattr__(attrname);\n\t\t\t}\n\t\t}\n\n\t\t_repr(out)\n\t\t{\n\t\t\tout.push(\"<SetCompAST\");\n\t\t\tout.push(\" item=\");\n\t\t\tthis.item._repr(out);\n\t\t\tout.push(\" varname=\");\n\t\t\tthis.varname._repr(out);\n\t\t\tout.push(\" container=\");\n\t\t\tthis.container._repr(out);\n\t\t\tif (this.condition !== null)\n\t\t\t{\n\t\t\t\tout.push(\" condition=\");\n\t\t\t\tthis.condition._repr(out);\n\t\t\t}\n\t\t\tout.push(\">\");\n\t\t}\n\n\t\t_eval(context)\n\t\t{\n\t\t\tlet container = this.container._handle_eval(context);\n\n\t\t\tlet localcontext = context.inheritvars();\n\n\t\t\tlet result = ul4._emptyset();\n\t\t\tfor (let iter = ul4._iter(container);;)\n\t\t\t{\n\t\t\t\tlet item = iter.next();\n\t\t\t\tif (item.done)\n\t\t\t\t\tbreak;\n\t\t\t\tlet varitems = ul4._unpackvar(this.varname, item.value);\n\t\t\t\tfor (let i = 0; i < varitems.length; ++i)\n\t\t\t\t{\n\t\t\t\t\tlet [lvalue, value] = varitems[i];\n\t\t\t\t\tlvalue._handle_eval_set(localcontext, value);\n\t\t\t\t}\n\t\t\t\tif (this.condition === null || ul4._bool(this.condition._handle_eval(localcontext)))\n\t\t\t\t\tresult.add(this.item._handle_eval(localcontext));\n\t\t\t}\n\n\t\t\treturn result;\n\t\t}\n\t};\n\n\tul4.SetCompAST.prototype._ul4onattrs = ul4.CodeAST.prototype._ul4onattrs.concat([\"item\", \"varname\", \"container\", \"condition\"]);\n\n\tul4.DictAST = class DictAST extends ul4.CodeAST\n\t{\n\t\tconstructor(template, pos)\n\t\t{\n\t\t\tsuper(template, pos);\n\t\t\tthis.items = [];\n\t\t}\n\n\t\t__getattr__(attrname)\n\t\t{\n\t\t\tswitch (attrname)\n\t\t\t{\n\t\t\t\tcase \"items\":\n\t\t\t\t\treturn this.items;\n\t\t\t\tdefault:\n\t\t\t\t\treturn super.__getattr__(attrname);\n\t\t\t}\n\t\t}\n\n\t\t_repr(out)\n\t\t{\n\t\t\tout.push(\"<DictAST\");\n\t\t\tfor (let i = 0; i < this.items.length; ++i)\n\t\t\t{\n\t\t\t\tlet item = this.items[i];\n\t\t\t\tout.push(\" \");\n\t\t\t\titem._repr(out);\n\t\t\t}\n\t\t\tout.push(\">\");\n\t\t}\n\n\t\t_eval(context)\n\t\t{\n\t\t\tlet result = ul4._emptymap();\n\t\t\tfor (let i = 0; i < this.items.length; ++i)\n\t\t\t{\n\t\t\t\tlet item = this.items[i];\n\t\t\t\titem._handle_eval_dict(context, result);\n\t\t\t}\n\t\t\treturn result;\n\t\t}\n\t};\n\n\tul4.DictAST.prototype._ul4onattrs = ul4.CodeAST.prototype._ul4onattrs.concat([\"items\"]);\n\n\tul4.DictCompAST = class DictCompAST extends ul4.CodeAST\n\t{\n\t\tconstructor(template, pos, key, value, varname, container, condition)\n\t\t{\n\t\t\tsuper(template, pos);\n\t\t\tthis.key = key;\n\t\t\tthis.value = value;\n\t\t\tthis.varname = varname;\n\t\t\tthis.container = container;\n\t\t\tthis.condition = condition;\n\t\t}\n\n\t\t_repr(out)\n\t\t{\n\t\t\tout.push(\"<DictCompAST\");\n\t\t\tout.push(\" key=\");\n\t\t\tthis.key._repr(out);\n\t\t\tout.push(\" value=\");\n\t\t\tthis.value._repr(out);\n\t\t\tout.push(\" varname=\");\n\t\t\tthis.varname._repr(out);\n\t\t\tout.push(\" container=\");\n\t\t\tthis.container._repr(out);\n\t\t\tif (this.condition !== null)\n\t\t\t{\n\t\t\t\tout.push(\" condition=\");\n\t\t\t\tthis.condition._repr(out);\n\t\t\t}\n\t\t\tout.push(\">\");\n\t\t}\n\n\t\t_eval(context)\n\t\t{\n\t\t\tlet container = this.container._handle_eval(context);\n\n\t\t\tlet localcontext = context.inheritvars();\n\n\t\t\tlet result = ul4._emptymap();\n\n\t\t\tfor (let iter = ul4._iter(container);;)\n\t\t\t{\n\t\t\t\tlet item = iter.next();\n\t\t\t\tif (item.done)\n\t\t\t\t\tbreak;\n\t\t\t\tlet varitems = ul4._unpackvar(this.varname, item.value);\n\t\t\t\tfor (let i = 0; i < varitems.length; ++i)\n\t\t\t\t{\n\t\t\t\t\tlet [lvalue, value] = varitems[i];\n\t\t\t\t\tlvalue._handle_eval_set(localcontext, value);\n\t\t\t\t}\n\t\t\t\tif (this.condition === null || ul4._bool(this.condition._handle_eval(localcontext)))\n\t\t\t\t{\n\t\t\t\t\tlet key = this.key._handle_eval(localcontext);\n\t\t\t\t\tlet value = this.value._handle_eval(localcontext);\n\t\t\t\t\tul4._setmap(result, key, value);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn result;\n\t\t}\n\t};\n\n\tul4.DictCompAST.prototype._ul4onattrs = ul4.CodeAST.prototype._ul4onattrs.concat([\"key\", \"value\", \"varname\", \"container\", \"condition\"]);\n\n\tul4.GenExprAST = class GenExprAST extends ul4.CodeAST\n\t{\n\t\tconstructor(template, pos, item, varname, container, condition)\n\t\t{\n\t\t\tsuper(template, pos);\n\t\t\tthis.item = item;\n\t\t\tthis.varname = varname;\n\t\t\tthis.container = container;\n\t\t\tthis.condition = condition;\n\t\t}\n\n\t\t_repr(out)\n\t\t{\n\t\t\tout.push(\"<GenExprAST\");\n\t\t\tout.push(\" item=\");\n\t\t\tthis.item._repr(out);\n\t\t\tout.push(\" varname=\");\n\t\t\tthis.varname._repr(out);\n\t\t\tout.push(\" container=\");\n\t\t\tthis.container._repr(out);\n\t\t\tif (this.condition !== null)\n\t\t\t{\n\t\t\t\tout.push(\" condition=\");\n\t\t\t\tthis.condition._repr(out);\n\t\t\t}\n\t\t\tout.push(\">\");\n\t\t}\n\n\t\t_eval(context)\n\t\t{\n\t\t\tlet container = this.container._handle_eval(context);\n\t\t\tlet iter = ul4._iter(container);\n\n\t\t\tlet localcontext = context.inheritvars();\n\n\t\t\tlet self = this;\n\n\t\t\tlet result = {\n\t\t\t\tnext: function(){\n\t\t\t\t\twhile (true)\n\t\t\t\t\t{\n\t\t\t\t\t\tlet item = iter.next();\n\t\t\t\t\t\tif (item.done)\n\t\t\t\t\t\t\treturn item;\n\t\t\t\t\t\tlet varitems = ul4._unpackvar(self.varname, item.value);\n\t\t\t\t\t\tfor (let i = 0; i < varitems.length; ++i)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlet [lvalue, value] = varitems[i];\n\t\t\t\t\t\t\tlvalue._handle_eval_set(localcontext, value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (self.condition === null || ul4._bool(self.condition._handle_eval(localcontext)))\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlet value = self.item._handle_eval(localcontext);\n\t\t\t\t\t\t\treturn {value: value, done: false};\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\n\t\t\treturn result;\n\t\t}\n\t};\n\n\tul4.GenExprAST.prototype._ul4onattrs = ul4.CodeAST.prototype._ul4onattrs.concat([\"item\", \"varname\", \"container\", \"condition\"]);\n\n\tul4.VarAST = class VarAST extends ul4.CodeAST\n\t{\n\t\tconstructor(template, pos, name)\n\t\t{\n\t\t\tsuper(template, pos);\n\t\t\tthis.name = name;\n\t\t}\n\n\t\t_repr(out)\n\t\t{\n\t\t\tout.push(\"<VarAST name=\");\n\t\t\tout.push(ul4._repr(this.name));\n\t\t\tout.push(\">\");\n\t\t}\n\n\t\t_eval(context)\n\t\t{\n\t\t\treturn this._get(context, this.name);\n\t\t}\n\n\t\t_eval_set(context, value)\n\t\t{\n\t\t\tthis._set(context, this.name, value);\n\t\t}\n\n\t\t_eval_modify(context, operator, value)\n\t\t{\n\t\t\tthis._modify(context, operator, this.name, value);\n\t\t}\n\n\t\t_get(context, name)\n\t\t{\n\t\t\tlet result = context.get(name);\n\t\t\tif (typeof(result) === \"undefined\")\n\t\t\t\tresult = ul4.functions[name];\n\t\t\treturn result;\n\t\t}\n\n\t\t_set(context, name, value)\n\t\t{\n\t\t\tcontext.set(name, value);\n\t\t}\n\n\t\t_modify(context, operator, name, value)\n\t\t{\n\t\t\tlet newvalue = operator._ido(context.get(name), value);\n\t\t\tcontext.set(name, newvalue);\n\t\t}\n\t};\n\n\tul4.VarAST.prototype._ul4onattrs = ul4.CodeAST.prototype._ul4onattrs.concat([\"name\"]);\n\n\tul4.UnaryAST = class UnaryAST extends ul4.CodeAST\n\t{\n\t\tconstructor(template, pos, obj)\n\t\t{\n\t\t\tsuper(template, pos);\n\t\t\tthis.obj = obj;\n\t\t}\n\n\t\t_repr(out)\n\t\t{\n\t\t\tout.push(\"<\");\n\t\t\tout.push(this.constructor.name);\n\t\t\tout.push(\" obj=\");\n\t\t\tthis.obj._repr(out);\n\t\t\tout.push(\">\");\n\t\t}\n\n\t\t_eval(context)\n\t\t{\n\t\t\tlet obj = this.obj._handle_eval(context);\n\t\t\treturn this._do(obj);\n\t\t}\n\t};\n\n\tul4.UnaryAST.prototype._ul4onattrs = ul4.CodeAST.prototype._ul4onattrs.concat([\"obj\"]);\n\n\t// Negation\n\tul4.NegAST = class NegAST extends ul4.UnaryAST\n\t{\n\t\t_do(obj)\n\t\t{\n\t\t\tif (obj !== null && typeof(obj.__neg__) === \"function\")\n\t\t\t\treturn obj.__neg__();\n\t\t\treturn -obj;\n\t\t}\n\t};\n\n\t// Bitwise not\n\tul4.BitNotAST = class BitNotAST extends ul4.UnaryAST\n\t{\n\t\t_do(obj)\n\t\t{\n\t\t\treturn -obj-1;\n\t\t}\n\t};\n\n\t// Not\n\tul4.NotAST = class NotAST extends ul4.UnaryAST\n\t{\n\t\t_do(obj)\n\t\t{\n\t\t\treturn !ul4._bool(obj);\n\t\t}\n\t};\n\n\t// If expression\n\tul4.IfAST = class IfAST extends ul4.CodeAST\n\t{\n\t\tconstructor(template, pos, objif, objcond, objelse)\n\t\t{\n\t\t\tsuper(template, pos);\n\t\t\tthis.objif = objif;\n\t\t\tthis.objcond = objcond;\n\t\t\tthis.objelse = objelse;\n\t\t}\n\n\t\t_repr(out)\n\t\t{\n\t\t\tout.push(\"<\");\n\t\t\tout.push(this.constructor.name);\n\t\t\tout.push(+1);\n\t\t\tout.push(\"objif=\");\n\t\t\tthis.objif._repr(out);\n\t\t\tout.push(0);\n\t\t\tout.push(\"objcond=\");\n\t\t\tthis.objcond._repr(out);\n\t\t\tout.push(0);\n\t\t\tout.push(\"objelse=\");\n\t\t\tthis.objelse._repr(out);\n\t\t\tout.push(-1);\n\t\t\tout.push(\">\");\n\t\t}\n\n\t\t_eval(context)\n\t\t{\n\t\t\tlet result;\n\t\t\tlet condvalue = this.objcond._handle_eval(context);\n\t\t\tif (ul4._bool(condvalue))\n\t\t\t\tresult = this.objif._handle_eval(context);\n\t\t\telse\n\t\t\t\tresult = this.objelse._handle_eval(context);\n\t\t\treturn result;\n\t\t}\n\t};\n\n\tul4.IfAST.prototype._ul4onattrs = ul4.CodeAST.prototype._ul4onattrs.concat([\"objif\", \"objcond\", \"objelse\"]);\n\n\tul4.ReturnAST = class ReturnAST extends ul4.UnaryAST\n\t{\n\t\t_eval(context)\n\t\t{\n\t\t\tlet result = this.obj._handle_eval(context);\n\t\t\tthrow new ul4.ReturnException(result);\n\t\t}\n\n\t\t_str(out)\n\t\t{\n\t\t\tout.push(\"return \");\n\t\t\tthis.obj._str(out);\n\t\t}\n\t};\n\n\tul4.PrintAST = class PrintAST extends ul4.UnaryAST\n\t{\n\t\t_eval(context)\n\t\t{\n\t\t\tlet obj = this.obj._handle_eval(context);\n\t\t\tlet output = ul4._str(obj);\n\t\t\tcontext.output(output);\n\t\t}\n\n\t\t_str(out)\n\t\t{\n\t\t\tout.push(\"print \");\n\t\t\tthis.obj._str(out);\n\t\t}\n\t};\n\n\tul4.PrintXAST = class PrintXAST extends ul4.UnaryAST\n\t{\n\t\t_eval(context)\n\t\t{\n\t\t\tlet obj = this.obj._handle_eval(context);\n\t\t\tlet output = ul4._xmlescape(obj);\n\t\t\tcontext.output(output);\n\t\t}\n\n\t\t_str(out)\n\t\t{\n\t\t\tout.push(\"printx \");\n\t\t\tthis.obj._str(out);\n\t\t}\n\t};\n\n\tul4.BinaryAST = class BinaryAST extends ul4.CodeAST\n\t{\n\t\tconstructor(template, pos, obj1, obj2)\n\t\t{\n\t\t\tsuper(template, pos);\n\t\t\tthis.obj1 = obj1;\n\t\t\tthis.obj2 = obj2;\n\t\t}\n\n\t\t_repr(out)\n\t\t{\n\t\t\tout.push(\"<\");\n\t\t\tout.push(this.constructor.name);\n\t\t\tout.push(\" obj1=\");\n\t\t\tthis.obj1._repr(out);\n\t\t\tout.push(\" obj2=\");\n\t\t\tthis.obj2._repr(out);\n\t\t\tout.push(\">\");\n\t\t}\n\n\t\t_eval(context)\n\t\t{\n\t\t\tlet obj1 = this.obj1._handle_eval(context);\n\t\t\tlet obj2 = this.obj2._handle_eval(context);\n\t\t\treturn this._do(obj1, obj2);\n\t\t}\n\t};\n\n\tul4.BinaryAST.prototype._ul4onattrs = ul4.CodeAST.prototype._ul4onattrs.concat([\"obj1\", \"obj2\"]);\n\n\t// Item access and assignment: dict[key], list[index], string[index], color[index]\n\tul4.ItemAST = class ItemAST extends ul4.BinaryAST\n\t{\n\t\t_do(obj1, obj2)\n\t\t{\n\t\t\tlet result = this._get(obj1, obj2);\n\t\t\treturn result;\n\t\t}\n\n\t\t_eval_set(context, value)\n\t\t{\n\t\t\tlet obj1 = this.obj1._handle_eval(context);\n\t\t\tlet obj2 = this.obj2._handle_eval(context);\n\t\t\tthis._set(obj1, obj2, value);\n\t\t}\n\n\t\t_eval_modify(context, operator, value)\n\t\t{\n\t\t\tlet obj1 = this.obj1._handle_eval(context);\n\t\t\tlet obj2 = this.obj2._handle_eval(context);\n\t\t\tthis._modify(operator, obj1, obj2, value);\n\t\t}\n\n\t\t_get(container, key)\n\t\t{\n\t\t\tif (typeof(container) === \"string\" || ul4._islist(container))\n\t\t\t{\n\t\t\t\tif (key instanceof ul4.slice)\n\t\t\t\t{\n\t\t\t\t\tlet start = key.start, stop = key.stop;\n\t\t\t\t\tif (typeof(start) === \"undefined\" || start === null)\n\t\t\t\t\t\tstart = 0;\n\t\t\t\t\tif (typeof(stop) === \"undefined\" || stop === null)\n\t\t\t\t\t\tstop = container.length;\n\t\t\t\t\treturn container.slice(start, stop);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tlet orgkey = key;\n\t\t\t\t\tif (key < 0)\n\t\t\t\t\t\tkey += container.length;\n\t\t\t\t\tif (key < 0 || key >= container.length)\n\t\t\t\t\t\tthrow new ul4.IndexError(container, orgkey);\n\t\t\t\t\treturn container[key];\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (container && typeof(container.__getitem__) === \"function\") // objects without ``_getitem__`` don't support item access\n\t\t\t\treturn container.__getitem__(key);\n\t\t\telse if (ul4._ismap(container))\n\t\t\t\treturn container.get(key);\n\t\t\telse\n\t\t\t\tthrow new ul4.TypeError(ul4._type(container) + \" object is not subscriptable\");\n\t\t}\n\n\t\t_set(container, key, value)\n\t\t{\n\t\t\tif (ul4._islist(container))\n\t\t\t{\n\t\t\t\tif (key instanceof ul4.slice)\n\t\t\t\t{\n\t\t\t\t\tlet start = key.start, stop = key.stop;\n\t\t\t\t\tif (start === null)\n\t\t\t\t\t\tstart = 0;\n\t\t\t\t\telse if (start < 0)\n\t\t\t\t\t\tstart += container.length;\n\t\t\t\t\tif (start < 0)\n\t\t\t\t\t\tstart = 0;\n\t\t\t\t\telse if (start > container.length)\n\t\t\t\t\t\tstart = container.length;\n\t\t\t\t\tif (stop === null)\n\t\t\t\t\t\tstop = container.length;\n\t\t\t\t\telse if (stop < 0)\n\t\t\t\t\t\tstop += container.length;\n\t\t\t\t\tif (stop < 0)\n\t\t\t\t\t\tstop = 0;\n\t\t\t\t\telse if (stop > container.length)\n\t\t\t\t\t\tstop = container.length;\n\t\t\t\t\tif (stop < start)\n\t\t\t\t\t\tstop = start;\n\t\t\t\t\tcontainer.splice(start, stop-start); // Remove old element\n\t\t\t\t\tfor (let iter = ul4._iter(value);;)\n\t\t\t\t\t{\n\t\t\t\t\t\tlet item = iter.next();\n\t\t\t\t\t\tif (item.done)\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcontainer.splice(start++, 0, item.value);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tlet orgkey = key;\n\t\t\t\t\tif (key < 0)\n\t\t\t\t\t\tkey += container.length;\n\t\t\t\t\tif (key < 0 || key >= container.length)\n\t\t\t\t\t\tthrow new ul4.IndexError(container, orgkey);\n\t\t\t\t\tcontainer[key] = value;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (container && typeof(container.__setitem__) === \"function\") // test this before the generic object test\n\t\t\t\tcontainer.__setitem__(key, value);\n\t\t\telse if (ul4._ismap(container))\n\t\t\t\tcontainer.set(key, value);\n\t\t\telse if (ul4._isobject(container))\n\t\t\t\tcontainer[key] = value;\n\t\t\telse\n\t\t\t\tthrow new ul4.NotSubscriptableError(container);\n\t\t}\n\n\t\t_modify(operator, container, key, value)\n\t\t{\n\t\t\tthis._set(container, key, operator._ido(this._get(container, key), value));\n\t\t}\n\t};\n\n\t// Identifty test operator ``is``\n\tul4.IsAST = class IsAST extends ul4.BinaryAST\n\t{\n\t\t_do(obj1, obj2)\n\t\t{\n\t\t\treturn obj1 === obj2;\n\t\t}\n\t};\n\n\t// Inverted identity test operator ``is not``\n\tul4.IsNotAST = class IsNotAST extends ul4.BinaryAST\n\t{\n\t\t_do(obj1, obj2)\n\t\t{\n\t\t\treturn obj1 !== obj2;\n\t\t}\n\t};\n\n\t// Comparison operator ==\n\tul4.EQAST = class EQAST extends ul4.BinaryAST\n\t{\n\t\t_do(obj1, obj2)\n\t\t{\n\t\t\treturn ul4._eq(obj1, obj2);\n\t\t}\n\t};\n\n\t// Comparison operator !=\n\tul4.NEAST = class NEAST extends ul4.BinaryAST\n\t{\n\t\t_do(obj1, obj2)\n\t\t{\n\t\t\treturn ul4._ne(obj1, obj2);\n\t\t}\n\t};\n\n\t// Comparison operator <\n\tul4.LTAST = class LTAST extends ul4.BinaryAST\n\t{\n\t\t_do(obj1, obj2)\n\t\t{\n\t\t\treturn ul4._lt(obj1, obj2);\n\t\t}\n\t};\n\n\t// Comparison operator <=\n\tul4.LEAST = class LEAST extends ul4.BinaryAST\n\t{\n\t\t_do(obj1, obj2)\n\t\t{\n\t\t\treturn ul4._le(obj1, obj2);\n\t\t}\n\t};\n\n\t// Comparison operator >\n\tul4.GTAST = class GTAST extends ul4.BinaryAST\n\t{\n\t\t_do(obj1, obj2)\n\t\t{\n\t\t\treturn ul4._gt(obj1, obj2);\n\t\t}\n\t};\n\n\t// Comparison operator >=\n\tul4.GEAST = class GEAST extends ul4.BinaryAST\n\t{\n\t\t_do(obj1, obj2)\n\t\t{\n\t\t\treturn ul4._ge(obj1, obj2);\n\t\t}\n\t};\n\n\t// Containment test: string in string, obj in list, key in dict, value in rgb\n\tul4.ContainsAST = class ContainsAST extends ul4.BinaryAST\n\t{\n\t\t_do(obj, container)\n\t\t{\n\t\t\tif (typeof(obj) === \"string\" && typeof(container) === \"string\")\n\t\t\t{\n\t\t\t\treturn container.indexOf(obj) !== -1;\n\t\t\t}\n\t\t\telse if (ul4._islist(container))\n\t\t\t{\n\t\t\t\treturn container.indexOf(obj) !== -1;\n\t\t\t}\n\t\t\telse if (container && typeof(container.__contains__) === \"function\") // test this before the generic object test\n\t\t\t\treturn container.__contains__(obj);\n\t\t\telse if (ul4._ismap(container) || ul4._isset(container))\n\t\t\t\treturn container.has(obj);\n\t\t\telse if (ul4._isobject(container))\n\t\t\t{\n\t\t\t\tfor (let key in container)\n\t\t\t\t{\n\t\t\t\t\tif (key === obj)\n\t\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\telse if (ul4._iscolor(container))\n\t\t\t{\n\t\t\t\treturn container._r === obj || container._g === obj || container._b === obj || container._a === obj;\n\t\t\t}\n\t\t\tthrow new ul4.TypeError(ul4._type(container) + \" object is not iterable\");\n\t\t}\n\t};\n\n\t// Inverted containment test\n\tul4.NotContainsAST = class NotContainsAST extends ul4.BinaryAST\n\t{\n\t\t_do(obj, container)\n\t\t{\n\t\t\treturn !ul4.ContainsAST.prototype._do(obj, container);\n\t\t}\n\t};\n\n\t// Addition: num + num, string + string\n\tul4.AddAST = class AddAST extends ul4.BinaryAST\n\t{\n\t\t_do(obj1, obj2)\n\t\t{\n\t\t\tif (obj1 && typeof(obj1.__add__) === \"function\")\n\t\t\t\treturn obj1.__add__(obj2);\n\t\t\telse if (obj2 && typeof(obj2.__radd__) === \"function\")\n\t\t\t\treturn obj2.__radd__(obj1);\n\t\t\tif (obj1 === null || obj2 === null)\n\t\t\t\tthrow new ul4.TypeError(ul4._type(this.obj1) + \" + \" + ul4._type(this.obj2) + \" is not supported\");\n\t\t\tif (ul4._islist(obj1) && ul4._islist(obj2))\n\t\t\t\treturn [...obj1, ...obj2];\n\t\t\telse\n\t\t\t\treturn obj1 + obj2;\n\t\t}\n\n\t\t_ido(obj1, obj2)\n\t\t{\n\t\t\tif (ul4._islist(obj1) && ul4._islist(obj2))\n\t\t\t{\n\t\t\t\tul4.ListProtocol.append(obj1, obj2);\n\t\t\t\treturn obj1;\n\t\t\t}\n\t\t\telse\n\t\t\t\treturn this._do(obj1, obj2);\n\t\t}\n\t};\n\n\t// Substraction: num - num\n\tul4.SubAST = class SubAST extends ul4.BinaryAST\n\t{\n\t\t_do(obj1, obj2)\n\t\t{\n\t\t\tif (obj1 && typeof(obj1.__sub__) === \"function\")\n\t\t\t\treturn obj1.__sub__(obj2);\n\t\t\telse if (obj2 && typeof(obj2.__rsub__) === \"function\")\n\t\t\t\treturn obj2.__rsub__(obj1);\n\t\t\telse if (ul4._isdate(obj1) && ul4._isdate(obj2))\n\t\t\t\treturn this._date_sub(obj1, obj2);\n\t\t\telse if (ul4._isdatetime(obj1) && ul4._isdatetime(obj2))\n\t\t\t\treturn this._datetime_sub(obj1, obj2);\n\t\t\tif (obj1 === null || obj2 === null)\n\t\t\t\tthrow new ul4.TypeError(ul4._type(this.obj1) + \" - \" + ul4._type(this.obj2) + \" is not supported\");\n\t\t\treturn obj1 - obj2;\n\t\t}\n\n\t\t_date_sub(obj1, obj2)\n\t\t{\n\t\t\treturn this._datetime_sub(obj1._date, obj2._date);\n\t\t}\n\n\t\t_datetime_sub(obj1, obj2)\n\t\t{\n\t\t\tlet swap = (obj2 > obj1);\n\n\t\t\tif (swap)\n\t\t\t{\n\t\t\t\tlet t = obj1;\n\t\t\t\tobj1 = obj2;\n\t\t\t\tobj2 = t;\n\t\t\t}\n\t\t\t// From now on obj1 is > than obj2\n\n\t\t\tlet year1 = obj1.getFullYear();\n\t\t\tlet yearday1 = ul4.DateTimeProtocol.yearday(obj1);\n\t\t\tlet year2 = obj2.getFullYear();\n\t\t\tlet yearday2 = ul4.DateTimeProtocol.yearday(obj2);\n\n\t\t\tlet diffdays = 0;\n\n\t\t\twhile (year1 > year2)\n\t\t\t{\n\t\t\t\tdiffdays += ul4.DateProtocol.yearday(ul4._date(year2, 12, 31));\n\t\t\t\t++year2;\n\t\t\t}\n\t\t\tdiffdays += yearday1 - yearday2;\n\n\t\t\tlet hours1 = obj1.getHours();\n\t\t\tlet minutes1 = obj1.getMinutes();\n\t\t\tlet seconds1 = obj1.getSeconds();\n\t\t\tlet hours2 = obj2.getHours();\n\t\t\tlet minutes2 = obj2.getMinutes();\n\t\t\tlet seconds2 = obj2.getSeconds();\n\n\t\t\tlet diffseconds = (seconds1 - seconds2) + 60 * ((minutes1 - minutes2) + 60 * (hours1 - hours2));\n\n\t\t\tlet diffmilliseconds = obj1.getMilliseconds() - obj2.getMilliseconds();\n\n\t\t\tif (swap)\n\t\t\t{\n\t\t\t\tdiffdays = -diffdays;\n\t\t\t\tdiffseconds = -diffseconds;\n\t\t\t\tdiffmilliseconds = -diffmilliseconds;\n\t\t\t}\n\t\t\treturn new ul4.TimeDelta(diffdays, diffseconds, 1000*diffmilliseconds);\n\t\t}\n\n\t\t_ido(obj1, obj2)\n\t\t{\n\t\t\treturn this._do(obj1, obj2);\n\t\t}\n\t};\n\n\n\t// Multiplication: num * num, int * str, str * int, int * list, list * int\n\tul4.MulAST = class MulAST extends ul4.BinaryAST\n\t{\n\t\t_do(obj1, obj2)\n\t\t{\n\t\t\tif (obj1 && typeof(obj1.__mul__) === \"function\")\n\t\t\t\treturn obj1.__mul__(obj2);\n\t\t\telse if (obj2 && typeof(obj2.__rmul__) === \"function\")\n\t\t\t\treturn obj2.__rmul__(obj1);\n\t\t\tif (obj1 === null || obj2 === null)\n\t\t\t\tthrow new ul4.TypeError(ul4._type(obj1) + \" * \" + ul4._type(obj2) + \" not supported\");\n\t\t\telse if (ul4._isint(obj1) || ul4._isbool(obj1))\n\t\t\t{\n\t\t\t\tif (typeof(obj2) === \"string\")\n\t\t\t\t{\n\t\t\t\t\tif (obj1 < 0)\n\t\t\t\t\t\tthrow new ul4.ValueError(\"repetition counter must be positive\");\n\t\t\t\t\treturn ul4._str_repeat(obj2, obj1);\n\t\t\t\t}\n\t\t\t\telse if (ul4._islist(obj2))\n\t\t\t\t{\n\t\t\t\t\tif (obj1 < 0)\n\t\t\t\t\t\tthrow new ul4.ValueError(\"repetition counter must be positive\");\n\t\t\t\t\treturn ul4._list_repeat(obj2, obj1);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (ul4._isint(obj2) || ul4._isbool(obj2))\n\t\t\t{\n\t\t\t\tif (typeof(obj1) === \"string\")\n\t\t\t\t{\n\t\t\t\t\tif (obj2 < 0)\n\t\t\t\t\t\tthrow new ul4.ValueError(\"repetition counter must be positive\");\n\t\t\t\t\treturn ul4._str_repeat(obj1, obj2);\n\t\t\t\t}\n\t\t\t\telse if (ul4._islist(obj1))\n\t\t\t\t{\n\t\t\t\t\tif (obj2 < 0)\n\t\t\t\t\t\tthrow new ul4.ValueError(\"repetition counter must be positive\");\n\t\t\t\t\treturn ul4._list_repeat(obj1, obj2);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn obj1 * obj2;\n\t\t}\n\n\t\t_ido(obj1, obj2)\n\t\t{\n\t\t\tif (ul4._islist(obj1) && ul4._isint(obj2))\n\t\t\t{\n\t\t\t\tif (obj2 > 0)\n\t\t\t\t{\n\t\t\t\t\tlet i = 0;\n\t\t\t\t\tlet targetsize = obj1.length * obj2;\n\t\t\t\t\twhile (obj1.length < targetsize)\n\t\t\t\t\t\tobj1.push(obj1[i++]);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t\tobj1.splice(0, obj1.length);\n\t\t\t\treturn obj1;\n\t\t\t}\n\t\t\telse\n\t\t\t\treturn this._do(obj1, obj2);\n\t\t}\n\t};\n\n\t// Truncating division\n\tul4.FloorDivAST = class FloorDivAST extends ul4.BinaryAST\n\t{\n\t\t_do(obj1, obj2)\n\t\t{\n\t\t\tif (obj1 && typeof(obj1.__floordiv__) === \"function\")\n\t\t\t\treturn obj1.__floordiv__(obj2);\n\t\t\telse if (obj2 && typeof(obj2.__rfloordiv__) === \"function\")\n\t\t\t\treturn obj2.__rfloordiv__(obj1);\n\t\t\tif (obj1 === null || obj2 === null)\n\t\t\t\tthrow new ul4.TypeError(ul4._type(obj1) + \" // \" + ul4._type(obj2) + \" not supported\");\n\t\t\telse if (typeof(obj1) === \"number\" && typeof(obj2) === \"number\" && obj2 === 0)\n\t\t\t\tthrow new ul4.ZeroDivisionError();\n\t\t\treturn Math.floor(obj1 / obj2);\n\t\t}\n\n\t\t_ido(obj1, obj2)\n\t\t{\n\t\t\treturn this._do(obj1, obj2);\n\t\t}\n\t};\n\n\t// \"Real\" division\n\tul4.TrueDivAST = class TrueDivAST extends ul4.BinaryAST\n\t{\n\t\t_do(obj1, obj2)\n\t\t{\n\t\t\tif (obj1 && typeof(obj1.__truediv__) === \"function\")\n\t\t\t\treturn obj1.__truediv__(obj2);\n\t\t\telse if (obj2 && typeof(obj2.__rtruediv__) === \"function\")\n\t\t\t\treturn obj2.__rtruediv__(obj1);\n\t\t\tif (obj1 === null || obj2 === null)\n\t\t\t\tthrow new ul4.TypeError(ul4._type(obj1) + \" / \" + ul4._type(obj2) + \" not supported\");\n\t\t\telse if (typeof(obj1) === \"number\" && typeof(obj2) === \"number\" && obj2 === 0)\n\t\t\t\tthrow new ul4.ZeroDivisionError();\n\t\t\treturn obj1 / obj2;\n\t\t}\n\n\t\t_ido(obj1, obj2)\n\t\t{\n\t\t\treturn this._do(obj1, obj2);\n\t\t}\n\t};\n\n\t// Modulo\n\tul4.ModAST = class ModAST extends ul4.BinaryAST\n\t{\n\t\t_do(obj1, obj2)\n\t\t{\n\t\t\treturn ul4._mod(obj1, obj2);\n\t\t}\n\n\t\t_ido(obj1, obj2)\n\t\t{\n\t\t\treturn this._do(obj1, obj2);\n\t\t}\n\t};\n\n\t// Bitwise left shift\n\tul4.ShiftLeftAST = class ShiftLeftAST extends ul4.BinaryAST\n\t{\n\t\t_do(obj1, obj2)\n\t\t{\n\t\t\tif (obj2 === false)\n\t\t\t\tobj2 = 0;\n\t\t\telse if (obj2 === true)\n\t\t\t\tobj2 = 1;\n\t\t\tif (obj2 < 0)\n\t\t\t\treturn ul4.ShiftRightAST.prototype._do(obj1, -obj2);\n\t\t\tif (obj1 === false)\n\t\t\t\tobj1 = 0;\n\t\t\telse if (obj1 === true)\n\t\t\t\tobj1 = 1;\n\t\t\twhile (obj2--)\n\t\t\t\tobj1 *= 2;\n\t\t\treturn obj1;\n\t\t}\n\n\t\t_ido(obj1, obj2)\n\t\t{\n\t\t\treturn this._do(obj1, obj2);\n\t\t}\n\t};\n\n\t// Bitwise right shift\n\tul4.ShiftRightAST = class ShiftRightAST extends ul4.BinaryAST\n\t{\n\t\t_do(obj1, obj2)\n\t\t{\n\t\t\tif (obj2 === false)\n\t\t\t\tobj2 = 0;\n\t\t\telse if (obj2 === true)\n\t\t\t\tobj2 = 1;\n\t\t\tif (obj2 < 0)\n\t\t\t\treturn ul4.ShiftLeftAST.prototype._do(obj1, -obj2);\n\t\t\tif (obj1 === false)\n\t\t\t\tobj1 = 0;\n\t\t\telse if (obj1 === true)\n\t\t\t\tobj1 = 1;\n\t\t\twhile (obj2--)\n\t\t\t\tobj1 /= 2;\n\t\t\treturn Math.floor(obj1);\n\t\t}\n\n\t\t_ido(obj1, obj2)\n\t\t{\n\t\t\treturn this._do(obj1, obj2);\n\t\t}\n\t};\n\n\t// Bitwise and\n\tul4.BitAndAST = class BitAndAST extends ul4.BinaryAST\n\t{\n\t\t_do(obj1, obj2)\n\t\t{\n\t\t\tif (obj2 === false)\n\t\t\t\tobj2 = 0;\n\t\t\telse if (obj2 === true)\n\t\t\t\tobj2 = 1;\n\t\t\treturn obj1 & obj2;\n\t\t}\n\n\t\t_ido(obj1, obj2)\n\t\t{\n\t\t\treturn this._do(obj1, obj2);\n\t\t}\n\t};\n\n\t// Bitwise exclusive or\n\tul4.BitXOrAST = class BitXOrAST extends ul4.BinaryAST\n\t{\n\t\t_do(obj1, obj2)\n\t\t{\n\t\t\tif (obj2 === false)\n\t\t\t\tobj2 = 0;\n\t\t\telse if (obj2 === true)\n\t\t\t\tobj2 = 1;\n\t\t\treturn obj1 ^ obj2;\n\t\t}\n\n\t\t_ido(obj1, obj2)\n\t\t{\n\t\t\treturn this._do(obj1, obj2);\n\t\t}\n\t};\n\n\t// Bitwise or\n\tul4.BitOrAST = class BitOrAST extends ul4.BinaryAST\n\t{\n\t\t_do(obj1, obj2)\n\t\t{\n\t\t\tif (obj2 === false)\n\t\t\t\tobj2 = 0;\n\t\t\telse if (obj2 === true)\n\t\t\t\tobj2 = 1;\n\t\t\treturn obj1 | obj2;\n\t\t}\n\n\t\t_ido(obj1, obj2)\n\t\t{\n\t\t\treturn this._do(obj1, obj2);\n\t\t}\n\t};\n\n\tul4.AndAST = class AndAST extends ul4.BinaryAST\n\t{\n\t\t_eval(context)\n\t\t{\n\t\t\tlet obj1 = this.obj1._handle_eval(context);\n\t\t\tif (!ul4._bool(obj1))\n\t\t\t\treturn obj1;\n\t\t\tlet obj2 = this.obj2._handle_eval(context);\n\t\t\treturn obj2;\n\t\t}\n\t};\n\n\tul4.OrAST = class OrAST extends ul4.BinaryAST\n\t{\n\t\t_eval(context)\n\t\t{\n\t\t\tlet obj1 = this.obj1._handle_eval(context);\n\t\t\tif (ul4._bool(obj1))\n\t\t\t\treturn obj1;\n\t\t\tlet obj2 = this.obj2._handle_eval(context);\n\t\t\treturn obj2;\n\t\t}\n\t};\n\n\tul4.AttrAST = class AttrAST extends ul4.CodeAST\n\t{\n\t\tconstructor(template, pos, obj, attrname)\n\t\t{\n\t\t\tsuper(template, pos);\n\t\t\tthis.obj = obj;\n\t\t\tthis.attrname = attrname;\n\t\t}\n\n\t\t_repr(out)\n\t\t{\n\t\t\tout.push(\"<AttrAST\");\n\t\t\tout.push(\" obj=\");\n\t\t\tthis.obj._repr(out);\n\t\t\tout.push(\" attrname=\");\n\t\t\tout.push(ul4._repr(this.attrname));\n\t\t\tout.push(\">\");\n\t\t}\n\n\t\t_eval(context)\n\t\t{\n\t\t\tlet obj = this.obj._handle_eval(context);\n\t\t\tlet result = this._get(obj, this.attrname);\n\t\t\treturn result;\n\t\t}\n\n\t\t_eval_set(context, value)\n\t\t{\n\t\t\tlet obj = this.obj._handle_eval(context);\n\t\t\tthis._set(obj, this.attrname, value);\n\t\t}\n\n\t\t_eval_modify(context, operator, value)\n\t\t{\n\t\t\tlet obj = this.obj._handle_eval(context);\n\t\t\tthis._modify(operator, obj, this.attrname, value);\n\t\t}\n\n\t\t_get(object, attrname)\n\t\t{\n\t\t\tlet proto = ul4.Protocol.get(object);\n\t\t\ttry\n\t\t\t{\n\t\t\t\treturn proto.getattr(object, attrname);\n\t\t\t}\n\t\t\tcatch (exc)\n\t\t\t{\n\t\t\t\tif (exc instanceof ul4.AttributeError && exc.obj === object)\n\t\t\t\t\treturn undefined;\n\t\t\t\telse\n\t\t\t\t\tthrow exc;\n\t\t\t}\n\t\t}\n\n\t\t_set(object, attrname, value)\n\t\t{\n\t\t\tif (typeof(object) === \"object\" && typeof(object.__setattr__) === \"function\")\n\t\t\t\tobject.__setattr__(attrname, value);\n\t\t\telse if (ul4._ismap(object))\n\t\t\t\tobject.set(attrname, value);\n\t\t\telse if (ul4._isobject(object))\n\t\t\t\tobject[attrname] = value;\n\t\t\telse\n\t\t\t\tthrow new ul4.TypeError(ul4._type(object) + \" object has no writable attributes\");\n\t\t}\n\n\t\t_modify(operator, object, attrname, value)\n\t\t{\n\t\t\tlet oldvalue = this._get(object, attrname);\n\t\t\tlet newvalue = operator._ido(oldvalue, value);\n\t\t\tthis._set(object, attrname, newvalue);\n\t\t}\n\t};\n\n\tul4.AttrAST.prototype._ul4onattrs = ul4.CodeAST.prototype._ul4onattrs.concat([\"obj\", \"attrname\"]);\n\n\tul4.CallAST = class CallAST extends ul4.CodeAST\n\t{\n\t\tconstructor(template, pos, obj, args)\n\t\t{\n\t\t\tsuper(template, pos);\n\t\t\tthis.obj = obj;\n\t\t\tthis.args = args;\n\t\t}\n\n\t\t_repr(out)\n\t\t{\n\t\t\tout.push(\"<CallAST\");\n\t\t\tout.push(\" obj=\");\n\t\t\tthis.obj._repr(out);\n\t\t\tfor (let i = 0; i < this.args.length; ++i)\n\t\t\t{\n\t\t\t\tlet arg = this.args[i];\n\t\t\t\tout.push(\" \");\n\t\t\t\targ._repr(out);\n\t\t\t}\n\t\t\tout.push(\">\");\n\t\t}\n\n\t\t_makeargs(context)\n\t\t{\n\t\t\tlet args = [], kwargs = {};\n\t\t\tfor (let i = 0; i < this.args.length; ++i)\n\t\t\t{\n\t\t\t\tlet arg = this.args[i];\n\t\t\t\targ._handle_eval_call(context, args, kwargs);\n\t\t\t}\n\t\t\treturn {args: args, kwargs: kwargs};\n\t\t}\n\n\t\t_handle_eval(context)\n\t\t{\n\t\t\ttry\n\t\t\t{\n\t\t\t\treturn this._eval(context);\n\t\t\t}\n\t\t\tcatch (exc)\n\t\t\t{\n\t\t\t\tthis._decorate_exception(exc);\n\t\t\t\tthrow exc;\n\t\t\t}\n\t\t}\n\n\t\t_eval(context)\n\t\t{\n\t\t\tlet obj = this.obj._handle_eval(context);\n\t\t\tlet args = this._makeargs(context);\n\t\t\tlet result = ul4._call(context, obj, args.args, args.kwargs);\n\t\t\treturn result;\n\t\t}\n\t};\n\n\tul4.CallAST.prototype._ul4onattrs = ul4.CodeAST.prototype._ul4onattrs.concat([\"obj\", \"args\"]);\n\n\tul4.RenderAST = class RenderAST extends ul4.CallAST\n\t{\n\t\tconstructor(template, pos, obj, args)\n\t\t{\n\t\t\tsuper(template, pos, obj, args);\n\t\t\tthis.indent = null;\n\t\t}\n\n\t\t_repr(out)\n\t\t{\n\t\t\tout.push(\"<\");\n\t\t\tout.push(this._reprname);\n\t\t\tout.push(\"<RenderAST\");\n\t\t\tout.push(\" indent=\");\n\t\t\tout.push(ul4._repr(this.indent));\n\t\t\tout.push(\" obj=\");\n\t\t\tthis.obj._repr(out);\n\t\t\tout.push(0);\n\t\t\tfor (let i = 0; i < this.args.length; ++i)\n\t\t\t{\n\t\t\t\tlet arg = this.args[i];\n\t\t\t\tout.push(\" \");\n\t\t\t\targ._repr(out);\n\t\t\t\tout.push(0);\n\t\t\t}\n\t\t\tout.push(-1);\n\t\t\tout.push(\">\");\n\t\t}\n\n\t\t_str(out)\n\t\t{\n\t\t\tout.push(\"render \");\n\t\t\tout.push(this.tag.code.replace(/\\r?\\n/g, ' '));\n\t\t\tif (this.indent !== null)\n\t\t\t{\n\t\t\t\tout.push(\" with indent \");\n\t\t\t\tout.push(ul4._repr(this.indent.text));\n\t\t\t}\n\t\t}\n\n\t\t_handle_eval(context)\n\t\t{\n\t\t\tlet localcontext = context.withindent(this.indent !== null ? this.indent.text : null);\n\t\t\tlet obj = this.obj._handle_eval(localcontext);\n\t\t\tlet args = this._makeargs(localcontext);\n\t\t\tthis._handle_additional_arguments(localcontext, args);\n\n\t\t\ttry\n\t\t\t{\n\t\t\t\tlet result = ul4._callrender(localcontext, obj, args.args, args.kwargs);\n\t\t\t\treturn result;\n\t\t\t}\n\t\t\tcatch (exc)\n\t\t\t{\n\t\t\t\tthis._decorate_exception(exc);\n\t\t\t\tthrow exc;\n\t\t\t}\n\t\t}\n\n\t\t_handle_additional_arguments(context, args)\n\t\t{\n\t\t}\n\t};\n\n\tul4.RenderAST.prototype._ul4onattrs = ul4.CallAST.prototype._ul4onattrs.concat([\"indent\"]);\n\tul4.RenderAST.prototype._reprname = \"RenderAST\";\n\n\tul4.RenderXAST = class RenderXAST extends ul4.RenderAST\n\t{\n\t\t_handle_eval(context)\n\t\t{\n\t\t\tcontext.escapes.push(ul4._xmlescape);\n\n\t\t\tlet result = null;\n\t\t\ttry\n\t\t\t{\n\t\t\t\tresult = super._handle_eval(context);\n\t\t\t}\n\t\t\tfinally\n\t\t\t{\n\t\t\t\tcontext.escapes.splice(context.escapes.length-1, 1);\n\t\t\t}\n\t\t\treturn result;\n\t\t}\n\t};\n\n\tul4.RenderBlockAST = class RenderBlockAST extends ul4.RenderAST\n\t{\n\t\t_handle_additional_arguments(context, args)\n\t\t{\n\t\t\tif (args.kwargs.hasOwnProperty(\"content\"))\n\t\t\t\tthrow new ul4.ArgumentError(\"duplicate keyword argument content\");\n\t\t\tlet closure = new ul4.TemplateClosure(this.content, this.content.signature, context.vars);\n\t\t\targs.kwargs.content = closure;\n\t\t}\n\t};\n\n\tul4.RenderBlockAST.prototype._ul4onattrs = ul4.RenderAST.prototype._ul4onattrs.concat([\"content\"]);\n\n\tul4.RenderBlocksAST = class RenderBlocksAST extends ul4.RenderAST\n\t{\n\t\t_handle_additional_arguments(context, args)\n\t\t{\n\t\t\tlet localcontext = context.inheritvars();\n\t\t\tul4.BlockAST.prototype._eval.call(this, localcontext);\n\n\t\t\tfor (let key in localcontext.vars)\n\t\t\t{\n\t\t\t\tif (localcontext.vars.hasOwnProperty(key))\n\t\t\t\t{\n\t\t\t\t\tif (key in args.kwargs)\n\t\t\t\t\t\tthrow new ul4.ArgumentError(\"duplicate keyword argument \" + key);\n\t\t\t\t\targs.kwargs[key] = localcontext.get(key);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\tul4.RenderBlocksAST.prototype._ul4onattrs = ul4.RenderAST.prototype._ul4onattrs.concat([\"content\"]);\n\n\t// Slice object\n\tul4.slice = class slice extends ul4.Proto\n\t{\n\t\tconstructor(start, stop)\n\t\t{\n\t\t\tsuper();\n\t\t\tthis.start = start;\n\t\t\tthis.stop = stop;\n\t\t}\n\n\t\tof(string)\n\t\t{\n\t\t\tlet start = this.start || 0;\n\t\t\tlet stop = this.stop === null ? string.length : this.stop;\n\t\t\treturn string.slice(start, stop);\n\t\t}\n\n\t\t__repr__()\n\t\t{\n\t\t\treturn \"slice(\" + ul4._repr(this.start) + \", \" + ul4._repr(this.stop) + \", None)\";\n\t\t}\n\n\t\t__getattr__(attrname)\n\t\t{\n\t\t\tswitch (attrname)\n\t\t\t{\n\t\t\t\tcase \"start\":\n\t\t\t\t\treturn this.start;\n\t\t\t\tcase \"stop\":\n\t\t\t\t\treturn this.stop;\n\t\t\t\tdefault:\n\t\t\t\t\tthrow new ul4.AttributeError(this, attrname);\n\t\t\t}\n\t\t}\n\t};\n\n\n\t// List/String slice\n\tul4.SliceAST = class SliceAST extends ul4.CodeAST\n\t{\n\t\tconstructor(template, pos, index1, index2)\n\t\t{\n\t\t\tsuper(template, pos);\n\t\t\tthis.index1 = index1;\n\t\t\tthis.index2 = index2;\n\t\t}\n\n\t\t_repr(out)\n\t\t{\n\t\t\tout.push(\"<SliceAST\");\n\t\t\tif (this.index1 !== null)\n\t\t\t{\n\t\t\t\tout.push(\" index1=\");\n\t\t\t\tthis.index1._repr(out);\n\t\t\t}\n\t\t\tif (this.index2 !== null)\n\t\t\t{\n\t\t\t\tout.push(\" index2=\");\n\t\t\t\tthis.index2._repr(out);\n\t\t\t}\n\t\t\tout.push(\">\");\n\t\t}\n\n\t\t_eval(context)\n\t\t{\n\t\t\tlet index1 = this.index1 !== null ? this.index1._handle_eval(context) : null;\n\t\t\tlet index2 = this.index2 !== null ? this.index2._handle_eval(context) : null;\n\t\t\treturn new ul4.slice(index1, index2);\n\t\t}\n\t};\n\n\tul4.SliceAST.prototype._ul4onattrs = ul4.CodeAST.prototype._ul4onattrs.concat([\"index1\", \"index2\"]);\n\n\tul4.SetVarAST = class SetVarAST extends ul4.CodeAST\n\t{\n\t\tconstructor(template, pos, lvalue, value)\n\t\t{\n\t\t\tsuper(template, pos);\n\t\t\tthis.lvalue = lvalue;\n\t\t\tthis.value = value;\n\t\t}\n\n\t\t_repr(out)\n\t\t{\n\t\t\tout.push(\"<\");\n\t\t\tout.push(this.constructor.name);\n\t\t\tout.push(\" lvalue=\");\n\t\t\tout.push(ul4._repr(this.lvalue));\n\t\t\tout.push(\" value=\");\n\t\t\tthis.value._repr(out);\n\t\t\tout.push(\">\");\n\t\t}\n\n\t\t_eval(context)\n\t\t{\n\t\t\tlet value = this.value._handle_eval(context);\n\t\t\tlet items = ul4._unpackvar(this.lvalue, value);\n\t\t\tfor (let i = 0; i < items.length; ++i)\n\t\t\t{\n\t\t\t\tlet [lvalue, value] = items[i];\n\t\t\t\tlvalue._handle_eval_set(context, value);\n\t\t\t}\n\t\t}\n\t};\n\n\tul4.SetVarAST.prototype._ul4onattrs = ul4.CodeAST.prototype._ul4onattrs.concat([\"lvalue\", \"value\"]);\n\n\tul4.ModifyVarAST = class ModifyVarAST extends ul4.SetVarAST\n\t{\n\t\t_eval(context)\n\t\t{\n\t\t\tlet value = this.value._handle_eval(context);\n\t\t\tlet items = ul4._unpackvar(this.lvalue, value);\n\t\t\tfor (let i = 0; i < items.length; ++i)\n\t\t\t{\n\t\t\t\tlet [lvalue, value] = items[i];\n\t\t\t\tlvalue._handle_eval_modify(context, this._operator, value);\n\t\t\t}\n\t\t}\n\t};\n\n\tul4.AddVarAST = class AddVarAST extends ul4.ModifyVarAST\n\t{\n\t};\n\n\tul4.AddVarAST.prototype._operator = ul4.AddAST.prototype;\n\n\tul4.SubVarAST = class SubVarAST extends ul4.ModifyVarAST\n\t{\n\t};\n\n\tul4.SubVarAST.prototype._operator = ul4.SubAST.prototype;\n\n\tul4.MulVarAST = class MulVarAST extends ul4.ModifyVarAST\n\t{\n\t};\n\n\tul4.MulVarAST.prototype._operator = ul4.MulAST.prototype;\n\n\tul4.TrueDivVarAST = class TrueDivVarAST extends ul4.ModifyVarAST\n\t{\n\t};\n\n\tul4.TrueDivVarAST.prototype._operator = ul4.TrueDivAST.prototype;\n\n\tul4.FloorDivVarAST = class FloorDivVarAST extends ul4.ModifyVarAST\n\t{\n\t};\n\n\tul4.FloorDivVarAST.prototype._operator = ul4.FloorDivAST.prototype;\n\n\tul4.ModVarAST = class ModVarAST extends ul4.ModifyVarAST\n\t{\n\t};\n\n\tul4.ModVarAST.prototype._operator = ul4.ModAST.prototype;\n\n\tul4.ShiftLeftVarAST = class ShiftLeftVarAST extends ul4.ModifyVarAST\n\t{\n\t};\n\n\tul4.ShiftLeftVarAST.prototype._operator = ul4.ShiftLeftAST.prototype;\n\n\tul4.ShiftRightVarAST = class ShiftRightVarAST extends ul4.ModifyVarAST\n\t{\n\t};\n\n\tul4.ShiftRightVarAST.prototype._operator = ul4.ShiftRightAST.prototype;\n\n\tul4.BitAndVarAST = class BitAndVarAST extends ul4.ModifyVarAST\n\t{\n\t};\n\n\tul4.BitAndVarAST.prototype._operator = ul4.BitAndAST.prototype;\n\n\tul4.BitXOrVarAST = class BitXOrVarAST extends ul4.ModifyVarAST\n\t{\n\t};\n\n\tul4.BitXOrVarAST.prototype._operator = ul4.BitXOrAST.prototype;\n\n\tul4.BitOrVarAST = class BitOrVarAST extends ul4.ModifyVarAST\n\t{\n\t};\n\n\tul4.BitOrVarAST.prototype._operator = ul4.BitOrAST.prototype;\n\n\tul4.BlockAST = class BlockAST extends ul4.CodeAST\n\t{\n\t\tconstructor(template, pos)\n\t\t{\n\t\t\tsuper(template, pos);\n\t\t\tthis.content = [];\n\t\t}\n\n\t\t_eval(context)\n\t\t{\n\t\t\tfor (let i = 0; i < this.content.length; ++i)\n\t\t\t{\n\t\t\t\tlet item = this.content[i];\n\t\t\t\titem._handle_eval(context);\n\t\t\t}\n\t\t}\n\n\t\t_str(out)\n\t\t{\n\t\t\tif (this.content.length)\n\t\t\t{\n\t\t\t\tfor (let i = 0; i < this.content.length; ++i)\n\t\t\t\t{\n\t\t\t\t\tlet item = this.content[i];\n\t\t\t\t\titem._str(out);\n\t\t\t\t\tout.push(0);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tout.push(\"pass\");\n\t\t\t\tout.push(0);\n\t\t\t}\n\t\t}\n\t};\n\n\tul4.BlockAST.prototype._ul4onattrs = ul4.CodeAST.prototype._ul4onattrs.concat([\"content\"]);\n\n\tul4.ForBlockAST = class ForBlockAST extends ul4.BlockAST\n\t{\n\t\tconstructor(template, pos, varname, container)\n\t\t{\n\t\t\tsuper(template, pos);\n\t\t\tthis.varname = varname;\n\t\t\tthis.container = container;\n\t\t}\n\n\t\t_repr(out)\n\t\t{\n\t\t\tout.push(\"<ForBlockAST\");\n\t\t\tout.push(\" varname=\");\n\t\t\tout.push(ul4._repr(this.varname));\n\t\t\tout.push(\" container=\");\n\t\t\tthis.container._repr(out);\n\t\t\tout.push(\">\");\n\t\t}\n\n\t\t_str_varname(out, varname)\n\t\t{\n\t\t\tif (ul4._islist(varname))\n\t\t\t{\n\t\t\t\tout.push(\"(\");\n\t\t\t\tfor (let i = 0; i < varname.length; ++i)\n\t\t\t\t{\n\t\t\t\t\tif (i)\n\t\t\t\t\t\tout.push(\", \");\n\t\t\t\t\tthis._str_varname(out, varname[i]);\n\t\t\t\t}\n\t\t\t\tif (varname.length == 1)\n\t\t\t\t\tout.push(\",\");\n\t\t\t\tout.push(\")\");\n\t\t\t}\n\t\t\telse\n\t\t\t\tvarname._str(out);\n\t\t}\n\n\t\t_eval(context)\n\t\t{\n\t\t\tlet container = this.container._handle_eval(context);\n\n\t\t\tfor (let iter = ul4._iter(container);;)\n\t\t\t{\n\t\t\t\tlet value = iter.next();\n\t\t\t\tif (value.done)\n\t\t\t\t\tbreak;\n\t\t\t\tlet varitems = ul4._unpackvar(this.varname, value.value);\n\t\t\t\tfor (let i = 0; i < varitems.length; ++i)\n\t\t\t\t{\n\t\t\t\t\tlet [lvalue, value] = varitems[i];\n\t\t\t\t\tlvalue._handle_eval_set(context, value);\n\t\t\t\t}\n\t\t\t\ttry\n\t\t\t\t{\n\t\t\t\t\t// We can't call _handle_eval() here, as this would in turn call this function again, leading to infinite recursion\n\t\t\t\t\t// But we don't have to, as wrapping original exception in ``Error`` has already been done by the lower levels\n\t\t\t\t\tsuper._eval(context);\n\t\t\t\t}\n\t\t\t\tcatch (exc)\n\t\t\t\t{\n\t\t\t\t\tif (exc instanceof ul4.BreakException)\n\t\t\t\t\t\tbreak;\n\t\t\t\t\telse if (exc instanceof ul4.ContinueException)\n\t\t\t\t\t\t;\n\t\t\t\t\telse\n\t\t\t\t\t\tthrow exc;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t_str(out)\n\t\t{\n\t\t\tout.push(\"for \");\n\t\t\tthis._str_varname(out, this.varname);\n\t\t\tout.push(\" in \");\n\t\t\tthis.container._str(out);\n\t\t\tout.push(\":\");\n\t\t\tout.push(+1);\n\t\t\tul4.BlockAST.prototype._str.call(this, out);\n\t\t\tout.push(-1);\n\t\t}\n\t};\n\n\tul4.ForBlockAST.prototype._ul4onattrs = ul4.BlockAST.prototype._ul4onattrs.concat([\"varname\", \"container\"]);\n\n\tul4.WhileBlockAST = class WhileBlockAST extends ul4.BlockAST\n\t{\n\t\tconstructor(template, pos, condition)\n\t\t{\n\t\t\tsuper(template, pos);\n\t\t\tthis.condition = condition;\n\t\t}\n\n\t\t_repr(out)\n\t\t{\n\t\t\tout.push(\"<WhileAST\");\n\t\t\tout.push(\" condition=\");\n\t\t\tthis.condition._repr(out);\n\t\t\tout.push(\">\");\n\t\t}\n\n\t\t_str(out)\n\t\t{\n\t\t\tout.push(\"while \");\n\t\t\tthis.condition._repr(out);\n\t\t\tout.push(\":\");\n\t\t\tout.push(+1);\n\t\t\tul4.BlockAST.prototype._str.call(this, out);\n\t\t\tout.push(-1);\n\t\t}\n\n\t\t_eval(context)\n\t\t{\n\t\t\twhile (true)\n\t\t\t{\n\t\t\t\tlet cond = this.condition._handle_eval(context);\n\t\t\t\tif (!ul4._bool(cond))\n\t\t\t\t\tbreak;\n\t\t\t\ttry\n\t\t\t\t{\n\t\t\t\t\t// We can't call _handle_eval() here, as this would in turn call this function again, leading to infinite recursion\n\t\t\t\t\t// But we don't have to, as wrapping the original exception in ``Error`` has already been done by the lower levels\n\t\t\t\t\tsuper._eval(context);\n\t\t\t\t}\n\t\t\t\tcatch (exc)\n\t\t\t\t{\n\t\t\t\t\tif (exc instanceof ul4.BreakException)\n\t\t\t\t\t\tbreak;\n\t\t\t\t\telse if (exc instanceof ul4.ContinueException)\n\t\t\t\t\t\t;\n\t\t\t\t\telse\n\t\t\t\t\t\tthrow exc;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\tul4.WhileBlockAST.prototype._ul4onattrs = ul4.BlockAST.prototype._ul4onattrs.concat([\"condition\"]);\n\n\tul4.BreakAST = class BreakAST extends ul4.CodeAST\n\t{\n\t\t_eval(context)\n\t\t{\n\t\t\tthrow new ul4.BreakException();\n\t\t}\n\n\t\t_str(out)\n\t\t{\n\t\t\tout.push(\"break\");\n\t\t\tout.push(0);\n\t\t}\n\n\t\t_repr(out)\n\t\t{\n\t\t\tout.push(\"<BreakAST>\");\n\t\t}\n\t};\n\n\tul4.ContinueAST = class ContinueAST extends ul4.CodeAST\n\t{\n\t\t_eval(context)\n\t\t{\n\t\t\tthrow new ul4.ContinueException();\n\t\t}\n\n\t\t_str(out)\n\t\t{\n\t\t\tout.push(\"continue\");\n\t\t\tout.push(0);\n\t\t}\n\n\t\t_repr(out)\n\t\t{\n\t\t\tout.push(\"<ContinueAST>\");\n\t\t}\n\t};\n\n\tul4.CondBlockAST = class CondBlockAST extends ul4.BlockAST\n\t{\n\t\t_eval(context)\n\t\t{\n\t\t\tfor (let i = 0; i < this.content.length; ++i)\n\t\t\t{\n\t\t\t\tlet block = this.content[i];\n\t\t\t\tlet execute = block._execute(context);\n\t\t\t\tif (execute)\n\t\t\t\t{\n\t\t\t\t\tblock._handle_eval(context);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\tul4.ConditionalBlockAST = class ConditionalBlockAST extends  ul4.BlockAST\n\t{\n\t\tconstructor(template, pos, condition)\n\t\t{\n\t\t\tsuper(template, pos);\n\t\t\tthis.condition = condition;\n\t\t}\n\n\t\t_repr(out)\n\t\t{\n\t\t\tout.push(\"<\");\n\t\t\tout.push(this.constructor.name);\n\t\t\tout.push(\" condition=\");\n\t\t\tthis.condition._repr(out);\n\t\t\tout.push(\">\");\n\t\t}\n\n\t\t_str(out)\n\t\t{\n\t\t\tout.push(this._strname);\n\t\t\tout.push(\" \");\n\t\t\tthis.condition._str(out);\n\t\t\tout.push(\":\");\n\t\t\tout.push(+1);\n\t\t\tul4.BlockAST.prototype._str.call(this, out);\n\t\t\tout.push(-1);\n\t\t}\n\n\t\t_execute(context)\n\t\t{\n\t\t\tlet cond = this.condition._handle_eval(context);\n\t\t\tlet result = ul4._bool(cond);\n\t\t\treturn result;\n\t\t}\n\t};\n\n\tul4.ConditionalBlockAST.prototype._ul4onattrs = ul4.BlockAST.prototype._ul4onattrs.concat([\"condition\"]);\n\n\tul4.IfBlockAST = class IfBlockAST extends ul4.ConditionalBlockAST\n\t{\n\t};\n\n\tul4.IfBlockAST.prototype._strname = \"if\";\n\n\tul4.ElIfBlockAST = class ElIfBlockAST extends ul4.ConditionalBlockAST\n\t{\n\t};\n\n\tul4.ElIfBlockAST.prototype._strname = \"else if\";\n\n\tul4.ElseBlockAST = class ElseBlockAST extends ul4.BlockAST\n\t{\n\t\t_repr(out)\n\t\t{\n\t\t\tout.push(\"<ElseAST\");\n\t\t\tout.push(\">\");\n\t\t}\n\n\t\t_str(out)\n\t\t{\n\t\t\tout.push(\"else:\");\n\t\t\tout.push(+1);\n\t\t\tul4.BlockAST.prototype._str.call(this, out);\n\t\t\tout.push(-1);\n\t\t}\n\n\t\t_execute(context)\n\t\t{\n\t\t\treturn true;\n\t\t}\n\t};\n\n\tul4.Template = class Template extends ul4.BlockAST\n\t{\n\t\tconstructor(template, pos, source, name, whitespace, startdelim, enddelim, signature)\n\t\t{\n\t\t\tsuper(template, pos);\n\t\t\tthis._source = source;\n\t\t\tthis.name = name;\n\t\t\tthis.whitespace = whitespace;\n\t\t\tthis.startdelim = startdelim;\n\t\t\tthis.enddelim = enddelim;\n\t\t\tthis.docpos = null;\n\t\t\tthis.signature = signature;\n\t\t\tthis._asts = null;\n\t\t\tthis._ul4_callsignature = signature;\n\t\t\tthis._ul4_rendersignature = signature;\n\t\t\tthis.parenttemplate = null;\n\t\t}\n\n\t\t__getattr__(attrname)\n\t\t{\n\t\t\tlet self = this;\n\t\t\tswitch (attrname)\n\t\t\t{\n\t\t\t\tcase \"content\":\n\t\t\t\t\treturn this.content;\n\t\t\t\tcase \"source\":\n\t\t\t\t\treturn this.source;\n\t\t\t\tcase \"name\":\n\t\t\t\t\treturn this.name;\n\t\t\t\tcase \"whitespace\":\n\t\t\t\t\treturn this.whitespace;\n\t\t\t\tcase \"startdelim\":\n\t\t\t\t\treturn this.startdelim;\n\t\t\t\tcase \"enddelim\":\n\t\t\t\t\treturn this.enddelim;\n\t\t\t\tcase \"doc\":\n\t\t\t\t\treturn this.doc();\n\t\t\t\tcase \"signature\":\n\t\t\t\t\treturn this.signature;\n\t\t\t\tcase \"parenttemplate\":\n\t\t\t\t\treturn this.parenttemplate;\n\t\t\t\tcase \"render\":\n\t\t\t\t\tlet render = function render(context, vars){ self._renderbound(context, vars); };\n\t\t\t\t\tul4.expose(render, this.signature, {needscontext: true, needsobject: true});\n\t\t\t\t\treturn render;\n\t\t\t\tcase \"renders\":\n\t\t\t\t\tlet renders = function renders(context, vars){ return self._rendersbound(context, vars); };\n\t\t\t\t\tul4.expose(renders, this.signature, {needscontext: true, needsobject: true});\n\t\t\t\t\treturn renders;\n\t\t\t\tdefault:\n\t\t\t\t\treturn super.__getattr__(attrname);\n\t\t\t}\n\t\t}\n\n\t\tul4ondump(encoder)\n\t\t{\n\t\t\tlet signature;\n\t\t\tencoder.dump(ul4.version);\n\t\t\tencoder.dump(this.name);\n\t\t\tencoder.dump(this._source);\n\t\t\tencoder.dump(this.whitespace);\n\t\t\tencoder.dump(this.startdelim);\n\t\t\tencoder.dump(this.enddelim);\n\t\t\tencoder.dump(this.docpos);\n\t\t\tencoder.dump(this.parenttemplate);\n\t\t\tif (this.signature === null || this.signature instanceof ul4.SignatureAST)\n\t\t\t\tsignature = this.signature;\n\t\t\telse\n\t\t\t{\n\t\t\t\tsignature = [];\n\t\t\t\tfor (let i = 0; i < this.signature.args.length; ++i)\n\t\t\t\t{\n\t\t\t\t\tlet arg = this.signature.args[i];\n\t\t\t\t\tif (typeof(arg.defaultValue) === \"undefined\")\n\t\t\t\t\t\tsignature.push(arg.name);\n\t\t\t\t\telse\n\t\t\t\t\t\tsignature.push(arg.name+\"=\", arg.defaultValue);\n\t\t\t\t}\n\t\t\t\tif (this.signature.remargs !== null)\n\t\t\t\t\tsignature.push(\"*\" + this.signature.remargs);\n\t\t\t\tif (this.signature.remkwargs !== null)\n\t\t\t\t\tsignature.push(\"**\" + this.signature.remkwargs);\n\t\t\t}\n\t\t\tencoder.dump(signature);\n\t\t\tsuper.ul4ondump(encoder);\n\t\t}\n\n\t\tul4onload(decoder)\n\t\t{\n\t\t\tlet version = decoder.load();\n\t\t\tlet signature;\n\n\t\t\tif (version === null)\n\t\t\t\tthrow new ul4.ValueError(\"UL4ON doesn't support templates in 'source' format in Javascript implementation\");\n\n\t\t\tif (version !== ul4.version)\n\t\t\t\tthrow new ul4.ValueError(\"invalid version, expected \" + ul4.version + \", got \" + version);\n\n\t\t\tthis.name = decoder.load();\n\t\t\tthis._source = decoder.load();\n\t\t\tthis.whitespace = decoder.load();\n\t\t\tthis.startdelim = decoder.load();\n\t\t\tthis.enddelim = decoder.load();\n\t\t\tthis.docpos = decoder.load();\n\t\t\tthis.parenttemplate = decoder.load();\n\t\t\tsignature = decoder.load();\n\t\t\tif (ul4._islist(signature))\n\t\t\t\tsignature = new ul4.Signature(...signature);\n\t\t\tthis.signature = signature;\n\t\t\tthis._ul4_callsignature = signature;\n\t\t\tthis._ul4_rendersignature = signature;\n\t\t\tsuper.ul4onload(decoder);\n\t\t}\n\n\t\tloads(string)\n\t\t{\n\t\t\treturn ul4.loads(string);\n\t\t}\n\n\t\t_eval(context)\n\t\t{\n\t\t\tlet signature = null;\n\t\t\tif (this.signature !== null)\n\t\t\t\tsignature = this.signature._handle_eval(context);\n\t\t\tlet closure = new ul4.TemplateClosure(this, signature, context.vars);\n\t\t\tcontext.set(this.name, closure);\n\t\t}\n\n\t\t_repr(out)\n\t\t{\n\t\t\tout.push(\"<Template\");\n\t\t\tif (this.name !== null)\n\t\t\t{\n\t\t\t\tout.push(\" name=\");\n\t\t\t\tout.push(ul4._repr(this.name));\n\t\t\t}\n\t\t\tout.push(\" whitespace=\");\n\t\t\tout.push(ul4._repr(this.whitespace));\n\t\t\tif (this.startdelim !== \"<?\")\n\t\t\t{\n\t\t\t\tout.push(\" startdelim=\");\n\t\t\t\tout.push(ul4._repr(this.startdelim));\n\t\t\t}\n\t\t\tif (this.enddelim !== \"?>\")\n\t\t\t{\n\t\t\t\tout.push(\" enddelim=\");\n\t\t\t\tout.push(ul4._repr(this.enddelim));\n\t\t\t}\n\t\t\tout.push(\">\");\n\t\t}\n\n\t\t_str(out)\n\t\t{\n\t\t\tout.push(\"def \");\n\t\t\tout.push(this.name ? this.name : \"unnamed\");\n\t\t\tout.push(\":\");\n\t\t\tout.push(+1);\n\t\t\tul4.BlockAST.prototype._str.call(this, out);\n\t\t\tout.push(-1);\n\t\t}\n\n\t\t_renderbound(context, vars)\n\t\t{\n\t\t\tlet localcontext = context.clone();\n\t\t\tlocalcontext.vars = vars;\n\t\t\ttry\n\t\t\t{\n\t\t\t\tul4.BlockAST.prototype._eval.call(this, localcontext);\n\t\t\t}\n\t\t\tcatch (exc)\n\t\t\t{\n\t\t\t\tif (!(exc instanceof ul4.ReturnException))\n\t\t\t\t\tthrow exc;\n\t\t\t}\n\t\t}\n\n\t\t__render__(context, vars)\n\t\t{\n\t\t\tthis._renderbound(context, vars);\n\t\t}\n\n\t\trender(context, vars)\n\t\t{\n\t\t\tthis._renderbound(context, vars);\n\t\t}\n\n\t\t_rendersbound(context, vars)\n\t\t{\n\t\t\tlet localcontext = context.replaceoutput();\n\t\t\tthis._renderbound(localcontext, vars);\n\t\t\treturn localcontext.getoutput();\n\t\t}\n\n\t\trenders(vars)\n\t\t{\n\t\t\tvars = vars || {};\n\t\t\tlet context = new ul4.Context();\n\t\t\tif (this.signature !== null)\n\t\t\t\tvars = this.signature.bindObject(this.name, [], vars);\n\t\t\treturn this._rendersbound(context, vars);\n\t\t}\n\n\t\tdoc()\n\t\t{\n\t\t\treturn this.docpos != null ? this.docpos.of(this._source) : null;\n\t\t}\n\n\t\t_callbound(context, vars)\n\t\t{\n\t\t\tlet localcontext = context.clone();\n\t\t\tlocalcontext.vars = vars;\n\t\t\ttry\n\t\t\t{\n\t\t\t\tul4.BlockAST.prototype._eval.call(this, localcontext);\n\t\t\t}\n\t\t\tcatch (exc)\n\t\t\t{\n\t\t\t\tif (exc instanceof ul4.ReturnException)\n\t\t\t\t\treturn exc.result;\n\t\t\t\telse\n\t\t\t\t\tthrow exc;\n\t\t\t}\n\t\t\treturn null;\n\t\t}\n\n\t\tcall(vars)\n\t\t{\n\t\t\tvars = vars || {};\n\t\t\tlet context = new ul4.Context();\n\t\t\tif (this.signature !== null)\n\t\t\t\tvars = this.signature.bindObject(this.name, [], vars);\n\t\t\treturn this._callbound(context, vars);\n\t\t}\n\n\t\t__call__(context, vars)\n\t\t{\n\t\t\treturn this._callbound(context, vars);\n\t\t}\n\n\t\tul4type()\n\t\t{\n\t\t\treturn \"template\";\n\t\t}\n\t};\n\n\tul4.Template.prototype._ul4_callneedsobject = true;\n\tul4.Template.prototype._ul4_callneedscontext = true;\n\tul4.Template.prototype._ul4_renderneedsobject = true;\n\tul4.Template.prototype._ul4_renderneedscontext = true;\n\n\tul4.SignatureAST = class SignatureAST extends ul4.CodeAST\n\t{\n\t\tconstructor(template, pos)\n\t\t{\n\t\t\tsuper(template, pos);\n\t\t\tthis.params = [];\n\t\t}\n\n\t\tul4ondump(encoder)\n\t\t{\n\t\t\tsuper.ul4ondump(encoder);\n\n\t\t\tlet dump = [];\n\n\t\t\tfor (let i = 0; i < this.params.length; ++i)\n\t\t\t{\n\t\t\t\tlet param = this.params[i];\n\t\t\t\tif (param[1] === null)\n\t\t\t\t\tdump.push(param[0]);\n\t\t\t\telse\n\t\t\t\t\tdump.push(param);\n\t\t\t}\n\t\t\tencoder.dump(dump);\n\t\t}\n\n\t\tul4onload(decoder)\n\t\t{\n\t\t\tsuper.ul4onload(decoder);\n\t\t\tlet dump = decoder.load();\n\t\t\tthis.params = [];\n\t\t\tfor (let i = 0; i < dump.length; ++i)\n\t\t\t{\n\t\t\t\tlet param = dump[i];\n\t\t\t\tif (typeof(param) === \"string\")\n\t\t\t\t\tthis.params.push([param, null]);\n\t\t\t\telse\n\t\t\t\t\tthis.params.push(param);\n\t\t\t}\n\t\t}\n\n\t\t_eval(context)\n\t\t{\n\t\t\tlet args = [];\n\t\t\tfor (let i = 0; i < this.params.length; ++i)\n\t\t\t{\n\t\t\t\tlet param = this.params[i];\n\t\t\t\tif (param[1] === null)\n\t\t\t\t\targs.push(param[0]);\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\targs.push(param[0] + \"=\");\n\t\t\t\t\targs.push(param[1]._handle_eval(context));\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn new ul4.Signature(...args);\n\t\t}\n\n\t\t_repr(out)\n\t\t{\n\t\t\tout.push(\"<\");\n\t\t\tout.push(this.constructor.name);\n\t\t\tout.push(\" params=\");\n\t\t\tthis.params._repr(out);\n\t\t\tout.push(\">\");\n\t\t}\n\t};\n\n\tul4.TemplateClosure = class TemplateClosure extends ul4.Proto\n\t{\n\t\tconstructor(template, signature, vars)\n\t\t{\n\t\t\tsuper();\n\t\t\tthis.template = template;\n\t\t\tthis.signature = signature;\n\t\t\tthis.vars = vars;\n\t\t\tthis._ul4_callsignature = signature;\n\t\t\tthis._ul4_rendersignature = signature;\n\t\t\t// Copy over the required attribute from the template\n\t\t\tthis.name = template.name;\n\t\t\tthis.tag = template.tag;\n\t\t\tthis.endtag = template.endtag;\n\t\t\tthis._source = template._source;\n\t\t\tthis.startdelim = template.startdelim;\n\t\t\tthis.enddelim = template.enddelim;\n\t\t\tthis.docpos = template.docpos;\n\t\t\tthis.content = template.content;\n\t\t}\n\n\t\t__render__(context, vars)\n\t\t{\n\t\t\tthis.template._renderbound(context, ul4._inherit(this.vars, vars));\n\t\t}\n\n\t\trender(context, vars)\n\t\t{\n\t\t\tthis.template._renderbound(context, ul4._inherit(this.vars, vars));\n\t\t}\n\n\t\t__call__(context, vars)\n\t\t{\n\t\t\treturn this.template._callbound(context, ul4._inherit(this.vars, vars));\n\t\t}\n\n\t\t_renderbound(context, vars)\n\t\t{\n\t\t\tthis.template._renderbound(context, ul4._inherit(this.vars, vars));\n\t\t}\n\n\t\t_rendersbound(context, vars)\n\t\t{\n\t\t\treturn this.template._rendersbound(context, ul4._inherit(this.vars, vars));\n\t\t}\n\n\t\t__getattr__(attrname)\n\t\t{\n\t\t\tlet self = this;\n\t\t\tswitch (attrname)\n\t\t\t{\n\t\t\t\tcase \"render\":\n\t\t\t\t\tlet render = function render(context, vars){ self._renderbound(context, vars); };\n\t\t\t\t\tul4.expose(render, this.signature, {needscontext: true, needsobject: true});\n\t\t\t\t\treturn render;\n\t\t\t\tcase \"renders\":\n\t\t\t\t\tlet renders = function renders(context, vars){ return self._rendersbound(context, vars); };\n\t\t\t\t\tul4.expose(renders, this.signature, {needscontext: true, needsobject: true});\n\t\t\t\t\treturn renders;\n\t\t\t\tcase \"signature\":\n\t\t\t\t\treturn this.signature;\n\t\t\t\tdefault:\n\t\t\t\t\treturn this.template.__getattr__(attrname);\n\t\t\t}\n\t\t}\n\n\t\tul4type()\n\t\t{\n\t\t\treturn \"template\";\n\t\t}\n\t};\n\n\tul4.TemplateClosure.prototype._ul4_callneedsobject = true;\n\tul4.TemplateClosure.prototype._ul4_callneedscontext = true;\n\tul4.TemplateClosure.prototype._ul4_renderneedsobject = true;\n\tul4.TemplateClosure.prototype._ul4_renderneedscontext = true;\n\n\t// Create a color object from the red, green, blue and alpha values ``r``, ``g``, ``b`` and ``b``\n\tul4._rgb = function _rgb(r, g, b, a)\n\t{\n\t\treturn new this.Color(255*r, 255*g, 255*b, 255*a);\n\t};\n\n\t// Convert ``obj`` to a string and escape the characters ``&``, ``<``, ``>``, ``'`` and ``\"`` with their XML character/entity reference\n\tul4._xmlescape = function _xmlescape(obj)\n\t{\n\t\tobj = ul4._str(obj);\n\t\tobj = obj.replace(/&/g, \"&amp;\");\n\t\tobj = obj.replace(/</g, \"&lt;\");\n\t\tobj = obj.replace(/>/g, \"&gt;\");\n\t\tobj = obj.replace(/'/g, \"&#39;\");\n\t\tobj = obj.replace(/\"/g, \"&quot;\");\n\t\treturn obj;\n\t};\n\n\t// Convert ``obj`` to a string suitable for output into a CSV file\n\tul4._csv = function _csv(obj)\n\t{\n\t\tif (obj === null)\n\t\t\treturn \"\";\n\t\telse if (typeof(obj) !== \"string\")\n\t\t\tobj = ul4._repr(obj);\n\t\tif (obj.indexOf(\",\") !== -1 || obj.indexOf('\"') !== -1 || obj.indexOf(\"\\n\") !== -1)\n\t\t\tobj = '\"' + obj.replace(/\"/g, '\"\"') + '\"';\n\t\treturn obj;\n\t};\n\n\t// Return a string containing one character with the codepoint ``i``\n\tul4._chr = function _chr(i)\n\t{\n\t\tif (typeof(i) != \"number\")\n\t\t\tthrow new ul4.TypeError(\"chr() requires an int\");\n\t\treturn String.fromCharCode(i);\n\t};\n\n\t// Return the codepoint for the one and only character in the string ``c``\n\tul4._ord = function _ord(c)\n\t{\n\t\tif (typeof(c) != \"string\" || c.length != 1)\n\t\t\tthrow new ul4.TypeError(\"ord() requires a string of length 1\");\n\t\treturn c.charCodeAt(0);\n\t};\n\n\t// Convert an integer to a hexadecimal string\n\tul4._hex = function _hex(number)\n\t{\n\t\tif (typeof(number) != \"number\")\n\t\t\tthrow new ul4.TypeError(\"hex() requires an int\");\n\t\tif (number < 0)\n\t\t\treturn \"-0x\" + number.toString(16).substr(1);\n\t\telse\n\t\t\treturn \"0x\" + number.toString(16);\n\t};\n\n\t// Convert an integer to a octal string\n\tul4._oct = function _oct(number)\n\t{\n\t\tif (typeof(number) != \"number\")\n\t\t\tthrow new ul4.TypeError(\"oct() requires an int\");\n\t\tif (number < 0)\n\t\t\treturn \"-0o\" + number.toString(8).substr(1);\n\t\telse\n\t\t\treturn \"0o\" + number.toString(8);\n\t};\n\n\t// Convert an integer to a binary string\n\tul4._bin = function _bin(number)\n\t{\n\t\tif (typeof(number) != \"number\")\n\t\t\tthrow new ul4.TypeError(\"bin() requires an int\");\n\t\tif (number < 0)\n\t\t\treturn \"-0b\" + number.toString(2).substr(1);\n\t\telse\n\t\t\treturn \"0b\" + number.toString(2);\n\t};\n\n\t// Return the minimum value\n\tul4._min = function _min(obj)\n\t{\n\t\tif (obj.length == 0)\n\t\t\tthrow new ul4.ArgumentError(\"min() requires at least 1 argument, 0 given\");\n\t\telse if (obj.length == 1)\n\t\t\tobj = obj[0];\n\t\tlet iter = ul4._iter(obj);\n\t\tlet result;\n\t\tlet first = true;\n\t\twhile (true)\n\t\t{\n\t\t\tlet item = iter.next();\n\t\t\tif (item.done)\n\t\t\t{\n\t\t\t\tif (first)\n\t\t\t\t\tthrow new ul4.ValueError(\"min() argument is an empty sequence!\");\n\t\t\t\treturn result;\n\t\t\t}\n\t\t\tif (first || (item.value < result))\n\t\t\t\tresult = item.value;\n\t\t\tfirst = false;\n\t\t}\n\t};\n\n\t// Return the maximum value\n\tul4._max = function _max(obj)\n\t{\n\t\tif (obj.length == 0)\n\t\t\tthrow new ul4.ArgumentError(\"max() requires at least 1 argument, 0 given\");\n\t\telse if (obj.length == 1)\n\t\t\tobj = obj[0];\n\t\tlet iter = ul4._iter(obj);\n\t\tlet result;\n\t\tlet first = true;\n\t\twhile (true)\n\t\t{\n\t\t\tlet item = iter.next();\n\t\t\tif (item.done)\n\t\t\t{\n\t\t\t\tif (first)\n\t\t\t\t\tthrow new ul4.ValueError(\"max() argument is an empty sequence!\");\n\t\t\t\treturn result;\n\t\t\t}\n\t\t\tif (first || (item.value > result))\n\t\t\t\tresult = item.value;\n\t\t\tfirst = false;\n\t\t}\n\t};\n\n\t// Return the of the values from the iterable starting with ``start`` (default ``0``)\n\tul4._sum = function _sum(iterable, start=0)\n\t{\n\t\tfor (let iter = ul4._iter(iterable);;)\n\t\t{\n\t\t\tlet item = iter.next();\n\t\t\tif (item.done)\n\t\t\t\tbreak;\n\t\t\tstart += item.value;\n\t\t}\n\t\treturn start;\n\t};\n\n\t// Return the first value produced by iterating through ``iterable`` (defaulting to ``defaultValue`` if the iterator is empty)\n\tul4._first = function _first(iterable, defaultValue=null)\n\t{\n\t\tlet item = ul4._iter(iterable).next();\n\t\treturn item.done ? defaultValue : item.value;\n\t};\n\n\t// Return the last value produced by iterating through ``iterable`` (defaulting to ``defaultValue`` if the iterator is empty)\n\tul4._last = function _last(iterable, defaultValue=null)\n\t{\n\t\tlet value = defaultValue;\n\n\t\tfor (let iter = ul4._iter(iterable);;)\n\t\t{\n\t\t\tlet item = iter.next();\n\t\t\tif (item.done)\n\t\t\t\tbreak;\n\t\t\tvalue = item.value;\n\t\t}\n\t\treturn value;\n\t};\n\n\t// Return a sorted version of ``iterable``\n\tul4._sorted = function _sorted(context, iterable, key=null, reverse=false)\n\t{\n\t\tif (key === null)\n\t\t{\n\t\t\t// FIXME: stability\n\t\t\tlet cmp = reverse ? function cmp(a, b)\n\t\t\t{\n\t\t\t\treturn -ul4._cmp(\"<=>\", a, b);\n\t\t\t} : function cmp(a, b)\n\t\t\t{\n\t\t\t\treturn ul4._cmp(\"<=>\", a, b);\n\t\t\t};\n\t\t\tlet result = ul4._list(iterable);\n\t\t\tresult.sort(cmp);\n\t\t\treturn result;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tlet sort = [];\n\n\t\t\tfor (let i = 0, iter = ul4._iter(iterable);;++i)\n\t\t\t{\n\t\t\t\tlet item = iter.next();\n\t\t\t\tif (item.done)\n\t\t\t\t\tbreak;\n\t\t\t\tlet keyvalue = ul4._call(context, key, [item.value], {});\n\t\t\t\t// For a stable sorting we have to use the nagative index if\n\t\t\t\t// reverse sorting is specified\n\t\t\t\tsort.push([keyvalue, reverse ? -i : i, item.value]);\n\t\t\t}\n\t\t\tcmp = function cmp(s1, s2)\n\t\t\t{\n\t\t\t\tlet res = ul4._cmp(\"<=>\", s1[0], s2[0]);\n\t\t\t\tif (res)\n\t\t\t\t\treturn reverse ? -res : res;\n\t\t\t\tres = ul4._cmp(\"<=>\", s1[1], s2[1]);\n\t\t\t\treturn reverse ? -res : res;\n\t\t\t};\n\n\t\t\tsort.sort(cmp);\n\n\t\t\tlet result = [];\n\t\t\tfor (let i = 0; i < sort.length; ++i)\n\t\t\t{\n\t\t\t\tlet item = sort[i];\n\t\t\t\tresult.push(item[2]);\n\t\t\t}\n\t\t\treturn result;\n\t\t}\n\t};\n\n\t// Return a iterable object iterating from ``start`` up to (but not including) ``stop`` with a step size of ``step``\n\tul4._range = function _range(args)\n\t{\n\t\tlet start, stop, step;\n\t\tif (args.length < 1)\n\t\t\tthrow new ul4.ArgumentError(\"required range() argument missing\");\n\t\telse if (args.length > 3)\n\t\t\tthrow new ul4.ArgumentError(\"range() expects at most 3 positional arguments, \" + args.length + \" given\");\n\t\telse if (args.length == 1)\n\t\t{\n\t\t\tstart = 0;\n\t\t\tstop = args[0];\n\t\t\tstep = 1;\n\t\t}\n\t\telse if (args.length == 2)\n\t\t{\n\t\t\tstart = args[0];\n\t\t\tstop = args[1];\n\t\t\tstep = 1;\n\t\t}\n\t\telse if (args.length == 3)\n\t\t{\n\t\t\tstart = args[0];\n\t\t\tstop = args[1];\n\t\t\tstep = args[2];\n\t\t}\n\t\tlet lower, higher;\n\t\tif (step === 0)\n\t\t\tthrow new ul4.ValueError(\"range() requires a step argument != 0\");\n\t\telse if (step > 0)\n\t\t{\n\t\t\tlower = start;\n\t\t\thigher = stop;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tlower = stop;\n\t\t\thigher = start;\n\t\t}\n\t\tlet length = (lower < higher) ? Math.floor((higher - lower - 1)/Math.abs(step)) + 1 : 0;\n\n\t\treturn {\n\t\t\tindex: 0,\n\t\t\tnext: function()\n\t\t\t{\n\t\t\t\tif (this.index >= length)\n\t\t\t\t\treturn {done: true};\n\t\t\t\treturn {value: start + (this.index++) * step, done: false};\n\t\t\t}\n\t\t};\n\t};\n\n\t// Return a iterable object returning a slice from the argument\n\tul4._slice = function _slice(args)\n\t{\n\t\tlet iterable, start, stop, step;\n\t\tif (args.length < 2)\n\t\t\tthrow new ul4.ArgumentError(\"required slice() argument missing\");\n\t\telse if (args.length > 4)\n\t\t\tthrow new ul4.ArgumentError(\"slice() expects at most 4 positional arguments, \" + args.length + \" given\");\n\t\telse if (args.length == 2)\n\t\t{\n\t\t\titerable = args[0];\n\t\t\tstart = 0;\n\t\t\tstop = args[1];\n\t\t\tstep = 1;\n\t\t}\n\t\telse if (args.length == 3)\n\t\t{\n\t\t\titerable = args[0];\n\t\t\tstart = args[1] !== null ? args[1] : 0;\n\t\t\tstop = args[2];\n\t\t\tstep = 1;\n\t\t}\n\t\telse if (args.length == 4)\n\t\t{\n\t\t\titerable = args[0];\n\t\t\tstart = args[1] !== null ? args[1] : 0;\n\t\t\tstop = args[2];\n\t\t\tstep = args[3] !== null ? args[3] : 1;\n\t\t}\n\t\tif (start < 0)\n\t\t\tthrow new ul4.ValueError(\"slice() requires a start argument >= 0\");\n\t\tif (stop < 0)\n\t\t\tthrow new ul4.ValueError(\"slice() requires a stop argument >= 0\");\n\t\tif (step <= 0)\n\t\t\tthrow new ul4.ValueError(\"slice() requires a step argument > 0\");\n\n\t\tlet next = start, count = 0;\n\t\tlet iter = ul4._iter(iterable);\n\t\treturn {\n\t\t\tnext: function() {\n\t\t\t\tlet result;\n\t\t\t\twhile (count < next)\n\t\t\t\t{\n\t\t\t\t\tresult = iter.next();\n\t\t\t\t\tif (result.done)\n\t\t\t\t\t\treturn result;\n\t\t\t\t\t++count;\n\t\t\t\t}\n\t\t\t\tif (stop !== null && count >= stop)\n\t\t\t\t\treturn {done: true};\n\t\t\t\tresult = iter.next();\n\t\t\t\tif (result.done)\n\t\t\t\t\treturn result;\n\t\t\t\t++count;\n\t\t\t\tnext += step;\n\t\t\t\tif (stop !== null && next > stop)\n\t\t\t\t\tnext = stop;\n\t\t\t\treturn result;\n\t\t\t}\n\t\t};\n\t};\n\n\t// ``%`` escape unsafe characters in the string ``string``\n\tul4._urlquote = function _urlquote(string)\n\t{\n\t\treturn encodeURIComponent(string);\n\t};\n\n\t// The inverse function of ``urlquote``\n\tul4._urlunquote = function _urlunquote(string)\n\t{\n\t\treturn decodeURIComponent(string);\n\t};\n\n\t// Return a reverse iterator over ``sequence``\n\tul4._reversed = function _reversed(sequence)\n\t{\n\t\tif (typeof(sequence) != \"string\" && !ul4._islist(sequence)) // We don't have to materialize strings or lists\n\t\t\tsequence = ul4._list(sequence);\n\t\treturn {\n\t\t\tindex: sequence.length-1,\n\t\t\tnext: function() {\n\t\t\t\treturn this.index >= 0 ? {value: sequence[this.index--], done: false} : {done: true};\n\t\t\t}\n\t\t};\n\t};\n\n\t// Returns a random number in the interval ``[0;1[``\n\tul4._random = function _random()\n\t{\n\t\treturn Math.random();\n\t};\n\n\t// Return a randomly select item from ``range(start, stop, step)``\n\tul4._randrange = function _randrange(args)\n\t{\n\t\tlet start, stop, step;\n\t\tif (args.length < 1)\n\t\t\tthrow new ul4.ArgumentError(\"required randrange() argument missing\");\n\t\telse if (args.length > 3)\n\t\t\tthrow new ul4.ArgumentError(\"randrange() expects at most 3 positional arguments, \" + args.length + \" given\");\n\t\telse if (args.length == 1)\n\t\t{\n\t\t\tstart = 0;\n\t\t\tstop = args[0];\n\t\t\tstep = 1;\n\t\t}\n\t\telse if (args.length == 2)\n\t\t{\n\t\t\tstart = args[0];\n\t\t\tstop = args[1];\n\t\t\tstep = 1;\n\t\t}\n\t\telse if (args.length == 3)\n\t\t{\n\t\t\tstart = args[0];\n\t\t\tstop = args[1];\n\t\t\tstep = args[2];\n\t\t}\n\t\tlet width = stop-start;\n\n\t\tlet value = Math.random();\n\n\t\tlet n;\n\t\tif (step > 0)\n\t\t\tn = Math.floor((width + step - 1) / step);\n\t\telse if (step < 0)\n\t\t\tn = Math.floor((width + step + 1) / step);\n\t\telse\n\t\t\tthrow new ul4.ValueError(\"randrange() requires a step argument != 0\");\n\t\treturn start + step*Math.floor(value * n);\n\t};\n\n\t// Return a random item/char from the list/string ``sequence``\n\tul4._randchoice = function _randchoice(sequence)\n\t{\n\t\tlet iscolor = ul4._iscolor(sequence);\n\t\tif (typeof(sequence) !== \"string\" && !ul4._islist(sequence) && !iscolor)\n\t\t\tthrow new ul4.TypeError(\"randchoice() requires a string or list\");\n\t\tif (iscolor)\n\t\t\tsequence = ul4._list(sequence);\n\t\treturn sequence[Math.floor(Math.random() * sequence.length)];\n\t};\n\n\t// Round a number ``x`` to ``digits`` decimal places (may be negative)\n\tul4._round = function _round(x, digits=0)\n\t{\n\t\tif (digits)\n\t\t{\n\t\t\tlet threshold = Math.pow(10, digits);\n\t\t\treturn Math.round(x*threshold)/threshold;\n\t\t}\n\t\telse\n\t\t\treturn Math.round(x);\n\t};\n\n\t// Return a hex-encode MD5 hash of the argument\n\t// This uses the md5 function from https://github.com/blueimp/JavaScript-MD5\n\tif (iscommon)\n\t{\n\t\tul4._md5 = function _md5(string)\n\t\t{\n\t\t\tlet md5 = require('blueimp-md5');\n\t\t\treturn md5(string);\n\t\t};\n\t}\n\telse\n\t{\n\t\tul4._md5 = function _md5(string)\n\t\t{\n\t\t\treturn md5(string);\n\t\t};\n\t}\n\n\t// Return an iterator over ``[index, item]`` lists from the iterable object ``iterable``. ``index`` starts at ``start`` (defaulting to 0)\n\tul4._enumerate = function _enumerate(iterable, start=0)\n\t{\n\t\treturn {\n\t\t\titer: ul4._iter(iterable),\n\t\t\tindex: start,\n\t\t\tnext: function() {\n\t\t\t\tlet item = this.iter.next();\n\t\t\t\treturn item.done ? item : {value: [this.index++, item.value], done: false};\n\t\t\t}\n\t\t};\n\t};\n\n\t// Return an iterator over ``[isfirst, item]`` lists from the iterable object ``iterable`` (``isfirst`` is true for the first item, false otherwise)\n\tul4._isfirst = function _isfirst(iterable)\n\t{\n\t\tlet iter = ul4._iter(iterable);\n\t\tlet isfirst = true;\n\t\treturn {\n\t\t\tnext: function() {\n\t\t\t\tlet item = iter.next();\n\t\t\t\tlet result = item.done ? item : {value: [isfirst, item.value], done: false};\n\t\t\t\tisfirst = false;\n\t\t\t\treturn result;\n\t\t\t}\n\t\t};\n\t};\n\n\t// Return an iterator over ``[islast, item]`` lists from the iterable object ``iterable`` (``islast`` is true for the last item, false otherwise)\n\tul4._islast = function _islast(iterable)\n\t{\n\t\tlet iter = ul4._iter(iterable);\n\t\tlet lastitem = iter.next();\n\t\treturn {\n\t\t\tnext: function() {\n\t\t\t\tif (lastitem.done)\n\t\t\t\t\treturn lastitem;\n\t\t\t\tlet item = iter.next();\n\t\t\t\tlet result = {value: [item.done, lastitem.value], done: false};\n\t\t\t\tlastitem = item;\n\t\t\t\treturn result;\n\t\t\t}\n\t\t};\n\t};\n\n\t// Return an iterator over ``[isfirst, islast, item]`` lists from the iterable object ``iterable`` (``isfirst`` is true for the first item, ``islast`` is true for the last item. Both are false otherwise)\n\tul4._isfirstlast = function _isfirstlast(iterable)\n\t{\n\t\tlet iter = ul4._iter(iterable);\n\t\tlet isfirst = true;\n\t\tlet lastitem = iter.next();\n\t\treturn {\n\t\t\tnext: function() {\n\t\t\t\tif (lastitem.done)\n\t\t\t\t\treturn lastitem;\n\t\t\t\tlet item = iter.next();\n\t\t\t\tlet result = {value: [isfirst, item.done, lastitem.value], done: false};\n\t\t\t\tlastitem = item;\n\t\t\t\tisfirst = false;\n\t\t\t\treturn result;\n\t\t\t}\n\t\t};\n\t};\n\n\t// Return an iterator over ``[index, isfirst, islast, item]`` lists from the iterable object ``iterable`` (``isfirst`` is true for the first item, ``islast`` is true for the last item. Both are false otherwise)\n\tul4._enumfl = function _enumfl(iterable, start=0)\n\t{\n\t\tlet iter = ul4._iter(iterable);\n\t\tlet i = start;\n\t\tlet isfirst = true;\n\t\tlet lastitem = iter.next();\n\t\treturn {\n\t\t\tnext: function() {\n\t\t\t\tif (lastitem.done)\n\t\t\t\t\treturn lastitem;\n\t\t\t\tlet item = iter.next();\n\t\t\t\tlet result = {value: [i++, isfirst, item.done, lastitem.value], done: false};\n\t\t\t\tlastitem = item;\n\t\t\t\tisfirst = false;\n\t\t\t\treturn result;\n\t\t\t}\n\t\t};\n\t};\n\n\t// Return an iterator over lists, where the i'th list consists of all i'th items from the arguments (terminating when the shortest argument ends)\n\tul4._zip = function _zip(iterables)\n\t{\n\t\tlet result;\n\t\tif (iterables.length)\n\t\t{\n\t\t\tlet iters = [];\n\t\t\tfor (let i = 0; i < iterables.length; ++i)\n\t\t\t\titers.push(ul4._iter(iterables[i]));\n\n\t\t\treturn {\n\t\t\t\tnext: function() {\n\t\t\t\t\tlet items = [];\n\t\t\t\t\tfor (let i = 0; i < iters.length; ++i)\n\t\t\t\t\t{\n\t\t\t\t\t\tlet item = iters[i].next();\n\t\t\t\t\t\tif (item.done)\n\t\t\t\t\t\t\treturn item;\n\t\t\t\t\t\titems.push(item.value);\n\t\t\t\t\t}\n\t\t\t\t\treturn {value: items, done: false};\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t\telse\n\t\t{\n\t\t\treturn {\n\t\t\t\tnext: function() {\n\t\t\t\t\treturn {done: true};\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t};\n\n\t// Return the absolute value for the number ``number``\n\tul4._abs = function _abs(number)\n\t{\n\t\tif (number !== null && typeof(number.__abs__) === \"function\")\n\t\t\treturn number.__abs__();\n\t\treturn Math.abs(number);\n\t};\n\n\t// Return a ``Date`` object from the arguments passed in\n\tul4._date = function _date(year, month, day)\n\t{\n\t\treturn new ul4.Date(year, month, day);\n\t};\n\n\tul4._datetime = function _datetime(year, month, day, hour=0, minute=0, second=0, microsecond=0)\n\t{\n\t\treturn new Date(year, month-1, day, hour, minute, second, microsecond/1000);\n\t};\n\n\t// Return a ``TimeDelta`` object from the arguments passed in\n\tul4._timedelta = function _timedelta(days=0, seconds=0, microseconds=0)\n\t{\n\t\treturn new this.TimeDelta(days, seconds, microseconds);\n\t};\n\n\t// Return a ``MonthDelta`` object from the arguments passed in\n\tul4._monthdelta = function _monthdelta(months=0)\n\t{\n\t\treturn new this.MonthDelta(months);\n\t};\n\n\t// Return a ``Color`` object from the hue, luminescence, saturation and alpha values ``h``, ``l``, ``s`` and ``a`` (i.e. using the HLS color model)\n\tul4._hls = function _hls(h, l, s, a)\n\t{\n\t\tlet _v = function(m1, m2, hue)\n\t\t{\n\t\t\thue = hue % 1.0;\n\t\t\tif (hue < 1/6)\n\t\t\t\treturn m1 + (m2-m1)*hue*6.0;\n\t\t\telse if (hue < 0.5)\n\t\t\t\treturn m2;\n\t\t\telse if (hue < 2/3)\n\t\t\t\treturn m1 + (m2-m1)*(2/3-hue)*6.0;\n\t\t\treturn m1;\n\t\t};\n\n\t\tlet m1, m2;\n\t\tif (typeof(a) === \"undefined\")\n\t\t\ta = 1;\n\t\tif (s === 0.0)\n\t\t\treturn ul4._rgb(l, l, l, a);\n\t\tif (l <= 0.5)\n\t\t\tm2 = l * (1.0+s);\n\t\telse\n\t\t\tm2 = l+s-(l*s);\n\t\tm1 = 2.0*l - m2;\n\t\treturn ul4._rgb(_v(m1, m2, h+1/3), _v(m1, m2, h), _v(m1, m2, h-1/3), a);\n\t};\n\n\t// Return a ``Color`` object from the hue, saturation, value and alpha values ``h``, ``s``, ``v`` and ``a`` (i.e. using the HSV color model)\n\tul4._hsv = function _hsv(h, s, v, a)\n\t{\n\t\tif (s === 0.0)\n\t\t\treturn ul4._rgb(v, v, v, a);\n\t\tlet i = Math.floor(h*6.0);\n\t\tlet f = (h*6.0) - i;\n\t\tlet p = v*(1.0 - s);\n\t\tlet q = v*(1.0 - s*f);\n\t\tlet t = v*(1.0 - s*(1.0-f));\n\t\tswitch (i%6)\n\t\t{\n\t\t\tcase 0:\n\t\t\t\treturn ul4._rgb(v, t, p, a);\n\t\t\tcase 1:\n\t\t\t\treturn ul4._rgb(q, v, p, a);\n\t\t\tcase 2:\n\t\t\t\treturn ul4._rgb(p, v, t, a);\n\t\t\tcase 3:\n\t\t\t\treturn ul4._rgb(p, q, v, a);\n\t\t\tcase 4:\n\t\t\t\treturn ul4._rgb(t, p, v, a);\n\t\t\tcase 5:\n\t\t\t\treturn ul4._rgb(v, p, q, a);\n\t\t}\n\t};\n\n\t// Return the item with the key ``key`` from the dict ``container``. If ``container`` doesn't have this key, return ``defaultvalue``\n\tul4._get = function _get(container, key, defaultvalue)\n\t{\n\t\tif (ul4._ismap(container))\n\t\t{\n\t\t\tif (container.has(key))\n\t\t\t\treturn container.get(key);\n\t\t\treturn defaultvalue;\n\t\t}\n\t\telse if (ul4._isobject(container))\n\t\t{\n\t\t\tlet result = container[key];\n\t\t\tif (typeof(result) === \"undefined\")\n\t\t\t\treturn defaultvalue;\n\t\t\treturn result;\n\t\t}\n\t\tthrow new ul4.TypeError(\"get() requires a dict\");\n\t};\n\n\t// Return a ``Date`` object for the current time\n\tul4.now = function now()\n\t{\n\t\treturn new Date();\n\t};\n\n\t// Return a ``Date`` object for the current time in UTC\n\tul4.utcnow = function utcnow()\n\t{\n\t\tlet now = new Date();\n\t\t// FIXME: The timezone is wrong for the new ``Date`` object.\n\t\treturn new Date(now.getUTCFullYear(), now.getUTCMonth(), now.getUTCDate(), now.getUTCHours(), now.getUTCMinutes(), now.getUTCSeconds(), now.getUTCMilliseconds());\n\t};\n\n\t// Return an ``ul4.Date`` object for today\n\tul4.today = function today()\n\t{\n\t\tlet now = new Date();\n\t\treturn new ul4.Date(now.getFullYear(), now.getMonth()+1, now.getDate());\n\t};\n\n\tul4.functions = {\n\t\trepr: ul4._repr,\n\t\tascii: ul4._ascii,\n\t\tstr: ul4._str,\n\t\tint: ul4._int,\n\t\tfloat: ul4._float,\n\t\tlist: ul4._list,\n\t\tset: ul4._set,\n\t\tbool: ul4._bool,\n\t\tlen: ul4._len,\n\t\ttype: ul4._type,\n\t\tformat: ul4._format,\n\t\tany: ul4._any,\n\t\tall: ul4._all,\n\t\tzip: ul4._zip,\n\t\tgetattr: ul4._getattr,\n\t\thasattr: ul4._hasattr,\n\t\tdir: ul4._dir,\n\t\tisundefined: ul4._isundefined,\n\t\tisdefined: ul4._isdefined,\n\t\tisnone: ul4._isnone,\n\t\tisbool: ul4._isbool,\n\t\tisint: ul4._isint,\n\t\tisfloat: ul4._isfloat,\n\t\tisstr: ul4._isstr,\n\t\tisdate: ul4._isdate,\n\t\tisdatetime: ul4._isdatetime,\n\t\tiscolor: ul4._iscolor,\n\t\tistimedelta: ul4._istimedelta,\n\t\tismonthdelta: ul4._ismonthdelta,\n\t\tistemplate: ul4._istemplate,\n\t\tisfunction: ul4._isfunction,\n\t\tislist: ul4._islist,\n\t\tisset: ul4._isanyset,\n\t\tisdict: ul4._isdict,\n\t\tisexception: ul4._isexception,\n\t\tasjson: ul4._asjson,\n\t\tfromjson: ul4._fromjson,\n\t\tasul4on: ul4._asul4on,\n\t\tfromul4on: ul4._fromul4on,\n\t\tnow: ul4.now,\n\t\tutcnow: ul4.utcnow,\n\t\ttoday: ul4.today,\n\t\tenumerate: ul4._enumerate,\n\t\tisfirst: ul4._isfirst,\n\t\tislast: ul4._islast,\n\t\tisfirstlast: ul4._isfirstlast,\n\t\tenumfl: ul4._enumfl,\n\t\tabs: ul4._abs,\n\t\tdate: ul4._date,\n\t\tdatetime: ul4._datetime,\n\t\ttimedelta: ul4._timedelta,\n\t\tmonthdelta: ul4._monthdelta,\n\t\trgb: ul4._rgb,\n\t\thls: ul4._hls,\n\t\thsv: ul4._hsv,\n\t\txmlescape: ul4._xmlescape,\n\t\tcsv: ul4._csv,\n\t\tchr: ul4._chr,\n\t\tord: ul4._ord,\n\t\thex: ul4._hex,\n\t\toct: ul4._oct,\n\t\tbin: ul4._bin,\n\t\tmin: ul4._min,\n\t\tmax: ul4._max,\n\t\tsum: ul4._sum,\n\t\tfirst: ul4._first,\n\t\tlast: ul4._last,\n\t\tsorted: ul4._sorted,\n\t\trange: ul4._range,\n\t\tslice: ul4._slice,\n\t\turlquote: ul4._urlquote,\n\t\turlunquote: ul4._urlunquote,\n\t\treversed: ul4._reversed,\n\t\trandom: ul4._random,\n\t\trandrange: ul4._randrange,\n\t\trandchoice: ul4._randchoice,\n\t\tround: ul4._round,\n\t\tmd5: ul4._md5\n\t};\n\n\tul4.expose(ul4._repr, [\"obj\"], {name: \"repr\"});\n\tul4.expose(ul4._ascii, [\"obj\"], {name: \"ascii\"});\n\tul4.expose(ul4._str, [\"obj=\", \"\"], {name: \"str\"});\n\tul4.expose(ul4._int, [\"obj=\", 0, \"base=\", null], {name: \"int\"});\n\tul4.expose(ul4._float, [\"obj=\", 0.0], {name: \"float\"});\n\tul4.expose(ul4._list, [\"iterable=\", []], {name: \"list\"});\n\tul4.expose(ul4._set, [\"iterable=\", []], {name: \"set\"});\n\tul4.expose(ul4._bool, [\"obj=\", false], {name: \"bool\"});\n\tul4.expose(ul4._len, [\"sequence\"], {name: \"len\"});\n\tul4.expose(ul4._type, [\"obj\"], {name: \"type\"});\n\tul4.expose(ul4._format, [\"obj\", \"fmt\", \"lang=\", null], {name: \"format\"});\n\tul4.expose(ul4._any, [\"iterable\"], {name: \"any\"});\n\tul4.expose(ul4._all, [\"iterable\"], {name: \"all\"});\n\tul4.expose(ul4._zip, [\"*iterables\"], {name: \"zip\"});\n\tul4.expose(ul4._getattr, [\"obj\", \"attrname\", \"default=\", null], {name: \"getattr\"});\n\tul4.expose(ul4._hasattr, [\"obj\", \"attrname\"], {name: \"hasattr\"});\n\tul4.expose(ul4._dir, [\"obj\"], {name: \"dir\"});\n\tul4.expose(ul4._isundefined, [\"obj\"], {name: \"isundefined\"});\n\tul4.expose(ul4._isdefined, [\"obj\"], {name: \"isdefined\"});\n\tul4.expose(ul4._isnone, [\"obj\"], {name: \"isnone\"});\n\tul4.expose(ul4._isbool, [\"obj\"], {name: \"isbool\"});\n\tul4.expose(ul4._isint, [\"obj\"], {name: \"isint\"});\n\tul4.expose(ul4._isfloat, [\"obj\"], {name: \"isfloat\"});\n\tul4.expose(ul4._isstr, [\"obj\"], {name: \"isstr\"});\n\tul4.expose(ul4._isdate, [\"obj\"], {name: \"isdate\"});\n\tul4.expose(ul4._isdatetime, [\"obj\"], {name: \"isdatetime\"});\n\tul4.expose(ul4._iscolor, [\"obj\"], {name: \"iscolor\"});\n\tul4.expose(ul4._istimedelta, [\"obj\"], {name: \"istimedelta\"});\n\tul4.expose(ul4._ismonthdelta, [\"obj\"], {name: \"ismonthdelta\"});\n\tul4.expose(ul4._istemplate, [\"obj\"], {name: \"istemplate\"});\n\tul4.expose(ul4._isfunction, [\"obj\"], {name: \"isfunction\"});\n\tul4.expose(ul4._islist, [\"obj\"], {name: \"islist\"});\n\tul4.expose(ul4._isanyset, [\"obj\"], {name: \"isset\"});\n\tul4.expose(ul4._isdict, [\"obj\"], {name: \"isdict\"});\n\tul4.expose(ul4._isexception, [\"obj\"], {name: \"isexception\"});\n\tul4.expose(ul4._asjson, [\"obj\"], {name: \"asjson\"});\n\tul4.expose(ul4._fromjson, [\"string\"], {name: \"fromjson\"});\n\tul4.expose(ul4._asul4on, [\"obj\"], {name: \"asul4on\"});\n\tul4.expose(ul4._fromul4on, [\"string\"], {name: \"fromul4on\"});\n\tul4.expose(ul4.now, []);\n\tul4.expose(ul4.utcnow, []);\n\tul4.expose(ul4.today, []);\n\tul4.expose(ul4._enumerate, [\"iterable\", \"start=\", 0], {name: \"enumerate\"});\n\tul4.expose(ul4._isfirst, [\"iterable\"], {name: \"isfirst\"});\n\tul4.expose(ul4._islast, [\"iterable\"], {name: \"islast\"});\n\tul4.expose(ul4._isfirstlast, [\"iterable\"], {name: \"isfirstlast\"});\n\tul4.expose(ul4._enumfl, [\"iterable\", \"start=\", 0], {name: \"enumfl\"});\n\tul4.expose(ul4._abs, [\"number\"], {name: \"abs\"});\n\tul4.expose(ul4._date, [\"year\", \"month\", \"day\"], {name: \"date\"});\n\tul4.expose(ul4._datetime, [\"year\", \"month\", \"day\", \"hour=\", 0, \"minute=\", 0, \"second=\", 0, \"microsecond=\", 0], {name: \"datetime\"});\n\tul4.expose(ul4._timedelta, [\"days=\", 0, \"seconds=\", 0, \"microseconds=\", 0], {name: \"timedelta\"});\n\tul4.expose(ul4._monthdelta, [\"months=\", 0], {name: \"monthdelta\"});\n\tul4.expose(ul4._rgb, [\"r\", \"g\", \"b\", \"a=\", 1.0], {name: \"rgb\"});\n\tul4.expose(ul4._hls, [\"h\", \"l\", \"s\", \"a=\", 1.0], {name: \"hls\"});\n\tul4.expose(ul4._hsv, [\"h\", \"s\", \"v\", \"a=\", 1.0], {name: \"hsv\"});\n\tul4.expose(ul4._xmlescape, [\"obj\"], {name: \"xmlescape\"});\n\tul4.expose(ul4._csv, [\"obj\"], {name: \"csv\"});\n\tul4.expose(ul4._chr, [\"i\"], {name: \"chr\"});\n\tul4.expose(ul4._ord, [\"c\"], {name: \"ord\"});\n\tul4.expose(ul4._hex, [\"number\"], {name: \"hex\"});\n\tul4.expose(ul4._oct, [\"number\"], {name: \"oct\"});\n\tul4.expose(ul4._bin, [\"number\"], {name: \"bin\"});\n\tul4.expose(ul4._min, [\"*obj\"], {name: \"min\"});\n\tul4.expose(ul4._max, [\"*obj\"], {name: \"max\"});\n\tul4.expose(ul4._sum, [\"iterable\", \"start=\", 0], {name: \"sum\"});\n\tul4.expose(ul4._first, [\"iterable\", \"default=\", null], {name: \"first\"});\n\tul4.expose(ul4._last, [\"iterable\", \"default=\", null], {name: \"last\"});\n\tul4.expose(ul4._sorted, [\"iterable\", \"key=\", null, \"reverse=\", false], {name: \"sorted\", needscontext: true});\n\tul4.expose(ul4._range, [\"*args\"], {name: \"range\"});\n\tul4.expose(ul4._slice, [\"*args\"], {name: \"slice\"});\n\tul4.expose(ul4._urlquote, [\"string\"], {name: \"urlquote\"});\n\tul4.expose(ul4._urlunquote, [\"string\"], {name: \"urlunquote\"});\n\tul4.expose(ul4._reversed, [\"sequence\"], {name: \"reversed\"});\n\tul4.expose(ul4._random, [], {name: \"random\"});\n\tul4.expose(ul4._randrange, [\"*args\"], {name: \"randrange\"});\n\tul4.expose(ul4._randchoice, [\"sequence\"], {name: \"randchoice\"});\n\tul4.expose(ul4._round, [\"x\", \"digit=\", 0], {name: \"round\"});\n\tul4.expose(ul4._md5, [\"string\"], {name: \"md5\"});\n\n\t// Functions implementing UL4 methods\n\tul4._count = function _count(obj, sub, start=null, end=null)\n\t{\n\t\tif (start < 0)\n\t\t\tstart += obj.length;\n\t\tif (start === null)\n\t\t\tstart = 0;\n\n\t\tif (end < 0)\n\t\t\tend += obj.length;\n\t\tif (end === null)\n\t\t\tend = obj.length;\n\n\t\tlet isstr = ul4._isstr(obj);\n\n\t\tif (isstr && !sub.length)\n\t\t{\n\t\t\tif (end < 0 || start > obj.length || start > end)\n\t\t\t\treturn 0;\n\t\t\tlet result = end - start + 1;\n\t\t\tif (result > obj.length + 1)\n\t\t\t\tresult = obj.length + 1;\n\t\t\treturn result;\n\t\t}\n\n\t\tstart = ul4._bound(start, obj.length);\n\t\tend = ul4._bound(end, obj.length);\n\n\t\tlet count = 0;\n\t\tif (ul4._islist(obj))\n\t\t{\n\t\t\tfor (let i = start; i < end; ++i)\n\t\t\t{\n\t\t\t\tif (ul4._eq(obj[i], sub))\n\t\t\t\t\t++count;\n\t\t\t}\n\t\t\treturn count;\n\t\t}\n\t\telse // string\n\t\t{\n\t\t\tlet lastIndex = start;\n\n\t\t\tfor (;;)\n\t\t\t{\n\t\t\t\tlastIndex = obj.indexOf(sub, lastIndex);\n\t\t\t\tif (lastIndex == -1)\n\t\t\t\t\tbreak;\n\t\t\t\tif (lastIndex + sub.length > end)\n\t\t\t\t\tbreak;\n\t\t\t\t++count;\n\t\t\t\tlastIndex += sub.length;\n\t\t\t}\n\t\t\treturn count;\n\t\t}\n\t};\n\n\tul4._find = function _find(obj, sub, start=null, end=null)\n\t{\n\t\tif (start < 0)\n\t\t\tstart += obj.length;\n\t\tif (start === null)\n\t\t\tstart = 0;\n\t\tif (end < 0)\n\t\t\tend += obj.length;\n\t\tif (end === null)\n\t\t\tend = obj.length;\n\t\tstart = ul4._bound(start, obj.length);\n\t\tend = ul4._bound(end, obj.length);\n\n\t\tif (start !== 0 || end !== obj.length)\n\t\t{\n\t\t\tif (typeof(obj) == \"string\")\n\t\t\t\tobj = obj.substring(start, end);\n\t\t\telse\n\t\t\t\tobj = obj.slice(start, end);\n\t\t}\n\t\tlet result = obj.indexOf(sub);\n\t\tif (result !== -1)\n\t\t\tresult += start;\n\t\treturn result;\n\t};\n\n\tul4._rfind = function _rfind(obj, sub, start=null, end=null)\n\t{\n\t\tif (start < 0)\n\t\t\tstart += obj.length;\n\t\tif (start === null)\n\t\t\tstart = 0;\n\t\tif (end < 0)\n\t\t\tend += obj.length;\n\t\tif (end === null)\n\t\t\tend = obj.length;\n\t\tstart = ul4._bound(start, obj.length);\n\t\tend = ul4._bound(end, obj.length);\n\n\t\tif (start !== 0 || end !== obj.length)\n\t\t{\n\t\t\tif (typeof(obj) == \"string\")\n\t\t\t\tobj = obj.substring(start, end);\n\t\t\telse\n\t\t\t\tobj = obj.slice(start, end);\n\t\t}\n\t\tlet result = obj.lastIndexOf(sub);\n\t\tif (result !== -1)\n\t\t\tresult += start;\n\t\treturn result;\n\t};\n\n\tul4._week4format = function _week(obj, firstweekday=null)\n\t{\n\t\tif (firstweekday === null)\n\t\t\tfirstweekday = 0;\n\t\telse\n\t\t\tfirstweekday %= 7;\n\n\t\tlet yearday = ul4.DateTimeProtocol.yearday(obj)+6;\n\t\tlet jan1 = new Date(obj.getFullYear(), 0, 1);\n\t\tlet jan1weekday = jan1.getDay();\n\t\tif (--jan1weekday < 0)\n\t\t\tjan1weekday = 6;\n\n\t\twhile (jan1weekday != firstweekday)\n\t\t{\n\t\t\t--yearday;\n\t\t\tif (++jan1weekday == 7)\n\t\t\t\tjan1weekday = 0;\n\t\t}\n\t\treturn Math.floor(yearday/7);\n\t};\n\n\tul4._isleap = function _isleap(obj)\n\t{\n\t\treturn new Date(obj.getFullYear(), 1, 29).getMonth() === 1;\n\t};\n\n\tul4._update = function _update(obj, others, kwargs)\n\t{\n\t\tif (!ul4._isdict(obj))\n\t\t\tthrow new ul4.TypeError(\"update() requires a dict\");\n\t\tfor (let i = 0; i < others.length; ++i)\n\t\t{\n\t\t\tlet other = others[i];\n\t\t\tif (ul4._ismap(other))\n\t\t\t{\n\t\t\t\tother.forEach(function(value, key) {\n\t\t\t\t\tul4._setmap(obj, key, value);\n\t\t\t\t});\n\t\t\t}\n\t\t\telse if (ul4._isobject(other))\n\t\t\t{\n\t\t\t\tfor (let key in other)\n\t\t\t\t\tul4._setmap(obj, key, other[key]);\n\t\t\t}\n\t\t\telse if (ul4._islist(other))\n\t\t\t{\n\t\t\t\tfor (let i = 0; i < other.length; ++i)\n\t\t\t\t{\n\t\t\t\t\tlet item = other[i];\n\t\t\t\t\tif (!ul4._islist(item) || (item.length != 2))\n\t\t\t\t\t\tthrow new ul4.TypeError(\"update() requires a dict or a list of (key, value) pairs\");\n\t\t\t\t\tul4._setmap(obj, item[0], item[1]);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t\tthrow new ul4.TypeError(\"update() requires a dict or a list of (key, value) pairs\");\n\t\t}\n\t\tkwargs.forEach(function(value, key) {\n\t\t\tul4._setmap(obj, key, value);\n\t\t});\n\t\treturn null;\n\t};\n\n\tul4.Color = class Color extends ul4.Proto\n\t{\n\t\tconstructor(r=0, g=0, b=0, a=255)\n\t\t{\n\t\t\tsuper();\n\t\t\tthis._r = r;\n\t\t\tthis._g = g;\n\t\t\tthis._b = b;\n\t\t\tthis._a = a;\n\t\t}\n\n\t\t__repr__()\n\t\t{\n\t\t\tlet r = ul4._lpad(this._r.toString(16), \"0\", 2);\n\t\t\tlet g = ul4._lpad(this._g.toString(16), \"0\", 2);\n\t\t\tlet b = ul4._lpad(this._b.toString(16), \"0\", 2);\n\t\t\tlet a = ul4._lpad(this._a.toString(16), \"0\", 2);\n\t\t\tif (this._a !== 0xff)\n\t\t\t{\n\t\t\t\tif (r[0] === r[1] && g[0] === g[1] && b[0] === b[1] && a[0] === a[1])\n\t\t\t\t\treturn \"#\" + r[0] + g[0] + b[0] + a[0];\n\t\t\t\telse\n\t\t\t\t\treturn \"#\" + r + g + b + a;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tif (r[0] === r[1] && g[0] === g[1] && b[0] === b[1])\n\t\t\t\t\treturn \"#\" + r[0] + g[0] + b[0];\n\t\t\t\telse\n\t\t\t\t\treturn \"#\" + r + g + b;\n\t\t\t}\n\t\t}\n\n\t\t__str__()\n\t\t{\n\t\t\tif (this._a !== 0xff)\n\t\t\t{\n\t\t\t\treturn \"rgba(\" + this._r + \", \" + this._g + \", \" + this._b + \", \" + (this._a/255) + \")\";\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tlet r = ul4._lpad(this._r.toString(16), \"0\", 2);\n\t\t\t\tlet g = ul4._lpad(this._g.toString(16), \"0\", 2);\n\t\t\t\tlet b = ul4._lpad(this._b.toString(16), \"0\", 2);\n\t\t\t\tif (r[0] === r[1] && g[0] === g[1] && b[0] === b[1])\n\t\t\t\t\treturn \"#\" + r[0] + g[0] + b[0];\n\t\t\t\telse\n\t\t\t\t\treturn \"#\" + r + g + b;\n\t\t\t}\n\t\t}\n\n\t\t__iter__()\n\t\t{\n\t\t\treturn {\n\t\t\t\tobj: this,\n\t\t\t\tindex: 0,\n\t\t\t\tnext: function() {\n\t\t\t\t\tif (this.index == 0)\n\t\t\t\t\t{\n\t\t\t\t\t\t++this.index;\n\t\t\t\t\t\treturn {value: this.obj._r, done: false};\n\t\t\t\t\t}\n\t\t\t\t\telse if (this.index == 1)\n\t\t\t\t\t{\n\t\t\t\t\t\t++this.index;\n\t\t\t\t\t\treturn {value: this.obj._g, done: false};\n\t\t\t\t\t}\n\t\t\t\t\telse if (this.index == 2)\n\t\t\t\t\t{\n\t\t\t\t\t\t++this.index;\n\t\t\t\t\t\treturn {value: this.obj._b, done: false};\n\t\t\t\t\t}\n\t\t\t\t\telse if (this.index == 3)\n\t\t\t\t\t{\n\t\t\t\t\t\t++this.index;\n\t\t\t\t\t\treturn {value: this.obj._a, done: false};\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t\treturn {done: true};\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\n\t\t__getattr__(attrname)\n\t\t{\n\t\t\tlet self = this;\n\t\t\tswitch (attrname)\n\t\t\t{\n\t\t\t\tcase \"r\":\n\t\t\t\t\tlet r = function r(){ return self._r; };\n\t\t\t\t\tul4.expose(r, []);\n\t\t\t\t\treturn r;\n\t\t\t\tcase \"g\":\n\t\t\t\t\tlet g = function g(){ return self._g; };\n\t\t\t\t\tul4.expose(g, []);\n\t\t\t\t\treturn g;\n\t\t\t\tcase \"b\":\n\t\t\t\t\tlet b = function b(){ return self._b; };\n\t\t\t\t\tul4.expose(b, []);\n\t\t\t\t\treturn b;\n\t\t\t\tcase \"a\":\n\t\t\t\t\tlet a = function a(){ return self._a; };\n\t\t\t\t\tul4.expose(a, []);\n\t\t\t\t\treturn a;\n\t\t\t\tcase \"lum\":\n\t\t\t\t\tlet lum = function lum(){ return self.lum(); };\n\t\t\t\t\tul4.expose(lum, []);\n\t\t\t\t\treturn lum;\n\t\t\t\tcase \"hls\":\n\t\t\t\t\tlet hls = function hls(){ return self.hls(); };\n\t\t\t\t\tul4.expose(hls, []);\n\t\t\t\t\treturn hls;\n\t\t\t\tcase \"hlsa\":\n\t\t\t\t\tlet hlsa = function hlsa(){ return self.hlsa(); };\n\t\t\t\t\tul4.expose(hlsa, []);\n\t\t\t\t\treturn hlsa;\n\t\t\t\tcase \"hsv\":\n\t\t\t\t\tlet hsv = function hsv(){ return self.hsv(); };\n\t\t\t\t\tul4.expose(hsv, []);\n\t\t\t\t\treturn hsv;\n\t\t\t\tcase \"hsva\":\n\t\t\t\t\tlet hsva = function hsva(){ return self.hsva(); };\n\t\t\t\t\tul4.expose(hsva, []);\n\t\t\t\t\treturn hsva;\n\t\t\t\tcase \"witha\":\n\t\t\t\t\tlet witha = function witha(a){ return self.witha(a); };\n\t\t\t\t\tul4.expose(witha, [\"a\"]);\n\t\t\t\t\treturn witha;\n\t\t\t\tcase \"withlum\":\n\t\t\t\t\tlet withlum = function withlum(lum){ return self.withlum(lum); };\n\t\t\t\t\tul4.expose(withlum, [\"lum\"]);\n\t\t\t\t\treturn withlum;\n\t\t\t\tcase \"abslum\":\n\t\t\t\t\tlet abslum = function abslum(lum){ return self.abslum(lum); };\n\t\t\t\t\tul4.expose(abslum, [\"lum\"]);\n\t\t\t\t\treturn abslum;\n\t\t\t\tcase \"rellum\":\n\t\t\t\t\tlet rellum = function rellum(lum){ return self.rellum(lum); };\n\t\t\t\t\tul4.expose(rellum, [\"lum\"]);\n\t\t\t\t\treturn rellum;\n\t\t\t\tdefault:\n\t\t\t\t\tthrow new ul4.AttributeError(this, attrname);\n\t\t\t}\n\t\t}\n\n\t\t__getitem__(key)\n\t\t{\n\t\t\tlet orgkey = key;\n\t\t\tif (key < 0)\n\t\t\t\tkey += 4;\n\t\t\tswitch (key)\n\t\t\t{\n\t\t\t\tcase 0:\n\t\t\t\t\treturn this._r;\n\t\t\t\tcase 1:\n\t\t\t\t\treturn this._g;\n\t\t\t\tcase 2:\n\t\t\t\t\treturn this._b;\n\t\t\t\tcase 3:\n\t\t\t\t\treturn this._a;\n\t\t\t\tdefault:\n\t\t\t\t\tthrow new ul4.IndexError(this, orgkey);\n\t\t\t}\n\t\t}\n\n\t\t__eq__(other)\n\t\t{\n\t\t\tif (other instanceof ul4.Color)\n\t\t\t\treturn this._r == other._r && this._g == other._g && this._b == other._b && this._a == other._a;\n\t\t\treturn false;\n\t\t}\n\n\t\tr()\n\t\t{\n\t\t\t\treturn this._r;\n\t\t}\n\n\t\tg()\n\t\t{\n\t\t\treturn this._g;\n\t\t}\n\n\t\tb()\n\t\t{\n\t\t\treturn this._b;\n\t\t}\n\n\t\ta()\n\t\t{\n\t\t\treturn this._a;\n\t\t}\n\n\t\tlum()\n\t\t{\n\t\t\treturn this.hls()[1];\n\t\t}\n\n\t\thls()\n\t\t{\n\t\t\tlet r = this._r/255.0;\n\t\t\tlet g = this._g/255.0;\n\t\t\tlet b = this._b/255.0;\n\t\t\tlet maxc = Math.max(r, g, b);\n\t\t\tlet minc = Math.min(r, g, b);\n\t\t\tlet h, l, s;\n\t\t\tlet rc, gc, bc;\n\n\t\t\tl = (minc+maxc)/2.0;\n\t\t\tif (minc == maxc)\n\t\t\t\treturn [0.0, l, 0.0];\n\t\t\tif (l <= 0.5)\n\t\t\t\ts = (maxc-minc) / (maxc+minc);\n\t\t\telse\n\t\t\t\ts = (maxc-minc) / (2.0-maxc-minc);\n\t\t\trc = (maxc-r) / (maxc-minc);\n\t\t\tgc = (maxc-g) / (maxc-minc);\n\t\t\tbc = (maxc-b) / (maxc-minc);\n\t\t\tif (r == maxc)\n\t\t\t\th = bc-gc;\n\t\t\telse if (g == maxc)\n\t\t\t\th = 2.0+rc-bc;\n\t\t\telse\n\t\t\t\th = 4.0+gc-rc;\n\t\t\th = (h/6.0) % 1.0;\n\t\t\treturn [h, l, s];\n\t\t}\n\n\t\thlsa()\n\t\t{\n\t\t\tlet hls = this.hls();\n\t\t\treturn hls.concat(this._a/255.0);\n\t\t}\n\n\t\thsv()\n\t\t{\n\t\t\tlet r = this._r/255.0;\n\t\t\tlet g = this._g/255.0;\n\t\t\tlet b = this._b/255.0;\n\t\t\tlet maxc = Math.max(r, g, b);\n\t\t\tlet minc = Math.min(r, g, b);\n\t\t\tlet v = maxc;\n\t\t\tif (minc == maxc)\n\t\t\t\treturn [0.0, 0.0, v];\n\t\t\tlet s = (maxc-minc) / maxc;\n\t\t\tlet rc = (maxc-r) / (maxc-minc);\n\t\t\tlet gc = (maxc-g) / (maxc-minc);\n\t\t\tlet bc = (maxc-b) / (maxc-minc);\n\t\t\tlet h;\n\t\t\tif (r == maxc)\n\t\t\t\th = bc-gc;\n\t\t\telse if (g == maxc)\n\t\t\t\th = 2.0+rc-bc;\n\t\t\telse\n\t\t\t\th = 4.0+gc-rc;\n\t\t\th = (h/6.0) % 1.0;\n\t\t\treturn [h, s, v];\n\t\t}\n\n\t\thsva()\n\t\t{\n\t\t\tlet hsv = this.hsv();\n\t\t\treturn hsv.concat(this._a/255.0);\n\t\t}\n\n\t\twitha(a)\n\t\t{\n\t\t\tif (typeof(a) !== \"number\")\n\t\t\t\tthrow new ul4.TypeError(\"witha() requires a number\");\n\t\t\treturn new ul4.Color(this._r, this._g, this._b, a);\n\t\t}\n\n\t\twithlum(lum)\n\t\t{\n\t\t\tif (typeof(lum) !== \"number\")\n\t\t\t\tthrow new ul4.TypeError(\"witha() requires a number\");\n\t\t\tlet hlsa = this.hlsa();\n\t\t\treturn ul4._hls(hlsa[0], lum, hlsa[2], hlsa[3]);\n\t\t}\n\n\t\tul4type()\n\t\t{\n\t\t\treturn \"color\";\n\t\t}\n\t};\n\n\tul4.expose(ul4.Color.prototype.r, []);\n\tul4.expose(ul4.Color.prototype.g, []);\n\tul4.expose(ul4.Color.prototype.b, []);\n\tul4.expose(ul4.Color.prototype.a, []);\n\tul4.expose(ul4.Color.prototype.lum, []);\n\tul4.expose(ul4.Color.prototype.hls, []);\n\tul4.expose(ul4.Color.prototype.hlsa, []);\n\tul4.expose(ul4.Color.prototype.hsv, []);\n\tul4.expose(ul4.Color.prototype.hsva, []);\n\tul4.expose(ul4.Color.prototype.witha, [\"a\"]);\n\tul4.expose(ul4.Color.prototype.withlum, [\"lum\"]);\n\n\tconst _js_Date = Date;\n\n\tul4.Date = class Date extends ul4.Proto\n\t{\n\t\tconstructor(year, month, day)\n\t\t{\n\t\t\tsuper();\n\t\t\tthis._date = new _js_Date(year, month-1, day);\n\t\t}\n\n\t\t__repr__()\n\t\t{\n\t\t\treturn '@(' + this.__str__() + \")\";\n\t\t}\n\n\t\t__str__()\n\t\t{\n\t\t\treturn ul4._lpad(this._date.getFullYear(), \"0\", 4) + \"-\" + ul4._lpad(this._date.getMonth()+1, \"0\", 2) + \"-\" + ul4._lpad(this._date.getDate(), \"0\", 2);\n\t\t}\n\n\t\t__eq__(other)\n\t\t{\n\t\t\tif (other instanceof ul4.Date)\n\t\t\t\treturn this._date.getTime() === other._date.getTime();\n\t\t\treturn false;\n\t\t}\n\n\t\t__lt__(other)\n\t\t{\n\t\t\tif (other instanceof ul4.Date)\n\t\t\t\treturn this._date < other._date;\n\t\t\tul4._unorderable(\"<\", this, other);\n\t\t}\n\n\t\t__le__(other)\n\t\t{\n\t\t\tif (other instanceof ul4.Date)\n\t\t\t\treturn this._date <= other._date;\n\t\t\tul4._unorderable(\"<=\", this, other);\n\t\t}\n\n\t\t__gt__(other)\n\t\t{\n\t\t\tif (other instanceof ul4.Date)\n\t\t\t\treturn this._date > other._date;\n\t\t\tul4._unorderable(\">\", this, other);\n\t\t}\n\n\t\t__ge__(other)\n\t\t{\n\t\t\tif (other instanceof ul4.Date)\n\t\t\t\treturn this._date >= other._date;\n\t\t\tul4._unorderable(\">=\", this, other);\n\t\t}\n\n\t\tyear()\n\t\t{\n\t\t\treturn this._date.getFullYear();\n\t\t}\n\n\t\tmonth()\n\t\t{\n\t\t\treturn this._date.getMonth()+1;\n\t\t}\n\n\t\tday()\n\t\t{\n\t\t\treturn this._date.getDate();\n\t\t}\n\n\t\tul4type()\n\t\t{\n\t\t\treturn \"date\";\n\t\t}\n\t};\n\n\n\tul4.TimeDelta = class TimeDelta extends ul4.Proto\n\t{\n\t\tconstructor(days=0, seconds=0, microseconds=0)\n\t\t{\n\t\t\tsuper();\n\t\t\tlet total_microseconds = Math.floor((days * 86400 + seconds)*1000000 + microseconds);\n\n\t\t\tmicroseconds = ul4.ModAST.prototype._do(total_microseconds, 1000000);\n\t\t\tlet total_seconds = Math.floor(total_microseconds / 1000000);\n\t\t\tseconds = ul4.ModAST.prototype._do(total_seconds, 86400);\n\t\t\tdays = Math.floor(total_seconds / 86400);\n\t\t\tif (seconds < 0)\n\t\t\t{\n\t\t\t\tseconds += 86400;\n\t\t\t\t--days;\n\t\t\t}\n\n\t\t\tthis._microseconds = microseconds;\n\t\t\tthis._seconds = seconds;\n\t\t\tthis._days = days;\n\t\t}\n\n\t\t__repr__()\n\t\t{\n\t\t\tlet v = [], first = true;\n\t\t\tv.push(\"timedelta(\");\n\t\t\tif (this._days)\n\t\t\t{\n\t\t\t\tv.push(\"days=\" + this._days);\n\t\t\t\tfirst = false;\n\t\t\t}\n\t\t\tif (this._seconds)\n\t\t\t{\n\t\t\t\tif (!first)\n\t\t\t\t\tv.push(\", \");\n\t\t\t\tv.push(\"seconds=\" + this._seconds);\n\t\t\t\tfirst = false;\n\t\t\t}\n\t\t\tif (this._microseconds)\n\t\t\t{\n\t\t\t\tif (!first)\n\t\t\t\t\tv.push(\", \");\n\t\t\t\tv.push(\"microseconds=\" + this._microseconds);\n\t\t\t}\n\t\t\tv.push(\")\");\n\t\t\treturn v.join(\"\");\n\t\t}\n\n\t\t__str__()\n\t\t{\n\t\t\tlet v = [];\n\t\t\tif (this._days)\n\t\t\t{\n\t\t\t\tv.push(this._days + \" day\");\n\t\t\t\tif (this._days !== -1 && this._days !== 1)\n\t\t\t\t\tv.push(\"s\");\n\t\t\t\tv.push(\", \");\n\t\t\t}\n\t\t\tlet seconds = this._seconds % 60;\n\t\t\tlet minutes = Math.floor(this._seconds / 60);\n\t\t\tlet hours = Math.floor(minutes / 60);\n\t\t\tminutes = minutes % 60;\n\n\t\t\tv.push(\"\" + hours);\n\t\t\tv.push(\":\");\n\t\t\tv.push(ul4._lpad(minutes.toString(), \"0\", 2));\n\t\t\tv.push(\":\");\n\t\t\tv.push(ul4._lpad(seconds.toString(), \"0\", 2));\n\t\t\tif (this._microseconds)\n\t\t\t{\n\t\t\t\tv.push(\".\");\n\t\t\t\tv.push(ul4._lpad(this._microseconds.toString(), \"0\", 6));\n\t\t\t}\n\t\t\treturn v.join(\"\");\n\t\t}\n\n\t\t__bool__()\n\t\t{\n\t\t\treturn this._days !== 0 || this._seconds !== 0 || this._microseconds !== 0;\n\t\t}\n\n\t\t__abs__()\n\t\t{\n\t\t\treturn this._days < 0 ? new ul4.TimeDelta(-this._days, -this._seconds, -this._microseconds) : this;\n\t\t}\n\n\t\t__eq__(other)\n\t\t{\n\t\t\tif (other instanceof ul4.TimeDelta)\n\t\t\t\treturn (this._days === other._days) && (this._seconds === other._seconds) && (this._microseconds === other._microseconds);\n\t\t\treturn false;\n\t\t}\n\n\t\t__lt__(other)\n\t\t{\n\t\t\tif (other instanceof ul4.TimeDelta)\n\t\t\t{\n\t\t\t\tif (this._days != other._days)\n\t\t\t\t\treturn this._days < other._days;\n\t\t\t\tif (this._seconds != other._seconds)\n\t\t\t\t\treturn this._seconds < other._seconds;\n\t\t\t\treturn this._microseconds < other._microseconds;\n\t\t\t}\n\t\t\tul4._unorderable(\"<\", this, other);\n\t\t}\n\n\t\t__le__(other)\n\t\t{\n\t\t\tif (other instanceof ul4.TimeDelta)\n\t\t\t{\n\t\t\t\tif (this._days != other._days)\n\t\t\t\t\treturn this._days < other._days;\n\t\t\t\tif (this._seconds != other._seconds)\n\t\t\t\t\treturn this._seconds < other._seconds;\n\t\t\t\treturn this._microseconds <= other._microseconds;\n\t\t\t}\n\t\t\tul4._unorderable(\"<=\", this, other);\n\t\t}\n\n\t\t__gt__(other)\n\t\t{\n\t\t\tif (other instanceof ul4.TimeDelta)\n\t\t\t{\n\t\t\t\tif (this._days != other._days)\n\t\t\t\t\treturn this._days > other._days;\n\t\t\t\tif (this._seconds != other._seconds)\n\t\t\t\t\treturn this._seconds > other._seconds;\n\t\t\t\treturn this._microseconds > other._microseconds;\n\t\t\t}\n\t\t\tul4._unorderable(\">\", this, other);\n\t\t}\n\n\t\t__ge__(other)\n\t\t{\n\t\t\tif (other instanceof ul4.TimeDelta)\n\t\t\t{\n\t\t\t\tif (this._days != other._days)\n\t\t\t\t\treturn this._days > other._days;\n\t\t\t\tif (this._seconds != other._seconds)\n\t\t\t\t\treturn this._seconds > other._seconds;\n\t\t\t\treturn this._microseconds >= other._microseconds;\n\t\t\t}\n\t\t\tul4._unorderable(\">=\", this, other);\n\t\t}\n\n\t\t__neg__()\n\t\t{\n\t\t\treturn new ul4.TimeDelta(-this._days, -this._seconds, -this._microseconds);\n\t\t}\n\n\t\tadddate(date, days)\n\t\t{\n\t\t\tlet year = date._date.getFullYear();\n\t\t\tlet month = date._date.getMonth();\n\t\t\tlet day = date._date.getDate() + days;\n\t\t\treturn new ul4.Date(year, month, day);\n\t\t}\n\n\t\t_adddatetime(date, days, seconds, microseconds)\n\t\t{\n\t\t\tlet year = date.getFullYear();\n\t\t\tlet month = date.getMonth();\n\t\t\tlet day = date.getDate() + days;\n\t\t\tlet hour = date.getHours();\n\t\t\tlet minute = date.getMinutes();\n\t\t\tlet second = date.getSeconds() + seconds;\n\t\t\tlet millisecond = date.getMilliseconds() + microseconds/1000;\n\t\t\treturn new Date(year, month, day, hour, minute, second, millisecond);\n\t\t}\n\n\t\t__add__(other)\n\t\t{\n\t\t\tif (other instanceof ul4.TimeDelta)\n\t\t\t\treturn new ul4.TimeDelta(this._days + other._days, this._seconds + other._seconds, this._microseconds + other._microseconds);\n\t\t\telse if (ul4._isdate(other))\n\t\t\t\treturn this._adddate(other, this._days);\n\t\t\telse if (ul4._isdatetime(other))\n\t\t\t\treturn this._adddatetime(other, this._days, this._seconds, this._microseconds);\n\t\t\tthrow new ul4.TypeError(ul4._type(this) + \" + \" + ul4._type(other) + \" not supported\");\n\t\t}\n\n\t\t__radd__(other)\n\t\t{\n\t\t\tif (ul4._isdate(other))\n\t\t\t\treturn this._adddate(other, this._days);\n\t\t\telse if (ul4._isdatetime(other))\n\t\t\t\treturn this._adddatetime(other, this._days, this._seconds, this._microseconds);\n\t\t\tthrow new ul4.TypeError(ul4._type(this) + \" + \" + ul4._type(other) + \" not supported\");\n\t\t}\n\n\t\t__sub__(other)\n\t\t{\n\t\t\tif (other instanceof ul4.TimeDelta)\n\t\t\t\treturn new ul4.TimeDelta(this._days - other._days, this._seconds - other._seconds, this._microseconds - other._microseconds);\n\t\t\tthrow new ul4.TypeError(ul4._type(this) + \" - \" + ul4._type(other) + \" not supported\");\n\t\t}\n\n\t\t__rsub__(other)\n\t\t{\n\t\t\tif (ul4._isdate(other))\n\t\t\t\treturn this._adddate(other, -this._days);\n\t\t\telse if (ul4._isdatetime(other))\n\t\t\t\treturn this._adddatetime(other, -this._days, -this._seconds, -this._microseconds);\n\t\t\tthrow new ul4.TypeError(ul4._type(this) + \" - \" + ul4._type(other) + \" not supported\");\n\t\t}\n\n\t\t__mul__(other)\n\t\t{\n\t\t\tif (typeof(other) === \"number\")\n\t\t\t\treturn new ul4.TimeDelta(this._days * other, this._seconds * other, this._microseconds * other);\n\t\t\tthrow new ul4.TypeError(ul4._type(this) + \" * \" + ul4._type(other) + \" not supported\");\n\t\t}\n\n\t\t__rmul__(other)\n\t\t{\n\t\t\tif (typeof(other) === \"number\")\n\t\t\t\treturn new ul4.TimeDelta(this._days * other, this._seconds * other, this._microseconds * other);\n\t\t\tthrow new ul4.TypeError(ul4._type(this) + \" * \" + ul4._type(other) + \" not supported\");\n\t\t}\n\n\t\t__truediv__(other)\n\t\t{\n\t\t\tif (typeof(other) === \"number\")\n\t\t\t{\n\t\t\t\treturn new ul4.TimeDelta(this._days / other, this._seconds / other, this._microseconds / other);\n\t\t\t}\n\t\t\telse if (other instanceof ul4.TimeDelta)\n\t\t\t{\n\t\t\t\tlet myValue = this._days;\n\t\t\t\tlet otherValue = other._days;\n\t\t\t\tlet hasSeconds = this._seconds || other._seconds;\n\t\t\t\tlet hasMicroseconds = this._microseconds || other._microseconds;\n\t\t\t\tif (hasSeconds || hasMicroseconds)\n\t\t\t\t{\n\t\t\t\t\tmyValue = myValue*86400+this._seconds;\n\t\t\t\t\totherValue = otherValue*86400 + other._seconds;\n\t\t\t\t\tif (hasMicroseconds)\n\t\t\t\t\t{\n\t\t\t\t\t\tmyValue = myValue * 1000000 + this._microseconds;\n\t\t\t\t\t\totherValue = otherValue * 1000000 + other._microseconds;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn myValue/otherValue;\n\t\t\t}\n\t\t\tthrow new ul4.TypeError(ul4._type(this) + \" / \" + ul4._type(other) + \" not supported\");\n\t\t}\n\n\t\t__getattr__(attrname)\n\t\t{\n\t\t\tlet self = this;\n\t\t\tswitch (attrname)\n\t\t\t{\n\t\t\t\tcase \"days\":\n\t\t\t\t\tlet days = function days(){ return self._days; };\n\t\t\t\t\tul4.expose(days, []);\n\t\t\t\t\treturn days;\n\t\t\t\tcase \"seconds\":\n\t\t\t\t\tlet seconds = function seconds(){ return self._seconds; };\n\t\t\t\t\tul4.expose(seconds, []);\n\t\t\t\t\treturn seconds;\n\t\t\t\tcase \"microseconds\":\n\t\t\t\t\tlet microseconds = function microseconds(){ return self._microseconds; };\n\t\t\t\t\tul4.expose(microseconds, []);\n\t\t\t\t\treturn microseconds;\n\t\t\t\tdefault:\n\t\t\t\t\tthrow new ul4.AttributeError(this, attrname);\n\t\t\t}\n\t\t}\n\n\t\tdays()\n\t\t{\n\t\t\treturn this._days;\n\t\t}\n\n\t\tseconds()\n\t\t{\n\t\t\treturn this._seconds;\n\t\t}\n\n\t\tmicroseconds()\n\t\t{\n\t\t\treturn this._microseconds;\n\t\t}\n\n\t\tul4type()\n\t\t{\n\t\t\treturn \"timedelta\";\n\t\t}\n\t};\n\n\n\tul4.MonthDelta = class MonthDelta extends ul4.Proto\n\t{\n\t\tconstructor(months=0)\n\t\t{\n\t\t\tsuper();\n\t\t\tthis._months = months;\n\t\t}\n\n\t\t__repr__()\n\t\t{\n\t\t\tif (!this._months)\n\t\t\t\treturn \"monthdelta()\";\n\t\t\treturn \"monthdelta(\" + this._months + \")\";\n\t\t}\n\n\t\t__str__()\n\t\t{\n\t\t\tif (this._months)\n\t\t\t{\n\t\t\t\tif (this._months !== -1 && this._months !== 1)\n\t\t\t\t\treturn this._months + \" months\";\n\t\t\t\treturn this._months + \" month\";\n\t\t\t}\n\t\t\treturn \"0 months\";\n\t\t}\n\n\t\ttoString()\n\t\t{\n\t\t\treturn this.__str__();\n\t\t}\n\n\t\t__bool__()\n\t\t{\n\t\t\treturn this._months !== 0;\n\t\t}\n\n\t\t__abs__()\n\t\t{\n\t\t\treturn this._months < 0 ? new ul4.MonthDelta(-this._months) : this;\n\t\t}\n\n\t\t__eq__(other)\n\t\t{\n\t\t\tif (other instanceof MonthDelta)\n\t\t\t\treturn this._months === other._months;\n\t\t\treturn false;\n\t\t}\n\n\t\t__lt__(other)\n\t\t{\n\t\t\tif (other instanceof ul4.MonthDelta)\n\t\t\t\treturn this._months < other._months;\n\t\t\tul4._unorderable(\"<\", this, other);\n\t\t}\n\n\t\t__le__(other)\n\t\t{\n\t\t\tif (other instanceof ul4.MonthDelta)\n\t\t\t\treturn this._months <= other._months;\n\t\t\tul4._unorderable(\"<=\", this, other);\n\t\t}\n\n\t\t__gt__(other)\n\t\t{\n\t\t\tif (other instanceof ul4.MonthDelta)\n\t\t\t\treturn this._months > other._months;\n\t\t\tul4._unorderable(\">\", this, other);\n\t\t}\n\n\t\t__ge__(other)\n\t\t{\n\t\t\tif (other instanceof ul4.MonthDelta)\n\t\t\t\treturn this._months >= other._months;\n\t\t\tul4._unorderable(\">=\", this, other);\n\t\t}\n\n\t\t__neg__()\n\t\t{\n\t\t\treturn new ul4.MonthDelta(-this._months);\n\t\t}\n\n\t\t_adddate(date, months)\n\t\t{\n\t\t\tlet result = this._adddatetime(date._date, months);\n\t\t\treturn new ul4.Date(result.getFullYear(), result.getMonth()+1, result.getDate());\n\t\t}\n\n\t\t_adddatetime(date, months)\n\t\t{\n\t\t\tlet year = date.getFullYear();\n\t\t\tlet month = date.getMonth() + months;\n\t\t\tlet day = date.getDate();\n\t\t\tlet hour = date.getHours();\n\t\t\tlet minute = date.getMinutes();\n\t\t\tlet second = date.getSeconds();\n\t\t\tlet millisecond = date.getMilliseconds();\n\n\t\t\twhile (true)\n\t\t\t{\n\t\t\t\t// As the month might be out of bounds, we have to find out, what the real target month is\n\t\t\t\tlet targetmonth = new Date(year, month, 1, hour, minute, second, millisecond).getMonth();\n\t\t\t\tlet result = new Date(year, month, day, hour, minute, second, millisecond);\n\t\t\t\tif (result.getMonth() === targetmonth)\n\t\t\t\t\treturn result;\n\t\t\t\t--day;\n\t\t\t}\n\t\t}\n\n\t\t__add__(other)\n\t\t{\n\t\t\tif (ul4._ismonthdelta(other))\n\t\t\t\treturn new ul4.MonthDelta(this._months + other._months);\n\t\t\telse if (ul4._isdate(other))\n\t\t\t\treturn this._adddate(other, this._months);\n\t\t\telse if (ul4._isdatetime(other))\n\t\t\t\treturn this._adddatetime(other, this._months);\n\t\t\tthrow new ul4.ArgumentError(ul4._type(this) + \" + \" + ul4._type(other) + \" not supported\");\n\t\t}\n\n\t\t__radd__(other)\n\t\t{\n\t\t\tif (ul4._isdate(other))\n\t\t\t\treturn this._adddate(other, this._months);\n\t\t\telse if (ul4._isdatetime(other))\n\t\t\t\treturn this._adddatetime(other, this._months);\n\t\t\tthrow new ul4.ArgumentError(ul4._type(this) + \" + \" + ul4._type(other) + \" not supported\");\n\t\t}\n\n\t\t__sub__(other)\n\t\t{\n\t\t\tif (ul4._ismonthdelta(other))\n\t\t\t\treturn new ul4.MonthDelta(this._months - other._months);\n\t\t\tthrow new ul4.ArgumentError(ul4._type(this) + \" - \" + ul4._type(other) + \" not supported\");\n\t\t}\n\n\t\t__rsub__(other)\n\t\t{\n\t\t\tif (ul4._isdate(other))\n\t\t\t\treturn this._adddate(other, -this._months);\n\t\t\telse if (ul4._isdatetime(other))\n\t\t\t\treturn this._adddatetime(other, -this._months);\n\t\t\tthrow new ul4.ArgumentError(ul4._type(this) + \" - \" + ul4._type(other) + \" not supported\");\n\t\t}\n\n\t\t__mul__(other)\n\t\t{\n\t\t\tif (typeof(other) === \"number\")\n\t\t\t\treturn new ul4.MonthDelta(this._months * Math.floor(other));\n\t\t\tthrow new ul4.ArgumentError(ul4._type(this) + \" * \" + ul4._type(other) + \" not supported\");\n\t\t}\n\n\t\t__rmul__(other)\n\t\t{\n\t\t\tif (typeof(other) === \"number\")\n\t\t\t\treturn new ul4.MonthDelta(this._months * Math.floor(other));\n\t\t\tthrow new ul4.ArgumentError(ul4._type(this) + \" * \" + ul4._type(other) + \" not supported\");\n\t\t}\n\n\t\t__floordiv__(other)\n\t\t{\n\t\t\tif (typeof(other) === \"number\")\n\t\t\t\treturn new ul4.MonthDelta(Math.floor(this._months / other));\n\t\t\telse if (ul4._ismonthdelta(other))\n\t\t\t\treturn Math.floor(this._months / other._months);\n\t\t\tthrow new ul4.ArgumentError(ul4._type(this) + \" // \" + ul4._type(other) + \" not supported\");\n\t\t}\n\n\t\t__truediv__(other)\n\t\t{\n\t\t\tif (ul4._ismonthdelta(other))\n\t\t\t\treturn this._months / other._months;\n\t\t\tthrow new ul4.ArgumentError(ul4._type(this) + \" / \" + ul4._type(other) + \" not supported\");\n\t\t}\n\n\t\t__getattr__(attrname)\n\t\t{\n\t\t\tlet self = this;\n\t\t\tswitch (attrname)\n\t\t\t{\n\t\t\t\tcase \"months\":\n\t\t\t\t\tlet months = function months(){ return self._months; };\n\t\t\t\t\tul4.expose(months, []);\n\t\t\t\t\treturn months;\n\t\t\t\tdefault:\n\t\t\t\t\tthrow new ul4.AttributeError(this, attrname);\n\t\t\t}\n\t\t}\n\n\t\tmonths()\n\t\t{\n\t\t\treturn this._months;\n\t\t}\n\n\t\tul4type()\n\t\t{\n\t\t\treturn \"monthdelta\";\n\t\t}\n\t};\n\n\tconst classes = [\n\t\tul4.TextAST,\n\t\tul4.IndentAST,\n\t\tul4.LineEndAST,\n\t\tul4.ConstAST,\n\t\tul4.SeqItemAST,\n\t\tul4.UnpackSeqItemAST,\n\t\tul4.DictItemAST,\n\t\tul4.UnpackDictItemAST,\n\t\tul4.PosArgAST,\n\t\tul4.KeywordArgAST,\n\t\tul4.UnpackListArgAST,\n\t\tul4.UnpackDictArgAST,\n\t\tul4.ListAST,\n\t\tul4.ListCompAST,\n\t\tul4.DictAST,\n\t\tul4.DictCompAST,\n\t\tul4.SetAST,\n\t\tul4.SetCompAST,\n\t\tul4.GenExprAST,\n\t\tul4.VarAST,\n\t\tul4.NotAST,\n\t\tul4.NegAST,\n\t\tul4.BitNotAST,\n\t\tul4.IfAST,\n\t\tul4.ReturnAST,\n\t\tul4.PrintAST,\n\t\tul4.PrintXAST,\n\t\tul4.ItemAST,\n\t\tul4.IsAST,\n\t\tul4.IsNotAST,\n\t\tul4.EQAST,\n\t\tul4.NEAST,\n\t\tul4.LTAST,\n\t\tul4.LEAST,\n\t\tul4.GTAST,\n\t\tul4.GEAST,\n\t\tul4.NotContainsAST,\n\t\tul4.ContainsAST,\n\t\tul4.AddAST,\n\t\tul4.SubAST,\n\t\tul4.MulAST,\n\t\tul4.FloorDivAST,\n\t\tul4.TrueDivAST,\n\t\tul4.ModAST,\n\t\tul4.ShiftLeftAST,\n\t\tul4.ShiftRightAST,\n\t\tul4.BitAndAST,\n\t\tul4.BitXOrAST,\n\t\tul4.BitOrAST,\n\t\tul4.AndAST,\n\t\tul4.OrAST,\n\t\tul4.SliceAST,\n\t\tul4.AttrAST,\n\t\tul4.CallAST,\n\t\tul4.RenderAST,\n\t\tul4.RenderXAST,\n\t\tul4.RenderBlockAST,\n\t\tul4.RenderBlocksAST,\n\t\tul4.SetVarAST,\n\t\tul4.AddVarAST,\n\t\tul4.SubVarAST,\n\t\tul4.MulVarAST,\n\t\tul4.TrueDivVarAST,\n\t\tul4.FloorDivVarAST,\n\t\tul4.ModVarAST,\n\t\tul4.ShiftLeftVarAST,\n\t\tul4.ShiftRightVarAST,\n\t\tul4.BitAndVarAST,\n\t\tul4.BitXOrVarAST,\n\t\tul4.BitOrVarAST,\n\t\tul4.ForBlockAST,\n\t\tul4.WhileBlockAST,\n\t\tul4.BreakAST,\n\t\tul4.ContinueAST,\n\t\tul4.CondBlockAST,\n\t\tul4.IfBlockAST,\n\t\tul4.ElIfBlockAST,\n\t\tul4.ElseBlockAST,\n\t\tul4.SignatureAST,\n\t\tul4.Template\n\t];\n\n\tfor (let i = 0; i < classes.length; ++i)\n\t{\n\t\tlet constructor = classes[i];\n\t\tlet ul4onname = constructor.name;\n\t\tif (ul4onname.substr(ul4onname.length-3) === \"AST\")\n\t\t\tul4onname = ul4onname.substr(0, ul4onname.length-3);\n\t\tul4onname = ul4onname.toLowerCase();\n\t\tconstructor.prototype.type = ul4onname;\n\t\tul4.register(\"de.livinglogic.ul4.\" + ul4onname, constructor);\n\t}","import { ul4 } from './ul4';\n\nlet la = {};\n\n\nla.Base = class Base extends ul4.Proto\n{\n\tconstructor()\n\t{\n\t\tsuper();\n\t}\n\n\tul4ondump(encoder)\n\t{\n\t\tfor (let i = 0; i < this._ul4onattrs.length; ++i)\n\t\t\tencoder.dump(this._dumpUL4ONAttr(this._ul4onattrs[i]));\n\t}\n\n\t_dumpUL4ONAttr(name)\n\t{\n\t\treturn this[name];\n\t}\n\n\tul4onload(decoder)\n\t{\n\t\tlet i = 0;\n\t\tfor (let iter = decoder.loadcontent(); ; ++i)\n\t\t{\n\t\t\tlet iteritem = iter.next();\n\t\t\tif (iteritem.done)\n\t\t\t\tbreak;\n\t\t\tif (i < this._ul4onattrs.length)\n\t\t\t\tthis._loadUL4ONAttr(this._ul4onattrs[i], iteritem.value);\n\t\t}\n\t\tfor (; i < this._ul4onattrs.length; ++i)\n\t\t\tthis._setDefaultUL4ONAttr(this._ul4onattrs[i]);\n\t}\n\n\t_loadUL4ONAttr(name, value)\n\t{\n\t\tthis[name] = value;\n\t}\n\n\t_setDefaultUL4ONAttr(name)\n\t{\n\t\tthis[name] = null;\n\t}\n\n\t__getattr__(name)\n\t{\n\t\tif (this._ul4attrs.has(name))\n\t\t{\n\t\t\tlet value = this[name];\n\t\t\tif (typeof(value) === \"function\")\n\t\t\t{\n\t\t\t\tlet realvalue = value.bind(this);\n\t\t\t\trealvalue._ul4_name = value._ul4_name || value.name;\n\t\t\t\trealvalue._ul4_signature = value._ul4_signature;\n\t\t\t\trealvalue._ul4_needsobject = value._ul4_needsobject;\n\t\t\t\trealvalue._ul4_needscontext = value._ul4_needscontext;\n\t\t\t\treturn realvalue;\n\t\t\t}\n\t\t\treturn value;\n\t\t}\n\t\tthrow new ul4.AttributeError(this, name);\n\t}\n\n\t__repr__()\n\t{\n\t\treturn \"<la.\" + this.constructor.name + \">\";\n\t}\n};\n\nla.Handler = class Handler\n{\n\tsave(record)\n\t{\n\t}\n\n\tdelete(record)\n\t{\n\t}\n};\n\nla.Globals = class Globals extends la.Base\n{\n\tconstructor()\n\t{\n\t\tsuper();\n\t\tthis.version = null;\n\t\tthis.platform = null;\n\t\tthis.user = null;\n\t\tthis.maxdbactions = null;\n\t\tthis.maxtemplateruntime = null;\n\t\tthis.flashmessages = null;\n\t\tthis.handler = new la.Handler();\n\t}\n\n\t// distance between two geo coordinates (see https://de.wikipedia.org/wiki/Orthodrome#Genauere_Formel_zur_Abstandsberechnung_auf_der_Erde)\n\tstatic geodist(geo1, geo2)\n\t{\n\t\tlet sqsin = function sqsin(x) {x = Math.sin(x); return x*x};\n\t\tlet sqcos = function sqsos(x) {x = Math.cos(x); return x*x};\n\t\tconst deg2rad = Math.PI/180; // Conversion factor degree -> radians\n\t\tconst radius = 6378.137; // Equatorial radius of earth in km\n\t\tconst flat = 1/298.257223563; // Earth flattening\n\n\t\tconst lat1 = geo1.lat * deg2rad;\n\t\tconst long1 = geo1.long * deg2rad;\n\t\tconst lat2 = geo2.lat * deg2rad;\n\t\tconst long2 = geo2.long * deg2rad;\n\t\tconst F = (lat1 + lat2)/2;\n\t\tconst G = (lat1 - lat2)/2;\n\t\tconst l = (long1 - long2)/2;\n\t\tconst S = sqsin(G) * sqcos(l) + sqcos(F) * sqsin(l);\n\t\tconst C = sqcos(G) * sqcos(l) + sqsin(F) * sqsin(l);\n\t\tconst w = Math.atan(Math.sqrt(S/C));\n\t\tconst D = 2 * w * radius;\n\t\tconst T = Math.sqrt(S*C)/w;\n\t\tconst H1 = (3*T-1)/(2*C);\n\t\tconst H2 = (3*T+1)/(2*S);\n\t\tconst s = D * (1 + flat * H1 * sqsin(F) * sqcos(G) - flat * H2 * sqcos(F) * sqsin(G));\n\t\treturn s;\n\t}\n\n\t__repr__()\n\t{\n\t\treturn \"<la.Globals version=\" + ul4._repr(this.version) + \">\";\n\t}\n};\n\nla.Globals.prototype._ul4onattrs = [\"version\", \"platform\", \"user\", \"maxdbactions\", \"maxtemplateruntime\", \"flashmessages\"];\nla.Globals.prototype._ul4attrs = ul4._makeset(\"version\", \"platform\", \"user\", \"maxdbactions\", \"maxtemplateruntime\", \"flashmessages\");\n\nla.FlashMessage = class FlashMessage extends la.Base\n{\n\t__repr__()\n\t{\n\t\treturn \"<la.FlashMessage type=\" + ul4._repr(this.type) + \" title=\" + ul4._repr(this.title) + \">\";\n\t}\n};\n\nla.FlashMessage.prototype._ul4onattrs = [\"timestamp\", \"type\", \"title\", \"message\"];\nla.FlashMessage.prototype._ul4attrs = ul4._makeset(\"timestamp\", \"type\", \"title\", \"message\");\n\nla.App = class App extends la.Base\n{\n\t__repr__()\n\t{\n\t\treturn \"<la.App id=\" + ul4._repr(this.id) + \" name=\" + ul4._repr(this.name) + \">\";\n\t}\n\n\tinsert(values={})\n\t{\n\t\tlet record = this.__call__(values);\n\t\tthis.globals.handler.save(this);\n\t\tthis.globals.Login._insert(this, values);\n\t\treturn record;\n\t}\n\n\t__call__(values={})\n\t{\n\t\tlet record = new la.Record(this);\n\t\tif (ul4._ismap(values))\n\t\t{\n\t\t\tfor (let [key, value] of values.entries())\n\t\t\t{\n\t\t\t\tif (!record.fields.has(key))\n\t\t\t\t\tthrow new ul4.ArgumentError(\"update() get an unexpected keyword argument \" + ul4._repr(key));\n\t\t\t\trecord.fields.get(key).value = value;\n\t\t\t}\n\t\t}\n\t\telse if (ul4._isobject(values))\n\t\t{\n\t\t\tfor (let key in values)\n\t\t\t{\n\t\t\t\tif (!record.fields.has(key))\n\t\t\t\t\tthrow new ul4.ArgumentError(\"update() get an unexpected keyword argument \" + ul4._repr(key));\n\t\t\t\trecord.fields.get(key).value = values[key];\n\t\t\t}\n\t\t}\n\t\telse\n\t\t\tthrow new ul4.TypeError(\"values must be an object or a Map\");\n\t\treturn record;\n\t}\n\n\t__getattr__(name)\n\t{\n\t\tif (name.startsWith(\"c_\"))\n\t\t{\n\t\t\tif (!this.controls.has(name.substr(2)))\n\t\t\t\tthrow new ul4.AttributeError(this, name);\n\t\t\treturn this.controls.get(name.substr(2));\n\t\t}\n\t\telse\n\t\t\treturn super.__getattr__(name);\n\t}\n};\n\nla.App.prototype._ul4onattrs = [\"id\", \"globals\", \"name\", \"description\", \"language\", \"startlink\", \"iconlarge\", \"iconsmall\", \"createdby\", \"controls\", \"records\", \"recordcount\", \"installation\", \"categories\", \"params\", \"views\", \"datamanagement_identifier\", \"basetable\", \"primarykey\", \"insertprocedure\", \"updateprocedure\", \"deleteprocedure\", \"templates\", \"createdat\", \"updatedat\", \"updatedby\"];\nla.App.prototype._ul4attrs = ul4._makeset(\"id\", \"globals\", \"name\", \"description\", \"language\", \"startlink\", \"iconlarge\", \"iconsmall\", \"createdat\", \"createdby\", \"updatedat\", \"updatedby\", \"controls\", \"records\", \"recordcount\", \"installation\", \"categories\", \"params\", \"views\", \"datamanagement_identifier\", \"insert\");\nul4.expose(la.App.prototype.__call__, [\"**values\"], {\"needsobject\": true});\nul4.expose(la.App.prototype.insert, [\"**values\"], {\"needsobject\": true});\n\nla.View = class View extends la.Base\n{\n\t__repr__()\n\t{\n\t\treturn \"<la.View id=\" + ul4._repr(this.id) + \" name=\" + ul4._repr(this.name) + \">\";\n\t}\n};\n\nla.View.prototype._ul4onattrs = [\"id\", \"name\", \"app\", \"order\", \"width\", \"height\", \"start\", \"end\"];\nla.View.prototype._ul4attrs = ul4._makeset(\"id\", \"name\", \"app\", \"order\", \"width\", \"height\", \"start\", \"end\");\n\nla.DataSourceData = class DataSourceData extends la.Base\n{\n\t__repr__()\n\t{\n\t\treturn \"<la.DataSource.Data id=\" + ul4._repr(this.id) + \" identifier=\" + ul4._repr(this.identifier) + \">\";\n\t}\n};\n\nla.DataSourceData.prototype._ul4onattrs = [\"id\", \"identifier\", \"app\", \"apps\"];\nla.DataSourceData.prototype._ul4attrs = ul4._makeset(\"id\", \"identifier\", \"app\", \"apps\");\n\nla.Record = class Record extends la.Base\n{\n\tconstructor(app)\n\t{\n\t\tsuper();\n\t\tthis.id = null;\n\t\tthis.app = app;\n\t\tthis.createdat = null;\n\t\tthis.createdby = null;\n\t\tthis.updatedat = null;\n\t\tthis.updatedby = null;\n\t\tthis.updatecount = 0;\n\t\tthis._sparsevalues = new Map();\n\t\tthis._values = null;\n\t\tthis._fields = null;\n\t\tthis.children = new Map();\n\t\tthis.attachments = null;\n\t\tthis.errors = [];\n\t\tthis._is_deleted = false;\n\t}\n\n\t\n\n\t__repr__()\n\t{\n\t\tlet v = [\"<la.Record id=\", ul4._repr(this.id)];\n\t\tfor (let field of this.fields.values())\n\t\t{\n\t\t\tif (field.control.priority)\n\t\t\t{\n\t\t\t\tv.push(\" v_\");\n\t\t\t\tv.push(field.control.identifier);\n\t\t\t\tv.push(\"=\");\n\t\t\t\tv.push(ul4._repr(field.value)); // FIXME: This might lead to infinite recursions\n\t\t\t}\n\t\t}\n\t\tv.push(\">\")\n\t\treturn v.join(\"\");\n\t}\n\n\tget values()\n\t{\n\t\tif (this._values === null)\n\t\t{\n\t\t\tthis._values = ul4._havemap ? new Map() : {};\n\t\t\tfor (let [identifier, control] of this.app.controls.entries())\n\t\t\t{\n\t\t\t\tlet fieldvalue = this._sparsevalues.get(identifier);\n\t\t\t\tif (typeof(fieldvalue) === \"undefined\")\n\t\t\t\t\tfieldvalue = null;\n\t\t\t\tthis._values.set(identifier, fieldvalue);\n\t\t\t}\n\t\t}\n\t\treturn this._values;\n\t}\n\n\tget fields()\n\t{\n\t\tif (this._fields === null)\n\t\t{\n\t\t\tthis._fields = ul4._havemap ? new Map() : {};\n\t\t\tfor (let [identifier, value] of this.values.entries())\n\t\t\t{\n\t\t\t\tlet field = new la.Field(this.app.controls.get(identifier), this, value);\n\t\t\t\tthis._fields.set(identifier, field);\n\t\t\t}\n\t\t}\n\t\treturn this._fields;\n\t}\n\n\tis_dirty()\n\t{\n\t\tif (this.id === null)\n\t\t\treturn true;\n\t\tfor (let field of this.fields.values())\n\t\t{\n\t\t\tif (field.is_dirty())\n\t\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\thas_errors()\n\t{\n\t\tif (this.errors.length !== 0)\n\t\t\treturn true;\n\t\tfor (let field of this.fields.values())\n\t\t{\n\t\t\tif (field.has_errors())\n\t\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tdelete()\n\t{\n\t\treturn this.app.globals.handler.delete(this);\n\t}\n\n\tsave()\n\t{\n\t\tthis.app.globals.handler.save(this);\n\t}\n\n\tupdate(values={})\n\t{\n\t\tif (ul4._ismap(values))\n\t\t{\n\t\t\tfor (let [key, value] of values.entries())\n\t\t\t{\n\t\t\t\tif (!this.fields.has(key))\n\t\t\t\t\tthrow new ul4.ArgumentError(\"update() get an unexpected keyword argument \" + ul4._repr(key));\n\t\t\t\tfields.get(key).value = value;\n\t\t\t}\n\t\t}\n\t\telse if (ul4._isobject(values))\n\t\t{\n\t\t\tfor (let key in values)\n\t\t\t{\n\t\t\t\tif (!this.fields.has(key))\n\t\t\t\t\tthrow new ul4.ArgumentError(\"update() get an unexpected keyword argument \" + ul4._repr(key));\n\t\t\t\trecord.fields.get(key).value = values[key];\n\t\t\t}\n\t\t}\n\t\telse\n\t\t\tthrow new ul4.TypeError(\"values must be an object or a Map\");\n\n\t\tthis.app.globals.handler.save(this);\n\t}\n\n\tsearch(search)\n\t{\n\t\tfor (let identifier in search)\n\t\t{\n\t\t\tlet fieldsearch = search[identifier];\n\t\t\tif (ul4._bool(fieldsearch))\n\t\t\t{\n\t\t\t\tif (!this.fields.get(identifier).search(fieldsearch))\n\t\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t}\n\n\t_dumpUL4ONAttr(name)\n\t{\n\t\tif (name === \"values\")\n\t\t\treturn this._sparsevalues;\n\t\telse\n\t\t\treturn this[name];\n\t}\n\n\t_loadUL4ONAttr(name, value)\n\t{\n\t\tif (name === \"values\")\n\t\t{\n\t\t\tthis._sparsevalues = value;\n\t\t\tthis._values = null;\n\t\t\tthis._fields = null;\n\t\t}\n\t\telse\n\t\t\tthis[name] = value;\n\t}\n\n\t__getattr__(name)\n\t{\n\t\tif (name.startsWith(\"c_\"))\n\t\t\treturn this.children.get(name.substr(2))\n\t\telse if (name.startsWith(\"f_\"))\n\t\t\treturn this.fields.get(name.substr(2))\n\t\telse if (name.startsWith(\"v_\"))\n\t\t\treturn this.values.get(name.substr(2))\n\t\telse\n\t\t\treturn this[name];\n\t}\n\n\t__setattr__(name, value)\n\t{\n\t\tif (name.startsWith(\"c_\"))\n\t\t\tthis.children[name.substr(2)] = value;\n\t\telse if (name.startsWith(\"v_\"))\n\t\t\tthis.fields.get(name.substr(2)).value = value;\n\t\telse\n\t\t\tthrow new ul4.AttributeError(this, name);\n\t}\n};\n\nla.Record.prototype._ul4onattrs = [\"id\", \"app\", \"createdat\", \"createdby\", \"updatedat\", \"updatedby\", \"updatecount\", \"values\", \"attachments\", \"children\"];\nla.Record.prototype._ul4attrs = ul4._makeset(\"id\", \"app\", \"createdat\", \"createdby\", \"updatedat\", \"updatedby\", \"updatecount\", \"values\", \"attachments\", \"children\");\nul4.expose(la.Record.prototype.is_dirty, []);\nul4.expose(la.Record.prototype.has_errors, []);\nul4.expose(la.Record.prototype.delete, []);\nul4.expose(la.Record.prototype.save, []);\nul4.expose(la.Record.prototype.update, [\"**values\"], {\"needsobject\": true});\n\nla.Control = class Control extends la.Base\n{\n\t__repr__()\n\t{\n\t\treturn \"<la.\" + this.__type__ + \" id=\" + ul4._repr(this.id) + \" identifier=\" + ul4._repr(this.identifier) + \">\";\n\t}\n\n\t_logsearch(value, search)\n\t{\n\t\t//console.log(\"Searching for \" + ul4._repr(search.value) + \" in \" + ul4._repr(this) + \" with operator \" + search.operator + \" in value \" + ul4._repr(value));\n\t}\n\n\t// base implemntation, always returns ``false`` (i.e. \"not found\")\n\t// ``value`` is the value of the field\n\t// ``search`` is an object with information what we're searching for\n\t// keys in ``search`` are: ``operator`` (and ``value`` (if required by the operator))\n\tsearch(value, search)\n\t{\n\t\treturn false;\n\t}\n};\n\nla.Control.prototype.type = null;\nla.Control.prototype.subtype = null;\nla.Control.prototype._ul4onattrs = [\"id\", \"identifier\", \"field\", \"app\", \"label\", \"priority\", \"order\", \"default\", \"ininsertprocedure\", \"inupdateprocedure\"];\nla.Control.prototype._ul4attrs = ul4._makeset(\"id\", \"identifier\", \"field\", \"app\", \"label\", \"priority\", \"order\", \"default\", \"ininsertprocedure\", \"inupdateprocedure\");\n\nla.BoolControl = class BoolControl extends la.Control\n{\n\t// ``search`` must by ``null``, ``false`` or ``true``\n\tsearch(value, search)\n\t{\n\t\tthis._logsearch(value, search);\n\t\tif (search.operator === \"equals\")\n\t\t\treturn search.value === value;\n\t\telse\n\t\t\treturn false;\n\t}\n};\n\nla.BoolControl.prototype.type = \"bool\";\n\nla.IntControl = class IntControl extends la.Control\n{\n\t// ``search.value`` must by ``null`` or an integer\n\tsearch(value, search)\n\t{\n\t\tthis._logsearch(value, search);\n\t\tif (search.operator === \"equals\")\n\t\t\treturn search.value === value;\n\t\telse\n\t\t\treturn false;\n\t}\n};\n\nla.IntControl.prototype.type = \"int\";\n\nla.NumberControl = class NumberControl extends la.Control\n{\n\t// ``search.value`` must by ``null`` or an integer\n\tsearch(value, search)\n\t{\n\t\tthis._logsearch(value, search);\n\t\tif (search.operator === \"equals\")\n\t\t\treturn search.value === value;\n\t\telse if (search.operator === \"range\")\n\t\t{\n\t\t\tif (value === null)\n\t\t\t\treturn false;\n\t\t\treturn (search.minvalue === null || search.minvalue <= value) && (search.maxvalue === null || value < search.maxvalue);\n\t\t}\n\t\telse\n\t\t\treturn false;\n\t}\n};\n\nla.NumberControl.prototype.type = \"number\";\n\nla.StringControl = class StringControl extends la.Control\n{\n\tsearch(value, search)\n\t{\n\t\tthis._logsearch(value, search);\n\t\tif (search.operator === \"equals\")\n\t\t\treturn search.value === value;\n\t\telse if (search.operator === \"contains\")\n\t\t{\n\t\t\tif (search.value === null || value === null)\n\t\t\t\treturn search.value === value;\n\t\t\telse\n\t\t\t\treturn value.toLowerCase().indexOf(search.value.toLowerCase()) >= 0;\n\t\t}\n\t}\n};\n\nla.StringControl.prototype.type = \"string\";\n\nla.TextControl = class TextControl extends la.StringControl\n{\n};\n\nla.TextControl.prototype.subtype = \"text\";\n\nla.EmailControl = class EmailControl extends la.StringControl\n{\n};\n\nla.EmailControl.prototype.subtype = \"email\";\n\nla.URLControl = class URLControl extends la.StringControl\n{\n};\n\nla.URLControl.prototype.subtype = \"url\";\n\nla.TelControl = class TelControl extends la.StringControl\n{\n};\n\nla.TelControl.prototype.subtype = \"tel\";\n\nla.PasswordControl = class PasswordControl extends la.StringControl\n{\n};\n\nla.PasswordControl.prototype.subtype = \"password\";\n\nla.TextAreaControl = class TextAreaControl extends la.StringControl\n{\n};\n\nla.TextAreaControl.prototype.subtype = \"textarea\";\nla.TextAreaControl.prototype._ul4onattrs = la.StringControl.prototype._ul4onattrs.concat([\"encrypted\"]);\nla.TextAreaControl.prototype._ul4attrs = ul4._makeset(...la.StringControl.prototype._ul4attrs, \"encrypted\");\n\nla.DateControl = class DateControl extends la.Control\n{\n\tformatstring(language)\n\t{\n\t\tlanguage = language || this.app.language;\n\n\t\tif (language === \"de\")\n\t\t\treturn \"%d.%m.%Y\";\n\t\telse\n\t\t\treturn \"%m/%d/%Y\";\n\t}\n\n\t// searchvalue must be ``null``, a ``Date`` object or a string\n\tsearch(value, search)\n\t{\n\t\tthis._logsearch(value, search);\n\n\t\tlet searchvalue = search.value;\n\t\tif (Object.prototype.toString.call(searchvalue) == \"[object Date]\")\n\t\t\tsearchvalue = ul4._format(searchvalue, this.formatstring(), this.app.language);\n\t\tif (value !== null)\n\t\t\tvalue = ul4._format(value, this.formatstring(), this.app.language);\n\n\t\tif (search.operator === \"equals\")\n\t\t\treturn searchvalue === value;\n\t\telse if (search.operator === \"contains\")\n\t\t{\n\t\t\tif (searchvalue === null || value === null)\n\t\t\t\treturn searchvalue === value;\n\t\t\telse\n\t\t\t\treturn value.toLowerCase().indexOf(searchvalue.toLowerCase()) >= 0;\n\t\t}\n\t\telse\n\t\t\treturn false;\n\t}\n};\n\nla.DateControl.prototype.type = \"date\";\nla.DateControl.prototype.subtype = \"date\";\n\nla.DatetimeMinuteControl = class DatetimeMinuteControl extends la.DateControl\n{\n\tformatstring(language)\n\t{\n\t\tlanguage = language || this.app.language;\n\n\t\tif (language === \"de\")\n\t\t\treturn \"%d.%m.%Y %H:%M\";\n\t\telse\n\t\t\treturn \"%m/%d/%Y %H:%M\";\n\t}\n};\n\nla.DatetimeMinuteControl.prototype.subtype = \"datetimeminute\";\n\nla.DatetimeSecondControl = class DatetimeSecondControl extends la.DateControl\n{\n\tformatstring(language)\n\t{\n\t\tlanguage = language || this.app.language;\n\n\t\tif (language === \"de\")\n\t\t\treturn \"%d.%m.%Y %H:%M:%S\";\n\t\telse\n\t\t\treturn \"%m/%d/%Y %H:%M:%S\";\n\t}\n};\n\nla.DatetimeSecondControl.prototype.subtype = \"datetimesecond\";\n\nla.LookupControl = class LookupControl extends la.Control\n{\n\t// ``search.value`` must be ``null`` or a ``LookupItem`` key\n\tsearch(value, search)\n\t{\n\t\tif (search.operator === \"equals\")\n\t\t{\n\t\t\tif (value === null)\n\t\t\t\treturn search.value === null;\n\t\t\telse\n\t\t\t\treturn value.key === search.value;\n\t\t}\n\t\telse\n\t\t\treturn false;\n\t}\n};\n\nla.LookupControl.prototype.type = \"lookup\";\nla.LookupControl.prototype._ul4onattrs = la.Control.prototype._ul4onattrs.concat([\"lookupdata\"]);\nla.LookupControl.prototype._ul4attrs = ul4._makeset(...la.Control.prototype._ul4attrs, \"lookupdata\");\n\nla.LookupSelectControl = class LookupSelectControl extends la.LookupControl\n{\n};\n\nla.LookupSelectControl.prototype.subtype = \"select\";\n\nla.LookupRadioControl = class LookupRadioControl extends la.LookupControl\n{\n};\n\nla.LookupRadioControl.prototype.subtype = \"radio\";\n\nla.LookupChoiceControl = class LookupChoiceControl extends la.LookupControl\n{\n};\n\nla.LookupChoiceControl.prototype.subtype = \"choice\";\n\nla.AppLookupControl = class AppLookupControl extends la.Control\n{\n\t// ``search.value`` must be an object containing the search criteria for the referenced record\n\tsearch(value, search)\n\t{\n\t\tif (value === null || search.value === null)\n\t\t\treturn value === search.value;\n\t\telse\n\t\t\treturn value.search(search);\n\t}\n};\n\nla.AppLookupControl.prototype.type = \"applookup\";\nla.AppLookupControl.prototype._ul4onattrs = la.Control.prototype._ul4onattrs.concat([\"lookupapp\", \"lookupcontrols\"]);\nla.AppLookupControl.prototype._ul4attrs = ul4._makeset(...la.Control.prototype._ul4attrs, \"lookupapp\", \"lookupcontrols\");\n\nla.AppLookupSelectControl = class AppLookupSelectControl extends la.AppLookupControl\n{\n};\n\nla.AppLookupSelectControl.prototype.subtype = \"select\";\n\nla.AppLookupRadioControl = class AppLookupRadioControl extends la.AppLookupControl\n{\n};\n\nla.AppLookupRadioControl.prototype.subtype = \"radio\";\n\nla.AppLookupChoiceControl = class AppLookupChoiceControl extends la.AppLookupControl\n{\n};\n\nla.AppLookupChoiceControl.prototype.subtype = \"choice\";\n\nla.MultipleLookupControl = class MultipleLookupControl extends la.LookupControl\n{\n\t// search.value must be ``null`` or a ``LookupItem`` key\n\tsearch(value, search)\n\t{\n\t\tif (search.operator === \"equals\")\n\t\t{\n\t\t\tfor (let item of value)\n\t\t\t{\n\t\t\t\tif (item.key === search.value)\n\t\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\t\telse\n\t\t\treturn false;\n\t}\n};\n\nla.MultipleLookupControl.prototype.subtype = \"multiplelookup\";\n\nla.MultipleLookupSelectControl = class MultipleLookupSelectControl extends la.MultipleLookupControl\n{\n};\n\nla.MultipleLookupSelectControl.prototype.subtype = \"select\";\n\nla.MultipleLookupCheckboxControl = class MultipleLookupCheckboxControl extends la.MultipleLookupControl\n{\n};\n\nla.MultipleLookupCheckboxControl.prototype.subtype = \"checkbox\";\n\nla.MultipleLookupChoiceControl = class MultipleLookupChoiceControl extends la.MultipleLookupControl\n{\n};\n\nla.MultipleLookupChoiceControl.prototype.subtype = \"choice\";\n\nla.MultipleAppLookupControl = class MultipleAppLookupControl extends la.AppLookupControl\n{\n\t// ``search.value`` must be an object containing the search criteria for the referenced record\n\tsearch(value, search)\n\t{\n\t\tif (search.operator === \"equals\")\n\t\t{\n\t\t\tif (search.value === null)\n\t\t\t\treturn value.length === 0;\n\t\t\telse\n\t\t\t{\n\t\t\t\tfor (let item of value)\n\t\t\t\t{\n\t\t\t\t\tif (item.search(search.value))\n\t\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\telse\n\t\t\treturn false;\n\t}\n};\n\nla.MultipleAppLookupControl.prototype.type = \"multipleapplookup\";\n\nla.MultipleAppLookupSelectControl = class MultipleAppLookupSelectControl extends la.MultipleAppLookupControl\n{\n};\n\nla.MultipleAppLookupSelectControl.prototype.subtype = \"select\";\n\nla.MultipleAppLookupCheckboxControl = class MultipleAppLookupCheckboxControl extends la.MultipleAppLookupControl\n{\n};\n\nla.MultipleAppLookupCheckboxControl.prototype.subtype = \"checkbox\";\n\nla.MultipleAppLookupChoiceControl = class MultipleAppLookupChoiceControl extends la.MultipleAppLookupControl\n{\n};\n\nla.MultipleAppLookupChoiceControl.prototype.subtype = \"choice\";\n\nla.GeoControl = class GeoControl extends la.Control\n{\n};\n\nla.GeoControl.prototype.type = \"geo\";\n\nla.FileControl = class FileControl extends la.Control\n{\n};\n\nla.FileControl.prototype.type = \"file\";\n\nla.ButtonControl = class ButtonControl extends la.Control\n{\n};\n\nla.ButtonControl.prototype.type = \"button\";\n\nla.Field = class Field extends la.Base\n{\n\tconstructor(control, record, value)\n\t{\n\t\tsuper();\n\t\tthis.control = control;\n\t\tthis.record = record;\n\t\tthis._value = value;\n\t\tthis._dirty = false;\n\t\tthis.errors = [];\n\t}\n\n\tget value()\n\t{\n\t\treturn this._value;\n\t}\n\n\tset value(value)\n\t{\n\t\tlet oldvalue = this._value;\n\n\t\tif (ul4._ne(oldvalue, value))\n\t\t{\n\t\t\tthis.record.values.set(this.control.identifier, value);\n\t\t\tthis._value = value;\n\t\t\tthis._dirty = true;\n\t\t}\n\t}\n\n\tis_empty()\n\t{\n\t\treturn this._value === null || (ul4._islist(this._value) && this._value.length === 0);\n\t}\n\n\tis_dirty()\n\t{\n\t\treturn this._dirty;\n\t}\n\n\thas_errors()\n\t{\n\t\treturn this.errors.length !== 0;\n\t}\n\n\tsearch(searchvalue)\n\t{\n\t\treturn this.control.search(this.value, searchvalue);\n\t}\n\n\t__repr__()\n\t{\n\t\tlet s = \"<la.Field identifier=\";\n\t\ts += ul4._repr(this.control.identifier)\n\t\tif (this._dirty)\n\t\t\ts += \" is_dirty()=True\";\n\t\tif (this.errors.length !== 0)\n\t\t\ts += \" has_errors()=True\";\n\t\ts += \">\"\n\t\treturn s;\n\t}\n};\n\nla.LookupItem = class LookupItem extends la.Base\n{\n\t__repr__()\n\t{\n\t\treturn \"<la.LookupItem key=\" + ul4._repr(this.key) + \" label=\" + ul4._repr(this.label) + \">\";\n\t}\n};\n\nla.LookupItem.prototype._ul4onattrs = [\"key\", \"label\"];\nla.LookupItem.prototype._ul4attrs = ul4._makeset(\"key\", \"label\");\n\nla.User = class User extends la.Base\n{\n\t__repr__()\n\t{\n\t\treturn \"<la.User id=\" + ul4._repr(this.id) + \" firstname=\" + ul4._repr(this.firstname) + \" surname=\" + ul4._repr(this.surname) + \" email=\" + ul4._repr(this.email) + \">\";\n\t}\n};\n\nla.User.prototype._ul4onattrs = [\"_id\", \"id\", \"gender\", \"firstname\", \"surname\", \"initials\", \"email\", \"language\", \"avatarsmall\", \"avatarlarge\", \"keyviews\"];\nla.User.prototype._ul4attrs = ul4._makeset(\"_id\", \"id\", \"gender\", \"firstname\", \"surname\", \"initials\", \"email\", \"language\", \"avatarsmall\", \"avatarlarge\", \"keyviews\");\n\nla.File = class File extends la.Base\n{\n\t__repr__()\n\t{\n\t\treturn \"<la.File id=\" + ul4._repr(this.id) + \" url=\" + ul4._repr(this.url) + \" filename=\" + ul4._repr(this.filename) + \">\";\n\t}\n};\n\nla.File.prototype._ul4onattrs = [\"id\", \"url\", \"filename\", \"mimetype\", \"width\", \"height\", \"internalid\", \"createdat\", \"size\"];\nla.File.prototype._ul4attrs = ul4._makeset(\"id\", \"url\", \"filename\", \"mimetype\", \"width\", \"height\", \"size\", \"createdat\");\n\nla.Geo = class Geo extends la.Base\n{\n\tconstructor(lat, long, info)\n\t{\n\t\tsuper();\n\t\tthis.lat = lat;\n\t\tthis.long = long;\n\t\tthis.info = info;\n\t}\n\n\t__repr__()\n\t{\n\t\treturn \"<la.Geo lat=\" + ul4._repr(this.lat) + \" long=\" + ul4._repr(this.long) + \" info=\" + ul4._repr(this.info) + \">\";\n\t}\n};\n\nla.Geo.prototype._ul4onattrs = [\"lat\", \"long\", \"info\"];\nla.Geo.prototype._ul4attrs = ul4._makeset(\"lat\", \"long\", \"info\");\n\nla.Attachment = class Attachment extends la.Base\n{\n\t__repr__()\n\t{\n\t\treturn \"<la.\" + this.__type__ + \" id=\" + ul4._repr(this.id) + \" label=\" + ul4._repr(this.label) + \">\";\n\t}\n};\n\nla.Attachment.prototype._ul4onattrs = [\"id\", \"record\", \"label\", \"active\"];\nla.Attachment.prototype._ul4attrs = ul4._makeset(\"id\", \"record\", \"label\", \"active\");\n\nla.NoteAttachment = class NoteAttachment extends la.Attachment\n{\n};\n\nla.NoteAttachment.prototype.type = \"noteattachment\";\nla.NoteAttachment.prototype._ul4onattrs = la.Attachment.prototype._ul4onattrs.concat([\"value\"]);\nla.NoteAttachment.prototype._ul4attrs = ul4._makeset(...la.Attachment.prototype._ul4onattrs, \"value\");\n\nla.URLAttachment = class URLAttachment extends la.Attachment\n{\n};\n\nla.URLAttachment.prototype.type = \"urlattachment\";\nla.URLAttachment.prototype._ul4onattrs = la.Attachment.prototype._ul4onattrs.concat([\"value\"]);\nla.URLAttachment.prototype._ul4attrs = ul4._makeset(...la.Attachment.prototype._ul4onattrs, \"value\");\n\nla.FileAttachment = class FileAttachment extends la.Attachment\n{\n};\n\nla.FileAttachment.prototype.type = \"fileattachment\";\nla.FileAttachment.prototype._ul4onattrs = la.Attachment.prototype._ul4onattrs.concat([\"value\"]);\nla.FileAttachment.prototype._ul4attrs = ul4._makeset(...la.Attachment.prototype._ul4onattrs, \"value\");\n\nla.ImageAttachment = class ImageAttachment extends la.Attachment\n{\n};\n\nla.ImageAttachment.prototype.type = \"imageattachment\";\nla.ImageAttachment.prototype._ul4onattrs = la.Attachment.prototype._ul4onattrs.concat([\"original\", \"thumb\", \"small\", \"medium\", \"large\"]);\nla.ImageAttachment.prototype._ul4attrs = ul4._makeset(...la.Attachment.prototype._ul4onattrs, \"original\", \"thumb\", \"small\", \"medium\", \"large\");\n\nla.JSONAttachment = class JSONAttachment extends la.Attachment\n{\n\t_dumpUL4ONAttr(name)\n\t{\n\t\tif (name === \"value\")\n\t\t\treturn ul4._asjson(this.value);\n\t\telse\n\t\t\treturn this[name];\n\t}\n\n\t_loadUL4ONAttr(name, value)\n\t{\n\t\tif (name === \"value\")\n\t\t\tthis.value = ul4._fromjson(value);\n\t\telse\n\t\t\tthis[name] = value\n\t}\n};\n\nla.JSONAttachment.prototype.type = \"jsonattachment\";\nla.JSONAttachment.prototype._ul4onattrs = la.Attachment.prototype._ul4onattrs.concat([\"value\"]);\nla.JSONAttachment.prototype._ul4attrs = ul4._makeset(...la.Attachment.prototype._ul4onattrs, \"value\");\n\nla.Installation = class Installation extends la.Base\n{\n\t__repr__()\n\t{\n\t\treturn \"<la.Installation id=\" + ul4._repr(this.id) + \" name=\" + ul4._repr(this.name) + \">\";\n\t}\n};\n\nla.Installation.prototype._ul4onattrs = [\"id\", \"name\"];\nla.Installation.prototype._ul4attrs = ul4._makeset(\"id\", \"name\");\n\nla.Category = class Category extends la.Base\n{\n\t__repr__()\n\t{\n\t\tlet v = [];\n\t\tlet category = this;\n\t\twhile (category !== null)\n\t\t{\n\t\t\tv.splice(0, 0, category.identifier);\n\t\t\tcategory = category.parent;\n\t\t}\n\t\treturn \"<la.Category id=\" + ul4._repr(this.id) + \" identifierpath=\" + ul4._repr(v.join(\"/\")) +  + \" name=\" + ul4._repr(this.name) + \">\";\n\t}\n};\n\nla.Category.prototype._ul4onattrs = [\"id\", \"identifier\", \"name\", \"order\", \"parent\", \"children\", \"apps\"];\nla.Category.prototype._ul4attrs = ul4._makeset(\"id\", \"identifier\", \"name\", \"order\", \"parent\", \"children\", \"apps\");\n\nla.KeyView = class KeyView extends la.Base\n{\n\t__repr__()\n\t{\n\t\treturn \"<la.KeyView id=\" + ul4._repr(this.id) + \" identifier=\" + ul4._repr(this.identifier) + \">\";\n\t}\n};\n\nla.KeyView.prototype._ul4onattrs = [\"id\", \"identifier\", \"name\", \"key\", \"user\"];\nla.KeyView.prototype._ul4attrs = ul4._makeset(\"id\", \"identifier\", \"name\", \"key\", \"user\");\n\nla.AppParameter = class AppParameter extends la.Base\n{\n\t__repr__()\n\t{\n\t\treturn \"<la.AppParameter id=\" + ul4._repr(this.id) + \" identifier=\" + ul4._repr(this.identifier) + \">\";\n\t}\n};\n\nla.AppParameter.prototype._ul4onattrs = [\"id\", \"app\", \"identifier\", \"description\", \"value\"];\nla.AppParameter.prototype._ul4attrs = ul4._makeset(\"id\", \"app\", \"identifier\", \"description\", \"value\");\n\nlet classes = [\n\tla.Globals,\n\tla.App,\n\tla.View,\n\tla.DataSourceData,\n\tla.Record,\n\tla.BoolControl,\n\tla.IntControl,\n\tla.NumberControl,\n\tla.TextControl,\n\tla.EmailControl,\n\tla.URLControl,\n\tla.TelControl,\n\tla.PasswordControl,\n\tla.TextAreaControl,\n\tla.DateControl,\n\tla.DatetimeMinuteControl,\n\tla.DatetimeSecondControl,\n\tla.LookupControl,\n\tla.LookupSelectControl,\n\tla.LookupRadioControl,\n\tla.LookupChoiceControl,\n\tla.AppLookupControl,\n\tla.AppLookupSelectControl,\n\tla.AppLookupRadioControl,\n\tla.AppLookupChoiceControl,\n\tla.MultipleLookupControl,\n\tla.MultipleLookupSelectControl,\n\tla.MultipleLookupCheckboxControl,\n\tla.MultipleLookupChoiceControl,\n\tla.MultipleAppLookupControl,\n\tla.MultipleAppLookupSelectControl,\n\tla.MultipleAppLookupCheckboxControl,\n\tla.MultipleAppLookupChoiceControl,\n\tla.GeoControl,\n\tla.FileControl,\n\tla.ButtonControl,\n\tla.Field,\n\tla.LookupItem,\n\tla.User,\n\tla.File,\n\tla.Geo,\n\tla.NoteAttachment,\n\tla.URLAttachment,\n\tla.FileAttachment,\n\tla.ImageAttachment,\n\tla.JSONAttachment,\n\tla.Installation,\n\tla.Category,\n\tla.KeyView,\n\tla.AppParameter\n];\n\nfor (let constructor of classes)\n{\n\t// Register under the old name\n\tul4.register(\"de.livingapps.appdd.\" + constructor.name.toLowerCase(), constructor);\n\t// Register under the new name\n\tul4.register(\"de.livinglogic.livingapi.\" + constructor.name.toLowerCase(), constructor);\n}\nexport default la;","import axios, { AxiosResponse } from 'axios';\n///@ts-ignore\nimport livingApi from './modules/livingapi';\n///@ts-ignore\nimport { ul4 } from './modules/ul4';\nimport * as https from 'https';\n\nexport type Auth_Token = string;\nexport type LivingApi = any;\nexport type LAPIRecord = any;\nlet commonjs = (typeof module === 'object' && module.exports);\nexport interface LivingSDKOptions {\n\turl?: string;\n\tloginRequired?: boolean;\n}\n\nexport class LivingSDK {\n\tprivate _password: string;\n\tprivate _userName: string;\n\tprivate _options: LivingSDKOptions\n\tprivate hostName: string;\n\tprivate session: Promise<string | undefined>;\n\tconstructor(options: LivingSDKOptions = {}, username?: string, password?: string) {\n\t\t/** @type {String} */\n\t\tthis._password = password || '';\n\t\t/** @type {String} */\n\t\tthis._userName = username || '';\n\t\t/** @type {Object} */\n\t\tthis._options = {\n\t\t\t/** @type {String} */\n\t\t\turl: options.url || 'https://my.living-apps.de',\n\t\t\t/** @type {Boolean} */\n\t\t\tloginRequired: options.loginRequired !== undefined ? options.loginRequired : true\n\t\t};\n\t\tthis._options.url = this._options.url.lastIndexOf('/') === this._options.url.length - 1 ? this._options.url : `${this._options.url}/`;\n\t\tthis.hostName = this._options.url.split('//')[1].substr(0, this._options.url.split('//')[1].length - 1);\n\t\tif (this._options.loginRequired && !this._userName) {\n\t\t\tthrow new Error('[LivingSDK] You want to login without a username')\n\t\t}\n\t\tthis.session = this.login();\n\t}\n\n\t/**\n\t * get token for Session\n\t * @return {Promise.<String>}\n\t */\n\tlogin(): Promise<Auth_Token | undefined> {\n\t\tif (!this._options.loginRequired) {\n\t\t\treturn Promise.resolve(undefined);\n\t\t}\n\t\tlet url = `https://${this.hostName}/gateway/login`;\n\t\treturn axios.post(url, {\n\t\t\tusername: this._userName,\n\t\t\tpassword: this._password\n\t\t}, {\n\t\t\t\thttpsAgent: commonjs ? new https.Agent({\n\t\t\t\t\tecdhCurve: 'auto'\n\t\t\t\t}) : undefined,\n\t\t\t\theaders: {\n\t\t\t\t\t\"Content-Type\": \"application/json\"\n\t\t\t\t}\n\t\t\t})\n\t\t\t.then((a: any) => a.data.auth_token);\n\t}\n\n\tget(appId: string, templateName?: string): Promise<LivingApi> {\n\t\treturn this.session.then((auth_token: Auth_Token | undefined) => {\n\t\t\treturn axios.get(`https://${this.hostName}/gateway/apps/${appId}${templateName !== undefined ? '?template=' + templateName : ''}`,\n\t\t\t\t{\n\t\t\t\t\thttpsAgent: commonjs ? new https.Agent({\n\t\t\t\t\t\tecdhCurve: 'auto'\n\t\t\t\t\t}) : undefined,\n\t\t\t\t\theaders: {\n\t\t\t\t\t\t'X-La-Auth-Token': auth_token !== undefined ? auth_token : '',\n\t\t\t\t\t\tAccept: 'application/la-ul4on'\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.then((res: AxiosResponse) => {\n\t\t\t\t\tlet dump: any;\n\t\t\t\t\tdump = ul4.loads(res.data);\n\t\t\t\t\tdump.get('globals').Login = this;\n\t\t\t\t\treturn <LivingApi>dump;\n\t\t\t\t});\n\t\t});\n\t}\n\n\t_insert(app: any, values: any): Promise<LAPIRecord> {\n\t\treturn this.session.then((auth_token) => {\n\n\t\t\tlet fields: any = {};\n\n\t\t\tfor (let ident in values) {\n\t\t\t\tif (!app.controls.has(ident)) {\n\t\t\t\t\tthrow new Error(`insert() got an unexpected keyword argument ${ident}`);\n\t\t\t\t}\n\n\t\t\t\tfields[ident] = app.controls.get(ident).asjson(values[ident]);\n\t\t\t}\n\t\t\tlet data: any = {}; {\n\t\t\t}\n\t\t\tdata.id = app.id; \n\t\t\tdata.data = [{ 'fields': fields }];\n\t\t\treturn axios.post(`https://${this.hostName}/gateway/v1/appdd/${app.id}.json`, {\n\t\t\t\tappdd: data\n\t\t\t}, {\n\t\t\t\t\thttpsAgent: commonjs ? new https.Agent({\n\t\t\t\t\t\tecdhCurve: 'auto'\n\t\t\t\t\t}) : undefined,\n\t\t\t\t\theaders: {\n\t\t\t\t\t\t'X-La-Auth-Token': auth_token !== undefined ? auth_token : '',\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.then((res: AxiosResponse) => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tHTTPstatusCode: res.status,\n\t\t\t\t\t\trecordid: res.data.id,\n\t\t\t\t\t\tRecord: livingApi.Record.create({\n\t\t\t\t\t\t\tid: res.data.id,\n\t\t\t\t\t\t\tcreatedat: new Date(Date.now()),\n\t\t\t\t\t\t\tupdatedat: null,\n\t\t\t\t\t\t\tupdatedby: null,\n\t\t\t\t\t\t\tupdatecount: 0\n\t\t\t\t\t\t})\n\t\t\t\t\t};\n\t\t\t\t})\n\t\t})\n\n\t}\n\n\t_update(record: LAPIRecord, values: any) {\n\t\treturn this.session.then((auth_token: Auth_Token | undefined) => {\n\t\t\tlet fields: any = {};\n\t\t\tlet app = record.app;\n\t\t\tfor (let ident in values) {\n\t\t\t\tif (!app.controls.has(ident)) {\n\t\t\t\t\tthrow new Error(`update() got an unexpected keyword argument ${ident}`);\n\t\t\t\t}\n\t\t\t\tfields[ident] = values[ident];\n\t\t\t}\n\t\t\tlet data: any = {};\n\t\t\tdata.id = app.id;\n\t\t\tdata.data = [{ 'id': record.id, 'fields': fields }];\n\t\t\tconsole.log(`https://${this.hostName}/gateway/v1/appdd/${app.id}.json`);\n\t\t\treturn axios.post(`https://${this.hostName}/gateway/v1/appdd/${app.id}.json`, {\n\t\t\t\tappdd: data\n\t\t\t}, {\n\t\t\t\t\thttpsAgent: commonjs ? new https.Agent({\n\t\t\t\t\t\tecdhCurve: 'auto'\n\t\t\t\t\t}) : undefined,\n\t\t\t\t\theaders: {\n\t\t\t\t\t\t'X-La-Auth-Token': auth_token !== undefined ? auth_token : '',\n\t\t\t\t\t\t'Content-Type': 'application/json'\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.then((res: AxiosResponse) => {\n\t\t\t\t\tlet body = res.data;\n\t\t\t\t\tfor (let ident in values)\n\t\t\t\t\t\trecord.fields.get(ident).value = values[ident];\n\t\t\t\t\tlet returnObj = {\n\t\t\t\t\t\tHTTPstatusCode: res.status,\n\t\t\t\t\t\trecordid: body.id,\n\t\t\t\t\t\tRecord: record\n\t\t\t\t\t};\n\t\t\t\t\treturn returnObj;\n\t\t\t\t});\n\t\t});\n\t}\n\n\t_delete(record: LAPIRecord) {\n\t\tlet app = record.app;\n\t\treturn this.session.then((auth_token: Auth_Token | undefined) => {\n\t\t\treturn axios.delete(`https://${this.hostName}/gateway/v1/appdd/${app.id}/${record.id}.json`, {\n\t\t\t\thttpsAgent: commonjs ? new https.Agent({\n\t\t\t\t\tecdhCurve: 'auto'\n\t\t\t\t}) : undefined,\n\t\t\t\theaders: {\n\t\t\t\t\t'X-La-Auth-Token': auth_token !== undefined ? auth_token : '',\n\t\t\t\t}\n\t\t\n\t\t\t})\n\t\t})\n\t}\n}\n\t\nexport default LivingSDK;"],"names":["ul4","iscommon","module","exports","version","_registry","_havemap","Map","prototype","forEach","_havemapconstructor","size","error","_haveset","Set","_havesetconstructor","_makemap","map","i","arguments","length","key","value","set","_setmap","__proto__","_emptymap","_getmap","get","_emptyset","_Set","_makeset","add","register","name","f","ul4onname","dumps","obj","indent","encoder","Encoder","dump","finish","loads","data","registry","Decoder","load","_level","_strings2index","_ids2index","_backrefs","line","this","push","oldindent","join","_line","type","Math","round","index","_str_repr","replace","_iscolor","r","g","b","a","_isdate","year","month","day","_isdatetime","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","getMilliseconds","_istimedelta","days","seconds","microseconds","_ismonthdelta","months","slice","start","stop","ul4ondump","__id__","_islist","_ismap","_isdict","_isset","ValueError","_repr","pos","backrefs","stack","charAt","re_white","c","match","result","substring","re_digits","readcharoreof","parseFloat","isNaN","oldpos","escapechar","chars","read","codepoint","parseInt","String","fromCharCode","typecode","readblackchar","readnumber","readchar","delimiter","c2","_readescape","Color","_r","_g","_b","_a","Date","setFullYear","setDate","setMonth","setHours","setMinutes","setSeconds","setMilliseconds","TimeDelta","_days","_seconds","_microseconds","MonthDelta","_months","backup","pop","_beginfakeloading","constructor","_endfakeloading","ul4onload","self","next","done","_rvalidchars","_rvalidescape","_rvalidtokens","_rvalidbraces","_inherit","baseobj","attrs","Object","assign","create","_map2object","newobj","TypeError","_bound","upper","_stacktrace","exc","output","Exception","toString","context","_internal_call","functioncontext","signature","needscontext","needsobject","args","kwargs","finalargs","ArgumentError","bindObject","bindArray","unshift","apply","_callfunction","_ul4_name","_ul4_signature","_ul4_needsobject","_ul4_needscontext","_callobject","_ul4_callsignature","_ul4_callneedsobject","_ul4_callneedscontext","__call__","_callrender","_ul4_rendersignature","_ul4_renderneedsobject","_ul4_renderneedscontext","__render__","_call","_type","_unpackvar","lvalue","newvalue","iter","_iter","item","concat","_formatsource","out","finalout","level","needlf","part","j","_eq","obj1","obj2","numbertypes","__eq__","indexOf","getTime","_isobject","hasOwnProperty","has","_ne","__ne__","_unorderable","operator","_cmp","v1","v2","res","_isul4set","in1only","in2only","_lt","__lt__","items","_le","__le__","_gt","__gt__","_ge","__ge__","_isiter","__iter__","keys","values","str","ascii","squote","dquote","quote","code","charCodeAt","escape","test","_lpad","_date_repr","_date","_datetime_repr","hour","minute","second","ms","_map_repr","v","_repr_internal","_list_repr","_set_repr","_object_repr","_typeof","__repr__","_ascii","_date_str","_datetime_str","_str","__str__","_bool","__bool__","_int","base","_isint","floor","_float","_list","_set","_len","sequence","ul4type","Protocol","_mod","div","mod","_getattr","attrname","default_","proto","getattr","AttributeError","_hasattr","hasattr","_dir","dir","_any","iterable","_all","_isundefined","_isdefined","_isnone","_isbool","_isfloat","_isstr","call","_istemplate","Template","TemplateClosure","_isfunction","_isexception","_isanyset","__type__","Proto","_str_repeat","rep","_list_repeat","list","_str_json","_asjson","_fromjson","string","StrProtocol","strip","root","JSON","parse","Function","_asul4on","_fromul4on","_format_datetime","fmt","lang","translation","de","ml","ws","wl","xf","Xf","cf","en","fr","es","it","da","sv","nl","pt","cs","sk","pl","hr","sr","ro","hu","tr","ru","zh","ko","ja","inspec","getDay","_format","DateTimeProtocol","yearday","_week4format","_format_int","work","fill","align","sign","alternate","minimumwidth","minimumwidthStr","exec","neg","toUpperCase","pad","padBefore","padAfter","translations","toLowerCase","split","len","_rpad","_nextid","other","Signature","argNames","remargs","nextDefault","lastArgname","remkwargs","argName","defaultValue","substr","_this","decname","arg","prefix","argObject","expose","count","options","ListProtocol","DateProtocol","SetProtocol","MapProtocol","ObjectProtocol","__getattr__","attr","realattr","object","sub","end","_count","_find","_rfind","old","new_","sep","splice","lstrip","lastIndexOf","rstrip","keepends","startpos","lineendlen","endpos","resultlist","singlepre","suffix","singlesuf","find","rfind","rsplit","splitlines","lower","capitalize","startswith","endswith","append","insert","_update","clear","update","weekday","firstweekday","mindaysinfirstweek","calendar","d","week","mimeformat","isoformat","offset","refDate","weekDayDiff","weekStartYear","weekStartMonth","weekStartDay","weekStart","diff","SubAST","_do","leap","_isleap","microsecond","realresult","Context","vars","indents","escapes","_output","message","fileName","lineNumber","instance","Error","setPrototypeOf","getPrototypeOf","enumerable","writable","configurable","InternalException","ReturnException","BreakException","ContinueException","SyntaxError","LValueRequiredError","NotSubscriptableError","ZeroDivisionError","IndexError","LocationError","location","template","parenttemplate","first","templateprefix","_templateprefix","sourceprefix","source","sourcesuffix","text","underline","col","AST","_col","_ul4onattrs","undefined","_eval","_decorate_exception","_eval_set","_eval_modify","decoder","_source","of","outerstartpos","innerstartpos","fullsource","maxprefix","preprefix","outerstoppos","innerstoppos","maxsuffix","postsuffix","_calculateLineCol","TextAST","IndentAST","_text","LineEndAST","CodeAST","ConstAST","ItemArgBase","_eval_list","_eval_dict","_eval_call","SeqItemAST","_handle_eval","UnpackSeqItemAST","DictItemAST","UnpackDictItemAST","subitem","PosArgAST","KeywordArgAST","UnpackListArgAST","UnpackDictArgAST","ListAST","_handle_eval_list","ListCompAST","varname","container","condition","localcontext","inheritvars","varitems","_handle_eval_set","SetAST","SetCompAST","DictAST","_handle_eval_dict","DictCompAST","GenExprAST","VarAST","_get","_modify","functions","_ido","UnaryAST","NegAST","__neg__","BitNotAST","NotAST","IfAST","objif","objcond","objelse","condvalue","ReturnAST","PrintAST","PrintXAST","_xmlescape","BinaryAST","ItemAST","orgkey","__getitem__","__setitem__","IsAST","IsNotAST","EQAST","NEAST","LTAST","LEAST","GTAST","GEAST","ContainsAST","__contains__","NotContainsAST","AddAST","__add__","__radd__","__sub__","__rsub__","_date_sub","_datetime_sub","swap","t","year1","yearday1","year2","yearday2","diffdays","hours1","minutes1","seconds1","hours2","minutes2","diffseconds","diffmilliseconds","MulAST","__mul__","__rmul__","targetsize","FloorDivAST","__floordiv__","__rfloordiv__","TrueDivAST","__truediv__","__rtruediv__","ModAST","ShiftLeftAST","ShiftRightAST","BitAndAST","BitXOrAST","BitOrAST","AndAST","OrAST","AttrAST","__setattr__","oldvalue","CallAST","_handle_eval_call","_makeargs","RenderAST","_reprname","tag","withindent","_handle_additional_arguments","RenderXAST","RenderBlockAST","closure","content","RenderBlocksAST","BlockAST","SliceAST","index1","index2","SetVarAST","ModifyVarAST","_handle_eval_modify","_operator","AddVarAST","SubVarAST","MulVarAST","TrueDivVarAST","FloorDivVarAST","ModVarAST","ShiftLeftVarAST","ShiftRightVarAST","BitAndVarAST","BitXOrVarAST","BitOrVarAST","ForBlockAST","_str_varname","WhileBlockAST","cond","BreakAST","ContinueAST","CondBlockAST","block","_execute","ConditionalBlockAST","_strname","IfBlockAST","ElIfBlockAST","ElseBlockAST","whitespace","startdelim","enddelim","docpos","_asts","doc","render","_renderbound","renders","_rendersbound","SignatureAST","clone","replaceoutput","getoutput","_callbound","params","param","endtag","_rgb","_csv","_chr","_ord","_hex","number","_oct","_bin","_min","_max","_sum","_first","_last","_sorted","reverse","cmp","sort","keyvalue","s1","s2","_range","step","higher","abs","_slice","_urlquote","encodeURIComponent","_urlunquote","decodeURIComponent","_reversed","_random","random","_randrange","n","width","_randchoice","iscolor","_round","x","digits","threshold","pow","_md5","require","md5","_enumerate","_isfirst","isfirst","_islast","lastitem","_isfirstlast","_enumfl","_zip","iterables","iters","_abs","__abs__","_datetime","_timedelta","_monthdelta","_hls","h","l","s","m1","m2","_v","hue","_hsv","p","q","defaultvalue","now","utcnow","getUTCFullYear","getUTCMonth","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","getUTCMilliseconds","today","repr","int","float","bool","format","any","all","zip","isundefined","isdefined","isnone","isbool","isint","isfloat","isstr","isdate","isdatetime","istimedelta","ismonthdelta","istemplate","isfunction","islist","isset","isdict","isexception","asjson","fromjson","asul4on","fromul4on","enumerate","islast","isfirstlast","enumfl","date","datetime","timedelta","monthdelta","rgb","hls","hsv","xmlescape","csv","chr","ord","hex","oct","bin","min","max","sum","last","sorted","range","urlquote","urlunquote","reversed","randrange","randchoice","lastIndex","jan1weekday","others","lum","hlsa","hsva","witha","withlum","abslum","rellum","rc","gc","bc","maxc","minc","_js_Date","total_microseconds","total_seconds","minutes","hours","millisecond","_adddate","_adddatetime","myValue","otherValue","hasSeconds","hasMicroseconds","targetmonth","classes","la","Base","_dumpUL4ONAttr","loadcontent","iteritem","_loadUL4ONAttr","_setDefaultUL4ONAttr","_ul4attrs","realvalue","bind","Handler","record","Globals","platform","user","maxdbactions","maxtemplateruntime","flashmessages","handler","geo1","geo2","sqsin","sin","sqcos","cos","deg2rad","PI","flat","lat1","lat","long1","long","lat2","F","G","S","C","w","atan","sqrt","D","T","H2","FlashMessage","title","App","id","globals","save","Login","_insert","Record","entries","fields","startsWith","controls","View","DataSourceData","identifier","app","createdat","createdby","updatedat","updatedby","updatecount","_sparsevalues","_values","_fields","children","attachments","errors","_is_deleted","field","control","priority","is_dirty","has_errors","delete","search","fieldsearch","fieldvalue","Field","Control","subtype","BoolControl","_logsearch","IntControl","NumberControl","minvalue","maxvalue","StringControl","TextControl","EmailControl","URLControl","TelControl","PasswordControl","TextAreaControl","DateControl","language","searchvalue","formatstring","DatetimeMinuteControl","DatetimeSecondControl","LookupControl","LookupSelectControl","LookupRadioControl","LookupChoiceControl","AppLookupControl","AppLookupSelectControl","AppLookupRadioControl","AppLookupChoiceControl","MultipleLookupControl","MultipleLookupSelectControl","MultipleLookupCheckboxControl","MultipleLookupChoiceControl","MultipleAppLookupControl","MultipleAppLookupSelectControl","MultipleAppLookupCheckboxControl","MultipleAppLookupChoiceControl","GeoControl","FileControl","ButtonControl","_value","_dirty","LookupItem","label","User","firstname","surname","email","File","url","filename","Geo","info","Attachment","NoteAttachment","URLAttachment","FileAttachment","ImageAttachment","JSONAttachment","Installation","Category","category","parent","KeyView","AppParameter","username","loginRequired","_userName","ecdhCurve","commonjs","ident","httpsAgent"],"mappings":"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"}